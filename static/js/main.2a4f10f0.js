/*! For license information please see main.2a4f10f0.js.LICENSE.txt */
(function(){var __webpack_modules__={512:function(module,__unused_webpack_exports,__webpack_require__){var _defineProperty=__webpack_require__(8416).default,_assertThisInitialized=__webpack_require__(6115).default,_wrapNativeSuper=__webpack_require__(3496).default,_objectSpread=__webpack_require__(2122).default,_construct=__webpack_require__(3515).default,_toConsumableArray=__webpack_require__(861).default,_slicedToArray=__webpack_require__(7424).default,_inherits=__webpack_require__(1655).default,_createSuper=__webpack_require__(6389).default,_createForOfIteratorHelper=__webpack_require__(4704).default,_regeneratorRuntime=__webpack_require__(7061).default,_asyncToGenerator=__webpack_require__(7156).default,_classCallCheck=__webpack_require__(6690).default,_createClass=__webpack_require__(9728).default,t;self,t=function(){return function(){var __webpack_modules__={486:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,l=128,c=1/0,A=9007199254740991,f=NaN,d=4294967295,h=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],p="[object Arguments]",v="[object Array]",g="[object Boolean]",m="[object Date]",y="[object Error]",b="[object Function]",w="[object GeneratorFunction]",x="[object Map]",_="[object Number]",C="[object Object]",E="[object Promise]",S="[object RegExp]",B="[object Set]",T="[object String]",I="[object Symbol]",k="[object WeakMap]",M="[object ArrayBuffer]",R="[object DataView]",U="[object Float32Array]",F="[object Float64Array]",O="[object Int8Array]",P="[object Int16Array]",D="[object Int32Array]",L="[object Uint8Array]",N="[object Uint8ClampedArray]",Q="[object Uint16Array]",H="[object Uint32Array]",j=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,K=RegExp(V.source),X=RegExp(W.source),q=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,oe=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,Ae=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,pe=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ye=/($^)/,be=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_e="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\ufe0e\\ufe0f",Be="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="["+we+"]",Ie="["+Be+"]",ke="["+xe+"]",Me="\\d+",Re="["+_e+"]",Ue="["+Ce+"]",Fe="[^"+we+Be+Me+_e+Ce+Ee+"]",Oe="\\ud83c[\\udffb-\\udfff]",Pe="[^"+we+"]",De="(?:\\ud83c[\\udde6-\\uddff]){2}",Le="[\\ud800-\\udbff][\\udc00-\\udfff]",Ne="["+Ee+"]",Qe="\\u200d",He="(?:"+Ue+"|"+Fe+")",je="(?:"+Ne+"|"+Fe+")",ze="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ve="(?:"+ke+"|"+Oe+")?",We="["+Se+"]?",Ke=We+Ve+"(?:"+Qe+"(?:"+[Pe,De,Le].join("|")+")"+We+Ve+")*",Xe="(?:"+[Re,De,Le].join("|")+")"+Ke,qe="(?:"+[Pe+ke+"?",ke,De,Le,Te].join("|")+")",Ye=RegExp("['\u2019]","g"),Ze=RegExp(ke,"g"),Je=RegExp(Oe+"(?="+Oe+")|"+qe+Ke,"g"),$e=RegExp([Ne+"?"+Ue+"+"+ze+"(?="+[Ie,Ne,"$"].join("|")+")",je+"+"+Ge+"(?="+[Ie,Ne+He,"$"].join("|")+")",Ne+"?"+He+"+"+ze,Ne+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Xe].join("|"),"g"),et=RegExp("["+Qe+we+xe+Se+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[U]=it[F]=it[O]=it[P]=it[D]=it[L]=it[N]=it[Q]=it[H]=!0,it[p]=it[v]=it[M]=it[g]=it[R]=it[m]=it[y]=it[b]=it[x]=it[_]=it[C]=it[S]=it[B]=it[T]=it[k]=!1;var at={};at[p]=at[v]=at[M]=at[R]=at[g]=at[m]=at[U]=at[F]=at[O]=at[P]=at[D]=at[x]=at[_]=at[C]=at[S]=at[B]=at[T]=at[I]=at[L]=at[N]=at[Q]=at[H]=!0,at[y]=at[b]=at[k]=!1;var ot={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,ut=parseInt,lt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ct="object"==typeof self&&self&&self.Object===Object&&self,At=lt||ct||Function("return this")(),ft=t&&!t.nodeType&&t,dt=ft&&e&&!e.nodeType&&e,ht=dt&&dt.exports===ft,pt=ht&&lt.process,vt=function(){try{return dt&&dt.require&&dt.require("util").types||pt&&pt.binding&&pt.binding("util")}catch(e){}}(),gt=vt&&vt.isArrayBuffer,mt=vt&&vt.isDate,yt=vt&&vt.isMap,bt=vt&&vt.isRegExp,wt=vt&&vt.isSet,xt=vt&&vt.isTypedArray;function _t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Et(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function St(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function It(e,t){return!(null==e||!e.length)&&Nt(e,t,0)>-1}function kt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Rt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ut(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Pt=zt("length");function Dt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Lt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Nt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Lt(e,Ht,n)}function Qt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Ht(e){return e!=e}function jt(e,t){var n=null==e?0:e.length;return n?Wt(e,t)/n:f}function zt(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Vt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Wt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,An(e)+1).replace(re,""):e}function qt(e){return function(t){return e(t)}}function Yt(e,t){return Mt(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,r=e.length;++n<r&&Nt(t,e[n],0)>-1;);return n}function $t(e,t){for(var n=e.length;n--&&Nt(t,e[n],0)>-1;);return n}var en=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),tn=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+ot[e]}function rn(e){return et.test(e)}function an(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function on(e,t){return function(n){return e(t(n))}}function sn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==s||(e[n]=s,a[i++]=n)}return a}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function ln(e){return rn(e)?function(e){for(var t=Je.lastIndex=0;Je.test(e);)++t;return t}(e):Pt(e)}function cn(e){return rn(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function An(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var fn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),dn=function e(t){var n,r=(t=null==t?At:dn.defaults(At.Object(),t,dn.pick(At,nt))).Array,ie=t.Date,we=t.Error,xe=t.Function,_e=t.Math,Ce=t.Object,Ee=t.RegExp,Se=t.String,Be=t.TypeError,Te=r.prototype,Ie=xe.prototype,ke=Ce.prototype,Me=t["__core-js_shared__"],Re=Ie.toString,Ue=ke.hasOwnProperty,Fe=0,Oe=(n=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Pe=ke.toString,De=Re.call(Ce),Le=At._,Ne=Ee("^"+Re.call(Ue).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=ht?t.Buffer:i,He=t.Symbol,je=t.Uint8Array,ze=Qe?Qe.allocUnsafe:i,Ge=on(Ce.getPrototypeOf,Ce),Ve=Ce.create,We=ke.propertyIsEnumerable,Ke=Te.splice,Xe=He?He.isConcatSpreadable:i,qe=He?He.iterator:i,Je=He?He.toStringTag:i,et=function(){try{var e=sa(Ce,"defineProperty");return e({},"",{}),e}catch(e){}}(),ot=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,lt=ie&&ie.now!==At.Date.now&&ie.now,ct=t.setTimeout!==At.setTimeout&&t.setTimeout,ft=_e.ceil,dt=_e.floor,pt=Ce.getOwnPropertySymbols,vt=Qe?Qe.isBuffer:i,Pt=t.isFinite,Gt=Te.join,hn=on(Ce.keys,Ce),pn=_e.max,vn=_e.min,gn=ie.now,mn=t.parseInt,yn=_e.random,bn=Te.reverse,wn=sa(t,"DataView"),xn=sa(t,"Map"),_n=sa(t,"Promise"),Cn=sa(t,"Set"),En=sa(t,"WeakMap"),Sn=sa(Ce,"create"),Bn=En&&new En,Tn={},In=Oa(wn),kn=Oa(xn),Mn=Oa(_n),Rn=Oa(Cn),Un=Oa(En),Fn=He?He.prototype:i,On=Fn?Fn.valueOf:i,Pn=Fn?Fn.toString:i;function Dn(e){if($o(e)&&!jo(e)&&!(e instanceof Hn)){if(e instanceof Qn)return e;if(Ue.call(e,"__wrapped__"))return Pa(e)}return new Qn(e)}var Ln=function(){function e(){}return function(t){if(!Jo(t))return{};if(Ve)return Ve(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Nn(){}function Qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Wn(e){var t=this.__data__=new zn(e);this.size=t.size}function Kn(e,t){var n=jo(e),r=!n&&Ho(e),i=!n&&!r&&Wo(e),a=!n&&!r&&!i&&ss(e),o=n||r||i||a,s=o?Kt(e.length,Se):[],u=s.length;for(var l in e)!t&&!Ue.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ha(l,u))||s.push(l);return s}function Xn(e){var t=e.length;return t?e[Gr(0,t-1)]:i}function qn(e,t){return ka(Ei(e),ir(t,0,e.length))}function Yn(e){return ka(Ei(e))}function Zn(e,t,n){(n!==i&&!Lo(e[t],n)||n===i&&!(t in e))&&nr(e,t,n)}function Jn(e,t,n){var r=e[t];Ue.call(e,t)&&Lo(r,n)&&(n!==i||t in e)||nr(e,t,n)}function $n(e,t){for(var n=e.length;n--;)if(Lo(e[n][0],t))return n;return-1}function er(e,t,n,r){return lr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function tr(e,t){return e&&Si(t,Is(t),e)}function nr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function rr(e,t){for(var n=-1,a=t.length,o=r(a),s=null==e;++n<a;)o[n]=s?i:Cs(e,t[n]);return o}function ir(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ar(e,t,n,r,a,o){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=a?n(e,r,a,o):n(e)),s!==i)return s;if(!Jo(e))return e;var A=jo(e);if(A){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ue.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return Ei(e,s)}else{var f=ca(e),d=f==b||f==w;if(Wo(e))return yi(e,u);if(f==C||f==p||d&&!a){if(s=l||d?{}:fa(e),!u)return l?function(e,t){return Si(e,la(e),t)}(e,function(e,t){return e&&Si(t,ks(t),e)}(s,e)):function(e,t){return Si(e,ua(e),t)}(e,tr(s,e))}else{if(!at[f])return a?e:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case M:return bi(e);case g:case m:return new i(+e);case R:return function(e,t){var n=t?bi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case U:case F:case O:case P:case D:case L:case N:case Q:case H:return wi(e,n);case x:return new i;case _:case T:return new i(e);case S:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case B:return new i;case I:return r=e,On?Ce(On.call(r)):{}}}(e,f,u)}}o||(o=new Wn);var h=o.get(e);if(h)return h;o.set(e,s),is(e)?e.forEach((function(r){s.add(ar(r,t,n,r,e,o))})):es(e)&&e.forEach((function(r,i){s.set(i,ar(r,t,n,i,e,o))}));var v=A?i:(c?l?ea:$i:l?ks:Is)(e);return Et(v||e,(function(r,i){v&&(r=e[i=r]),Jn(s,i,ar(r,t,n,i,e,o))})),s}function or(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var a=n[r],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function sr(e,t,n){if("function"!=typeof e)throw new Be(a);return Sa((function(){e.apply(i,n)}),t)}function ur(e,t,n,r){var i=-1,a=It,o=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Mt(t,qt(n))),r?(a=kt,o=!1):t.length>=200&&(a=Zt,o=!1,t=new Vn(t));e:for(;++i<s;){var c=e[i],A=null==n?c:n(c);if(c=r||0!==c?c:0,o&&A==A){for(var f=l;f--;)if(t[f]===A)continue e;u.push(c)}else a(t,A,r)||u.push(c)}return u}Dn.templateSettings={escape:q,evaluate:Y,interpolate:Z,variable:"",imports:{_:Dn}},Dn.prototype=Nn.prototype,Dn.prototype.constructor=Dn,Qn.prototype=Ln(Nn.prototype),Qn.prototype.constructor=Qn,Hn.prototype=Ln(Nn.prototype),Hn.prototype.constructor=Hn,jn.prototype.clear=function(){this.__data__=Sn?Sn(null):{},this.size=0},jn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},jn.prototype.get=function(e){var t=this.__data__;if(Sn){var n=t[e];return n===o?i:n}return Ue.call(t,e)?t[e]:i},jn.prototype.has=function(e){var t=this.__data__;return Sn?t[e]!==i:Ue.call(t,e)},jn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Sn&&t===i?o:t,this},zn.prototype.clear=function(){this.__data__=[],this.size=0},zn.prototype.delete=function(e){var t=this.__data__,n=$n(t,e);return!(n<0||(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,0))},zn.prototype.get=function(e){var t=this.__data__,n=$n(t,e);return n<0?i:t[n][1]},zn.prototype.has=function(e){return $n(this.__data__,e)>-1},zn.prototype.set=function(e,t){var n=this.__data__,r=$n(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new jn,map:new(xn||zn),string:new jn}},Gn.prototype.delete=function(e){var t=aa(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return aa(this,e).get(e)},Gn.prototype.has=function(e){return aa(this,e).has(e)},Gn.prototype.set=function(e,t){var n=aa(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Vn.prototype.add=Vn.prototype.push=function(e){return this.__data__.set(e,o),this},Vn.prototype.has=function(e){return this.__data__.has(e)},Wn.prototype.clear=function(){this.__data__=new zn,this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Wn.prototype.get=function(e){return this.__data__.get(e)},Wn.prototype.has=function(e){return this.__data__.has(e)},Wn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof zn){var r=n.__data__;if(!xn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var lr=Ii(gr),cr=Ii(mr,!0);function Ar(e,t){var n=!0;return lr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function fr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],s=t(o);if(null!=s&&(u===i?s==s&&!os(s):n(s,u)))var u=s,l=o}return l}function dr(e,t){var n=[];return lr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function hr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=da),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?hr(s,t-1,n,r,i):Rt(i,s):r||(i[i.length]=s)}return i}var pr=ki(),vr=ki(!0);function gr(e,t){return e&&pr(e,t,Is)}function mr(e,t){return e&&vr(e,t,Is)}function yr(e,t){return Tt(t,(function(t){return qo(e[t])}))}function br(e,t){for(var n=0,r=(t=pi(t,e)).length;null!=e&&n<r;)e=e[Fa(t[n++])];return n&&n==r?e:i}function wr(e,t,n){var r=t(e);return jo(e)?r:Rt(r,n(e))}function xr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Ce(e)?function(e){var t=Ue.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(e){}var a=Pe.call(e);return r&&(t?e[Je]=n:delete e[Je]),a}(e):function(e){return Pe.call(e)}(e)}function _r(e,t){return e>t}function Cr(e,t){return null!=e&&Ue.call(e,t)}function Er(e,t){return null!=e&&t in Ce(e)}function Sr(e,t,n){for(var a=n?kt:It,o=e[0].length,s=e.length,u=s,l=r(s),c=1/0,A=[];u--;){var f=e[u];u&&t&&(f=Mt(f,qt(t))),c=vn(f.length,c),l[u]=!n&&(t||o>=120&&f.length>=120)?new Vn(u&&f):i}f=e[0];var d=-1,h=l[0];e:for(;++d<o&&A.length<c;){var p=f[d],v=t?t(p):p;if(p=n||0!==p?p:0,!(h?Zt(h,v):a(A,v,n))){for(u=s;--u;){var g=l[u];if(!(g?Zt(g,v):a(e[u],v,n)))continue e}h&&h.push(v),A.push(p)}}return A}function Br(e,t,n){var r=null==(e=_a(e,t=pi(t,e)))?e:e[Fa(Ka(t))];return null==r?i:_t(r,e,n)}function Tr(e){return $o(e)&&xr(e)==p}function Ir(e,t,n,r,a){return e===t||(null==e||null==t||!$o(e)&&!$o(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var s=jo(e),u=jo(t),l=s?v:ca(e),c=u?v:ca(t),A=(l=l==p?C:l)==C,f=(c=c==p?C:c)==C,d=l==c;if(d&&Wo(e)){if(!Wo(t))return!1;s=!0,A=!1}if(d&&!A)return o||(o=new Wn),s||ss(e)?Zi(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!a(new je(e),new je(t)));case g:case m:case _:return Lo(+e,+t);case y:return e.name==t.name&&e.message==t.message;case S:case T:return e==t+"";case x:var s=an;case B:var u=1&r;if(s||(s=un),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var c=Zi(s(e),s(t),r,i,a,o);return o.delete(e),c;case I:if(On)return On.call(e)==On.call(t)}return!1}(e,t,l,n,r,a,o);if(!(1&n)){var h=A&&Ue.call(e,"__wrapped__"),b=f&&Ue.call(t,"__wrapped__");if(h||b){var w=h?e.value():e,E=b?t.value():t;return o||(o=new Wn),a(w,E,n,r,o)}}return!!d&&(o||(o=new Wn),function(e,t,n,r,a,o){var s=1&n,u=$i(e),l=u.length;if(l!=$i(t).length&&!s)return!1;for(var c=l;c--;){var A=u[c];if(!(s?A in t:Ue.call(t,A)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);for(var p=s;++c<l;){var v=e[A=u[c]],g=t[A];if(r)var m=s?r(g,v,A,t,e,o):r(v,g,A,e,t,o);if(!(m===i?v===g||a(v,g,n,r,o):m)){h=!1;break}p||(p="constructor"==A)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,a,o))}(e,t,n,r,Ir,a))}function kr(e,t,n,r){var a=n.length,o=a,s=!r;if(null==e)return!o;for(e=Ce(e);a--;){var u=n[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var l=(u=n[a])[0],c=e[l],A=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var f=new Wn;if(r)var d=r(c,A,l,e,t,f);if(!(d===i?Ir(A,c,3,r,f):d))return!1}}return!0}function Mr(e){return!(!Jo(e)||(t=e,Oe&&Oe in t))&&(qo(e)?Ne:pe).test(Oa(e));var t}function Rr(e){return"function"==typeof e?e:null==e?tu:"object"==typeof e?jo(e)?Dr(e[0],e[1]):Pr(e):cu(e)}function Ur(e){if(!ya(e))return hn(e);var t=[];for(var n in Ce(e))Ue.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e,t){return e<t}function Or(e,t){var n=-1,i=Go(e)?r(e.length):[];return lr(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function Pr(e){var t=oa(e);return 1==t.length&&t[0][2]?wa(t[0][0],t[0][1]):function(n){return n===e||kr(n,e,t)}}function Dr(e,t){return va(e)&&ba(t)?wa(Fa(e),t):function(n){var r=Cs(n,e);return r===i&&r===t?Es(n,e):Ir(t,r,3)}}function Lr(e,t,n,r,a){e!==t&&pr(t,(function(o,s){if(a||(a=new Wn),Jo(o))!function(e,t,n,r,a,o,s){var u=Ca(e,n),l=Ca(t,n),c=s.get(l);if(c)Zn(e,n,c);else{var A=o?o(u,l,n+"",e,t,s):i,f=A===i;if(f){var d=jo(l),h=!d&&Wo(l),p=!d&&!h&&ss(l);A=l,d||h||p?jo(u)?A=u:Vo(u)?A=Ei(u):h?(f=!1,A=yi(l,!0)):p?(f=!1,A=wi(l,!0)):A=[]:ns(l)||Ho(l)?(A=u,Ho(u)?A=ps(u):Jo(u)&&!qo(u)||(A=fa(l))):f=!1}f&&(s.set(l,A),a(A,l,r,o,s),s.delete(l)),Zn(e,n,A)}}(e,t,s,n,Lr,r,a);else{var u=r?r(Ca(e,s),o,s+"",e,t,a):i;u===i&&(u=o),Zn(e,s,u)}}),ks)}function Nr(e,t){var n=e.length;if(n)return ha(t+=t<0?n:0,n)?e[t]:i}function Qr(e,t,n){t=t.length?Mt(t,(function(e){return jo(e)?function(t){return br(t,1===e.length?e[0]:e)}:e})):[tu];var r=-1;t=Mt(t,qt(ia()));var i=Or(e,(function(e,n,i){var a=Mt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var u=xi(i[r],a[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function Hr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=br(e,o);n(s,o)&&qr(a,pi(o,e),s)}return a}function jr(e,t,n,r){var i=r?Qt:Nt,a=-1,o=t.length,s=e;for(e===t&&(t=Ei(t)),n&&(s=Mt(e,qt(n)));++a<o;)for(var u=0,l=t[a],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function zr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ha(i)?Ke.call(e,i,1):si(e,i)}}return e}function Gr(e,t){return e+dt(yn()*(t-e+1))}function Vr(e,t){var n="";if(!e||t<1||t>A)return n;do{t%2&&(n+=e),(t=dt(t/2))&&(e+=e)}while(t);return n}function Wr(e,t){return Ba(xa(e,t,tu),e+"")}function Kr(e){return Xn(Ls(e))}function Xr(e,t){var n=Ls(e);return ka(n,ir(t,0,n.length))}function qr(e,t,n,r){if(!Jo(e))return e;for(var a=-1,o=(t=pi(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var l=Fa(t[a]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=s){var A=u[l];(c=r?r(A,l,u):i)===i&&(c=Jo(A)?A:ha(t[a+1])?[]:{})}Jn(u,l,c),u=u[l]}return e}var Yr=Bn?function(e,t){return Bn.set(e,t),e}:tu,Zr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Js(t),writable:!0})}:tu;function Jr(e){return ka(Ls(e))}function $r(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function ei(e,t){var n;return lr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ti(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!os(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ni(e,t,tu,n)}function ni(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,u=null===t,l=os(t),c=t===i;a<o;){var A=dt((a+o)/2),f=n(e[A]),d=f!==i,h=null===f,p=f==f,v=os(f);if(s)var g=r||p;else g=c?p&&(r||d):u?p&&d&&(r||!h):l?p&&d&&!h&&(r||!v):!h&&!v&&(r?f<=t:f<t);g?a=A+1:o=A}return vn(o,4294967294)}function ri(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Lo(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function ii(e){return"number"==typeof e?e:os(e)?f:+e}function ai(e){if("string"==typeof e)return e;if(jo(e))return Mt(e,ai)+"";if(os(e))return Pn?Pn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function oi(e,t,n){var r=-1,i=It,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=kt;else if(a>=200){var l=t?null:Vi(e);if(l)return un(l);o=!1,i=Zt,u=new Vn}else u=t?[]:s;e:for(;++r<a;){var c=e[r],A=t?t(c):c;if(c=n||0!==c?c:0,o&&A==A){for(var f=u.length;f--;)if(u[f]===A)continue e;t&&u.push(A),s.push(c)}else i(u,A,n)||(u!==s&&u.push(A),s.push(c))}return s}function si(e,t){return null==(e=_a(e,t=pi(t,e)))||delete e[Fa(Ka(t))]}function ui(e,t,n,r){return qr(e,t,n(br(e,t)),r)}function li(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?$r(e,r?0:a,r?a+1:i):$r(e,r?a+1:0,r?i:a)}function ci(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Ut(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),n)}function Ai(e,t,n){var i=e.length;if(i<2)return i?oi(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=e[a],u=-1;++u<i;)u!=a&&(o[a]=ur(o[a]||s,e[u],t,n));return oi(hr(o,1),t,n)}function fi(e,t,n){for(var r=-1,a=e.length,o=t.length,s={};++r<a;){var u=r<o?t[r]:i;n(s,e[r],u)}return s}function di(e){return Vo(e)?e:[]}function hi(e){return"function"==typeof e?e:tu}function pi(e,t){return jo(e)?e:va(e,t)?[e]:Ua(vs(e))}var vi=Wr;function gi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:$r(e,t,n)}var mi=ot||function(e){return At.clearTimeout(e)};function yi(e,t){if(t)return e.slice();var n=e.length,r=ze?ze(n):new e.constructor(n);return e.copy(r),r}function bi(e){var t=new e.constructor(e.byteLength);return new je(t).set(new je(e)),t}function wi(e,t){var n=t?bi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function xi(e,t){if(e!==t){var n=e!==i,r=null===e,a=e==e,o=os(e),s=t!==i,u=null===t,l=t==t,c=os(t);if(!u&&!c&&!o&&e>t||o&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!a)return 1;if(!r&&!o&&!c&&e<t||c&&n&&a&&!r&&!o||u&&n&&a||!s&&a||!l)return-1}return 0}function _i(e,t,n,i){for(var a=-1,o=e.length,s=n.length,u=-1,l=t.length,c=pn(o-s,0),A=r(l+c),f=!i;++u<l;)A[u]=t[u];for(;++a<s;)(f||a<o)&&(A[n[a]]=e[a]);for(;c--;)A[u++]=e[a++];return A}function Ci(e,t,n,i){for(var a=-1,o=e.length,s=-1,u=n.length,l=-1,c=t.length,A=pn(o-u,0),f=r(A+c),d=!i;++a<A;)f[a]=e[a];for(var h=a;++l<c;)f[h+l]=t[l];for(;++s<u;)(d||a<o)&&(f[h+n[s]]=e[a++]);return f}function Ei(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Si(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),a?nr(n,u,l):Jn(n,u,l)}return n}function Bi(e,t){return function(n,r){var i=jo(n)?Ct:er,a=t?t():{};return i(n,e,ia(r,2),a)}}function Ti(e){return Wr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&pa(n[0],n[1],s)&&(o=a<3?i:o,a=1),t=Ce(t);++r<a;){var u=n[r];u&&e(t,u,r,o)}return t}))}function Ii(e,t){return function(n,r){if(null==n)return n;if(!Go(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ce(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function ki(e){return function(t,n,r){for(var i=-1,a=Ce(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}function Mi(e){return function(t){var n=rn(t=vs(t))?cn(t):i,r=n?n[0]:t.charAt(0),a=n?gi(n,1).join(""):t.slice(1);return r[e]()+a}}function Ri(e){return function(t){return Ut(qs(Hs(t).replace(Ye,"")),e,"")}}function Ui(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ln(e.prototype),r=e.apply(n,t);return Jo(r)?r:n}}function Fi(e){return function(t,n,r){var a=Ce(t);if(!Go(t)){var o=ia(n,3);t=Is(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,r);return s>-1?a[o?t[s]:s]:i}}function Oi(e){return Ji((function(t){var n=t.length,r=n,o=Qn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Be(a);if(o&&!u&&"wrapper"==na(s))var u=new Qn([],!0)}for(r=u?r:n;++r<n;){var l=na(s=t[r]),c="wrapper"==l?ta(s):i;u=c&&ga(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[na(c[0])].apply(u,c[3]):1==s.length&&ga(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&jo(r))return u.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Pi(e,t,n,a,o,s,u,c,A,f){var d=t&l,h=1&t,p=2&t,v=24&t,g=512&t,m=p?i:Ui(e);return function l(){for(var y=arguments.length,b=r(y),w=y;w--;)b[w]=arguments[w];if(v)var x=ra(l),_=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,x);if(a&&(b=_i(b,a,o,v)),s&&(b=Ci(b,s,u,v)),y-=_,v&&y<f){var C=sn(b,x);return zi(e,t,Pi,l.placeholder,n,b,C,c,A,f-y)}var E=h?n:this,S=p?E[e]:e;return y=b.length,c?b=function(e,t){for(var n=e.length,r=vn(t.length,n),a=Ei(e);r--;){var o=t[r];e[r]=ha(o,n)?a[o]:i}return e}(b,c):g&&y>1&&b.reverse(),d&&A<y&&(b.length=A),this&&this!==At&&this instanceof l&&(S=m||Ui(S)),S.apply(E,b)}}function Di(e,t){return function(n,r){return function(e,t,n,r){return gr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Li(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=ai(n),r=ai(r)):(n=ii(n),r=ii(r)),a=e(n,r)}return a}}function Ni(e){return Ji((function(t){return t=Mt(t,qt(ia())),Wr((function(n){var r=this;return e(t,(function(e){return _t(e,r,n)}))}))}))}function Qi(e,t){var n=(t=t===i?" ":ai(t)).length;if(n<2)return n?Vr(t,e):t;var r=Vr(t,ft(e/ln(t)));return rn(t)?gi(cn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,n,a){return a&&"number"!=typeof a&&pa(t,n,a)&&(n=a=i),t=As(t),n===i?(n=t,t=0):n=As(n),function(e,t,n,i){for(var a=-1,o=pn(ft((t-e)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=e,e+=n;return s}(t,n,a=a===i?t<n?1:-1:As(a),e)}}function ji(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=hs(t),n=hs(n)),e(t,n)}}function zi(e,t,n,r,a,o,s,l,c,A){var f=8&t;t|=f?u:64,4&(t&=~(f?64:u))||(t&=-4);var d=[e,t,a,f?o:i,f?s:i,f?i:o,f?i:s,l,c,A],h=n.apply(i,d);return ga(e)&&Ea(h,d),h.placeholder=r,Ta(h,e,t)}function Gi(e){var t=_e[e];return function(e,n){if(e=hs(e),(n=null==n?0:vn(fs(n),292))&&Pt(e)){var r=(vs(e)+"e").split("e");return+((r=(vs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Vi=Cn&&1/un(new Cn([,-0]))[1]==c?function(e){return new Cn(e)}:ou;function Wi(e){return function(t){var n=ca(t);return n==x?an(t):n==B?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ki(e,t,n,o,c,A,f,d){var h=2&t;if(!h&&"function"!=typeof e)throw new Be(a);var p=o?o.length:0;if(p||(t&=-97,o=c=i),f=f===i?f:pn(fs(f),0),d=d===i?d:fs(d),p-=c?c.length:0,64&t){var v=o,g=c;o=c=i}var m=h?i:ta(e),y=[e,t,n,o,c,v,g,A,f,d];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==l&&8==n||r==l&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?_i(c,u,t[4]):u,e[4]=c?sn(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ci(c,u,t[6]):u,e[6]=c?sn(e[5],s):t[6]),(u=t[7])&&(e[7]=u),r&l&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(y,m),e=y[0],t=y[1],n=y[2],o=y[3],c=y[4],!(d=y[9]=y[9]===i?h?0:e.length:pn(y[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||16==t?function(e,t,n){var a=Ui(e);return function o(){for(var s=arguments.length,u=r(s),l=s,c=ra(o);l--;)u[l]=arguments[l];var A=s<3&&u[0]!==c&&u[s-1]!==c?[]:sn(u,c);return(s-=A.length)<n?zi(e,t,Pi,o.placeholder,i,u,A,i,i,n-s):_t(this&&this!==At&&this instanceof o?a:e,this,u)}}(e,t,d):t!=u&&33!=t||c.length?Pi.apply(i,y):function(e,t,n,i){var a=1&t,o=Ui(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,A=r(c+u),f=this&&this!==At&&this instanceof t?o:e;++l<c;)A[l]=i[l];for(;u--;)A[l++]=arguments[++s];return _t(f,a?n:this,A)}}(e,t,n,o);else var b=function(e,t,n){var r=1&t,i=Ui(e);return function t(){return(this&&this!==At&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Ta((m?Yr:Ea)(b,y),e,t)}function Xi(e,t,n,r){return e===i||Lo(e,ke[n])&&!Ue.call(r,n)?t:e}function qi(e,t,n,r,a,o){return Jo(e)&&Jo(t)&&(o.set(t,e),Lr(e,t,i,qi,o),o.delete(t)),e}function Yi(e){return ns(e)?i:e}function Zi(e,t,n,r,a,o){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=o.get(e),A=o.get(t);if(c&&A)return c==t&&A==e;var f=-1,d=!0,h=2&n?new Vn:i;for(o.set(e,t),o.set(t,e);++f<u;){var p=e[f],v=t[f];if(r)var g=s?r(v,p,f,t,e,o):r(p,v,f,e,t,o);if(g!==i){if(g)continue;d=!1;break}if(h){if(!Ot(t,(function(e,t){if(!Zt(h,t)&&(p===e||a(p,e,n,r,o)))return h.push(t)}))){d=!1;break}}else if(p!==v&&!a(p,v,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Ji(e){return Ba(xa(e,i,ja),e+"")}function $i(e){return wr(e,Is,ua)}function ea(e){return wr(e,ks,la)}var ta=Bn?function(e){return Bn.get(e)}:ou;function na(e){for(var t=e.name+"",n=Tn[t],r=Ue.call(Tn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ra(e){return(Ue.call(Dn,"placeholder")?Dn:e).placeholder}function ia(){var e=Dn.iteratee||nu;return e=e===nu?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function aa(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function oa(e){for(var t=Is(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ba(i)]}return t}function sa(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var ua=pt?function(e){return null==e?[]:(e=Ce(e),Tt(pt(e),(function(t){return We.call(e,t)})))}:du,la=pt?function(e){for(var t=[];e;)Rt(t,ua(e)),e=Ge(e);return t}:du,ca=xr;function Aa(e,t,n){for(var r=-1,i=(t=pi(t,e)).length,a=!1;++r<i;){var o=Fa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Zo(i)&&ha(o,i)&&(jo(e)||Ho(e))}function fa(e){return"function"!=typeof e.constructor||ya(e)?{}:Ln(Ge(e))}function da(e){return jo(e)||Ho(e)||!!(Xe&&e&&e[Xe])}function ha(e,t){var n=typeof e;return!!(t=null==t?A:t)&&("number"==n||"symbol"!=n&&ge.test(e))&&e>-1&&e%1==0&&e<t}function pa(e,t,n){if(!Jo(n))return!1;var r=typeof t;return!!("number"==r?Go(n)&&ha(t,n.length):"string"==r&&t in n)&&Lo(n[t],e)}function va(e,t){if(jo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!os(e))||$.test(e)||!J.test(e)||null!=t&&e in Ce(t)}function ga(e){var t=na(e),n=Dn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=ta(n);return!!r&&e===r[0]}(wn&&ca(new wn(new ArrayBuffer(1)))!=R||xn&&ca(new xn)!=x||_n&&ca(_n.resolve())!=E||Cn&&ca(new Cn)!=B||En&&ca(new En)!=k)&&(ca=function(e){var t=xr(e),n=t==C?e.constructor:i,r=n?Oa(n):"";if(r)switch(r){case In:return R;case kn:return x;case Mn:return E;case Rn:return B;case Un:return k}return t});var ma=Me?qo:hu;function ya(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ke)}function ba(e){return e==e&&!Jo(e)}function wa(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Ce(n))}}function xa(e,t,n){return t=pn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=pn(i.length-t,0),s=r(o);++a<o;)s[a]=i[t+a];a=-1;for(var u=r(t+1);++a<t;)u[a]=i[a];return u[t]=n(s),_t(e,this,u)}}function _a(e,t){return t.length<2?e:br(e,$r(t,0,-1))}function Ca(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ea=Ia(Yr),Sa=ct||function(e,t){return At.setTimeout(e,t)},Ba=Ia(Zr);function Ta(e,t,n){var r=t+"";return Ba(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Et(h,(function(n){var r="_."+n[0];t&n[1]&&!It(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(oe);return t?t[1].split(se):[]}(r),n)))}function Ia(e){var t=0,n=0;return function(){var r=gn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function ka(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Gr(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Ma,Ra,Ua=(Ma=Ro((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(ce,"$1"):n||e)})),t}),(function(e){return 500===Ra.size&&Ra.clear(),e})),Ra=Ma.cache,Ma);function Fa(e){if("string"==typeof e||os(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Oa(e){if(null!=e){try{return Re.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Pa(e){if(e instanceof Hn)return e.clone();var t=new Qn(e.__wrapped__,e.__chain__);return t.__actions__=Ei(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Da=Wr((function(e,t){return Vo(e)?ur(e,hr(t,1,Vo,!0)):[]})),La=Wr((function(e,t){var n=Ka(t);return Vo(n)&&(n=i),Vo(e)?ur(e,hr(t,1,Vo,!0),ia(n,2)):[]})),Na=Wr((function(e,t){var n=Ka(t);return Vo(n)&&(n=i),Vo(e)?ur(e,hr(t,1,Vo,!0),i,n):[]}));function Qa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fs(n);return i<0&&(i=pn(r+i,0)),Lt(e,ia(t,3),i)}function Ha(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=fs(n),a=n<0?pn(r+a,0):vn(a,r-1)),Lt(e,ia(t,3),a,!0)}function ja(e){return null!=e&&e.length?hr(e,1):[]}function za(e){return e&&e.length?e[0]:i}var Ga=Wr((function(e){var t=Mt(e,di);return t.length&&t[0]===e[0]?Sr(t):[]})),Va=Wr((function(e){var t=Ka(e),n=Mt(e,di);return t===Ka(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Sr(n,ia(t,2)):[]})),Wa=Wr((function(e){var t=Ka(e),n=Mt(e,di);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Sr(n,i,t):[]}));function Ka(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xa=Wr(qa);function qa(e,t){return e&&e.length&&t&&t.length?jr(e,t):e}var Ya=Ji((function(e,t){var n=null==e?0:e.length,r=rr(e,t);return zr(e,Mt(t,(function(e){return ha(e,n)?+e:e})).sort(xi)),r}));function Za(e){return null==e?e:bn.call(e)}var Ja=Wr((function(e){return oi(hr(e,1,Vo,!0))})),$a=Wr((function(e){var t=Ka(e);return Vo(t)&&(t=i),oi(hr(e,1,Vo,!0),ia(t,2))})),eo=Wr((function(e){var t=Ka(e);return t="function"==typeof t?t:i,oi(hr(e,1,Vo,!0),i,t)}));function to(e){if(!e||!e.length)return[];var t=0;return e=Tt(e,(function(e){if(Vo(e))return t=pn(e.length,t),!0})),Kt(t,(function(t){return Mt(e,zt(t))}))}function no(e,t){if(!e||!e.length)return[];var n=to(e);return null==t?n:Mt(n,(function(e){return _t(t,i,e)}))}var ro=Wr((function(e,t){return Vo(e)?ur(e,t):[]})),io=Wr((function(e){return Ai(Tt(e,Vo))})),ao=Wr((function(e){var t=Ka(e);return Vo(t)&&(t=i),Ai(Tt(e,Vo),ia(t,2))})),oo=Wr((function(e){var t=Ka(e);return t="function"==typeof t?t:i,Ai(Tt(e,Vo),i,t)})),so=Wr(to),uo=Wr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,no(e,n)}));function lo(e){var t=Dn(e);return t.__chain__=!0,t}function co(e,t){return t(e)}var Ao=Ji((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return rr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&ha(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:co,args:[a],thisArg:i}),new Qn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)})),fo=Bi((function(e,t,n){Ue.call(e,n)?++e[n]:nr(e,n,1)})),ho=Fi(Qa),po=Fi(Ha);function vo(e,t){return(jo(e)?Et:lr)(e,ia(t,3))}function go(e,t){return(jo(e)?St:cr)(e,ia(t,3))}var mo=Bi((function(e,t,n){Ue.call(e,n)?e[n].push(t):nr(e,n,[t])})),yo=Wr((function(e,t,n){var i=-1,a="function"==typeof t,o=Go(e)?r(e.length):[];return lr(e,(function(e){o[++i]=a?_t(t,e,n):Br(e,t,n)})),o})),bo=Bi((function(e,t,n){nr(e,n,t)}));function wo(e,t){return(jo(e)?Mt:Or)(e,ia(t,3))}var xo=Bi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),_o=Wr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&pa(e,t[0],t[1])?t=[]:n>2&&pa(t[0],t[1],t[2])&&(t=[t[0]]),Qr(e,hr(t,1),[])})),Co=lt||function(){return At.Date.now()};function Eo(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ki(e,l,i,i,i,i,t)}function So(e,t){var n;if("function"!=typeof t)throw new Be(a);return e=fs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Bo=Wr((function(e,t,n){var r=1;if(n.length){var i=sn(n,ra(Bo));r|=u}return Ki(e,r,t,n,i)})),To=Wr((function(e,t,n){var r=3;if(n.length){var i=sn(n,ra(To));r|=u}return Ki(t,r,e,n,i)}));function Io(e,t,n){var r,o,s,u,l,c,A=0,f=!1,d=!1,h=!0;if("function"!=typeof e)throw new Be(a);function p(t){var n=r,a=o;return r=o=i,A=t,u=e.apply(a,n)}function v(e){var n=e-c;return c===i||n>=t||n<0||d&&e-A>=s}function g(){var e=Co();if(v(e))return m(e);l=Sa(g,function(e){var n=t-(e-c);return d?vn(n,s-(e-A)):n}(e))}function m(e){return l=i,h&&r?p(e):(r=o=i,u)}function y(){var e=Co(),n=v(e);if(r=arguments,o=this,c=e,n){if(l===i)return function(e){return A=e,l=Sa(g,t),f?p(e):u}(c);if(d)return mi(l),l=Sa(g,t),p(c)}return l===i&&(l=Sa(g,t)),u}return t=hs(t)||0,Jo(n)&&(f=!!n.leading,s=(d="maxWait"in n)?pn(hs(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),y.cancel=function(){l!==i&&mi(l),A=0,r=c=o=l=i},y.flush=function(){return l===i?u:m(Co())},y}var ko=Wr((function(e,t){return sr(e,1,t)})),Mo=Wr((function(e,t,n){return sr(e,hs(t)||0,n)}));function Ro(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Be(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Ro.Cache||Gn),n}function Uo(e){if("function"!=typeof e)throw new Be(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ro.Cache=Gn;var Fo=vi((function(e,t){var n=(t=1==t.length&&jo(t[0])?Mt(t[0],qt(ia())):Mt(hr(t,1),qt(ia()))).length;return Wr((function(r){for(var i=-1,a=vn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return _t(e,this,r)}))})),Oo=Wr((function(e,t){var n=sn(t,ra(Oo));return Ki(e,u,i,t,n)})),Po=Wr((function(e,t){var n=sn(t,ra(Po));return Ki(e,64,i,t,n)})),Do=Ji((function(e,t){return Ki(e,256,i,i,i,t)}));function Lo(e,t){return e===t||e!=e&&t!=t}var No=ji(_r),Qo=ji((function(e,t){return e>=t})),Ho=Tr(function(){return arguments}())?Tr:function(e){return $o(e)&&Ue.call(e,"callee")&&!We.call(e,"callee")},jo=r.isArray,zo=gt?qt(gt):function(e){return $o(e)&&xr(e)==M};function Go(e){return null!=e&&Zo(e.length)&&!qo(e)}function Vo(e){return $o(e)&&Go(e)}var Wo=vt||hu,Ko=mt?qt(mt):function(e){return $o(e)&&xr(e)==m};function Xo(e){if(!$o(e))return!1;var t=xr(e);return t==y||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ns(e)}function qo(e){if(!Jo(e))return!1;var t=xr(e);return t==b||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Yo(e){return"number"==typeof e&&e==fs(e)}function Zo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=A}function Jo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $o(e){return null!=e&&"object"==typeof e}var es=yt?qt(yt):function(e){return $o(e)&&ca(e)==x};function ts(e){return"number"==typeof e||$o(e)&&xr(e)==_}function ns(e){if(!$o(e)||xr(e)!=C)return!1;var t=Ge(e);if(null===t)return!0;var n=Ue.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==De}var rs=bt?qt(bt):function(e){return $o(e)&&xr(e)==S},is=wt?qt(wt):function(e){return $o(e)&&ca(e)==B};function as(e){return"string"==typeof e||!jo(e)&&$o(e)&&xr(e)==T}function os(e){return"symbol"==typeof e||$o(e)&&xr(e)==I}var ss=xt?qt(xt):function(e){return $o(e)&&Zo(e.length)&&!!it[xr(e)]},us=ji(Fr),ls=ji((function(e,t){return e<=t}));function cs(e){if(!e)return[];if(Go(e))return as(e)?cn(e):Ei(e);if(qe&&e[qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[qe]());var t=ca(e);return(t==x?an:t==B?un:Ls)(e)}function As(e){return e?(e=hs(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function fs(e){var t=As(e),n=t%1;return t==t?n?t-n:t:0}function ds(e){return e?ir(fs(e),0,d):0}function hs(e){if("number"==typeof e)return e;if(os(e))return f;if(Jo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Jo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=he.test(e);return n||ve.test(e)?ut(e.slice(2),n?2:8):de.test(e)?f:+e}function ps(e){return Si(e,ks(e))}function vs(e){return null==e?"":ai(e)}var gs=Ti((function(e,t){if(ya(t)||Go(t))Si(t,Is(t),e);else for(var n in t)Ue.call(t,n)&&Jn(e,n,t[n])})),ms=Ti((function(e,t){Si(t,ks(t),e)})),ys=Ti((function(e,t,n,r){Si(t,ks(t),e,r)})),bs=Ti((function(e,t,n,r){Si(t,Is(t),e,r)})),ws=Ji(rr),xs=Wr((function(e,t){e=Ce(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&pa(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=ks(o),u=-1,l=s.length;++u<l;){var c=s[u],A=e[c];(A===i||Lo(A,ke[c])&&!Ue.call(e,c))&&(e[c]=o[c])}return e})),_s=Wr((function(e){return e.push(i,qi),_t(Rs,i,e)}));function Cs(e,t,n){var r=null==e?i:br(e,t);return r===i?n:r}function Es(e,t){return null!=e&&Aa(e,t,Er)}var Ss=Di((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Pe.call(t)),e[t]=n}),Js(tu)),Bs=Di((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Pe.call(t)),Ue.call(e,t)?e[t].push(n):e[t]=[n]}),ia),Ts=Wr(Br);function Is(e){return Go(e)?Kn(e):Ur(e)}function ks(e){return Go(e)?Kn(e,!0):function(e){if(!Jo(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=ya(e),n=[];for(var r in e)("constructor"!=r||!t&&Ue.call(e,r))&&n.push(r);return n}(e)}var Ms=Ti((function(e,t,n){Lr(e,t,n)})),Rs=Ti((function(e,t,n,r){Lr(e,t,n,r)})),Us=Ji((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=pi(t,e),r||(r=t.length>1),t})),Si(e,ea(e),n),r&&(n=ar(n,7,Yi));for(var i=t.length;i--;)si(n,t[i]);return n})),Fs=Ji((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Es(e,n)}))}(e,t)}));function Os(e,t){if(null==e)return{};var n=Mt(ea(e),(function(e){return[e]}));return t=ia(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Ps=Wi(Is),Ds=Wi(ks);function Ls(e){return null==e?[]:Yt(e,Is(e))}var Ns=Ri((function(e,t,n){return t=t.toLowerCase(),e+(n?Qs(t):t)}));function Qs(e){return Xs(vs(e).toLowerCase())}function Hs(e){return(e=vs(e))&&e.replace(me,en).replace(Ze,"")}var js=Ri((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),zs=Ri((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Gs=Mi("toLowerCase"),Vs=Ri((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ws=Ri((function(e,t,n){return e+(n?" ":"")+Xs(t)})),Ks=Ri((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xs=Mi("toUpperCase");function qs(e,t,n){return e=vs(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match($e)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Ys=Wr((function(e,t){try{return _t(e,i,t)}catch(e){return Xo(e)?e:new we(e)}})),Zs=Ji((function(e,t){return Et(t,(function(t){t=Fa(t),nr(e,t,Bo(e[t],e))})),e}));function Js(e){return function(){return e}}var $s=Oi(),eu=Oi(!0);function tu(e){return e}function nu(e){return Rr("function"==typeof e?e:ar(e,1))}var ru=Wr((function(e,t){return function(n){return Br(n,e,t)}})),iu=Wr((function(e,t){return function(n){return Br(e,n,t)}}));function au(e,t,n){var r=Is(t),i=yr(t,r);null!=n||Jo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=yr(t,Is(t)));var a=!(Jo(n)&&"chain"in n&&!n.chain),o=qo(e);return Et(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Ei(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Rt([this.value()],arguments))})})),e}function ou(){}var su=Ni(Mt),uu=Ni(Bt),lu=Ni(Ot);function cu(e){return va(e)?zt(Fa(e)):function(e){return function(t){return br(t,e)}}(e)}var Au=Hi(),fu=Hi(!0);function du(){return[]}function hu(){return!1}var pu,vu=Li((function(e,t){return e+t}),0),gu=Gi("ceil"),mu=Li((function(e,t){return e/t}),1),yu=Gi("floor"),bu=Li((function(e,t){return e*t}),1),wu=Gi("round"),xu=Li((function(e,t){return e-t}),0);return Dn.after=function(e,t){if("function"!=typeof t)throw new Be(a);return e=fs(e),function(){if(--e<1)return t.apply(this,arguments)}},Dn.ary=Eo,Dn.assign=gs,Dn.assignIn=ms,Dn.assignInWith=ys,Dn.assignWith=bs,Dn.at=ws,Dn.before=So,Dn.bind=Bo,Dn.bindAll=Zs,Dn.bindKey=To,Dn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return jo(e)?e:[e]},Dn.chain=lo,Dn.chunk=function(e,t,n){t=(n?pa(e,t,n):t===i)?1:pn(fs(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,u=r(ft(a/t));o<a;)u[s++]=$r(e,o,o+=t);return u},Dn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Dn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Rt(jo(n)?Ei(n):[n],hr(t,1))},Dn.cond=function(e){var t=null==e?0:e.length,n=ia();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Be(a);return[n(e[0]),e[1]]})):[],Wr((function(n){for(var r=-1;++r<t;){var i=e[r];if(_t(i[0],this,n))return _t(i[1],this,n)}}))},Dn.conforms=function(e){return function(e){var t=Is(e);return function(n){return or(n,e,t)}}(ar(e,1))},Dn.constant=Js,Dn.countBy=fo,Dn.create=function(e,t){var n=Ln(e);return null==t?n:tr(n,t)},Dn.curry=function e(t,n,r){var a=Ki(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Dn.curryRight=function e(t,n,r){var a=Ki(t,16,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Dn.debounce=Io,Dn.defaults=xs,Dn.defaultsDeep=_s,Dn.defer=ko,Dn.delay=Mo,Dn.difference=Da,Dn.differenceBy=La,Dn.differenceWith=Na,Dn.drop=function(e,t,n){var r=null==e?0:e.length;return r?$r(e,(t=n||t===i?1:fs(t))<0?0:t,r):[]},Dn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?$r(e,0,(t=r-(t=n||t===i?1:fs(t)))<0?0:t):[]},Dn.dropRightWhile=function(e,t){return e&&e.length?li(e,ia(t,3),!0,!0):[]},Dn.dropWhile=function(e,t){return e&&e.length?li(e,ia(t,3),!0):[]},Dn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&pa(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=fs(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:fs(r))<0&&(r+=a),r=n>r?0:ds(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Dn.filter=function(e,t){return(jo(e)?Tt:dr)(e,ia(t,3))},Dn.flatMap=function(e,t){return hr(wo(e,t),1)},Dn.flatMapDeep=function(e,t){return hr(wo(e,t),c)},Dn.flatMapDepth=function(e,t,n){return n=n===i?1:fs(n),hr(wo(e,t),n)},Dn.flatten=ja,Dn.flattenDeep=function(e){return null!=e&&e.length?hr(e,c):[]},Dn.flattenDepth=function(e,t){return null!=e&&e.length?hr(e,t=t===i?1:fs(t)):[]},Dn.flip=function(e){return Ki(e,512)},Dn.flow=$s,Dn.flowRight=eu,Dn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Dn.functions=function(e){return null==e?[]:yr(e,Is(e))},Dn.functionsIn=function(e){return null==e?[]:yr(e,ks(e))},Dn.groupBy=mo,Dn.initial=function(e){return null!=e&&e.length?$r(e,0,-1):[]},Dn.intersection=Ga,Dn.intersectionBy=Va,Dn.intersectionWith=Wa,Dn.invert=Ss,Dn.invertBy=Bs,Dn.invokeMap=yo,Dn.iteratee=nu,Dn.keyBy=bo,Dn.keys=Is,Dn.keysIn=ks,Dn.map=wo,Dn.mapKeys=function(e,t){var n={};return t=ia(t,3),gr(e,(function(e,r,i){nr(n,t(e,r,i),e)})),n},Dn.mapValues=function(e,t){var n={};return t=ia(t,3),gr(e,(function(e,r,i){nr(n,r,t(e,r,i))})),n},Dn.matches=function(e){return Pr(ar(e,1))},Dn.matchesProperty=function(e,t){return Dr(e,ar(t,1))},Dn.memoize=Ro,Dn.merge=Ms,Dn.mergeWith=Rs,Dn.method=ru,Dn.methodOf=iu,Dn.mixin=au,Dn.negate=Uo,Dn.nthArg=function(e){return e=fs(e),Wr((function(t){return Nr(t,e)}))},Dn.omit=Us,Dn.omitBy=function(e,t){return Os(e,Uo(ia(t)))},Dn.once=function(e){return So(2,e)},Dn.orderBy=function(e,t,n,r){return null==e?[]:(jo(t)||(t=null==t?[]:[t]),jo(n=r?i:n)||(n=null==n?[]:[n]),Qr(e,t,n))},Dn.over=su,Dn.overArgs=Fo,Dn.overEvery=uu,Dn.overSome=lu,Dn.partial=Oo,Dn.partialRight=Po,Dn.partition=xo,Dn.pick=Fs,Dn.pickBy=Os,Dn.property=cu,Dn.propertyOf=function(e){return function(t){return null==e?i:br(e,t)}},Dn.pull=Xa,Dn.pullAll=qa,Dn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?jr(e,t,ia(n,2)):e},Dn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?jr(e,t,i,n):e},Dn.pullAt=Ya,Dn.range=Au,Dn.rangeRight=fu,Dn.rearg=Do,Dn.reject=function(e,t){return(jo(e)?Tt:dr)(e,Uo(ia(t,3)))},Dn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ia(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return zr(e,i),n},Dn.rest=function(e,t){if("function"!=typeof e)throw new Be(a);return Wr(e,t=t===i?t:fs(t))},Dn.reverse=Za,Dn.sampleSize=function(e,t,n){return t=(n?pa(e,t,n):t===i)?1:fs(t),(jo(e)?qn:Xr)(e,t)},Dn.set=function(e,t,n){return null==e?e:qr(e,t,n)},Dn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:qr(e,t,n,r)},Dn.shuffle=function(e){return(jo(e)?Yn:Jr)(e)},Dn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&pa(e,t,n)?(t=0,n=r):(t=null==t?0:fs(t),n=n===i?r:fs(n)),$r(e,t,n)):[]},Dn.sortBy=_o,Dn.sortedUniq=function(e){return e&&e.length?ri(e):[]},Dn.sortedUniqBy=function(e,t){return e&&e.length?ri(e,ia(t,2)):[]},Dn.split=function(e,t,n){return n&&"number"!=typeof n&&pa(e,t,n)&&(t=n=i),(n=n===i?d:n>>>0)?(e=vs(e))&&("string"==typeof t||null!=t&&!rs(t))&&!(t=ai(t))&&rn(e)?gi(cn(e),0,n):e.split(t,n):[]},Dn.spread=function(e,t){if("function"!=typeof e)throw new Be(a);return t=null==t?0:pn(fs(t),0),Wr((function(n){var r=n[t],i=gi(n,0,t);return r&&Rt(i,r),_t(e,this,i)}))},Dn.tail=function(e){var t=null==e?0:e.length;return t?$r(e,1,t):[]},Dn.take=function(e,t,n){return e&&e.length?$r(e,0,(t=n||t===i?1:fs(t))<0?0:t):[]},Dn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?$r(e,(t=r-(t=n||t===i?1:fs(t)))<0?0:t,r):[]},Dn.takeRightWhile=function(e,t){return e&&e.length?li(e,ia(t,3),!1,!0):[]},Dn.takeWhile=function(e,t){return e&&e.length?li(e,ia(t,3)):[]},Dn.tap=function(e,t){return t(e),e},Dn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Be(a);return Jo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Io(e,t,{leading:r,maxWait:t,trailing:i})},Dn.thru=co,Dn.toArray=cs,Dn.toPairs=Ps,Dn.toPairsIn=Ds,Dn.toPath=function(e){return jo(e)?Mt(e,Fa):os(e)?[e]:Ei(Ua(vs(e)))},Dn.toPlainObject=ps,Dn.transform=function(e,t,n){var r=jo(e),i=r||Wo(e)||ss(e);if(t=ia(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:Jo(e)&&qo(a)?Ln(Ge(e)):{}}return(i?Et:gr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Dn.unary=function(e){return Eo(e,1)},Dn.union=Ja,Dn.unionBy=$a,Dn.unionWith=eo,Dn.uniq=function(e){return e&&e.length?oi(e):[]},Dn.uniqBy=function(e,t){return e&&e.length?oi(e,ia(t,2)):[]},Dn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?oi(e,i,t):[]},Dn.unset=function(e,t){return null==e||si(e,t)},Dn.unzip=to,Dn.unzipWith=no,Dn.update=function(e,t,n){return null==e?e:ui(e,t,hi(n))},Dn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ui(e,t,hi(n),r)},Dn.values=Ls,Dn.valuesIn=function(e){return null==e?[]:Yt(e,ks(e))},Dn.without=ro,Dn.words=qs,Dn.wrap=function(e,t){return Oo(hi(t),e)},Dn.xor=io,Dn.xorBy=ao,Dn.xorWith=oo,Dn.zip=so,Dn.zipObject=function(e,t){return fi(e||[],t||[],Jn)},Dn.zipObjectDeep=function(e,t){return fi(e||[],t||[],qr)},Dn.zipWith=uo,Dn.entries=Ps,Dn.entriesIn=Ds,Dn.extend=ms,Dn.extendWith=ys,au(Dn,Dn),Dn.add=vu,Dn.attempt=Ys,Dn.camelCase=Ns,Dn.capitalize=Qs,Dn.ceil=gu,Dn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=hs(n))==n?n:0),t!==i&&(t=(t=hs(t))==t?t:0),ir(hs(e),t,n)},Dn.clone=function(e){return ar(e,4)},Dn.cloneDeep=function(e){return ar(e,5)},Dn.cloneDeepWith=function(e,t){return ar(e,5,t="function"==typeof t?t:i)},Dn.cloneWith=function(e,t){return ar(e,4,t="function"==typeof t?t:i)},Dn.conformsTo=function(e,t){return null==t||or(e,t,Is(t))},Dn.deburr=Hs,Dn.defaultTo=function(e,t){return null==e||e!=e?t:e},Dn.divide=mu,Dn.endsWith=function(e,t,n){e=vs(e),t=ai(t);var r=e.length,a=n=n===i?r:ir(fs(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Dn.eq=Lo,Dn.escape=function(e){return(e=vs(e))&&X.test(e)?e.replace(W,tn):e},Dn.escapeRegExp=function(e){return(e=vs(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Dn.every=function(e,t,n){var r=jo(e)?Bt:Ar;return n&&pa(e,t,n)&&(t=i),r(e,ia(t,3))},Dn.find=ho,Dn.findIndex=Qa,Dn.findKey=function(e,t){return Dt(e,ia(t,3),gr)},Dn.findLast=po,Dn.findLastIndex=Ha,Dn.findLastKey=function(e,t){return Dt(e,ia(t,3),mr)},Dn.floor=yu,Dn.forEach=vo,Dn.forEachRight=go,Dn.forIn=function(e,t){return null==e?e:pr(e,ia(t,3),ks)},Dn.forInRight=function(e,t){return null==e?e:vr(e,ia(t,3),ks)},Dn.forOwn=function(e,t){return e&&gr(e,ia(t,3))},Dn.forOwnRight=function(e,t){return e&&mr(e,ia(t,3))},Dn.get=Cs,Dn.gt=No,Dn.gte=Qo,Dn.has=function(e,t){return null!=e&&Aa(e,t,Cr)},Dn.hasIn=Es,Dn.head=za,Dn.identity=tu,Dn.includes=function(e,t,n,r){e=Go(e)?e:Ls(e),n=n&&!r?fs(n):0;var i=e.length;return n<0&&(n=pn(i+n,0)),as(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Nt(e,t,n)>-1},Dn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fs(n);return i<0&&(i=pn(r+i,0)),Nt(e,t,i)},Dn.inRange=function(e,t,n){return t=As(t),n===i?(n=t,t=0):n=As(n),function(e,t,n){return e>=vn(t,n)&&e<pn(t,n)}(e=hs(e),t,n)},Dn.invoke=Ts,Dn.isArguments=Ho,Dn.isArray=jo,Dn.isArrayBuffer=zo,Dn.isArrayLike=Go,Dn.isArrayLikeObject=Vo,Dn.isBoolean=function(e){return!0===e||!1===e||$o(e)&&xr(e)==g},Dn.isBuffer=Wo,Dn.isDate=Ko,Dn.isElement=function(e){return $o(e)&&1===e.nodeType&&!ns(e)},Dn.isEmpty=function(e){if(null==e)return!0;if(Go(e)&&(jo(e)||"string"==typeof e||"function"==typeof e.splice||Wo(e)||ss(e)||Ho(e)))return!e.length;var t=ca(e);if(t==x||t==B)return!e.size;if(ya(e))return!Ur(e).length;for(var n in e)if(Ue.call(e,n))return!1;return!0},Dn.isEqual=function(e,t){return Ir(e,t)},Dn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Ir(e,t,i,n):!!r},Dn.isError=Xo,Dn.isFinite=function(e){return"number"==typeof e&&Pt(e)},Dn.isFunction=qo,Dn.isInteger=Yo,Dn.isLength=Zo,Dn.isMap=es,Dn.isMatch=function(e,t){return e===t||kr(e,t,oa(t))},Dn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,kr(e,t,oa(t),n)},Dn.isNaN=function(e){return ts(e)&&e!=+e},Dn.isNative=function(e){if(ma(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},Dn.isNil=function(e){return null==e},Dn.isNull=function(e){return null===e},Dn.isNumber=ts,Dn.isObject=Jo,Dn.isObjectLike=$o,Dn.isPlainObject=ns,Dn.isRegExp=rs,Dn.isSafeInteger=function(e){return Yo(e)&&e>=-9007199254740991&&e<=A},Dn.isSet=is,Dn.isString=as,Dn.isSymbol=os,Dn.isTypedArray=ss,Dn.isUndefined=function(e){return e===i},Dn.isWeakMap=function(e){return $o(e)&&ca(e)==k},Dn.isWeakSet=function(e){return $o(e)&&"[object WeakSet]"==xr(e)},Dn.join=function(e,t){return null==e?"":Gt.call(e,t)},Dn.kebabCase=js,Dn.last=Ka,Dn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=fs(n))<0?pn(r+a,0):vn(a,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Lt(e,Ht,a,!0)},Dn.lowerCase=zs,Dn.lowerFirst=Gs,Dn.lt=us,Dn.lte=ls,Dn.max=function(e){return e&&e.length?fr(e,tu,_r):i},Dn.maxBy=function(e,t){return e&&e.length?fr(e,ia(t,2),_r):i},Dn.mean=function(e){return jt(e,tu)},Dn.meanBy=function(e,t){return jt(e,ia(t,2))},Dn.min=function(e){return e&&e.length?fr(e,tu,Fr):i},Dn.minBy=function(e,t){return e&&e.length?fr(e,ia(t,2),Fr):i},Dn.stubArray=du,Dn.stubFalse=hu,Dn.stubObject=function(){return{}},Dn.stubString=function(){return""},Dn.stubTrue=function(){return!0},Dn.multiply=bu,Dn.nth=function(e,t){return e&&e.length?Nr(e,fs(t)):i},Dn.noConflict=function(){return At._===this&&(At._=Le),this},Dn.noop=ou,Dn.now=Co,Dn.pad=function(e,t,n){e=vs(e);var r=(t=fs(t))?ln(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Qi(dt(i),n)+e+Qi(ft(i),n)},Dn.padEnd=function(e,t,n){e=vs(e);var r=(t=fs(t))?ln(e):0;return t&&r<t?e+Qi(t-r,n):e},Dn.padStart=function(e,t,n){e=vs(e);var r=(t=fs(t))?ln(e):0;return t&&r<t?Qi(t-r,n)+e:e},Dn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),mn(vs(e).replace(re,""),t||0)},Dn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&pa(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=As(e),t===i?(t=e,e=0):t=As(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=yn();return vn(e+a*(t-e+st("1e-"+((a+"").length-1))),t)}return Gr(e,t)},Dn.reduce=function(e,t,n){var r=jo(e)?Ut:Vt,i=arguments.length<3;return r(e,ia(t,4),n,i,lr)},Dn.reduceRight=function(e,t,n){var r=jo(e)?Ft:Vt,i=arguments.length<3;return r(e,ia(t,4),n,i,cr)},Dn.repeat=function(e,t,n){return t=(n?pa(e,t,n):t===i)?1:fs(t),Vr(vs(e),t)},Dn.replace=function(){var e=arguments,t=vs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Dn.result=function(e,t,n){var r=-1,a=(t=pi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Fa(t[r])];o===i&&(r=a,o=n),e=qo(o)?o.call(e):o}return e},Dn.round=wu,Dn.runInContext=e,Dn.sample=function(e){return(jo(e)?Xn:Kr)(e)},Dn.size=function(e){if(null==e)return 0;if(Go(e))return as(e)?ln(e):e.length;var t=ca(e);return t==x||t==B?e.size:Ur(e).length},Dn.snakeCase=Vs,Dn.some=function(e,t,n){var r=jo(e)?Ot:ei;return n&&pa(e,t,n)&&(t=i),r(e,ia(t,3))},Dn.sortedIndex=function(e,t){return ti(e,t)},Dn.sortedIndexBy=function(e,t,n){return ni(e,t,ia(n,2))},Dn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ti(e,t);if(r<n&&Lo(e[r],t))return r}return-1},Dn.sortedLastIndex=function(e,t){return ti(e,t,!0)},Dn.sortedLastIndexBy=function(e,t,n){return ni(e,t,ia(n,2),!0)},Dn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ti(e,t,!0)-1;if(Lo(e[n],t))return n}return-1},Dn.startCase=Ws,Dn.startsWith=function(e,t,n){return e=vs(e),n=null==n?0:ir(fs(n),0,e.length),t=ai(t),e.slice(n,n+t.length)==t},Dn.subtract=xu,Dn.sum=function(e){return e&&e.length?Wt(e,tu):0},Dn.sumBy=function(e,t){return e&&e.length?Wt(e,ia(t,2)):0},Dn.template=function(e,t,n){var r=Dn.templateSettings;n&&pa(e,t,n)&&(t=i),e=vs(e),t=ys({},t,r,Xi);var a,o,s=ys({},t.imports,r.imports,Xi),u=Is(s),l=Yt(s,u),c=0,A=t.interpolate||ye,f="__p += '",d=Ee((t.escape||ye).source+"|"+A.source+"|"+(A===Z?Ae:ye).source+"|"+(t.evaluate||ye).source+"|$","g"),h="//# sourceURL="+(Ue.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(d,(function(t,n,r,i,s,u){return r||(r=i),f+=e.slice(c,u).replace(be,nn),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var p=Ue.call(t,"variable")&&t.variable;if(p){if(le.test(p))throw new we("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(j,""):f).replace(z,"$1").replace(G,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Ys((function(){return xe(u,h+"return "+f).apply(i,l)}));if(v.source=f,Xo(v))throw v;return v},Dn.times=function(e,t){if((e=fs(e))<1||e>A)return[];var n=d,r=vn(e,d);t=ia(t),e-=d;for(var i=Kt(r,t);++n<e;)t(n);return i},Dn.toFinite=As,Dn.toInteger=fs,Dn.toLength=ds,Dn.toLower=function(e){return vs(e).toLowerCase()},Dn.toNumber=hs,Dn.toSafeInteger=function(e){return e?ir(fs(e),-9007199254740991,A):0===e?e:0},Dn.toString=vs,Dn.toUpper=function(e){return vs(e).toUpperCase()},Dn.trim=function(e,t,n){if((e=vs(e))&&(n||t===i))return Xt(e);if(!e||!(t=ai(t)))return e;var r=cn(e),a=cn(t);return gi(r,Jt(r,a),$t(r,a)+1).join("")},Dn.trimEnd=function(e,t,n){if((e=vs(e))&&(n||t===i))return e.slice(0,An(e)+1);if(!e||!(t=ai(t)))return e;var r=cn(e);return gi(r,0,$t(r,cn(t))+1).join("")},Dn.trimStart=function(e,t,n){if((e=vs(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=ai(t)))return e;var r=cn(e);return gi(r,Jt(r,cn(t))).join("")},Dn.truncate=function(e,t){var n=30,r="...";if(Jo(t)){var a="separator"in t?t.separator:a;n="length"in t?fs(t.length):n,r="omission"in t?ai(t.omission):r}var o=(e=vs(e)).length;if(rn(e)){var s=cn(e);o=s.length}if(n>=o)return e;var u=n-ln(r);if(u<1)return r;var l=s?gi(s,0,u).join(""):e.slice(0,u);if(a===i)return l+r;if(s&&(u+=l.length-u),rs(a)){if(e.slice(u).search(a)){var c,A=l;for(a.global||(a=Ee(a.source,vs(fe.exec(a))+"g")),a.lastIndex=0;c=a.exec(A);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(e.indexOf(ai(a),u)!=u){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+r},Dn.unescape=function(e){return(e=vs(e))&&K.test(e)?e.replace(V,fn):e},Dn.uniqueId=function(e){var t=++Fe;return vs(e)+t},Dn.upperCase=Ks,Dn.upperFirst=Xs,Dn.each=vo,Dn.eachRight=go,Dn.first=za,au(Dn,(pu={},gr(Dn,(function(e,t){Ue.call(Dn.prototype,t)||(pu[t]=e)})),pu),{chain:!1}),Dn.VERSION="4.17.21",Et(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Dn[e].placeholder=Dn})),Et(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===i?1:pn(fs(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=vn(n,r.__takeCount__):r.__views__.push({size:vn(n,d),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Et(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ia(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Et(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),Et(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(tu)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Wr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Br(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Uo(ia(e)))},Hn.prototype.slice=function(e,t){e=fs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=fs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(d)},gr(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Dn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Dn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Hn,l=s[0],c=u||jo(t),A=function(e){var t=a.apply(Dn,Rt([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,h=o&&!f,p=u&&!d;if(!o&&c){t=p?t:new Hn(this);var v=e.apply(t,s);return v.__actions__.push({func:co,args:[A],thisArg:i}),new Qn(v,f)}return h&&p?e.apply(this,s):(v=this.thru(A),h?r?v.value()[0]:v.value():v)})})),Et(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Dn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(jo(i)?i:[],e)}return this[n]((function(n){return t.apply(jo(n)?n:[],e)}))}})),gr(Hn.prototype,(function(e,t){var n=Dn[t];if(n){var r=n.name+"";Ue.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:t,func:n})}})),Tn[Pi(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Ei(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ei(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ei(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=jo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=vn(t,e+o);break;case"takeRight":e=pn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=r?s:o-1,c=this.__iteratees__,A=c.length,f=0,d=vn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ci(e,this.__actions__);var h=[];e:for(;u--&&f<d;){for(var p=-1,v=e[l+=t];++p<A;){var g=c[p],m=g.iteratee,y=g.type,b=m(v);if(2==y)v=b;else if(!b){if(1==y)continue e;break e}}h[f++]=v}return h},Dn.prototype.at=Ao,Dn.prototype.chain=function(){return lo(this)},Dn.prototype.commit=function(){return new Qn(this.value(),this.__chain__)},Dn.prototype.next=function(){this.__values__===i&&(this.__values__=cs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Dn.prototype.plant=function(e){for(var t,n=this;n instanceof Nn;){var r=Pa(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Dn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:co,args:[Za],thisArg:i}),new Qn(t,this.__chain__)}return this.thru(Za)},Dn.prototype.toJSON=Dn.prototype.valueOf=Dn.prototype.value=function(){return ci(this.__wrapped__,this.__actions__)},Dn.prototype.first=Dn.prototype.head,qe&&(Dn.prototype[qe]=function(){return this}),Dn}();At._=dn,(r=function(){return dn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},793:function _(module){var t;self,t=function t(){return function(){var __webpack_modules__={8453:function(e,t,n){"use strict";n.r(t),n.d(t,{InferenceSession:function(){return d},Tensor:function(){return A},env:function(){return o},registerBackend:function(){return a}});var r={},i=[],a=function(e,t,n){if(!t||"function"!=typeof t.init||"function"!=typeof t.createSessionHandler)throw new TypeError("not a valid backend");var a=r[e];if(void 0===a)r[e]={backend:t,priority:n};else{if(a.priority>n)return;if(a.priority===n&&a.backend!==t)throw new Error('cannot register backend "'.concat(e,'" using priority ').concat(n))}if(n>=0){var o=i.indexOf(e);-1!==o&&i.splice(o,1);for(var s=0;s<i.length;s++)if(r[i[s]].priority<=n)return void i.splice(s,0,e);i.push(e)}},o=new(function(){function e(){_classCallCheck(this,e),this.wasm={},this.webgl={},this.webgpu={},this.logLevelInternal="warning"}return _createClass(e,[{key:"logLevel",get:function(){return this.logLevelInternal},set:function(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error("Unsupported logging level: ".concat(e));this.logLevelInternal=e}}}]),e}()),s=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),u=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),l=!1,c=function(){function e(t,n,r){var i,a,o;if(_classCallCheck(this,e),function(){if(!l){l=!0;var e="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,t="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from;e&&(s.set("int64",BigInt64Array),u.set(BigInt64Array,"int64")),t&&(s.set("uint64",BigUint64Array),u.set(BigUint64Array,"uint64"))}}(),"string"==typeof t)if(i=t,o=r,"string"===t){if(!Array.isArray(n))throw new TypeError("A string tensor's data must be a string array.");a=n}else{var c=s.get(t);if(void 0===c)throw new TypeError("Unsupported tensor type: ".concat(t,"."));if(Array.isArray(n))a=c.from(n);else{if(!(n instanceof c))throw new TypeError("A ".concat(i," tensor's data must be type of ").concat(c));a=n}}else if(o=n,Array.isArray(t)){if(0===t.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");var A=typeof t[0];if("string"===A)i="string",a=t;else{if("boolean"!==A)throw new TypeError("Invalid element type of data array: ".concat(A,"."));i="bool",a=Uint8Array.from(t)}}else{var f=u.get(t.constructor);if(void 0===f)throw new TypeError("Unsupported type for tensor data: ".concat(t.constructor,"."));i=f,a=t}if(void 0===o)o=[a.length];else if(!Array.isArray(o))throw new TypeError("A tensor's dims must be a number array");var d=function(e){for(var t=1,n=0;n<e.length;n++){var r=e[n];if("number"!=typeof r||!Number.isSafeInteger(r))throw new TypeError("dims[".concat(n,"] must be an integer, got: ").concat(r));if(r<0)throw new RangeError("dims[".concat(n,"] must be a non-negative integer, got: ").concat(r));t*=r}return t}(o);if(d!==a.length)throw new Error("Tensor's size(".concat(d,") does not match data length(").concat(a.length,")."));this.dims=o,this.type=i,this.data=a,this.size=d}return _createClass(e,[{key:"toDataURL",value:function(e){var t=document.createElement("canvas");t.width=this.dims[3],t.height=this.dims[2];var n=t.getContext("2d");if(null!=n){var r,i;void 0!==(null===e||void 0===e?void 0:e.tensorLayout)&&"NHWC"===e.tensorLayout?(r=this.dims[2],i=this.dims[3]):(r=this.dims[3],i=this.dims[2]);var a,o,s=void 0!==(null===e||void 0===e?void 0:e.format)?e.format:"RGB",u=null===e||void 0===e?void 0:e.norm;void 0===u||void 0===u.mean?a=[255,255,255,255]:"number"==typeof u.mean?a=[u.mean,u.mean,u.mean,u.mean]:(a=[u.mean[0],u.mean[1],u.mean[2],0],void 0!==u.mean[3]&&(a[3]=u.mean[3])),void 0===u||void 0===u.bias?o=[0,0,0,0]:"number"==typeof u.bias?o=[u.bias,u.bias,u.bias,u.bias]:(o=[u.bias[0],u.bias[1],u.bias[2],0],void 0!==u.bias[3]&&(o[3]=u.bias[3]));var l=i*r,c=0,A=l,f=2*l,d=-1;"RGBA"===s?(c=0,A=l,f=2*l,d=3*l):"RGB"===s?(c=0,A=l,f=2*l):"RBG"===s&&(c=0,f=l,A=2*l);for(var h=0;h<i;h++)for(var p=0;p<r;p++){var v=(this.data[c++]-o[0])*a[0],g=(this.data[A++]-o[1])*a[1],m=(this.data[f++]-o[2])*a[2],y=-1===d?255:(this.data[d++]-o[3])*a[3];n.fillStyle="rgba("+v+","+g+","+m+","+y+")",n.fillRect(p,h,1,1)}return t.toDataURL()}throw new Error("Can not access image data")}},{key:"toImageData",value:function(e){var t,n,r,i,a=document.createElement("canvas").getContext("2d");if(null==a)throw new Error("Can not access image data");void 0!==(null===e||void 0===e?void 0:e.tensorLayout)&&"NHWC"===e.tensorLayout?(n=this.dims[2],r=this.dims[1],i=this.dims[3]):(n=this.dims[3],r=this.dims[2],i=this.dims[1]);var o,s,u=void 0!==e&&void 0!==e.format?e.format:"RGB",l=null===e||void 0===e?void 0:e.norm;void 0===l||void 0===l.mean?o=[255,255,255,255]:"number"==typeof l.mean?o=[l.mean,l.mean,l.mean,l.mean]:(o=[l.mean[0],l.mean[1],l.mean[2],255],void 0!==l.mean[3]&&(o[3]=l.mean[3])),void 0===l||void 0===l.bias?s=[0,0,0,0]:"number"==typeof l.bias?s=[l.bias,l.bias,l.bias,l.bias]:(s=[l.bias[0],l.bias[1],l.bias[2],0],void 0!==l.bias[3]&&(s[3]=l.bias[3]));var c=r*n;if(void 0!==e){if(void 0!==e.height&&e.height!==r)throw new Error("Image output config height doesn't match tensor height");if(void 0!==e.width&&e.width!==n)throw new Error("Image output config width doesn't match tensor width");if(void 0!==e.format&&4===i&&"RGBA"!==e.format||3===i&&"RGB"!==e.format&&"BGR"!==e.format)throw new Error("Tensor format doesn't match input tensor dims")}var A=0,f=1,d=2,h=3,p=0,v=c,g=2*c,m=-1;"RGBA"===u?(p=0,v=c,g=2*c,m=3*c):"RGB"===u?(p=0,v=c,g=2*c):"RBG"===u&&(p=0,g=c,v=2*c),t=a.createImageData(n,r);for(var y=0;y<r*n;A+=4,f+=4,d+=4,h+=4,y++)t.data[A]=(this.data[p++]-s[0])*o[0],t.data[f]=(this.data[v++]-s[1])*o[1],t.data[d]=(this.data[g++]-s[2])*o[2],t.data[h]=-1===m?255:(this.data[m++]-s[3])*o[3];return t}},{key:"reshape",value:function(t){return new e(this.type,this.data,t)}}],[{key:"bufferToTensor",value:function(t,n){var r,i,a;if(void 0===t)throw new Error("Image buffer must be defined");if(void 0===n.height||void 0===n.width)throw new Error("Image height and width must be defined");if("NHWC"===n.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");var o,s,u=n.height,l=n.width,c=null!==(r=n.norm)&&void 0!==r?r:{mean:255,bias:0};o="number"==typeof c.mean?[c.mean,c.mean,c.mean,c.mean]:[c.mean[0],c.mean[1],c.mean[2],null!==(i=c.mean[3])&&void 0!==i?i:255],s="number"==typeof c.bias?[c.bias,c.bias,c.bias,c.bias]:[c.bias[0],c.bias[1],c.bias[2],null!==(a=c.bias[3])&&void 0!==a?a:0];var A=void 0!==n.bitmapFormat?n.bitmapFormat:"RGBA",f=void 0!==n.tensorFormat&&void 0!==n.tensorFormat?n.tensorFormat:"RGB",d=u*l,h="RGBA"===f?new Float32Array(4*d):new Float32Array(3*d),p=4,v=0,g=1,m=2,y=3,b=0,w=d,x=2*d,_=-1;"RGB"===A&&(p=3,v=0,g=1,m=2,y=-1),"RGBA"===f?_=3*d:"RBG"===f?(b=0,x=d,w=2*d):"BGR"===f&&(x=0,w=d,b=2*d);for(var C=0;C<d;C++,v+=p,m+=p,g+=p,y+=p)h[b++]=(t[v]+s[0])/o[0],h[w++]=(t[g]+s[1])/o[1],h[x++]=(t[m]+s[2])/o[2],-1!==_&&-1!==y&&(h[_++]=(t[y]+s[3])/o[3]);return new e("float32",h,"RGBA"===f?[1,4,u,l]:[1,3,u,l])}},{key:"fromImage",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(n,r){var i,a,o,s,u,l,c,A,f,d,h,p,v,g,m,y,b;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i="undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement,a="undefined"!=typeof ImageData&&n instanceof ImageData,o="undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap,s="string"==typeof n,l=null!==r&&void 0!==r?r:{},!i){t.next=23;break}if((c=document.createElement("canvas")).width=n.width,c.height=n.height,null!=(A=c.getContext("2d"))){t.next=8;break}throw new Error("Can not access image data");case 8:if(f=n.height,d=n.width,void 0!==r&&void 0!==r.resizedHeight&&void 0!==r.resizedWidth&&(f=r.resizedHeight,d=r.resizedWidth),void 0===r){t.next=19;break}if(l=r,void 0===r.tensorFormat){t.next=12;break}throw new Error("Image input config format must be RGBA for HTMLImageElement");case 12:if(l.tensorFormat="RGBA",void 0===r.height||r.height===f){t.next=14;break}throw new Error("Image input config height doesn't match HTMLImageElement height");case 14:if(l.height=f,void 0===r.width||r.width===d){t.next=16;break}throw new Error("Image input config width doesn't match HTMLImageElement width");case 16:l.width=d,t.next=20;break;case 19:l.tensorFormat="RGBA",l.height=f,l.width=d;case 20:A.drawImage(n,0,0),u=A.getImageData(0,0,d,f).data,t.next=64;break;case 23:if(a){t.next=46;break}if(!o){t.next=43;break}if(void 0!==r){t.next=27;break}throw new Error("Please provide image config with format for Imagebitmap");case 27:if(void 0===r.bitmapFormat){t.next=29;break}throw new Error("Image input config format must be defined for ImageBitmap");case 29:if(null==(h=document.createElement("canvas").getContext("2d"))){t.next=42;break}if(p=n.height,v=n.width,h.drawImage(n,0,0,v,p),u=h.getImageData(0,0,v,p).data,void 0===r){t.next=40;break}if(void 0===r.height||r.height===p){t.next=35;break}throw new Error("Image input config height doesn't match ImageBitmap height");case 35:if(l.height=p,void 0===r.width||r.width===v){t.next=37;break}throw new Error("Image input config width doesn't match ImageBitmap width");case 37:l.width=v,t.next=41;break;case 40:l.height=p,l.width=v;case 41:return t.abrupt("return",e.bufferToTensor(u,l));case 42:throw new Error("Can not access image data");case 43:if(!s){t.next=45;break}return t.abrupt("return",new Promise((function(t,i){var a=document.createElement("canvas"),o=a.getContext("2d");if(!n||!o)return i();var s=new Image;s.crossOrigin="Anonymous",s.src=n,s.onload=function(){a.width=s.width,a.height=s.height,o.drawImage(s,0,0,a.width,a.height);var n=o.getImageData(0,0,a.width,a.height);if(void 0!==r){if(void 0!==r.height&&r.height!==a.height)throw new Error("Image input config height doesn't match height");if(l.height=a.height,void 0!==r.width&&r.width!==a.width)throw new Error("Image input config width doesn't match width");l.width=a.width}else l.height=a.height,l.width=a.width;t(e.bufferToTensor(n.data,l))}})));case 45:throw new Error("Input data provided is not supported - aborted tensor creation");case 46:if(void 0!==r&&void 0!==r.resizedWidth&&void 0!==r.resizedHeight?(g=r.resizedHeight,m=r.resizedWidth):(g=n.height,m=n.width),void 0===r){t.next=53;break}if(l=r,void 0===r.bitmapFormat||"RGBA"===r.bitmapFormat){t.next=50;break}throw new Error("Image input config format must be RGBA for ImageData");case 50:l.bitmapFormat="RGBA",t.next=54;break;case 53:l.bitmapFormat="RGBA";case 54:if(l.height=g,l.width=m,void 0===r){t.next=63;break}if((y=document.createElement("canvas")).width=m,y.height=g,null!=(b=y.getContext("2d"))){t.next=60;break}throw new Error("Can not access image data");case 60:b.putImageData(n,0,0),u=b.getImageData(0,0,m,g).data,t.next=64;break;case 63:u=n.data;case 64:if(void 0===u){t.next=66;break}return t.abrupt("return",e.bufferToTensor(u,l));case 66:throw new Error("Input data provided is not supported - aborted tensor creation");case 67:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),A=c,f=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"run",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,d,h,p,v,g,m,y,b,w,x,_,C,E;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={},a={},!("object"!=typeof t||null===t||t instanceof A||Array.isArray(t))){e.next=4;break}throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");case 4:if(o=!0,"object"!=typeof n){e.next=58;break}if(null!==n){e.next=8;break}throw new TypeError("Unexpected argument[1]: cannot be null.");case 8:if(!(n instanceof A)){e.next=10;break}throw new TypeError("'fetches' cannot be a Tensor");case 10:if(!Array.isArray(n)){e.next=42;break}if(0!==n.length){e.next=13;break}throw new TypeError("'fetches' cannot be an empty array.");case 13:o=!1,s=_createForOfIteratorHelper(n),e.prev=15,s.s();case 17:if((u=s.n()).done){e.next=26;break}if("string"==typeof(l=u.value)){e.next=21;break}throw new TypeError("'fetches' must be a string array or an object.");case 21:if(-1!==this.outputNames.indexOf(l)){e.next=23;break}throw new RangeError("'fetches' contains invalid output name: ".concat(l,"."));case 23:i[l]=null;case 24:e.next=17;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(15),s.e(e.t0);case 31:return e.prev=31,s.f(),e.finish(31);case 34:if("object"!=typeof r||null===r){e.next=38;break}a=r,e.next=40;break;case 38:if(void 0===r){e.next=40;break}throw new TypeError("'options' must be an object.");case 40:e.next=56;break;case 42:c=!1,f=Object.getOwnPropertyNames(n),d=_createForOfIteratorHelper(this.outputNames);try{for(d.s();!(h=d.n()).done;)p=h.value,-1!==f.indexOf(p)&&(null===(v=n[p])||v instanceof A)&&(c=!0,o=!1,i[p]=v)}catch(S){d.e(S)}finally{d.f()}if(!c){e.next=55;break}if("object"!=typeof r||null===r){e.next=51;break}a=r,e.next=53;break;case 51:if(void 0===r){e.next=53;break}throw new TypeError("'options' must be an object.");case 53:e.next=56;break;case 55:a=n;case 56:e.next=60;break;case 58:if(void 0===n){e.next=60;break}throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");case 60:g=_createForOfIteratorHelper(this.inputNames),e.prev=61,g.s();case 63:if((m=g.n()).done){e.next=69;break}if(y=m.value,void 0!==t[y]){e.next=67;break}throw new Error("input '".concat(y,"' is missing in 'feeds'."));case 67:e.next=63;break;case 69:e.next=74;break;case 71:e.prev=71,e.t1=e.catch(61),g.e(e.t1);case 74:return e.prev=74,g.f(),e.finish(74);case 77:if(o){b=_createForOfIteratorHelper(this.outputNames);try{for(b.s();!(w=b.n()).done;)x=w.value,i[x]=null}catch(S){b.e(S)}finally{b.f()}}return e.next=80,this.handler.run(t,i,a);case 80:for(E in _=e.sent,C={},_)Object.hasOwnProperty.call(_,E)&&(C[E]=new A(_[E].type,_[E].data,_[E].dims));return e.abrupt("return",C);case 84:case"end":return e.stop()}}),e,this,[[15,28,31,34],[61,71,74,77]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"startProfiling",value:function(){this.handler.startProfiling()}},{key:"endProfiling",value:function(){this.handler.endProfiling()}},{key:"inputNames",get:function(){return this.handler.inputNames}},{key:"outputNames",get:function(){return this.handler.outputNames}}],[{key:"create",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(n,a,o,s){var u,l,c,A,f,d,h,p;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l={},"string"!=typeof n){t.next=10;break}if(u=n,"object"!=typeof a||null===a){t.next=6;break}l=a,t.next=8;break;case 6:if(void 0===a){t.next=8;break}throw new TypeError("'options' must be an object.");case 8:t.next=52;break;case 10:if(!(n instanceof Uint8Array)){t.next=19;break}if(u=n,"object"!=typeof a||null===a){t.next=15;break}l=a,t.next=17;break;case 15:if(void 0===a){t.next=17;break}throw new TypeError("'options' must be an object.");case 17:t.next=52;break;case 19:if(n instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&n instanceof SharedArrayBuffer){t.next=21;break}throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");case 21:if(c=n,A=0,f=n.byteLength,"object"!=typeof a||null===a){t.next=27;break}l=a,t.next=51;break;case 27:if("number"!=typeof a){t.next=49;break}if(A=a,Number.isSafeInteger(A)){t.next=30;break}throw new RangeError("'byteOffset' must be an integer.");case 30:if(!(A<0||A>=c.byteLength)){t.next=32;break}throw new RangeError("'byteOffset' is out of range [0, ".concat(c.byteLength,")."));case 32:if(f=n.byteLength-A,"number"!=typeof o){t.next=45;break}if(f=o,Number.isSafeInteger(f)){t.next=35;break}throw new RangeError("'byteLength' must be an integer.");case 35:if(!(f<=0||A+f>c.byteLength)){t.next=37;break}throw new RangeError("'byteLength' is out of range (0, ".concat(c.byteLength-A,"]."));case 37:if("object"!=typeof s||null===s){t.next=41;break}l=s,t.next=43;break;case 41:if(void 0===s){t.next=43;break}throw new TypeError("'options' must be an object.");case 43:t.next=47;break;case 45:if(void 0===o){t.next=47;break}throw new TypeError("'byteLength' must be a number.");case 47:t.next=51;break;case 49:if(void 0===a){t.next=51;break}throw new TypeError("'options' must be an object.");case 51:u=new Uint8Array(c,A,f);case 52:return d=(l.executionProviders||[]).map((function(e){return"string"==typeof e?e:e.name})),t.next=55,function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,a,o,s,u,l,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0===t.length?i:t,a=[],o=_createForOfIteratorHelper(n),e.prev=2,o.s();case 4:if((s=o.n()).done){e.next=29;break}if(u=s.value,!(l=r[u])){e.next=27;break}if(!l.initialized){e.next=10;break}return e.abrupt("return",l.backend);case 10:if(!l.aborted){e.next=12;break}return e.abrupt("continue",27);case 12:return c=!!l.initPromise,e.prev=13,c||(l.initPromise=l.backend.init()),e.next=17,l.initPromise;case 17:return l.initialized=!0,e.abrupt("return",l.backend);case 21:e.prev=21,e.t0=e.catch(13),c||a.push({name:u,err:e.t0}),l.aborted=!0;case 24:return e.prev=24,delete l.initPromise,e.finish(24);case 27:e.next=4;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(2),o.e(e.t1);case 34:return e.prev=34,o.f(),e.finish(34);case 37:throw new Error("no available backend found. ERR: ".concat(a.map((function(e){return"[".concat(e.name,"] ").concat(e.err)})).join(", ")));case 38:case"end":return e.stop()}}),e,null,[[2,31,34,37],[13,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()(d);case 55:return h=t.sent,t.next=58,h.createSessionHandler(u,l);case 58:return p=t.sent,t.abrupt("return",new e(p));case 60:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}()}]),e}(),d=f},5716:function(e,t,n){"use strict";t.R=void 0;var r=n(6027),i=n(1723);t.R=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createSessionHandler",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new r.Session(n),e.next=3,a.loadModel(t);case 3:return e.abrupt("return",new i.OnnxjsSessionHandler(a));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())},2818:function(e,t,n){"use strict";t.c8=t.rX=void 0;var r=n(8453),i=n(5381),a=n(9544),o=n(6640);t.rX=function(){if(("number"!=typeof r.env.wasm.initTimeout||r.env.wasm.initTimeout<0)&&(r.env.wasm.initTimeout=0),"boolean"!=typeof r.env.wasm.simd&&(r.env.wasm.simd=!0),"boolean"!=typeof r.env.wasm.proxy&&(r.env.wasm.proxy=!1),"number"!=typeof r.env.wasm.numThreads||!Number.isInteger(r.env.wasm.numThreads)||r.env.wasm.numThreads<=0){var e="undefined"==typeof navigator?(0,i.cpus)().length:navigator.hardwareConcurrency;r.env.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},t.c8=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,t.rX)(),e.next=3,(0,a.initWasm)();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createSessionHandler",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new o.OnnxruntimeWebAssemblySessionHandler,e.next=3,r.loadModel(t,n);case 3:return e.abrupt("return",Promise.resolve(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())},1057:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8453),t);var a=n(8453),o=n(5716).R;(0,a.registerBackend)("webgl",o,-10);var s=n(2818).c8;(0,a.registerBackend)("cpu",s,10),(0,a.registerBackend)("wasm",s,10),(0,a.registerBackend)("xnnpack",s,9)},4910:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;var n=function(){function e(t){_classCallCheck(this,e),Object.assign(this,t)}return _createClass(e,[{key:"cacheKey",get:function(){var e=this;return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((function(t){return"".concat(e[t])})).join(";")),this._cacheKey}}]),e}();t.createAttributeWithCacheKey=function(e){return new n(e)}},6874:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;var r=n(1446),i=n(1287),a=n(9240),o=n(7273),s=i.onnxruntime.experimental.fbs,u=function(){function e(t){if(_classCallCheck(this,e),this._attributes=new Map,null!=t){var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a instanceof r.onnx.AttributeProto?this._attributes.set(a.name,[e.getValue(a),e.getType(a)]):a instanceof s.Attribute&&this._attributes.set(a.name(),[e.getValue(a),e.getType(a)])}}catch(o){i.e(o)}finally{i.f()}if(this._attributes.size<t.length)throw new Error("duplicated attribute names")}}return _createClass(e,[{key:"set",value:function(e,t,n){this._attributes.set(e,[n,t])}},{key:"delete",value:function(e){this._attributes.delete(e)}},{key:"getFloat",value:function(e,t){return this.get(e,"float",t)}},{key:"getInt",value:function(e,t){return this.get(e,"int",t)}},{key:"getString",value:function(e,t){return this.get(e,"string",t)}},{key:"getTensor",value:function(e,t){return this.get(e,"tensor",t)}},{key:"getFloats",value:function(e,t){return this.get(e,"floats",t)}},{key:"getInts",value:function(e,t){return this.get(e,"ints",t)}},{key:"getStrings",value:function(e,t){return this.get(e,"strings",t)}},{key:"getTensors",value:function(e,t){return this.get(e,"tensors",t)}},{key:"get",value:function(e,t,n){var r=this._attributes.get(e);if(void 0===r){if(void 0!==n)return n;throw new Error("required attribute not found: ".concat(e))}if(r[1]!==t)throw new Error("type mismatch: expected ".concat(t," but got ").concat(r[1]));return r[0]}}],[{key:"getType",value:function(e){var t=e instanceof r.onnx.AttributeProto?e.type:e.type();switch(t){case r.onnx.AttributeProto.AttributeType.FLOAT:return"float";case r.onnx.AttributeProto.AttributeType.INT:return"int";case r.onnx.AttributeProto.AttributeType.STRING:return"string";case r.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case r.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case r.onnx.AttributeProto.AttributeType.INTS:return"ints";case r.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case r.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error("attribute type is not supported yet: ".concat(r.onnx.AttributeProto.AttributeType[t]))}}},{key:"getValue",value:function(e){var t=e instanceof r.onnx.AttributeProto?e.type:e.type();if(t===r.onnx.AttributeProto.AttributeType.GRAPH||t===r.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");var n=this.getValueNoCheck(e);if(t===r.onnx.AttributeProto.AttributeType.INT&&o.LongUtil.isLong(n))return o.LongUtil.longToNumber(n);if(t===r.onnx.AttributeProto.AttributeType.INTS){for(var i=n,u=new Array(i.length),l=0;l<i.length;l++){var c=i[l];u[l]=o.LongUtil.longToNumber(c)}return u}if(t===r.onnx.AttributeProto.AttributeType.TENSOR)return e instanceof r.onnx.AttributeProto?a.Tensor.fromProto(n):a.Tensor.fromOrtTensor(n);if(t===r.onnx.AttributeProto.AttributeType.TENSORS){if(e instanceof r.onnx.AttributeProto)return n.map((function(e){return a.Tensor.fromProto(e)}));if(e instanceof s.Attribute)return n.map((function(e){return a.Tensor.fromOrtTensor(e)}))}if(t===r.onnx.AttributeProto.AttributeType.STRING&&e instanceof r.onnx.AttributeProto){var A=n;return(0,o.decodeUtf8String)(A)}return t===r.onnx.AttributeProto.AttributeType.STRINGS&&e instanceof r.onnx.AttributeProto?n.map(o.decodeUtf8String):n}},{key:"getValueNoCheck",value:function(e){return e instanceof r.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(e):this.getValueNoCheckFromOrtFormat(e)}},{key:"getValueNoCheckFromOnnxFormat",value:function(e){switch(e.type){case r.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case r.onnx.AttributeProto.AttributeType.INT:return e.i;case r.onnx.AttributeProto.AttributeType.STRING:return e.s;case r.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case r.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case r.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case r.onnx.AttributeProto.AttributeType.INTS:return e.ints;case r.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case r.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case r.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error("unsupported attribute type: ".concat(r.onnx.AttributeProto.AttributeType[e.type]))}}},{key:"getValueNoCheckFromOrtFormat",value:function(e){switch(e.type()){case s.AttributeType.FLOAT:return e.f();case s.AttributeType.INT:return e.i();case s.AttributeType.STRING:return e.s();case s.AttributeType.TENSOR:return e.t();case s.AttributeType.GRAPH:return e.g();case s.AttributeType.FLOATS:return e.floatsArray();case s.AttributeType.INTS:for(var t=[],n=0;n<e.intsLength();n++)t.push(e.ints(n));return t;case s.AttributeType.STRINGS:for(var r=[],i=0;i<e.stringsLength();i++)r.push(e.strings(i));return r;case s.AttributeType.TENSORS:for(var a=[],o=0;o<e.tensorsLength();o++)a.push(e.tensors(o));return a;default:throw new Error("unsupported attribute type: ".concat(s.AttributeType[e.type()]))}}}]),e}();t.Attribute=u},1975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBackend=t.backend=void 0;var r=n(4418),i=new Map;function a(e){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark((function e(n){var r,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(r=t.backend)[n]||!function(e){var t=e;return"initialize"in t&&"function"==typeof t.initialize&&"createSessionHandler"in t&&"function"==typeof t.createSessionHandler&&"dispose"in t&&"function"==typeof t.dispose}(r[n])){e.next=11;break}if(a=r[n],o=a.initialize(),e.t0="object"==typeof o&&"then"in o,!e.t0){e.next=9;break}return e.next=8,o;case 8:o=e.sent;case 9:if(!o){e.next=11;break}return e.abrupt("return",(i.set(n,a),a));case 11:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}t.backend={webgl:new r.WebGLBackend},t.resolveBackend=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(n){var r,o,s,u,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",t(["webgl"]));case 2:r=_createForOfIteratorHelper("string"==typeof n?[n]:n),e.prev=4,r.s();case 6:if((o=r.n()).done){e.next=18;break}if(s=o.value,!(u=i.get(s))){e.next=11;break}return e.abrupt("return",u);case 11:return e.next=13,a(s);case 13:if(!(l=e.sent)){e.next=16;break}return e.abrupt("return",l);case 16:e.next=6;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),r.e(e.t0);case 23:return e.prev=23,r.f(),e.finish(23);case 26:throw new Error("no available backend to use");case 27:case"end":return e.stop()}}),e,null,[[4,20,23,26]])})));function t(t){return e.apply(this,arguments)}return t}()},4418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBackend=void 0;var r=n(8453),i=n(1315),a=n(2171),o=n(3389);t.WebGLBackend=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"contextId",get:function(){return r.env.webgl.contextId},set:function(e){r.env.webgl.contextId=e}},{key:"matmulMaxBatchSize",get:function(){return r.env.webgl.matmulMaxBatchSize},set:function(e){r.env.webgl.matmulMaxBatchSize=e}},{key:"textureCacheMode",get:function(){return r.env.webgl.textureCacheMode},set:function(e){r.env.webgl.textureCacheMode=e}},{key:"pack",get:function(){return r.env.webgl.pack},set:function(e){r.env.webgl.pack=e}},{key:"async",get:function(){return r.env.webgl.async},set:function(e){r.env.webgl.async=e}},{key:"initialize",value:function(){try{return this.glContext=(0,o.createWebGLContext)(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),i.Logger.setWithEnv(r.env),i.Logger.verbose("WebGLBackend","Created WebGLContext: ".concat(typeof this.glContext," with matmulMaxBatchSize: ").concat(this.matmulMaxBatchSize,"; textureCacheMode: ").concat(this.textureCacheMode,"; pack: ").concat(this.pack,"; async: ").concat(this.async,".")),!0}catch(e){return i.Logger.warning("WebGLBackend","Unable to initialize WebGLBackend. ".concat(e)),!1}}},{key:"createSessionHandler",value:function(e){return new a.WebGLSessionHandler(this,e)}},{key:"dispose",value:function(){this.glContext.dispose()}}]),t}()},6859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoordsGlslLib=void 0;var r=n(7273),i=n(1997),a=n(6757),o=n(7618),s=n(432),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"getFunctions",value:function(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}},{key:"getCustomTypes",value:function(){return{}}},{key:"offsetToCoords",value:function(){return{offsetToCoords:new i.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}},{key:"coordsToOffset",value:function(){return{coordsToOffset:new i.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}},{key:"getOutputSamplingSnippet",value:function(){var e=this.context.outputTextureLayout;return e.isPacked?this.getPackedOutputSamplingSnippet(e):this.getUnpackedOutputSamplingSnippet(e)}},{key:"getPackedOutputSamplingSnippet",value:function(e){var t=e.unpackedShape,n=[e.width,e.height],r={},o="getOutputCoords";switch(t.length){case 0:r[o]=this.getOutputScalarCoords();break;case 1:r[o]=this.getOutputPacked1DCoords(t,n);break;case 2:r[o]=this.getOutputPacked2DCoords(t,n);break;case 3:r[o]=this.getOutputPacked3DCoords(t,n);break;default:r[o]=this.getOutputPackedNDCoords(t,n)}var s="\n      void setOutput(vec4 val) {\n        ".concat((0,a.getGlsl)(this.context.glContext.version).output," = val;\n      }\n    ");return r.floatTextureSetRGBA=new i.GlslLibRoutine(s),r}},{key:"getUnpackedOutputSamplingSnippet",value:function(e){var t=e.unpackedShape,n=[e.width,e.height],r={},o="getOutputCoords";switch(t.length){case 0:r[o]=this.getOutputScalarCoords();break;case 1:r[o]=this.getOutputUnpacked1DCoords(t,n);break;case 2:r[o]=this.getOutputUnpacked2DCoords(t,n);break;case 3:r[o]=this.getOutputUnpacked3DCoords(t,n);break;case 4:r[o]=this.getOutputUnpacked4DCoords(t,n);break;case 5:r[o]=this.getOutputUnpacked5DCoords(t,n);break;case 6:r[o]=this.getOutputUnpacked6DCoords(t,n);break;default:throw new Error("Unsupported output dimensionality: ".concat(t.length))}var s="\n        void setOutput(float val) {\n          ".concat((0,a.getGlsl)(this.context.glContext.version).output," = vec4(val, 0, 0, 0);\n        }\n    ");return r.floatTextureSetR=new i.GlslLibRoutine(s),r}},{key:"getOutputScalarCoords",value:function(){return new i.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}},{key:"getOutputPacked1DCoords",value:function(e,t){var n=t,r="";return 1===n[0]?(r="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ".concat(n[1],".0);\n          }\n        "),new i.GlslLibRoutine(r)):1===n[1]?(r="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ".concat(n[0],".0);\n          }\n        "),new i.GlslLibRoutine(r)):(r="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(".concat(n[0],", ").concat(n[1],"));\n          return 2 * (resTexRC.y * ").concat(n[0]," + resTexRC.x);\n        }\n      "),new i.GlslLibRoutine(r))}},{key:"getOutputPacked2DCoords",value:function(e,t){var n="";if(r.ArrayUtil.arraysEqual(e,t))return n="\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(".concat(t[0],", ").concat(t[1],"));\n        }\n      "),new i.GlslLibRoutine(n);var a=t,o=Math.ceil(e[1]/2);return n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(a[0],", ").concat(a[1],"));\n\n          int index = resTexRC.y * ").concat(a[0]," + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ").concat(o,") * 2;\n          int c = 2 * (index / ").concat(o,");\n\n          return ivec2(r, c);\n        }\n      "),new i.GlslLibRoutine(n)}},{key:"getOutputPacked3DCoords",value:function(e,t){var n=[t[0],t[1]],r=Math.ceil(e[2]/2),a=r*Math.ceil(e[1]/2),o="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(n[0],", ").concat(n[1],"));\n          int index = resTexRC.y * ").concat(n[0]," + resTexRC.x;\n\n          int b = index / ").concat(a,";\n          index -= b * ").concat(a,";\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ").concat(r,") * 2;\n          int c = 2 * (index / ").concat(r,");\n\n          return ivec3(b, r, c);\n        }\n      ");return new i.GlslLibRoutine(o)}},{key:"getOutputPackedNDCoords",value:function(e,t){for(var n=[t[0],t[1]],r=Math.ceil(e[e.length-1]/2),a=r*Math.ceil(e[e.length-2]/2),o=a,s="",u="b, r, c",l=2;l<e.length-1;l++)o*=e[e.length-l-1],s="\n      int b".concat(l," = index / ").concat(o,";\n      index -= b").concat(l," * ").concat(o,";\n    ")+s,u="b".concat(l,", ")+u;var c="\n      ivec".concat(e.length," getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(").concat(n[0],", ").concat(n[1],"));\n        int index = resTexRC.y * ").concat(n[0]," + resTexRC.x;\n\n        ").concat(s,"\n\n        int b = index / ").concat(a,";\n        index -= b * ").concat(a,";\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ").concat(r,") * 2;\n        int c = 2 * (index / ").concat(r,");\n\n        return ivec").concat(e.length,"(").concat(u,");\n      }\n    ");return new i.GlslLibRoutine(c)}},{key:"getOutputUnpacked1DCoords",value:function(e,t){var n="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          return resTexRC.y * ").concat(t[0]," + resTexRC.x;\n        }\n      ");return new i.GlslLibRoutine(n)}},{key:"getOutputUnpacked2DCoords",value:function(e,t){var n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          int r = index / ").concat(e[1],";\n          int c = index - r * ").concat(e[1],";\n          return ivec2(r, c);\n        }\n      ");return new i.GlslLibRoutine(n)}},{key:"getOutputUnpacked3DCoords",value:function(e,t){var n,r=e.length,a=null;r<2&&(a=[]),(a=new Array(r-1))[r-2]=e[r-1];for(var o=r-3;o>=0;--o)a[o]=a[o+1]*e[o+1];var s=["r","c","d"],u=a.map((function(e,t){return"int ".concat(s[t]," = index / ").concat(e,"; ").concat(t===a.length-1?"int ".concat(s[t+1]," = index - ").concat(s[t]," * ").concat(e):"index -= ".concat(s[t]," * ").concat(e),";")})).join("");return n="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(u,"\n          return ivec3(r, c, d);\n        }\n      "),new i.GlslLibRoutine(n)}},{key:"getOutputUnpacked4DCoords",value:function(e,t){var n,r=e.length,a=null;r<2&&(a=[]),(a=new Array(r-1))[r-2]=e[r-1];for(var o=r-3;o>=0;--o)a[o]=a[o+1]*e[o+1];var s=["r","c","d","d2"],u=a.map((function(e,t){return"int ".concat(s[t]," = index / ").concat(e,"; ").concat(t===a.length-1?"int ".concat(s[t+1]," = index - ").concat(s[t]," * ").concat(e):"index -= ".concat(s[t]," * ").concat(e),";")})).join("");return n="\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(u,"\n          return ivec4(r, c, d, d2);\n        }\n      "),new i.GlslLibRoutine(n)}},{key:"getOutputUnpacked5DCoords",value:function(e,t){var n,r=e.length,a=null;r<2&&(a=[]),(a=new Array(r-1))[r-2]=e[r-1];for(var o=r-3;o>=0;--o)a[o]=a[o+1]*e[o+1];var s=["r","c","d","d2","d3"],u=a.map((function(e,t){return"int ".concat(s[t]," = index / ").concat(e,"; ").concat(t===a.length-1?"int ".concat(s[t+1]," = index - ").concat(s[t]," * ").concat(e):"index -= ".concat(s[t]," * ").concat(e),";")})).join("");return n="\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(t[0],", ").concat(t[1],"));\n          int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n          ").concat(u,"\n          return ivec5(r, c, d, d2, d3);\n        }\n      "),new i.GlslLibRoutine(n)}},{key:"getOutputUnpacked6DCoords",value:function(e,t){var n,r=e.length,a=null;r<2&&(a=[]),(a=new Array(r-1))[r-2]=e[r-1];for(var o=r-3;o>=0;--o)a[o]=a[o+1]*e[o+1];var s=["r","c","d","d2","d3","d4"],u=a.map((function(e,t){return"int ".concat(s[t]," = index / ").concat(e,"; ").concat(t===a.length-1?"int ".concat(s[t+1]," = index - ").concat(s[t]," * ").concat(e):"index -= ".concat(s[t]," * ").concat(e),";")})).join("");return n="\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n         int index = resTexRC.y * ").concat(t[0]," + resTexRC.x;\n         ").concat(u,"\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     "),new i.GlslLibRoutine(n)}},{key:"getCommonUtilFuncs",value:function(){var e={},t="uvFromFlat";e[t]=new i.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),e[t="packedUVfrom1D"]=new i.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),e[t="packedUVfrom2D"]=new i.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),e[t="packedUVfrom3D"]=new i.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="sampleTexture";var n=(0,a.getGlsl)(this.context.glContext.version);return e[t]=new i.GlslLibRoutine("\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ".concat(n.texture2D,"(textureSampler, uv).r;\n        }")),e}},{key:"getInputsSamplingSnippets",value:function(){var e=this,t={},n=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((function(r,i){var a=e.context.inputTextureLayouts[i],o=(0,s.generateShaderFuncNameFromInputSamplerName)(r);a.isPacked?t[o]=e.getPackedSamplerFromInput(o,r,a):t[o]=e.getUnpackedSamplerFromInput(o,r,a);var u=(0,s.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(r);a.unpackedShape.length<=n.unpackedShape.length&&(a.isPacked?t[u]=e.getPackedSamplerAtOutputCoords(u,a,n,r):t[u]=e.getUnpackedSamplerAtOutputCoords(u,a,n,r))})),t}},{key:"getPackedSamplerAtOutputCoords",value:function(e,t,n,a){var o,u,l=t.unpackedShape,c=n.unpackedShape,A=a,f=(0,s.generateShaderFuncNameFromInputSamplerName)(A),d=l.length,h=c.length,p=r.BroadcastUtil.getBroadcastDims(l,c),v=(0,s.getCoordsDataType)(h),g=h-d,m=(0,s.getGlChannels)();o=0===d?"":h<2&&p.length>=1?"coords = 0;":p.map((function(e){return"coords.".concat(m[e+g]," = 0;")})).join("\n"),u=h<2&&d>0?"coords":l.map((function(e,t){return"coords.".concat(m[t+g])})).join(", ");var y="return outputValue;",b=1===r.ShapeUtil.size(l),w=1===r.ShapeUtil.size(c);if(1!==d||b||w){if(b&&!w)y=1===h?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(p.length){var x=d-2,_=d-1;p.indexOf(x)>-1&&p.indexOf(_)>-1?y="return vec4(outputValue.x);":p.indexOf(x)>-1?y="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":p.indexOf(_)>-1&&(y="return vec4(outputValue.xx, outputValue.zz);")}}else y="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";var C="\n      vec4 ".concat(e,"() {\n        ").concat(v," coords = getOutputCoords();\n        \n        int lastDim = coords.").concat(m[h-1],";\n        coords.").concat(m[h-1]," = coords.").concat(m[h-2],";\n        coords.").concat(m[h-2]," = lastDim;\n      \n        ").concat(o,"\n        vec4 outputValue = ").concat(f,"(").concat(u,");\n        ").concat(y,"\n      }\n    ");return new i.GlslLibRoutine(C,["coordinates.getOutputCoords"])}},{key:"getUnpackedSamplerAtOutputCoords",value:function(e,t,n,a){var o=[n.width,n.height],u=[t.width,t.height],l=t.unpackedShape.length,c=n.unpackedShape.length,A=t.unpackedShape,f=n.unpackedShape,d=(0,s.generateShaderFuncNameFromInputSamplerName)(a);if(l===c&&r.ArrayUtil.arraysEqual(u,o)){var h="\n          float ".concat(e,"() {\n            return sampleTexture(").concat(a,", TexCoords);\n          }\n        ");return new i.GlslLibRoutine(h,["coordinates.sampleTexture"])}var p,v,g=(0,s.getCoordsDataType)(c),m=r.BroadcastUtil.getBroadcastDims(A,f),y=c-l,b=(0,s.getGlChannels)();p=0===l?"":c<2&&m.length>=1?"coords = 0;":m.map((function(e){return"coords.".concat(b[e+y]," = 0;")})).join("\n"),v=c<2&&l>0?"coords":t.unpackedShape.map((function(e,t){return"coords.".concat(b[t+y])})).join(", ");var w="\n        float ".concat(e,"() {\n          ").concat(g," coords = getOutputCoords();\n          ").concat(p,"\n          return ").concat(d,"(").concat(v,");\n        }\n      ");return new i.GlslLibRoutine(w,["coordinates.getOutputCoords"])}},{key:"getPackedSamplerFromInput",value:function(e,t,n){switch(n.unpackedShape.length){case 0:return this.getPackedSamplerScalar(e,t);case 1:return this.getPackedSampler1D(e,t,n);case 2:return this.getPackedSampler2D(e,t,n);case 3:return this.getPackedSampler3D(e,t,n);default:return this.getPackedSamplerND(e,t,n)}}},{key:"getUnpackedSamplerFromInput",value:function(e,t,n){var r=n.unpackedShape;switch(r.length){case 0:return this.getUnpackedSamplerScalar(e,t,n);case 1:return this.getUnpackedSampler1D(e,t,n);case 2:return this.getUnpackedSampler2D(e,t,n);case 3:return this.getUnpackedSampler3D(e,t,n);case 4:return this.getUnpackedSampler4D(e,t,n);case 5:return this.getUnpackedSampler5D(e,t,n);case 6:return this.getUnpackedSampler6D(e,t,n);default:throw new Error("Unsupported dimension ".concat(r.length,"-D"))}}},{key:"getPackedSamplerScalar",value:function(e,t){var n="\n          vec4 ".concat(e,"() {\n            return ").concat((0,a.getGlsl)(this.context.glContext.version).texture2D,"(").concat(t,", halfCR);\n          }\n        ");return new i.GlslLibRoutine(n)}},{key:"getPackedSampler1D",value:function(e,t,n){var r=[n.width,n.height],o=[r[1],r[0]],s=(0,a.getGlsl)(this.context.glContext.version),u="vec4 ".concat(e,"(int index) {\n      vec2 uv = packedUVfrom1D(\n      ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(s.texture2D,"(").concat(t,", uv);\n    }");return new i.GlslLibRoutine(u,["coordinates.packedUVfrom1D"])}},{key:"getPackedSampler2D",value:function(e,t,n){var o=n.unpackedShape,s=[n.width,n.height],u=(0,a.getGlsl)(this.context.glContext.version),l=s[0],c=s[1];if(null!=s&&r.ArrayUtil.arraysEqual(o,s)){var A="vec4 ".concat(e,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(c,".0, ").concat(l,".0);\n        return ").concat(u.texture2D,"(").concat(t,", uv);\n      }");return new i.GlslLibRoutine(A)}var f=s,d=Math.ceil(o[1]/2),h="vec4 ".concat(e,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(f[1],", ").concat(f[0],", ").concat(d,", row, col);\n      return ").concat(u.texture2D,"(").concat(t,", uv);\n    }");return new i.GlslLibRoutine(h,["coordinates.packedUVfrom2D"])}},{key:"getPackedSampler3D",value:function(e,t,n){var r=n.unpackedShape,o=[n.width,n.height],u=[o[0],o[1]],l=(0,a.getGlsl)(this.context.glContext.version);if(1===r[0]){var c=r.slice(1),A=(0,s.squeezeInputShape)(r,c),f=JSON.parse(JSON.stringify(n));f.unpackedShape=A;var d=this.getPackedSamplerFromInput(e,t,f),h="".concat(d.routineBody,"\n      vec4 ").concat(e,"(int b, int row, int col) {\n        return ").concat(e,"(").concat((0,s.getSqueezedParams)(["b","row","col"],[1,2]),");\n      } ");return new i.GlslLibRoutine(h,d.dependencies)}var p=u[0],v=u[1],g=Math.ceil(r[2]/2),m="vec4 ".concat(e,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(v,", ").concat(p,", ").concat(g*Math.ceil(r[1]/2),", ").concat(g,", b, row, col);\n      return ").concat(l.texture2D,"(").concat(t,", uv);}");return new i.GlslLibRoutine(m,["coordinates.packedUVfrom3D"])}},{key:"getPackedSamplerND",value:function(e,t,n){for(var r=n.unpackedShape,o=r.length,s=[n.width,n.height],u=(0,a.getGlsl)(this.context.glContext.version),l=[s[0],s[1]],c=l[1],A=l[0],f=Math.ceil(r[o-1]/2),d=f*Math.ceil(r[o-2]/2),h="int b, int row, int col",p="b * ".concat(d," + (row / 2) * ").concat(f," + (col / 2)"),v=2;v<o-1;v++)h="int b".concat(v,", ")+h,d*=r[o-v-1],p="b".concat(v," * ").concat(d," + ")+p;var g="vec4 ".concat(e,"(").concat(h,") {\n      int index = ").concat(p,";\n      int texR = index / ").concat(A,";\n      int texC = index - texR * ").concat(A,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(A,", ").concat(c,");\n      return ").concat(u.texture2D,"(").concat(t,", uv);\n    }");return new i.GlslLibRoutine(g)}},{key:"getUnpackedSamplerScalar",value:function(e,t,n){var r=[n.width,n.height],a=r[0],o=r[1];if(1===a&&1===o){var s="\n          float ".concat(e,"() {\n            return sampleTexture(").concat(t,", halfCR);\n          }\n        ");return new i.GlslLibRoutine(s,["coordinates.sampleTexture"])}var u="\n        float ".concat(e,"() {\n          int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(a,", ").concat(o,");\n          vec2 uv = uvFromFlat(").concat(a,", ").concat(o,", offset_").concat(t,");\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new i.GlslLibRoutine(u,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}},{key:"getUnpackedSampler1D",value:function(e,t,n){var r=n.width,a=n.height;if(1===a&&1===r){var o="\n        float ".concat(e,"(int index) {\n          return sampleTexture(").concat(t,", halfCR);\n        }\n      ");return new i.GlslLibRoutine(o,["coordinates.sampleTexture"])}if(1===a){var s="\n          float ".concat(e,"(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ").concat(r,".0, 0.5);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(s,["coordinates.sampleTexture"])}if(1===r){var u="\n          float ".concat(e,"(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ").concat(a,".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(u,["coordinates.sampleTexture"])}var l="\n        float ".concat(e,"(int index) {\n          vec2 uv = uvFromFlat(").concat(r,", ").concat(a,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new i.GlslLibRoutine(l,["coordinates.uvFromFlat","coordinates.sampleTexture"])}},{key:"getUnpackedSampler2D",value:function(e,t,n){var a=n.unpackedShape,u=[n.height,n.width];if(null!=u&&r.ArrayUtil.arraysEqual(a,u)){var l="\n          float ".concat(e,"(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(").concat(u[1],".0, ").concat(u[0],".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(l,["coordinates.sampleTexture"])}var c=(0,o.squeezeShape)(a),A=c.newShape,f=c.keptDims,d=A;if(d.length<a.length){var h=(0,s.squeezeInputShape)(a,d),p=JSON.parse(JSON.stringify(n));p.unpackedShape=h;var v="\n          ".concat(this.getUnpackedSamplerFromInput(e,t,p).routineBody,"\n          float ").concat(e,"(int row, int col) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(["col","row"],f),");\n          }\n        ");return new i.GlslLibRoutine(v,["coordinates.sampleTexture"])}var g=u[1],m=u[0];if(1===m){var y="\n          float ".concat(e,"(int row, int col) {\n            int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(g,", ").concat(m,");\n            float index = dot(vec3(row, col, offset_").concat(t,"), vec3(").concat(a[1],", 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ").concat(g,".0);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(y,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(1===g){var b="\n          float ".concat(e,"(int row, int col) {\n            int offset_").concat(t," = coordsToOffset(TexCoords, ").concat(g,", ").concat(m,");\n            float index = dot(vec3(row, col, offset_").concat(t,"), vec3(").concat(a[1],", 1, 1));\n            vec2 uv = vec2((index + 0.5) / ").concat(m,".0, 0.5);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(b,["coordinates.sampleTexture","coordinates.coordsToOffset"])}var w="\n        float ".concat(e,"(int row, int col) {\n          int index = col * ").concat(a[1]," + row;\n          vec2 uv = uvFromFlat(").concat(g,", ").concat(m,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new i.GlslLibRoutine(w,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}},{key:"getUnpackedSampler3D",value:function(e,t,n){var r=n.unpackedShape,a=r[1]*r[2],u=r[2],l=(0,o.squeezeShape)(r),c=l.newShape,A=l.keptDims,f=c;if(f.length<r.length){var d=(0,s.squeezeInputShape)(r,f),h=JSON.parse(JSON.stringify(n));h.unpackedShape=d;var p=this.getUnpackedSamplerFromInput(e,t,h),v=A.reverse(),g="\n          ".concat(p.routineBody,"\n          float ").concat(e,"(int batch, int row, int col) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(["batch","col","row"],v),");\n          }\n        ");return new i.GlslLibRoutine(g,p.dependencies)}var m="\n          float ".concat(e,"(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ").concat(a," + col * ").concat(u," + row;\n            vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n            return sampleTexture(").concat(t,", uv);\n          }\n      ");return new i.GlslLibRoutine(m,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}},{key:"getUnpackedSampler4D",value:function(e,t,n){var r=n.unpackedShape,a=r[3],o=r[2]*a,s="\n        float ".concat(e,"(int row, int col, int depth, int depth2) {\n          int index = row * ").concat(r[1]*o," + col * ").concat(o," +\n              depth2 * ").concat(a," + depth;\n          vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new i.GlslLibRoutine(s,["coordinates.uvFromFlat","coordinates.sampleTexture"])}},{key:"getUnpackedSampler5D",value:function(e,t,n){var r=n.unpackedShape,a=r[4],u=r[3]*a,l=r[2]*u,c=r[1]*l,A=(0,o.squeezeShape)(r),f=A.newShape,d=A.keptDims;if(f.length<r.length){var h=(0,s.squeezeInputShape)(r,f),p=JSON.parse(JSON.stringify(n));p.unpackedShape=h;var v="\n          ".concat(this.getUnpackedSamplerFromInput(e,t,p).routineBody,"\n          float ").concat(e,"(int row, int col, int depth, int depth2, int depth3) {\n            return ").concat(e,"(").concat((0,s.getSqueezedParams)(["row","col","depth","depth2","depth3"],d),");\n          }\n        ");return new i.GlslLibRoutine(v,["coordinates.sampleTexture","coordinates.uvFromFlat"])}var g="\n        float ".concat(e,"(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ").concat(c," + col * ").concat(l," + depth * ").concat(u," +\n          depth3 * ").concat(a," + depth2;\n          vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n          return sampleTexture(").concat(t,", uv);\n        }\n      ");return new i.GlslLibRoutine(g,["coordinates.sampleTexture","coordinates.uvFromFlat"])}},{key:"getUnpackedSampler6D",value:function(e,t,n){var r=n.unpackedShape,a=r[5],u=r[4]*a,l=r[3]*u,c=r[2]*l,A=r[1]*c,f=(0,o.squeezeShape)(r),d=f.newShape,h=f.keptDims;if(d.length<r.length){var p=(0,s.squeezeInputShape)(r,d),v=JSON.parse(JSON.stringify(n));v.unpackedShape=p;var g="\n            ".concat(this.getUnpackedSamplerFromInput(e,t,v).routineBody,"\n            float ").concat(e,"(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ").concat(e,"(").concat((0,s.getSqueezedParams)(["row","col","depth","depth2","depth3","depth4"],h),");\n            }\n          ");return new i.GlslLibRoutine(g,["coordinates.sampleTexture","coordinates.uvFromFlat"])}var m="\n          float ".concat(e,"(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ").concat(A," + col * ").concat(c," + depth * ").concat(l," +\n            depth2 * ").concat(u," + depth3 * ").concat(a," + depth4;\n            vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n            return sampleTexture(").concat(t,", uv);\n          }\n        ");return new i.GlslLibRoutine(m,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}},{key:"toVec",value:function(){for(var e=this.context.outputTextureLayout,t=e.shape.length,n=e.strides,r=e.width,a=e.height,o=[],s=0;s<t-1;++s)o.push("\n        c[".concat(s,"] = offset / ").concat(n[s],";")),o.push("\n        offset -= c[".concat(s,"] * ").concat(n[s],";"));o.push("\n        c[".concat(t-1,"] = offset;"));var u="\n      void toVec(vec2 texCoords, out int c[".concat(t,"]) {\n        int offset = coordsToOffset(texCoords, ").concat(r,", ").concat(a,");\n        ").concat(o.join(""),"\n      }\n      void toVec(int offset, out int c[").concat(t,"]) {\n        ").concat(o.join(""),"\n      }\n    ");return{toVec:new i.GlslLibRoutine(u,["coordinates.coordsToOffset"])}}},{key:"valueFrom",value:function(){var e=this,t={};return this.context.programInfo.inputNames.forEach((function(n,r){var a=e.context.inputTextureLayouts[r],o=(a.unpackedShape.length>0?a.unpackedShape:a.shape).length,s="_".concat(n);t[s]=new i.GlslLibRoutine(e.getValueFromSingle(n,o,a.width,a.height,!1),["shapeUtils.indicesToOffset".concat(s),"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),t[s+="_T"]=new i.GlslLibRoutine(e.getValueFromSingle(n,o,a.width,a.height,!0),["shapeUtils.indicesToOffset".concat(s),"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),t}},{key:"getValueFromSingle",value:function(e,t,n,r,i){var o="_".concat(e);return i&&(o+="_T"),"\n        float ".concat(o,"(int m[").concat(t,"]) {\n          int offset = indicesToOffset").concat(o,"(m);\n          vec2 coords = offsetToCoords(offset, ").concat(n,", ").concat(r,");\n          float value = getColorAsFloat(").concat((0,a.getGlsl)(this.context.glContext.version).texture2D,"(").concat(e,", coords));\n          return value;\n        }\n        ")}},{key:"getPackedValueFrom",value:function(e,t,n,r,i){var o="_".concat(e,"_Pack");return i&&(o+="_T"),"\n        vec4 ".concat(o,"(int m[").concat(t,"]) {\n          int offset = indicesToOffset_").concat(e,"(m);\n          vec2 coords = offsetToCoords(offset, ").concat(n,", ").concat(r,");\n          return ").concat((0,a.getGlsl)(this.context.glContext.version).texture2D,"(").concat(e,", coords);\n        }\n        ")}}]),n}(i.GlslLib);t.CoordsGlslLib=u},1997:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TopologicalSortGlslRoutines=t.GlslLibRoutineNode=t.GlslLibRoutine=t.GlslLib=t.GlslContext=t.FunctionType=void 0,(n=t.FunctionType||(t.FunctionType={}))[n.ValueBased=0]="ValueBased",n[n.Positional=1]="Positional",t.GlslContext=function(){return _createClass((function e(t,n,r,i){_classCallCheck(this,e),this.glContext=t,this.programInfo=n,this.inputTextureLayouts=r,this.outputTextureLayout=i}))}(),t.GlslLib=function(){return _createClass((function e(t){_classCallCheck(this,e),this.context=t}))}(),t.GlslLibRoutine=function(){return _createClass((function e(t,n){_classCallCheck(this,e),this.routineBody=t,this.dependencies=n}))}(),t.GlslLibRoutineNode=function(){function e(t,n,r){_classCallCheck(this,e),this.name=t,this.dependencies=r||[],n&&(this.routineBody=n)}return _createClass(e,[{key:"addDependency",value:function(e){e&&this.dependencies.push(e)}}]),e}(),t.TopologicalSortGlslRoutines=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"returnOrderedNodes",value:function(e){if(!e||0===e.length)return[];if(1===e.length)return e;var t=new Set,n=new Set,r=new Array;return this.createOrderedNodes(e,t,n,r),r}},{key:"createOrderedNodes",value:function(e,t,n,r){for(var i=0;i<e.length;++i)this.dfsTraverse(e[i],t,n,r)}},{key:"dfsTraverse",value:function(e,t,n,r){if(e&&!n.has(e.name)){if(t.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");t.add(e.name);var i=e.dependencies;if(i&&i.length>0)for(var a=0;a<i.length;++a)this.dfsTraverse(i[a],t,n,r);r.push(e),n.add(e.name),t.delete(e.name)}}}]),e}()},1371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingGlslLib=void 0;var r=n(1997),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"getFunctions",value:function(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}},{key:"getCustomTypes",value:function(){return{}}},{key:"encodeFloat32",value:function(){return{encode:new r.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}},{key:"decodeFloat32",value:function(){return{decode:new r.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}},{key:"encodeUint8",value:function(){var e=n.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new r.GlslLibRoutine("\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ".concat(e,"\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        "))}}},{key:"decodeUint8",value:function(){var e=n.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new r.GlslLibRoutine("\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ".concat(e,"\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        "))}}}],[{key:"isLittleEndian",value:function(){var e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);if(t[0]=3735928559,239===n[0])return!0;if(222===n[0])return!1;throw new Error("unknown endianness")}}]),n}(r.GlslLib);t.EncodingGlslLib=i},2691:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FragColorGlslLib=void 0;var r=n(1997),i=n(6757),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"getFunctions",value:function(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}},{key:"getCustomTypes",value:function(){return{}}},{key:"setFragColor",value:function(){var e=(0,i.getGlsl)(this.context.glContext.version);return{setFragColor:new r.GlslLibRoutine("\n        void setFragColor(float value) {\n            ".concat(e.output," = encode(value);\n        }\n        "),["encoding.encode"])}}},{key:"getColorAsFloat",value:function(){return{getColorAsFloat:new r.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}]),n}(r.GlslLib);t.FragColorGlslLib=a},3878:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceInlines=void 0;var n=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;t.replaceInlines=function(e){for(var t,r={};null!==(t=n.exec(e));){var i=t[3].split(",").map((function(e){var t=e.trim().split(" ");return t&&2===t.length?{type:t[0],name:t[1]}:null})).filter((function(e){return null!==e}));r[t[2]]={params:i,body:t[4]}}for(var a in r)for(var o="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",a),s=new RegExp(o,"gm"),u=function(){var n=t[1],i=t[2],o=t[3].split(","),s=n?"".concat(n," ").concat(i,";"):"",u=r[a].body,l="";r[a].params.forEach((function(e,t){e&&(l+="".concat(e.type," ").concat(e.name," = ").concat(o[t],";\n"))})),u=(u="".concat(l,"\n ").concat(u)).replace("return","".concat(i," = "));var c="\n      ".concat(s,"\n      {\n        ").concat(u,"\n      }\n      ");e=e.replace(t[0],c)};null!==(t=s.exec(e));)u();return e.replace(n,"")}},8897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlslPreprocessor=void 0;var r=n(1997),i=n(3878),a=n(1248),o=n(6757);t.GlslPreprocessor=function(){function e(t,n,i,o){var s=this;_classCallCheck(this,e),this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new r.GlslContext(t,n,i,o),Object.keys(a.glslRegistry).forEach((function(e){var t=new a.glslRegistry[e](s.context);s.libs[e]=t}));var u=this.glslLibRoutineDependencyGraph;for(var l in this.libs){var c=this.libs[l].getFunctions();for(var A in c){var f=l+"."+A,d=void 0;u[f]?(d=u[f]).routineBody=c[A].routineBody:(d=new r.GlslLibRoutineNode(f,c[A].routineBody),u[f]=d);var h=c[A].dependencies;if(h)for(var p=0;p<h.length;++p)if(u[h[p]])d.addDependency(u[h[p]]);else{var v=new r.GlslLibRoutineNode(h[p]);u[h[p]]=v,d.addDependency(v)}}}}return _createClass(e,[{key:"preprocess",value:function(){var e=this.context.programInfo,t=e.shaderSource;return this.context.programInfo.hasMain||(t="".concat(t,"\n      ").concat((0,o.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length))),t=(0,i.replaceInlines)(t),"".concat((0,o.getFragShaderPreamble)(this.context.glContext.version),"\n    ").concat(this.getUniforms(e.inputNames,e.variables),"\n    ").concat(this.getImports(t),"\n    ").concat(t)}},{key:"getImports",value:function(e){var t=this.selectGlslLibRoutinesToBeIncluded(e);if(0===t.length)return"";for(var n="",r=0;r<t.length;++r){if(!t[r].routineBody)throw new Error("Missing body for the Glsl Library routine: ".concat(t[r].name));n+=t[r].routineBody+"\n"}return n}},{key:"selectGlslLibRoutinesToBeIncluded",value:function(e){var t=this,n=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((function(r){var i=r.split(".")[1];-1!==e.indexOf(i)&&n.push(t.glslLibRoutineDependencyGraph[r])})),r.TopologicalSortGlslRoutines.returnOrderedNodes(n)}},{key:"getUniforms",value:function(e,t){var n=[];if(e){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push("uniform sampler2D ".concat(a,";"))}}catch(l){i.e(l)}finally{i.f()}}if(t){var o,s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;n.push("uniform ".concat(u.type," ").concat(u.name).concat(u.arrayLength?"[".concat(u.arrayLength,"]"):"",";"))}}catch(l){s.e(l)}finally{s.f()}}return n.join("\n")}}]),e}()},1248:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glslRegistry=void 0;var r=n(6859),i=n(1371),a=n(2691),o=n(9183),s=n(9314);t.glslRegistry={encoding:i.EncodingGlslLib,fragcolor:a.FragColorGlslLib,vec:s.VecGlslLib,shapeUtils:o.ShapeUtilsGlslLib,coordinates:r.CoordsGlslLib}},9183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeUtilsGlslLib=void 0;var r=n(1997),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"getFunctions",value:function(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}},{key:"getCustomTypes",value:function(){return{}}},{key:"bcastIndex",value:function(){var e=this,t=this.context.outputTextureLayout.shape.length,n={};return this.context.programInfo.inputNames.forEach((function(i,a){var o=e.context.inputTextureLayouts[a].unpackedShape;if(o.length<=t){for(var s=o.length,u=t-s,l="bcastIndices_".concat(i),c="",A=0;A<s;++A)c+="\n          realIndices[".concat(A,"] = int( mod(float(bcastedIndices[").concat(u+A,"]), ").concat(o[A],".0) );\n          ");var f="\n        void ".concat(l," (int bcastedIndices[").concat(t,"], out int realIndices[").concat(s,"]) {\n          ").concat(c,"\n        }\n        ");n[l]=new r.GlslLibRoutine(f)}})),n}},{key:"bcastMatmulIndex",value:function(){var e=this,t=this.context.outputTextureLayout.shape.length,n={};return this.context.programInfo.inputNames.forEach((function(i,a){var o=e.context.inputTextureLayouts[a].shape;if(!(o.length<2||o.length>t)){for(var s=o.length,u=t-s,l="bcastMatmulIndices_".concat(i),c="",A=0;A<s-2;++A)c+="\n          realIndices[".concat(A,"] = int( mod(float(bcastedIndices[").concat(u+A,"]), ").concat(o[A],".0) );\n          ");var f="\n        void ".concat(l,"(int bcastedIndices[").concat(t,"], out int realIndices[").concat(s,"]) {\n          ").concat(c,"\n          realIndices[").concat(s-1,"] = bcastedIndices[").concat(t-1,"];\n          realIndices[").concat(s-2,"] = bcastedIndices[").concat(t-2,"];\n        }\n        ");n[l]=new r.GlslLibRoutine(f)}})),n}},{key:"indicesToOffset",value:function(){var e=this,t={};return this.context.programInfo.inputNames.forEach((function(i,a){var o=e.context.inputTextureLayouts[a].shape,s=e.context.inputTextureLayouts[a].strides,u=o.length,l="indicesToOffset_".concat(i);t[l]=new r.GlslLibRoutine(n.indexToOffsetSingle(l,u,s)),l="indicesToOffset_".concat(i,"_T"),t[l]=new r.GlslLibRoutine(n.indexToOffsetSingle(l,u,s.slice().reverse()))})),t}},{key:"offsetToIndices",value:function(){var e=this,t={};return this.context.programInfo.inputNames.forEach((function(i,a){var o=e.context.inputTextureLayouts[a].shape,s=e.context.inputTextureLayouts[a].strides,u=o.length,l="offsetToIndices_".concat(i);t[l]=new r.GlslLibRoutine(n.offsetToIndicesSingle(l,u,s)),l="offsetToIndices_".concat(i,"_T"),t[l]=new r.GlslLibRoutine(n.offsetToIndicesSingle(l,u,s.slice().reverse()))})),t}},{key:"incrementIndices",value:function(){var e=this,t={};return this.context.programInfo.inputNames.forEach((function(n,i){for(var a=e.context.inputTextureLayouts[i].shape,o=a.length,s="incrementIndices_".concat(n),u="",l=0;l<o;++l)u+="\n        shape[".concat(l,"] = ").concat(a[l],";");var c="\n        void ".concat(s,"(int axis, out int indices[").concat(o,"]) {\n          int shape[").concat(o,"];\n          ").concat(u,";\n          for(int i = ").concat(o," -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        ");t[s]=new r.GlslLibRoutine(c)})),t}}],[{key:"indexToOffsetSingle",value:function(e,t,n){for(var r="",i=t-1;i>=0;--i)r+="\n        offset += indices[".concat(i,"] * ").concat(n[i],";\n        ");return"\n      int ".concat(e,"(int indices[").concat(t,"]) {\n        int offset = 0;\n        ").concat(r,"\n        return offset;\n      }\n      ")}},{key:"offsetToIndicesSingle",value:function(e,t,n){for(var r=[],i=0;i<t-1;++i)r.push("\n      indices[".concat(i,"] = offset / ").concat(n[i],";")),r.push("\n        offset -= indices[".concat(i,"] * ").concat(n[i],";"));return r.push("\n      indices[".concat(t-1,"] = offset;")),"\n      void ".concat(e,"(int offset, out int indices[").concat(t,"]) {\n        ").concat(r.join(""),"\n      }\n      ")}}]),n}(r.GlslLib);t.ShapeUtilsGlslLib=i},6757:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFragShaderMain=t.getFragShaderPreamble=t.getVertexShaderSource=t.getGlsl=void 0;var n={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},r={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function i(e){return 1===e?n:r}t.getGlsl=i,t.getVertexShaderSource=function(e){var t=i(e);return"".concat(t.version,"\n      precision highp float;\n      ").concat(t.attribute," vec3 position;\n      ").concat(t.attribute," vec2 textureCoord;\n\n      ").concat(t.varyingVertex," vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }")},t.getFragShaderPreamble=function(e){var t=i(e);return"".concat(t.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(t.varyingFrag," vec2 TexCoords;\n    ").concat(t.outputDeclaration,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    ")},t.getDefaultFragShaderMain=function(e,t){return"\n  void main() {\n    int indices[".concat(t,"];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ").concat(i(e).output," = result;\n  }\n  ")}},9314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VecGlslLib=void 0;var r=n(1997),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"getCustomTypes",value:function(){return{}}},{key:"getFunctions",value:function(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}},{key:"binaryVecFunctions",value:function(){var e=this.context.outputTextureLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},n={};for(var i in t){for(var a="".concat(i,"Vec"),o="",s=0;s<e;++s)o+="\n          dest[".concat(s,"] ").concat(t[i]," src[").concat(s,"];\n          ");var u="\n        void ".concat(a,"(int src[").concat(e,"], out int dest[").concat(e,"]) {\n          ").concat(o,"\n        }\n        ");n[a]=new r.GlslLibRoutine(u)}return n}},{key:"copyVec",value:function(){for(var e=this.context.outputTextureLayout.shape.length,t="",n=0;n<e;++n)t+="\n        dest[".concat(n,"] = src[").concat(n,"];\n        ");var i="\n      void copyVec(int src[".concat(e,"], out int dest[").concat(e,"]) {\n        ").concat(t,"\n      }\n      ");return{copyVec:new r.GlslLibRoutine(i)}}},{key:"setVecItem",value:function(){for(var e=this.context.outputTextureLayout.shape.length,t="\n        if(index < 0)\n            index =".concat(e," + index;\n        if (index == 0)\n            m[0] = value;\n        "),n=1;n<e-1;++n)t+="\n        else if (index == ".concat(n,")\n            m[").concat(n,"] = value;\n            ");t+="\n        else\n            m[".concat(e-1,"] = value;\n        ");var i="\n      void setVecItem(out int m[".concat(e,"], int index, int value) {\n        ").concat(t,"\n      }\n        ");return{setVecItem:new r.GlslLibRoutine(i)}}},{key:"getVecItem",value:function(){for(var e=this.context.outputTextureLayout.shape.length,t="\n        if(index < 0)\n            index = ".concat(e," + index;\n        if (index == 0)\n            return m[0];\n      "),n=1;n<e-1;++n)t+="\n        else if (index == ".concat(n,")\n            return m[").concat(n,"];\n      ");t+="\n        else\n            return m[".concat(e-1,"];\n        ");var i="\n      int getVecItem(int m[".concat(e,"], int index) {\n        ").concat(t,"\n      }\n    ");return{getVecItem:new r.GlslLibRoutine(i)}}}]),n}(r.GlslLib);t.VecGlslLib=i},7860:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLInferenceHandler=void 0;var r=n(1315),i=n(9240),a=n(7273),o=n(9),s=n(7379),u=n(2488),l=n(540),c=n(3314),A=n(5639);t.WebGLInferenceHandler=function(){function e(t){_classCallCheck(this,e),this.session=t,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}return _createClass(e,[{key:"calculateTextureWidthAndHeight",value:function(e,t){return(0,c.calculateTextureWidthAndHeight)(this.session.layoutStrategy,e,t)}},{key:"executeProgram",value:function(e,t){if(t.length<e.inputNames.length)throw new Error("Input size mustn't be less than ".concat(e.inputNames.length,"."));if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");for(var n=[],r=0;r<e.inputNames.length;++r)n[r]=this.getOrCreateTextureData(t[r],e.inputTypes[r]);var i=function(e,t){var n=t.map((function(e){return"".concat(e.unpackedShape.join(","),";").concat(e.width,"x").concat(e.height)})).join("_"),r=e.name;return e.cacheHint&&(r+="["+e.cacheHint+"]"),r+=":"+n}(e,n),a=this.session.programManager.getArtifact(i),o=a?a.programInfo:"function"==typeof e.get?e.get():e,s=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,o.output.dims,o.output.textureType),u=this.createTextureData(s,o.output.type);return a||(a=this.session.programManager.build(o,n,u),this.session.programManager.setArtifact(i,a)),this.runProgram(a,n,u),u}},{key:"run",value:function(e,t){return this.executeProgram(e,t).tensor}},{key:"runProgram",value:function(e,t,n){for(var r=0;r<t.length;++r)if(!!t[r].isPacked!=(e.programInfo.inputTypes[r]===A.TextureType.packed))throw new Error("input[".concat(r,"] property packed inconsistent"));if(!!n.isPacked!=(e.programInfo.output.textureType===A.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(e,t,n)}},{key:"getOrCreateTextureData",value:function(e,t){var n=this.getTextureData(e.dataId,t===A.TextureType.packed);if(!n&&(n=this.getTextureData(e.dataId,t!==A.TextureType.packed)))return t===A.TextureType.packed?this.pack(n):this.unpack(n);if(!n){var r=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,e.dims,t);if(t===A.TextureType.packedLastDimension){var i=e.dims;if(4===i.length){var a=[i[0],Math.ceil(i[1]*i[2]*i[3]/4)],o=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,a,t),s=e.numberData;if(i[1]*i[2]*i[3]%4!=0){var u=i[0],l=i[1]*i[2]*i[3],f=4*Math.ceil(1*l/4);s=new Float32Array(u*f);for(var d=0;d<u;++d){var h=d*l,p=d*f+d%1*l;s.set(e.numberData.subarray(h,h+l),p)}}return this.createTextureData(o,e.type,s,e,1)}}if(t===A.TextureType.packed){var v=(0,c.createTextureLayoutFromShape)(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),g=this.createTextureData(v,e.type,e.numberData,e,1);n=this.pack(g)}else n=this.createTextureData(r,e.type,e.numberData,e,1)}return n}},{key:"createTextureDataFromLayoutBindTensor",value:function(e,t,n,r){return this.createTextureData(e,t,n,r,1)}},{key:"createTextureData",value:function(e,t,n,i,a){r.Logger.verbose("InferenceHandler","Creating TextureData: layout:[".concat(JSON.stringify(e),"]"));var o=this.session.textureManager.createTextureFromLayout(t,e,n,a);return this.createTextureDataFromTexture(e,t,o,i)}},{key:"reshapeUnpacked",value:function(e,t){var n=this.getOrCreateTextureData(e,A.TextureType.unpacked),r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:a.ShapeUtil.computeStrides(t),unpackedShape:t};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor}},{key:"reshapePacked",value:function(e,t){var n=this.getOrCreateTextureData(e,A.TextureType.packed);if((0,s.isReshapeCheap)(e.dims,t)){var r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:a.ShapeUtil.computeStrides(t),unpackedShape:t,isPacked:!0};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor}var i=(0,s.processDims3D)(e.dims),o=(0,s.processDims3D)(t),u=this.reshapePacked(e,i),l=this.run((0,s.createPackedReshape3DProgramInfoLoader)(this,u,o),[u]);return this.reshapePacked(l,t)}},{key:"cast",value:function(e,t){var n=this.getOrCreateTextureData(e,A.TextureType.unpacked);return this.createTextureDataFromTexture(n,t,n.texture).tensor}},{key:"createTextureDataFromTexture",value:function(e,t,n,r,a){var o=this,s=Object.assign(Object.assign({},e),{tensor:r||new i.Tensor(e.unpackedShape,t,(function(e){return o.readTexture(s)}),function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.readTextureAsync(s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),void 0,a),texture:n});return this.setTextureData(s.tensor.dataId,s,e.isPacked),s}},{key:"getTextureData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.session.isInitializer(e)?this.session.getTextureData(e,t):t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}},{key:"setTextureData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.session.isInitializer(e)?this.session.setTextureData(e,t,n):(n?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t)}},{key:"isTextureLayoutCached",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!this.getTextureData(e.dataId,t)}},{key:"dispose",value:function(){var e=this;this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((function(t){return e.session.textureManager.releaseTexture(t)})),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((function(t){return e.session.textureManager.releaseTexture(t)})),this.unpackedTextureDataCache=new Map}},{key:"readTexture",value:function(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,u.encodeAsUint8)(this,e))}},{key:"readTextureAsync",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.isPacked?this.readTextureAsync(this.unpack(t)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(t,t.tensor.type,t.channels):this.session.textureManager.readUint8TextureAsFloat((0,u.encodeAsUint8)(this,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pack",value:function(e){return this.executeProgram((0,o.createPackProgramInfoLoader)(this,e.tensor),[e.tensor])}},{key:"unpack",value:function(e){return this.executeProgram((0,l.createUnpackProgramInfoLoader)(this,e.tensor),[e.tensor])}}]),e}()},4110:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGL_OP_RESOLVE_RULES=void 0;var o=n(8817),s=a(n(5194)),u=n(4752),l=n(6668),c=n(9754),A=n(5042),f=n(6742),d=n(4125),h=n(6149),p=n(5378),v=n(6981),g=n(7413),m=n(7006),y=n(8276),b=n(5565),w=n(2834),x=n(1010),_=n(8126),C=n(2801),E=n(565),S=n(2444),B=n(815),T=n(564),I=n(5416),k=n(1240),M=n(5944),R=n(5707),U=a(n(9087)),F=n(7862),O=n(3980);t.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",U.abs],["Acos","","7+",U.acos],["Add","","7+",s.add],["And","","7+",s.and],["Asin","","7+",U.asin],["Atan","","7+",U.atan],["AveragePool","","7+",w.averagePool,w.parseAveragePoolAttributes],["BatchNormalization","","7+",o.batchNormalization,o.parseBatchNormalizationAttributes],["Cast","","6+",u.cast,u.parseCastAttributes],["Ceil","","6+",U.ceil],["Clip","","6-10",U.clip,U.parseClipAttributes],["Clip","","11+",U.clipV11],["Concat","","4+",l.concat,l.parseConcatAttributes],["Conv","","1+",c.conv,c.parseConvAttributes],["ConvTranspose","","1+",A.convTranspose,A.parseConvTransposeAttributes],["Cos","","7+",U.cos],["Div","","7+",s.div],["Dropout","","7+",U.identity],["DepthToSpace","","1+",f.depthToSpace,f.parseDepthToSpaceAttributes],["Equal","","7+",s.equal],["Elu","","6+",U.elu,U.parseEluAttributes],["Exp","","6+",U.exp],["Flatten","","1+",d.flatten,d.parseFlattenAttributes],["Floor","","6+",U.floor],["FusedConv","com.microsoft","1+",c.conv,c.parseConvAttributes],["Gather","","1+",h.gather,h.parseGatherAttributes],["Gemm","","7-10",p.gemm,p.parseGemmAttributesV7],["Gemm","","11+",p.gemm,p.parseGemmAttributesV11],["GlobalAveragePool","","1+",w.globalAveragePool,w.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",w.globalMaxPool],["Greater","","7+",s.greater],["Identity","","1+",U.identity],["ImageScaler","","1+",v.imageScaler,v.parseImageScalerAttributes],["InstanceNormalization","","6+",g.instanceNormalization,g.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",U.leakyRelu,U.parseLeakyReluAttributes],["Less","","7+",s.less],["LRN","","1+",m.lrn,m.parseLrnAttributes],["Log","","6+",U.log],["MatMul","","1+",y.matMul,y.parseMatMulAttributes],["MaxPool","","1+",w.maxPool,w.parseMaxPoolAttributes],["Mul","","7+",s.mul],["Neg","","6+",U.neg],["Not","","1+",U.not],["Or","","7+",s.or],["Pad","","2-10",b.padV2,b.parsePadAttributesV2],["Pad","","11+",b.padV11,b.parsePadAttributesV11],["Pow","","7+",s.pow],["PRelu","","7+",s.pRelu],["ReduceLogSum","","1+",x.reduceLogSum,x.parseReduceAttributes],["ReduceMax","","1+",x.reduceMax,x.parseReduceAttributes],["ReduceMean","","1+",x.reduceMean,x.parseReduceAttributes],["ReduceMin","","1+",x.reduceMin,x.parseReduceAttributes],["ReduceProd","","1+",x.reduceProd,x.parseReduceAttributes],["ReduceSum","","1-12",x.reduceSum,x.parseReduceAttributes],["ReduceSumSquare","","1+",x.reduceLogSumSquare,x.parseReduceAttributes],["Relu","","6+",U.relu],["Reshape","","5+",_.reshape],["Resize","","10",C.resize,C.parseResizeAttributesV10],["Resize","","11+",C.resize,C.parseResizeAttributesV11],["Shape","","1+",E.shape],["Sigmoid","","6+",U.sigmoid],["Sin","","7+",U.sin],["Slice","","10+",S.sliceV10],["Slice","","1-9",S.slice,S.parseSliceAttributes],["Softmax","","1-12",B.softmax,B.parseSoftmaxAttributes],["Softmax","","13+",B.softmaxV13,B.parseSoftmaxAttributesV13],["Split","","2-12",T.split,T.parseSplitAttributes],["Sqrt","","6+",U.sqrt],["Squeeze","","1-12",I.squeeze,I.parseSqueezeAttributes],["Squeeze","","13+",I.squeezeV13],["Sub","","7+",s.sub],["Sum","","6+",k.sum],["Tan","","7+",U.tan],["Tanh","","6+",U.tanh],["Tile","","6+",M.tile],["Transpose","","1+",R.transpose,R.parseTransposeAttributes],["Upsample","","7-8",O.upsample,O.parseUpsampleAttributesV7],["Upsample","","9",O.upsample,O.parseUpsampleAttributesV9],["Unsqueeze","","1-12",F.unsqueeze,F.parseUnsqueezeAttributes],["Unsqueeze","","13+",F.unsqueezeV13],["Xor","","7+",s.xor]]},8817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchNormalizationAttributes=t.batchNormalization=void 0;var r=n(4910),i=n(6757),a=n(5639),o={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]};t.batchNormalization=function(e,t,n){return u(t),[e.run(Object.assign(Object.assign({},o),{cacheHint:n.cacheKey,get:function(){return s(e,t,n)}}),t)]},t.parseBatchNormalizationAttributes=function(e){var t=e.attributes.getFloat("epsilon",1e-5),n=e.attributes.getFloat("momentum",.9),i=e.attributes.getInt("spatial",1);return(0,r.createAttributeWithCacheKey)({epsilon:t,momentum:n,spatial:i})};var s=function(e,t,n){var r=(0,i.getGlsl)(e.session.backend.glContext.version),s=t[0].dims.length,u=e.calculateTextureWidthAndHeight(t[1].dims,a.TextureType.unpacked),l=_slicedToArray(u,2),c=l[0],A=l[1],f="\n  float process(int[".concat(s,"] indices) {\n    vec2 position = offsetToCoords(indices[1], ").concat(c,", ").concat(A,");\n    float scale = getColorAsFloat(").concat(r.texture2D,"(Scale, position));\n    float mean = getColorAsFloat(").concat(r.texture2D,"(Mean, position));\n    float variance = getColorAsFloat(").concat(r.texture2D,"(Variance, position));\n    float b = getColorAsFloat(").concat(r.texture2D,"(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(").concat(n.epsilon,")) ) + b;\n  }");return Object.assign(Object.assign({},o),{output:{dims:t[0].dims,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:f})},u=function(e){if(!e||5!==e.length)throw new Error("BatchNormalization requires 5 inputs.");var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==i.dims.length||1!==a.dims.length)throw new Error("invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||i.dims[0]!==t.dims[1]||a.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==i.type&&"float64"!==i.type||"float32"!==a.type&&"float64"!==a.type)throw new Error("invalid input tensor types.")}},5194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xor=t.sub=t.pRelu=t.pow=t.or=t.mul=t.less=t.greater=t.equal=t.div=t.and=t.add=t.glslPRelu=t.glslPow=t.glslXor=t.glslOr=t.glslAnd=t.glslLess=t.glslGreater=t.glslEqual=t.glslSub=t.glslMul=t.glslDiv=t.glslAdd=void 0;var r=n(7273),i=n(1997),a=n(6757),o=n(5639);function s(){var e="add_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a + b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function u(){var e="div_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a / b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function l(){var e="mul_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a * b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function c(){var e="sub_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a - b;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function A(){var e="equal_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a == b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function f(){var e="greater_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function d(){var e="less_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float(a < b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function h(){var e="and_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function p(){var e="or_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function v(){var e="xor_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function g(){return function(e){var t="".concat(e,"_");return{body:"\n  float ".concat(t,"(float a, float b) {\n    return ").concat(e,"(a, b);\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return ").concat(e,"(v1, v2);\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}("pow")}function m(){var e="prelu_";return{body:"\n  float ".concat(e,"(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}t.glslAdd=s,t.glslDiv=u,t.glslMul=l,t.glslSub=c,t.glslEqual=A,t.glslGreater=f,t.glslLess=d,t.glslAnd=h,t.glslOr=p,t.glslXor=v,t.glslPow=g,t.glslPRelu=m;var y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t[0].type,i=arguments.length>4?arguments[4]:void 0,a=e.session.pack?o.TextureType.packed:o.TextureType.unpacked;return{name:n.name,inputNames:["A","B"],inputTypes:[a,a],cacheHint:i,get:function(){return b(e,t,n,r)}}},b=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t[0].type,s=e.session.pack?o.TextureType.packed:o.TextureType.unpacked,u=!r.ShapeUtil.areEqual(t[0].dims,t[1].dims),l=t[0].dims,c=e.session.pack;if(u){var A=r.BroadcastUtil.calcShape(t[0].dims,t[1].dims,!1);if(!A)throw new Error("Can't perform binary op on the given tensors");var f=(l=A).length,d=0!==t[0].dims.length?t[0].dims.length:1,h=0!==t[1].dims.length?t[1].dims.length:1,p=0!==t[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",v=0!==t[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",g=(0,a.getGlsl)(e.session.backend.glContext.version),m=c?"\n      ".concat(n.body,"\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ").concat(n.name,"(a, b);\n        ").concat(g.output," = result;\n      }"):"\n      ".concat(n.body,"\n      float process(int indices[").concat(f,"]) {\n        int aindices[").concat(d,"];\n        int bindices[").concat(h,"];\n        ").concat(p,"\n        ").concat(v,"\n        return ").concat(n.name,"(_A(aindices), _B(bindices));\n      }");return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:l,type:i,textureType:s},shaderSource:m,hasMain:c}}var y=(0,a.getGlsl)(e.session.backend.glContext.version),b="\n    ".concat(n.body,"\n    void main() {\n      vec4 v1 = ").concat(y.texture2D,"(A, TexCoords);\n      vec4 v2 = ").concat(y.texture2D,"(B, TexCoords);\n      vec4 result = ").concat(n.name,"(v1, v2);\n      ").concat(y.output," = result;\n    }\n    ");return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:t[0].dims,type:i,textureType:s},shaderSource:b,hasMain:!0}};t.add=function(e,t){return[e.run(y(e,t,s()),t)]},t.and=function(e,t){return[e.run(y(e,t,h(),"bool"),t)]},t.div=function(e,t){return[e.run(y(e,t,u()),t)]},t.equal=function(e,t){return[e.run(y(e,t,A(),"bool"),t)]},t.greater=function(e,t){return[e.run(y(e,t,f(),"bool"),t)]},t.less=function(e,t){return[e.run(y(e,t,d(),"bool"),t)]},t.mul=function(e,t){return[e.run(y(e,t,l()),t)]},t.or=function(e,t){return[e.run(y(e,t,p(),"bool"),t)]},t.pow=function(e,t){return[e.run(y(e,t,g()),t)]},t.pRelu=function(e,t){return[e.run(y(e,t,m()),t)]},t.sub=function(e,t){return[e.run(y(e,t,c()),t)]},t.xor=function(e,t){return[e.run(y(e,t,v(),"bool"),t)]}},4752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCastAttributes=t.cast=void 0;var r=n(7273);t.cast=function(e,t,n){return i(t),[e.cast(t[0],n)]},t.parseCastAttributes=function(e){return r.ProtoUtil.tensorDataTypeFromProto(e.attributes.getInt("to"))};var i=function(e){if(!e||1!==e.length)throw new Error("Cast requires 1 input.");if("string"===e[0].type)throw new Error("Invalid input type.")}},4595:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedConcatProgramInfoLoader=void 0;var r=n(6757),i=n(5639),a=n(432),o=n(5614);t.createPackedConcatProgramInfoLoader=function(e,t,n){var u,l,c=(u=t.length,l=n.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:u},(function(e,t){return"X".concat(t)})),inputTypes:Array(u).fill(i.TextureType.packed),cacheHint:l});return Object.assign(Object.assign({},c),{get:function(){return function(e,t,n,u){var l=n[0].dims.slice();if(u>=l.length||u<-1*l.length)throw new Error("axis specified for concat doesn't match input dimensionality");u<0&&(u=l.length+u);for(var c=l.slice(0),A=1;A<n.length;A++)for(var f=n[A].dims.slice(),d=0;d<l.length;d++)if(d===u)c[u]+=f[d];else if(l[d]!==f[d])throw new Error("non concat dimensions must match");var h=c.length,p=(0,o.getChannels)("coords",h),v=(0,a.getCoordsDataType)(h),g=(0,o.unpackFromChannel)(),m=n.map((function(e){return e.dims})),y=(0,a.getGlChannels)(h),b=new Array(m.length-1);b[0]=m[0][u];for(var w=1;w<b.length;w++)b[w]=b[w-1]+m[w][u];for(var x=y[u],_=y.slice(-2),C=y.join(),E="if (".concat(x," < ").concat(b[0],") {\n        return getChannel(\n            getX0(").concat(C,"), vec2(").concat(_.join(),"));\n        }"),S=1;S<b.length;S++){var B=b[S-1];E+="\n            if (".concat(x," < ").concat(b[S],"  && ").concat(x," >= ").concat(b[S-1],") {\n              return getChannel(\n                getX").concat(S,"(").concat(s(y,x,B),"),\n                vec2(").concat(s(_,x,B),"));\n            }")}var T=b.length,I=b[b.length-1];E+="\n            return getChannel(\n              getX".concat(T,"(").concat(s(y,x,I),"),\n              vec2(").concat(s(_,x,I),"));");var k=(0,r.getGlsl)(e.session.backend.glContext.version),M="\n          ".concat(g,"\n          float getValue(").concat(y.map((function(e){return"int "+e})),") {\n            ").concat(E,"\n          }\n\n          void main() {\n            ").concat(v," coords = getOutputCoords();\n            int lastDim = coords.").concat(y[h-1],";\n            coords.").concat(y[h-1]," = coords.").concat(y[h-2],";\n            coords.").concat(y[h-2]," = lastDim;\n\n            vec4 result = vec4(getValue(").concat(p,"), 0., 0., 0.);\n\n            ").concat(p[h-1]," = ").concat(p[h-1]," + 1;\n            if (").concat(p[h-1]," < ").concat(c[h-1],") {\n              result.g = getValue(").concat(p,");\n            }\n\n            ").concat(p[h-2]," = ").concat(p[h-2]," + 1;\n            if (").concat(p[h-2]," < ").concat(c[h-2],") {\n              result.a = getValue(").concat(p,");\n            }\n\n            ").concat(p[h-1]," = ").concat(p[h-1]," - 1;\n            if (").concat(p[h-2]," < ").concat(c[h-2]," &&\n                ").concat(p[h-1]," < ").concat(c[h-1],") {\n              result.b = getValue(").concat(p,");\n            }\n            ").concat(k.output," = result;\n          }\n        ");return Object.assign(Object.assign({},t),{output:{dims:c,type:n[0].type,textureType:i.TextureType.packed},shaderSource:M,hasMain:!0})}(e,c,t,n.axis)}})};var s=function(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}},6668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConcatAttributes=t.concat=void 0;var r=n(4910),i=n(5639),a=n(4595);t.concat=function(e,t,n){return A(t),e.session.pack&&t[0].dims.length>1?[e.run((0,a.createPackedConcatProgramInfoLoader)(e,t,n),t)]:[e.run(o(e,t,n),t)]};var o=function(e,t,n){var r,a,o=(r=t.length,a=n.cacheKey,{name:"Concat",inputNames:Array.from({length:r},(function(e,t){return"X".concat(t)})),inputTypes:Array(r).fill(i.TextureType.unpacked),cacheHint:a});return Object.assign(Object.assign({},o),{get:function(){return function(e,t,n,r){var a,o=n[0].dims.slice();if(r>=o.length||r<-1*o.length)throw new Error("axis specified for concat doesn't match input dimensionality");r<0&&(r=o.length+r);for(var A=o.slice(0),f=1;f<n.length;f++)for(var d=n[f].dims.slice(),h=0;h<o.length;h++)if(h===r)A[r]+=d[h];else if(o[h]!==d[h])throw new Error("non concat dimensions must match");for(var p=A.length,v=new Array(n.length),g=0,m=0;m<v.length;++m)g+=n[m].dims[r],v[m]=g;a=n.length<5?s(v):u(v);var y="\n        ".concat(l(n.length,p),"\n        ").concat(c(v),"\n        ").concat(a,"\n        float process(int indices[").concat(p,"]) {\n          int textureIndex = getTextureWhereDataResides (indices[").concat(r,"]);\n\n          if(textureIndex != 0) {\n            indices[").concat(r,"] = indices[").concat(r,"] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }");return Object.assign(Object.assign({},t),{output:{dims:A,type:n[0].type,textureType:i.TextureType.unpacked},shaderSource:y})}(0,o,t,n.axis)}})},s=function(e){return"int getTextureWhereDataResides(int index) {\n      ".concat(e.map((function(e,t){return"if(index<".concat(e,") {return ").concat(t,";}\n")})).join(""),"\n    }")},u=function(e){return s(e)},l=function(e,t){for(var n=["float fetchDataFromCorrectTexture(int textureIndex, int indices[".concat(t,"]) {")],r=0;r<e;++r)0===r?n.push("\tif (textureIndex == ".concat(r,") { return _X").concat(r,"(indices); }")):r===e-1?n.push("\telse { return _X".concat(r,"(indices); }")):n.push("\telse if (textureIndex == ".concat(r,") { return _X").concat(r,"(indices); }"));return n.push("\t}"),n.join("\n")},c=function(e){for(var t=["int getSizeInConcatAxisValueFromIndex(int index) {"],n=0;n<e.length;++n)0===n?t.push("\tif (index == ".concat(n,") { return ").concat(e[n],"; }")):n===e.length-1?t.push("\telse { return ".concat(e[n],"; }")):t.push("\telse if (index == ".concat(n,") { return ").concat(e[n],"; }"));return t.push("\t}"),t.join("\n")};t.parseConcatAttributes=function(e){return(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis")})};var A=function(e){if(!e||e.length<1)throw new Error("too few inputs");var t=e[0].type,n=e[0].dims.length;if("string"===t)throw new Error("string tensor is not supported yet");var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.type!==t)throw new Error("input tensors should be one type");if(a.dims.length!==n)throw new Error("input tensors should have the same shape")}}catch(o){i.e(o)}finally{i.f()}}},7825:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackedGroupedConvProgramInfoLoader=void 0;var r=n(1315),i=n(6757),a=n(5639),o=n(9754),s=n(2150);t.createUnpackedGroupedConvProgramInfoLoader=function(e,t,n){var u,l,c=(u=t.length>2,l=n.cacheKey,{name:"GroupedConv",inputNames:u?["X","W","Bias"]:["X","W"],inputTypes:u?[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.unpacked],cacheHint:l});return Object.assign(Object.assign({},c),{get:function(){return function(e,t,n,u){var l=t.length>2?"value += getBias(output_channel);":"",c=t[0].dims.slice(),A=t[1].dims.slice(),f=A[0]/u.group;r.Logger.verbose("GroupedConv","autpPad:".concat(u.autoPad,", dilations:").concat(u.dilations,", group:").concat(u.group,", kernelShape:").concat(u.kernelShape,", pads:").concat(u.pads,", strides:").concat(u.strides));var d=(0,o.calculateOutputShape)(c,A,u.dilations,u.pads,u.strides),h=(0,i.getGlsl)(e.session.backend.glContext.version),p=(0,s.getActivationSnippet)(u),v=p.activationFunction,g=p.applyActivation,m="\n  const ivec2 strides = ivec2(".concat(u.strides[0],", ").concat(u.strides[1],");\n  const ivec2 pads = ivec2(").concat(u.pads[0],", ").concat(u.pads[1],");\n  ").concat(v,"\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ").concat(f,";\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ").concat(A[1],"; wInChannel++) {\n      int input_channel = group_id * ").concat(A[1]," + wInChannel;\n      for (int wHeight = 0; wHeight < ").concat(A[2],"; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ").concat(u.dilations[0],";\n\n        if (xHeight < 0 || xHeight >= ").concat(c[2],") {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ").concat(A[3],"; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ").concat(u.dilations[1],";\n          if (xWidth < 0 || xWidth >= ").concat(c[3],") {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ").concat(l,"\n    ").concat(g,"\n    ").concat(h.output," = vec4(value, .0, .0, .0);\n  }\n");return Object.assign(Object.assign({},n),{output:{dims:d,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:m,hasMain:!0})}(e,t,c,n)}})}},7708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conv2DPacked=t.conv2DPackedPointwise=void 0;var r=n(9754),i=n(5950),a=n(5632);t.conv2DPackedPointwise=function(e,t,n){var i=t[0].dims,o=t[1].dims,s=(0,r.calculateOutputShape)(i,o,n.dilations,n.pads,n.strides),u=e.reshapePacked(t[0],[i[1],i[2]*i[3]]),l=e.reshapePacked(t[1],[o[0],o[1]]),c=t.length>2?[l,u,t[2]]:[l,u],A=e.run((0,a.createPackedMatmulProgramInfoLoader)(e,c,n),c);return e.reshapePacked(A,s)},t.conv2DPacked=function(e,t,n){var o=t[0].dims,s=t[1].dims,u=(0,r.calculateOutputShape)(o,s,n.dilations,n.pads,n.strides),l=e.run((0,i.createPackedIm2ColProgramInfoLoader)(e,t[0],t[1],u,n),[t[0]]),c=e.reshapePacked(t[1],[s[0],s[1]*s[2]*s[3]]),A=3===t.length?[c,l,t[2]]:[c,l],f=e.run((0,a.createPackedMatmulProgramInfoLoader)(e,A,n),A);return e.reshapePacked(f,u)}},5042:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvTransposeAttributes=t.convTranspose=void 0;var r=n(4910),i=n(6757),a=n(5639),o=n(2150),s=function(e,t,n,r,i,a){return(e-1)*t+n+(r-1)*i+1-a},u=function(e,t,n,r,i){var a=Math.floor(e/2);"SAME_UPPER"===t?(n[r]=a,n[i]=e-a):"SAME_LOWER"===t&&(n[r]=e-a,n[i]=a)};t.convTranspose=function(e,t,n){return f(t,n),l(e,t,n)};var l=function(e,t,n){var r=A(n,t);return[c(e,t,r)]},c=function(e,t,n){return e.run(function(e,t,n){var r,s,u=(r=t.length>2,s=n.cacheKey,{name:"ConvTranspose",inputNames:r?["X","W","B"]:["X","W"],inputTypes:r?[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.unpacked],cacheHint:s});return Object.assign(Object.assign({},u),{get:function(){return function(e,t,n,r){var s=t.length>2?"getB(output_channel)":"0.0",u=t[0].dims,l=t[1].dims,c=l[1],A=l[0]/r.group,f=[t[0].dims[0],t[1].dims[1]*r.group].concat(_toConsumableArray(r.outputShape)),d=(0,i.getGlsl)(e.session.backend.glContext.version),h=(0,o.getActivationSnippet)(r),p=h.activationFunction,v=h.applyActivation,g="\n  const ivec2 strides = ivec2(".concat(r.strides[0],", ").concat(r.strides[1],");\n  const ivec2 pads = ivec2(").concat(r.pads[0],", ").concat(r.pads[1],");\n  ").concat(p,"\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ").concat(c,";\n    int wOutChannel = output_channel - group_id * ").concat(c,";\n\n    float value = ").concat(s,";\n    for (int inChannelOffset = 0; inChannelOffset < ").concat(A,"; inChannelOffset++) {\n      int input_channel = group_id * ").concat(A," + inChannelOffset;\n      for (int wWOff = 0; wWOff < ").concat(l[2],"; wWOff++) {\n        for (int wHOff = 0; wHOff < ").concat(l[3],"; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ").concat(r.dilations[0],", wHOff * ").concat(r.dilations[1],");\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ").concat(u[2]," &&\n            wLocIn.y >= 0 && wLocIn.y < ").concat(u[3],"\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ").concat(v,"\n    ").concat(d.output," = vec4(value, .0, .0, .0);\n  }\n");return Object.assign(Object.assign({},n),{output:{dims:f,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:g,hasMain:!0})}(e,t,u,n)}})}(e,t,n),t)},A=function(e,t){var n=e.kernelShape.slice();if(0===e.kernelShape.length)for(var r=2;r<t[1].dims.length;++r)n.push(t[1].dims[r]);var i=e.pads.slice(),a=e.outputShape.slice();!function(e,t,n,r,i,a,o,l){for(var c=e.length-2,A=0===l.length,f=0;f<c;++f){var d=A?e[f+2]*a[f]:l[f],h=s(e[f+2],a[f],i[f],t[f],n[f],d);u(h,r,i,f,f+c),A&&l.push(a[f]*(e[f+2]-1)+o[f]+(t[f]-1)*n[f]+1-i[f]-i[f+c])}}(t[0].dims,n,e.dilations,e.autoPad,i,e.strides,e.outputPadding,a);var o=Object.assign({},e);return Object.assign(o,{kernelShape:n,pads:i,outputShape:a,cacheKey:e.cacheKey}),o};t.parseConvTransposeAttributes=function(e){var t=e.attributes,n=(0,o.parseInternalActivationAttributes)(t),i=t.getString("auto_pad","NOTSET"),a=t.getInts("dilations",[1,1]),s=t.getInt("group",1),u=t.getInts("kernel_shape",[]),l=t.getInts("output_padding",[0,0]),c=t.getInts("output_shape",[]),A=t.getInts("pads",[0,0,0,0]),f=t.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:i,dilations:a,group:s,kernelShape:u,outputPadding:l,outputShape:c,pads:A,strides:f},n))};var f=function(e,t){if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");var n=e[1].dims[1]*t.group;if(3===e.length&&(1!==e[2].dims.length||e[2].dims[0]!==n))throw new Error("invalid bias");var r=e[0].dims.length-2;if(t.dilations.length!==r)throw new Error("dilations should be ".concat(r,"D"));if(t.strides.length!==r)throw new Error("strides should be ".concat(r,"D"));if(t.pads.length!==2*r)throw new Error("pads should be ".concat(2*r,"D"));if(t.outputPadding.length!==r)throw new Error("output_padding should be ".concat(r,"D"));if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==t.outputShape.length&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvAttributes=t.conv=t.calculateOutputShape=void 0;var r=n(4910),i=n(7273),a=n(7825),o=n(7708),s=n(3281),u=n(2150),l=n(1625),c=n(8276);t.calculateOutputShape=function(e,t,n,r,i){var a,o=e[0],s=e.slice(2),u=s.length,l=t[0],c=t.slice(2).map((function(e,t){return e+(e-1)*(n[t]-1)})),A=s.map((function(e,t){return e+r[t]+r[t+u]})).map((function(e,t){return Math.floor((e-c[t]+i[t])/i[t])}));return(a=[o,l]).concat.apply(a,_toConsumableArray(A))},t.conv=function(e,t,n){return p(t,n),A(e,t,n)};var A=function(e,t,n){var r=h(n,t),i=e.session.pack,s=1===r.kernelShape[0]&&1===r.kernelShape[1];return r.group>1?[e.run((0,a.createUnpackedGroupedConvProgramInfoLoader)(e,t,r),t)]:s&&i?[f(e,t,r)]:i&&4===t[0].dims.length&&1===t[0].dims[0]&&!s?[(0,o.conv2DPacked)(e,t,r)]:[d(e,t,r)]},f=function(e,n,r){var i=n[0].dims,a=n[1].dims,o=(0,t.calculateOutputShape)(i,a,r.dilations,r.pads,r.strides),s=e.reshapeUnpacked(n[0],[i[1],i[2]*i[3]]),u=e.reshapeUnpacked(n[1],[a[0],a[1]]),l=n.length>2?[u,s,n[2]]:[u,s],A=e.run((0,c.createMatmulProgramInfoLoader)(l,r),l);return e.reshapeUnpacked(A,o)},d=function(e,n,r){var i=n[0].dims,a=n[1].dims,o=(0,t.calculateOutputShape)(i,a,r.dilations,r.pads,r.strides),u=e.run((0,l.createIm2ColProgramInfoLoader)(e,n[0],n[1],o,r),[n[0]]),c=3===n.length?[u,n[1],n[2]]:[u,n[1]];return e.run((0,s.createDotProductProgramInfoLoader)(e,n,o,r),c)},h=function(e,t){var n=e.kernelShape.slice();if(0===e.kernelShape.length)for(var r=2;r<t[1].dims.length;++r)n.push(t[1].dims[r]);var a=e.pads.slice();i.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,a,e.autoPad);var o=Object.assign({},e);return Object.assign(o,{kernelShape:n,pads:a,cacheKey:e.cacheKey}),o};t.parseConvAttributes=function(e){var t=e.attributes,n=(0,u.parseInternalActivationAttributes)(t),i=t.getString("auto_pad","NOTSET"),a=t.getInts("dilations",[1,1]),o=t.getInt("group",1),s=t.getInts("kernel_shape",[]),l=t.getInts("pads",[0,0,0,0]),c=t.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:i,dilations:a,group:o,kernelShape:s,pads:l,strides:c},n))};var p=function(e,t){if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");var n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error("dilations should be ".concat(n,"D"));if(t.strides.length!==n)throw new Error("strides should be ".concat(n,"D"));if(t.pads.length!==2*n)throw new Error("pads should be ".concat(2*n,"D"));if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("Conv input(bias) should be float tensor")}},6742:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDepthToSpaceAttributes=t.depthToSpace=void 0;var r=n(5707);t.depthToSpace=function(e,t,n){i(t);var a=n.blocksize,o=a*a,s="DCR"===n.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],u="DCR"===n.mode?[t[0].dims[0],a,a,t[0].dims[1]/o,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/o,a,a,t[0].dims[2],t[0].dims[3]],l=e.reshapeUnpacked(t[0],u),c={perm:s,cacheKey:"".concat(s)},A=(0,r.transpose)(e,[l],c),f=_slicedToArray(A,1)[0],d=[t[0].dims[0],t[0].dims[1]/o,t[0].dims[2]*a,t[0].dims[3]*a];return[e.reshapeUnpacked(f,d)]},t.parseDepthToSpaceAttributes=function(e){var t=e.attributes.getInt("blocksize");if(t<1)throw new Error("blocksize must be >= 1, but got : ".concat(t," for DepthToSpace"));var n=e.attributes.getString("mode","DCR");if("DCR"!==n&&"CRD"!==n)throw new Error("unrecognized mode: ".concat(n," for DepthToSpace"));return{mode:n,blocksize:t}};var i=function(e){if(1!==e.length)throw new Error("DepthToSpace expect 1 inputs, but got ".concat(e.length));if("string"===e[0].type||4!==e[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDotProductProgramInfoLoader=void 0;var r=n(7273),i=n(6757),a=n(5639),o=n(2150),s=n(1625);t.createDotProductProgramInfoLoader=function(e,t,n,u){var l=function(e,t){return{name:"ConvDotProduct",inputNames:e?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:e?[a.TextureType.unpacked,a.TextureType.packedLastDimension,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.packedLastDimension],cacheKey:t.activationCacheKey}}(t.length>2,u);return Object.assign(Object.assign({},l),{get:function(){return function(e,t,n,u,l){var c=n[0].dims,A=n[1].dims,f=[A[0],Math.ceil(c[1]*A[2]*A[3]/4)],d=(0,s.calculateIm2ColDims)(c,A,u),h=e.calculateTextureWidthAndHeight(f,a.TextureType.packedLastDimension),p=_slicedToArray(h,2),v=p[0],g=p[1],m=r.ShapeUtil.computeStrides(d),y=e.calculateTextureWidthAndHeight(d,a.TextureType.packedLastDimension),b=_slicedToArray(y,2),w=b[0],x=b[1],_=u.length,C=n.length<3?"0.0":"_B(b)",E=Math.ceil(c[1]*A[2]*A[3]/4),S=(0,o.getActivationSnippet)(l),B=S.activationFunction,T=S.applyActivation,I=(0,i.getGlsl)(e.session.backend.glContext.version),k="\n".concat(B,"\nfloat process(int indices[").concat(_,"]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ").concat(m[0]," + im2col[1] * ").concat(m[1]," + im2col[2] * ").concat(m[2],";\n  int kernelOffset = indices[1] * ").concat(f[1],";\n  float value = ").concat(C,";\n  for (int i = 0; i < ").concat(E,"; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ").concat(w,", ").concat(x,");\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ").concat(v,", ").concat(g,");\n    value += dot(").concat(I.texture2D,"(Im2Col, im2colCoords), ").concat(I.texture2D,"(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ").concat(T,"\n  return value;\n}");return Object.assign(Object.assign({},t),{output:{dims:u,type:n[0].type,textureType:a.TextureType.unpacked},shaderSource:k})}(e,l,t,n,u)}})}},4125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFlattenAttributes=t.flatten=void 0;var r=n(7273);t.flatten=function(e,t,n){i(t,n);var a=r.ShapeUtil.flattenShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],a)]},t.parseFlattenAttributes=function(e){return e.attributes.getInt("axis",1)};var i=function(e,t){if(!e||1!==e.length)throw new Error("Flatten requires 1 input.");var n=e[0].dims.length;if(0===n)throw new Error("scalar tensor is not supported.");if(t<-n||t>n)throw new Error("Invalid axis");if("string"===e[0].type)throw new Error("string tensor is not supported.")}},2150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActivationSnippet=void 0;var r=n(7273),i=n(9087);t.getActivationSnippet=function(e){var t;switch(e.activation){case"Relu":t=(0,i.glslRelu)();break;case"Sigmoid":t=(0,i.glslSigmoid)();break;case"Clip":t=(0,i.glslClip)(e.clipMin,e.clipMax);break;default:return{activationFunction:"",applyActivation:""}}var n=t.name;return{activationFunction:t.body,applyActivation:"value = ".concat(n,"_(value);")}},t.parseInternalActivationAttributes=function(e){var t=e.getString("activation","");if("Clip"===t){var n=e.getFloats("activation_params",[r.MIN_CLIP,r.MAX_CLIP]),i=_slicedToArray(n,2),a=i[0],o=i[1];return{activation:t,clipMax:o,clipMin:a,activationCacheKey:"".concat(t,":").concat(a,",").concat(o)}}return{activation:t,activationCacheKey:t}}},6149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGatherAttributes=t.gather=void 0;var r=n(4910),i=n(6145),a=n(7273),o=n(5639);t.gather=function(e,t,n){return l(t,n.axis),[e.run(u(e,t,n),t)]},t.parseGatherAttributes=function(e){return(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",0)})};var s={name:"Gather",inputNames:["A","B"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked]},u=function(e,t,n){var r=Object.assign(Object.assign({},s),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:function(){return function(e,t,n,r){var i=n[0].dims.slice(),s=n[1].dims.slice(),u=new Array(i.length+s.length-1);r=a.ShapeUtil.normalizeAxis(r,i.length);for(var l=[],c=0;c<u.length;c++)c<r?(u[c]=i[c],l.push("inputIdx[".concat(c,"] = outputIdx[").concat(c,"];"))):c<r+s.length?(u[c]=s[c-r],l.push("indexDataIdx[".concat(c-r,"] = outputIdx[").concat(c,"];"))):(u[c]=i[c-s.length+1],l.push("inputIdx[".concat(c-s.length+1,"] = outputIdx[").concat(c,"];")));var A="\n      float process(int outputIdx[".concat(u.length||1,"]) {\n        int inputIdx[").concat(i.length,"];\n        int indexDataIdx[").concat(s.length||1,"];\n        indexDataIdx[0] = 0;\n        ").concat(l.join("\n        "),"\n        int idx = int(_B(indexDataIdx));\n        inputIdx[").concat(r,"] = idx < 0 ? idx + ").concat(i[r]," : idx;\n        return _A(inputIdx);\n      }");return Object.assign(Object.assign({},t),{output:{dims:u,type:n[0].type,textureType:o.TextureType.unpacked},shaderSource:A})}(0,r,t,n.axis)}})},l=function(e,t){if(!e||2!==e.length)throw new Error("Gather requires 2 inputs.");var n=e[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(t<-n||t>n-1)throw new Error("Invalid axis.");if(-1===i.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invaid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invaid input type.")}},5378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributesV11=t.parseGemmAttributesV7=t.gemm=void 0;var r=n(4910),i=n(7273),a=n(5639);t.gemm=function(e,t,n){return l(t,n),[e.run(s(t,n),t)]};var o=function(e,t){var n=0!==e.attributes.getInt("transA",0),i=0!==e.attributes.getInt("transB",0),a=e.attributes.getFloat("alpha",1),o=e.attributes.getFloat("beta",1);return(0,r.createAttributeWithCacheKey)({transA:n,transB:i,alpha:a,beta:o,isOptionalC:t})};t.parseGemmAttributesV7=function(e){return o(e,!1)},t.parseGemmAttributesV11=function(e){return o(e,!0)};var s=function(e,t){var n={name:"Gemm",inputNames:3===e.length?["A","B","C"]:["A","B"],inputTypes:3===e.length?[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.unpacked],key:t.cacheKey};return Object.assign(Object.assign({},n),{get:function(){return u(n,e,t)}})},u=function(e,t,n){var r=t[0].dims.slice(),o=t[1].dims.slice(),s=i.GemmUtil.getShapeOfGemmResult(r,n.transA,o,n.transB,3===t.length?t[2].dims:void 0),u=_slicedToArray(s,2),l=u[0],c=u[1],A=[l,c];if(!A)throw new Error("Can't use gemm on the given tensors");var f=r[r.length-1],d="";n.transA&&(f=r[0]),n.transA&&n.transB?d="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?d="value += _A_T(a) * _B(b);":!n.transA&&n.transB?d="value += _A(a) * _B_T(b);":n.transA||n.transB||(d="value += _A(a) * _B(b);");var h=A.length,p="\n      float process(int indices[".concat(h,"]) {\n          int a[").concat(h,"];\n          int b[").concat(h,"];\n          ").concat(3===t.length?"int c[".concat(t[2].dims.length,"];"):"","\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ").concat(3===t.length?"bcastIndices_C(indices, c);":"","\n\n          float value = 0.0;\n          for (int k=0; k<").concat(f,"; ++k) {\n              a[").concat(h-1,"] = k;\n              b[").concat(h-2,"] = k;\n              ").concat(d,"\n          }\n\n          value = value * alpha;\n          ").concat(3===t.length?"value += beta * _C(c);":"","\n          return value;\n      }");return Object.assign(Object.assign({},e),{output:{dims:A,type:t[0].type,textureType:a.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:p})},l=function(e,t){if(!e)throw new Error("Input is missing");if(t.isOptionalC&&(e.length<2||e.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&3!==e.length)throw new Error("Gemm requires 3 inputs");if(3===e.length&&1!==e[2].dims.length&&2!==e[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type||3===e.length&&"float32"!==e[2].type&&"float64"!==e[2].type)throw new Error("Invalid input type.");if(e[0].type!==e[1].type||3===e.length&&e[0].type!==e[2].type)throw new Error("Input types are mismatched")}},5950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedIm2ColProgramInfoLoader=void 0;var r=n(6757),i=n(5639),a=n(5614);t.createPackedIm2ColProgramInfoLoader=function(e,t,n,o,s){var u,l=(u=s.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[i.TextureType.packed],cacheHint:u});return Object.assign(Object.assign({},l),{get:function(){return function(e,t,n,o,s,u){for(var l=n.dims,c=o.dims,A=s.length,f=[c[1]*c[2]*c[3],s[2]*s[3]],d=c[2]*c[3],h=(0,a.unpackFromChannel)(),p=(0,r.getGlsl)(e.session.backend.glContext.version),v="",g=0;g<=1;g++)for(var m=0;m<=1;m++)v+="\n            blockIndex = rc.x + ".concat(m,";\n            pos = rc.y + ").concat(g,";\n\n            if(blockIndex < ").concat(f[1]," && pos < ").concat(f[0],") {\n              offsetY = int(blockIndex / (").concat(s[A-1],")) * ").concat(u.strides[0]," -\n                ").concat(u.pads[0],";\n              d0 = offsetY + ").concat(u.dilations[0]," * (imod(pos, ").concat(d,") / ").concat(c[2],");\n\n              if(d0 < ").concat(l[2]," && d0 >= 0) {\n                offsetX = imod(blockIndex, ").concat(s[A-1],") * ").concat(u.strides[1]," -\n                  ").concat(u.pads[1],";\n                d1 = offsetX + ").concat(u.dilations[1]," * imod(imod(pos, ").concat(d,"), ").concat(c[2],");\n\n                if(d1 < ").concat(l[3]," && d1 >= 0) {\n\n                  ch = int(float(pos)/ ").concat(d,".);\n                    innerDims = vec2(d0, d1);\n                    result[").concat(2*g+m,"] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          ");var y="\n      ".concat(h,"\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ").concat(v,"\n          ").concat(p.output," = result;\n      }\n            ");return Object.assign(Object.assign({},t),{output:{dims:f,type:n.type,textureType:i.TextureType.packed},shaderSource:y,hasMain:!0})}(e,l,t,n,o,s)}})}},1625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateIm2ColDims=t.createIm2ColProgramInfoLoader=void 0;var r=n(5639);t.createIm2ColProgramInfoLoader=function(e,n,i,a,o){var s,u=(s=o.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[r.TextureType.unpacked],cacheHint:s});return Object.assign(Object.assign({},u),{get:function(){return function(e,n,i,a,o,s){var u=i.dims,l=a.dims,c=o.length,A=(0,t.calculateIm2ColDims)(u,l,o,4),f="\n        const int XC = ".concat(u[1],";\n        const int XH = ").concat(u[2],";\n        const int XW = ").concat(u[3],";\n        const int KH = ").concat(s.kernelShape[0],";\n        const int KW = ").concat(s.kernelShape[1],";\n        const int dilationH = ").concat(s.dilations[0],";\n        const int dilationW = ").concat(s.dilations[1],";\n        const int strideH = ").concat(s.strides[0],";\n        const int strideW = ").concat(s.strides[1],";\n        const int padH = ").concat(s.pads[0],";\n        const int padW = ").concat(s.pads[1],";\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[").concat(c,"]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[").concat(u.length,"];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        ");return Object.assign(Object.assign({},n),{output:{dims:A,type:i.type,textureType:r.TextureType.packedLastDimension},shaderSource:f})}(0,u,n,i,a,o)}})},t.calculateIm2ColDims=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;return[n[0],n[2],n[3],Math.ceil(e[1]*t[2]*t[3]/r)]}},6981:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseImageScalerAttributes=t.imageScaler=void 0;var r=n(4910),i=n(5639);t.imageScaler=function(e,t,n){return u(t),[e.run(o(e,t,n),t)]},t.parseImageScalerAttributes=function(e){var t=e.attributes.getFloat("scale"),n=e.attributes.getFloats("bias");return(0,r.createAttributeWithCacheKey)({scale:t,bias:n})};var a={name:"ImageScaler",inputNames:["X"],inputTypes:[i.TextureType.unpacked]},o=function(e,t,n){var r=Object.assign(Object.assign({},a),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:function(){return function(e,t,n,r){var a=n[0].dims.slice(),o=a.length,u="\n      ".concat(s(r.bias.length),"\n      float process(int indices[").concat(o,"]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }");return Object.assign(Object.assign({},t),{output:{dims:a,type:n[0].type,textureType:i.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:r.bias.length,data:r.bias},{name:"scale",type:"float",data:r.scale}],shaderSource:u})}(0,r,t,n)}})},s=function(e){for(var t=["float getBias(float bias[".concat(e,"], int channel) {")],n=0;n<e;++n)0===n?t.push("\tif (channel == ".concat(n,") { return bias[").concat(n,"]; }")):n===e-1?t.push("\telse { return bias[".concat(n,"]; }")):t.push("\telse if (channel == ".concat(n,") { return bias[").concat(n,"]; }"));return t.push("\t}"),t.join("\n")},u=function(e){if(!e||1!==e.length)throw new Error("ImageScaler requires 1 input.");if(4!==e[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")}},7413:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstanceNormalizationAttributes=t.instanceNormalization=void 0;var r=n(6757),i=n(5639);t.instanceNormalization=function(e,t,n){l(t);var r=e.run(o(t[0]),t);return[e.run(u(e,t[0],n,r.dims),[t[0],r,t[1],t[2]])]},t.parseInstanceNormalizationAttributes=function(e){return e.attributes.getFloat("epsilon",1e-5)};var a={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[i.TextureType.unpacked]},o=function(e){return Object.assign(Object.assign({},a),{get:function(){return function(e,t){var n=t.dims.slice(),r=n[1],a=n[2]*n[3],o=[n[0],r],s="\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<".concat(n[2],"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<").concat(n[3],"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(").concat(a,");\n        temp = 0.0;\n        for(int a2=0; a2<").concat(n[2],"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<").concat(n[3],"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(").concat(a,");\n\n        return v;\n      }");return Object.assign(Object.assign({},e),{output:{dims:o,type:t.type,textureType:i.TextureType.packedLastDimension},shaderSource:s})}(a,e)}})},s={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[i.TextureType.unpacked,i.TextureType.packedLastDimension,i.TextureType.unpacked,i.TextureType.unpacked]},u=function(e,t,n,a){var o=Object.assign(Object.assign({},s),{cacheHint:"".concat(n)});return Object.assign(Object.assign({},o),{get:function(){return function(e,t,n,a,o){var s=(0,r.getGlsl)(e.session.backend.glContext.version),u=e.calculateTextureWidthAndHeight(o,i.TextureType.packedLastDimension),l=_slicedToArray(u,2),c=l[0],A=l[1],f="\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ".concat(c/4,", ").concat(A,");\n        return ").concat(s.texture2D,"(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }");return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:i.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:a}],shaderSource:f})}(e,o,t,n,a)}})},l=function(e){if(!e||3!==e.length)throw new Error("InstanceNormalization requires 3 inputs.");var t=e[0],n=e[1],r=e[2];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length)throw new Error("Invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type)throw new Error("Invalid input type.");if(4!==e[0].dims.length)throw new Error("Only support 4-D input shape.")}},7006:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLrnProgramInfoLoader=t.parseLrnAttributes=t.lrn=void 0;var r=n(4910),i=n(5639);t.lrn=function(e,t,n){return s(t),[e.run(o(t,n),t)]},t.parseLrnAttributes=function(e){var t=e.attributes.getFloat("alpha",1e-4),n=e.attributes.getFloat("beta",.75),i=e.attributes.getFloat("bias",1),a=e.attributes.getInt("size");return(0,r.createAttributeWithCacheKey)({alpha:t,beta:n,bias:i,size:a})};var a={name:"LRN",inputNames:["X"],inputTypes:[i.TextureType.unpacked]};function o(e,t){return Object.assign(Object.assign({},a),{cacheHint:t.cacheKey,get:function(){return function(e,t){var n=e[0].dims[1],r=e[0].dims.length,o=-Math.floor((t.size-1)/2),s=Math.ceil((t.size-1)/2),u="float(".concat(t.alpha,") / float(").concat(t.size,")"),l="\n    float process(int indices[".concat(r,"]) {\n        int c = indices[1];\n        float x = _X(indices);\n        float square_sum = 0.0;\n\n        for (int i = ").concat(o,"; i <= ").concat(s,"; i++) {\n          int idx = c + i;\n          if (c >= 0 && c < ").concat(n,") {\n            indices[1] = idx;\n            float j = _X(indices);\n            square_sum += j * j;\n          }\n        }\n        return x / pow(float(").concat(t.bias,") + ").concat(u," * square_sum, float(").concat(t.beta,"));\n    }");return Object.assign(Object.assign({},a),{cacheHint:t.cacheKey,output:{dims:e[0].dims,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:l})}(e,t)}})}t.createLrnProgramInfoLoader=o;var s=function(e){if(!e||1!==e.length)throw new Error("LRN requires 1 input.");if(4!==e[0].dims.length)throw new Error('currently only support LRN for input with "NCHW" format');if("float32"!==e[0].type)throw new Error("input should be float type")}},5632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedMatmulProgramInfoLoader=void 0;var r=n(7273),i=n(6757),a=n(5639),o=n(432),s=n(2150),u=n(8276);t.createPackedMatmulProgramInfoLoader=function(e,t,n){var l,c,A=(l=t.length>2,c=n.activationCacheKey,{name:"MatMul (packed)",inputNames:l?["A","B","Bias"]:["A","B"],inputTypes:l?[a.TextureType.packed,a.TextureType.packed,a.TextureType.packed]:[a.TextureType.packed,a.TextureType.packed],cacheHint:c});return Object.assign(Object.assign({},A),{get:function(){return function(e,t,n,l){var c=n.length>2,A=c?"value += getBiasForMatmul();":"",f=n[0].dims,d=n[1].dims,h=r.BroadcastUtil.calcShape(f,d,!0),p=!r.ShapeUtil.areEqual(n[0].dims,n[1].dims);if(!h)throw new Error("Can't use matmul on the given tensors");var v=f[f.length-1],g=Math.ceil(v/2),m=f.length,y=d.length,b=(0,i.getGlsl)(e.session.backend.glContext.version),w=(0,o.getCoordsDataType)(h.length),x=h.length,_=(0,o.getGlChannels)(),C=(0,s.getActivationSnippet)(l),E=C.activationFunction,S=C.applyActivation,B=c?"".concat((0,u.getBiasForMatmul)(w,_,n[2].dims,h,!0)):"",T=p?"".concat(function(e,t,n,i){var a=[],o=[],s=n[0].dims,u=n[1].dims,l=s.length,c=u.length,A=i.length,f=A-l,d=A-c;a=s.map((function(e,n){return"coords.".concat(t[n+f])})),a[l-1]="i*2",a.join(", "),o=u.map((function(e,n){return"coords.".concat(t[n+d])})),o[c-2]="i*2",o.join(", ");var h=r.BroadcastUtil.getBroadcastDims(s,i),p=r.BroadcastUtil.getBroadcastDims(u,i),v=h.map((function(e){return"coords.".concat(t[e+f]," = 0;")})).join("\n"),g=p.map((function(e){return"coords.".concat(t[e+d]," = 0;")})).join("\n"),m="int lastDim = coords.".concat(t[A-1],";\n  coords.").concat(t[A-1]," = coords.").concat(t[A-2],";\n  coords.").concat(t[A-2]," = lastDim;");return"\nvec4 getAAtOutCoordsMatmul(int i) {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(m,"\n  ").concat(v,"\n  vec4 outputValue = getA(").concat(a,");\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ").concat(e," coords = getOutputCoords();\n  ").concat(m,"\n  ").concat(g,"\n  vec4 outputValue = getB(").concat(o,");\n  return outputValue;\n}")}(w,_,n,h)):"",I=p?"getAAtOutCoordsMatmul(i)":"getA(".concat(function(e,t){for(var n="",r=0;r<t-2;r++)n+="rc.".concat(e[r],", ");return n+="rc.".concat(e[t-2],", i*2")}(_,m),")"),k=p?"getBAtOutCoordsMatmul(i)":"getB(".concat(function(e,t){for(var n="",r=0;r<t-2;r++)n+="rc.".concat(e[r],", ");return n+="i*2, rc.".concat(e[t-1])}(_,y),")"),M="\n            ".concat(T,"\n            ").concat(B,"\n            ").concat(E,"\n            void main() {\n              ").concat(p?"":"".concat(w," rc =\n          getOutputCoords(); int lastDim = rc.").concat(_[x-1],"; rc.").concat(_[x-1]," =\n          rc.").concat(_[x-2],"; rc.").concat(_[x-2]," = lastDim;\n      "),"\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ").concat(g,"; i++) {\n                vec4 a = ").concat(I,";\n                vec4 b = ").concat(k,";\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ").concat(A,"\n              ").concat(S,"\n              ").concat(b.output," = value;\n            }");return Object.assign(Object.assign({},t),{output:{dims:h,type:n[0].type,textureType:a.TextureType.packed},shaderSource:M,hasMain:!0})}(e,A,t,n)}})}},8276:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBiasForMatmul=t.createMatmulProgramInfoLoader=t.parseMatMulAttributes=t.matMul=void 0;var r=n(7273),i=n(5639),a=n(432),o=n(2150),s=n(5632);t.matMul=function(e,t,n){return c(t),e.session.pack?[e.run((0,s.createPackedMatmulProgramInfoLoader)(e,t,n),t)]:[e.run(l(t,n),t)]},t.parseMatMulAttributes=function(e){return(0,o.parseInternalActivationAttributes)(e.attributes)};var u=function(e,t){return{name:"MatMul",inputNames:e?["A","B","Bias"]:["A","B"],inputTypes:e?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:t}};function l(e,t){var n=u(e.length>2,t.activationCacheKey);return Object.assign(Object.assign({},n),{get:function(){return function(e,t,n){var s=t[0].dims,u=t[1].dims,l=r.BroadcastUtil.calcShape(s,u,!0);if(!l)throw new Error("Can't use matmul on the given tensors");var c=(0,a.getCoordsDataType)(l.length),f=(0,a.getGlChannels)(),d=(0,o.getActivationSnippet)(n),h=d.activationFunction,p=d.applyActivation,v=t.length>2,g=v?"value += getBiasForMatmul();":"",m=v?"".concat(A(c,f,t[2].dims,l,!1)):"",y=l.length,b=s.length,w=u.length,x="\n    ".concat(h,"\n    ").concat(m,"\n    float process(int indices[").concat(y,"]) {\n        int a[").concat(b,"];\n        int b[").concat(w,"];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<").concat(s[s.length-1],"; ++k) {\n            a[").concat(b-1,"] = k;\n            b[").concat(w-2,"] = k;\n            value += _A(a) * _B(b);\n        }\n        ").concat(g,"\n        ").concat(p,"\n        return value;\n    }");return Object.assign(Object.assign({},e),{output:{dims:l,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:x})}(n,e,t)}})}t.createMatmulProgramInfoLoader=l;var c=function(e){if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type)throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match")};function A(e,t,n,i,a){var o,s=n.length,u=i.length,l=u-s;o=u<2&&s>0?"coords":n.map((function(e,n){return"coords.".concat(t[n+l])})).join(", ");var c=r.BroadcastUtil.getBroadcastDims(n,i).map((function(e){return"coords.".concat(t[e+l]," = 0;")})).join("\n"),A="vec4(outputValue.xx, outputValue.yy)";return 1===r.ShapeUtil.size(n)&&(A="vec4(outputValue.x)"),a?"\nvec4 getBiasForMatmul() {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(c,"\n  vec4 outputValue = getBias(").concat(o,");\n  return ").concat(A,";\n}"):"\nfloat getBiasForMatmul() {\n  ".concat(e," coords = getOutputCoords();\n  ").concat(c,"\n  return getBias(coords.x);\n}")}t.getBiasForMatmul=A},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackProgramInfoLoader=void 0;var r=n(6757),i=n(5639),a=n(432),o=n(5614),s={name:"pack",inputNames:["A"],inputTypes:[i.TextureType.unpackedReversed]};t.createPackProgramInfoLoader=function(e,t){return Object.assign(Object.assign({},s),{get:function(){return function(e,t){var n,u,l,c,A=(0,r.getGlsl)(e.session.backend.glContext.version),f=t.dims,d=f.length,h=t.dims.length,p=(0,a.getCoordsDataType)(h),v=(0,o.getChannels)("rc",h),g=(n=h,u=v,l=f[f.length-2],c=f[f.length-1],0===n||1===n?"":"\n    int r = ".concat(u[n-2],";\n    int c = ").concat(u[n-1],";\n    int rp1 = ").concat(u[n-2]," + 1;\n    int cp1 = ").concat(u[n-1]," + 1;\n    bool rEdge = rp1 >= ").concat(c,";\n    bool cEdge = cp1 >= ").concat(l,";\n    ")),m=function(e,t,n){if(0===e)return"false";if(1===e)return"rc > ".concat(t[0]);for(var r="",i=e-2;i<e;i++)r+="".concat(n[i]," >= ").concat(t[i-e+2]),i<e-1&&(r+="||");return r}(h,0===d?[1,1]:1===d?[f[0],1]:[f[h-1],f[h-2]],v),y=function(e,t){var n=e.length;if(0===n)return"getA(), 0, 0, 0";if(1===n)return"getA(rc),\n            rc + 1 >= ".concat(e[0]," ? 0. : getA(rc + 1),\n            0, 0");var r="";if(n>2)for(var i=0;i<n-2;++i)r+="".concat(t[i],",");return"getA(".concat(r,"r, c),\n          rEdge ? 0. : getA(").concat(r,"rp1, c),\n          cEdge ? 0. : getA(").concat(r,"r, cp1),\n          rEdge || cEdge ? 0. : getA(").concat(r,"rp1, cp1)")}(f,v),b="\n        void main() {\n          ".concat(p," rc = getOutputCoords();\n\n          if(").concat(m,") {\n            ").concat(A.output," = vec4(0);\n          } else {\n            ").concat(g,"\n\n            ").concat(A.output," = vec4(").concat(y,");\n          }\n        }\n      ");return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:i.TextureType.packed},shaderSource:b})}(e,t)}})}},5614:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackFromChannel=t.getChannels=t.getVecChannels=void 0;var r=n(432);function i(e,t){return(0,r.getGlChannels)(t).map((function(t){return"".concat(e,".").concat(t)}))}t.getVecChannels=i,t.getChannels=function(e,t){return 1===t?[e]:i(e,t)},t.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},5565:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadAttributesV11=t.padV11=t.parsePadAttributesV2=t.padV2=void 0;var r=n(4910),i=n(7273),a=n(6757),o=n(5639),s={name:"Pad",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};t.padV2=function(e,t,n){return c(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:function(){return l(e,t[0],n)}}),t)]},t.parsePadAttributesV2=function(e){var t=e.attributes.getString("mode","constant"),n=e.attributes.getFloat("value",0),i=e.attributes.getInts("pads");return(0,r.createAttributeWithCacheKey)({mode:t,value:n,pads:i})},t.padV11=function(e,n,r){A(n);var i=u(e,n,r);return(0,t.padV2)(e,[n[0]],i)},t.parsePadAttributesV11=function(e){return e.attributes.getString("mode","constant")};var u=function(e,t,n){if(!e.session.isInitializer(t[1].dataId)||t.length>=3&&!e.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");var i=Array.from(t[1].integerData),a=t.length>=3?t[2].floatData[0]:0;return(0,r.createAttributeWithCacheKey)({mode:n,pads:i,value:a})},l=function(e,t,n){var r=i.ShapeUtil.padShape(t.dims.slice(),n.pads),a=r.length,s="\n      ".concat(f(e,t,n),"\n      float process(int[").concat(a,"] indices) {\n          return padA(indices);\n      }");return{name:"Pad",inputNames:["A"],inputTypes:[o.TextureType.unpacked],output:{dims:r,type:t.type,textureType:o.TextureType.unpacked},shaderSource:s}},c=function(e){if(!e||1!==e.length)throw new Error("Pad requires 1 input");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},A=function(e){if(!e||2!==e.length&&3!==e.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==e[1].type)throw new Error("Invalid input type.");if(e.length>=3&&"string"===e[2].type)throw new Error("Invalid input type.")},f=function(e,t,n){var r=(0,a.getGlsl)(e.session.backend.glContext.version),s=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),u=_slicedToArray(s,2),l=u[0],c=u[1],A=i.ShapeUtil.computeStrides(t.dims);switch(n.mode){case"constant":return d(r,t.dims,A,l,c,n.pads,n.value);case"reflect":return h(r,t.dims,A,l,c,n.pads);case"edge":return p(r,t.dims,A,l,c,n.pads);default:throw new Error("Invalid mode")}},d=function(e,t,n,r,i,a,o){for(var s=t.length,u="",l=s-1;l>=0;--l)u+="\n        k = m[".concat(l,"] - ").concat(a[l],";\n        if (k < 0)  return constant;\n        if (k >= ").concat(t[l],") return constant;\n        offset += k * ").concat(n[l],";\n        ");return"\n      float padA(int m[".concat(s,"]) {\n        const float constant = float(").concat(o,");\n        int offset = 0;\n        int k = 0;\n        ").concat(u,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(i,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")},h=function(e,t,n,r,i,a){for(var o=t.length,s="",u=o-1;u>=0;--u)s+="\n        k = m[".concat(u,"] - ").concat(a[u],";\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ").concat(2*(t[u]-1),";\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ").concat(t[u],") { k = _2n_1 - k; }\n        }\n        offset += k * ").concat(n[u],";\n        ");return"\n      float padA(int m[".concat(o,"]) {\n        int offset = 0;\n        int k = 0;\n        ").concat(s,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(i,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")},p=function(e,t,n,r,i,a){for(var o=t.length,s="",u=o-1;u>=0;--u)s+="\n        k = m[".concat(u,"] - ").concat(a[u],";\n        if (k < 0)  k = 0;\n        if (k >= ").concat(t[u],") k = ").concat(t[u]-1,";\n        offset += k * ").concat(n[u],";\n      ");return"\n      float padA(int m[".concat(o,"]) {\n        int offset = 0;\n        int k = 0;\n        ").concat(s,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(i,");\n        float value = getColorAsFloat(").concat(e.texture2D,"(A, coords));\n        return value;\n      }\n      ")}},2834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseMaxPoolAttributes=t.maxPool=t.parseGlobalAveragePoolAttributes=t.globalAveragePool=t.parseAveragePoolAttributes=t.averagePool=void 0;var r=n(4910),i=n(7273),a=n(5639);t.averagePool=function(e,t,n){A(t);var r={name:"AveragePool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:function(){return o(t,r,!1,n)}}),t)]},t.parseAveragePoolAttributes=function(e){var t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),i=0!==e.attributes.getInt("count_include_pad",0),a=e.attributes.getInts("kernel_shape"),o=e.attributes.getInts("strides",[]),s=e.attributes.getInts("pads",[]);if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,r.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:i,kernelShape:a,strides:o,pads:s})};var o=function(e,t,n,r){var o=u(e,r,n),s=_slicedToArray(o,2),l=s[0],c=s[1],A=i.ShapeUtil.size(l.kernelShape),d="";l.countIncludePad?d+="value /= float(".concat(A,");"):d+="value /= float(".concat(A," - pad);");var h="\n        ".concat(f(e[0].dims,l,"value += _X(x);",d,"0.0"),"\n      ");return Object.assign(Object.assign({},t),{output:{dims:c,type:e[0].type,textureType:a.TextureType.unpacked},shaderSource:h})};t.globalAveragePool=function(e,t,n){A(t);var r={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:"".concat(n.countIncludePad)};return[e.run(Object.assign(Object.assign({},r),{get:function(){return o(t,r,!0,n)}}),t)]},t.parseGlobalAveragePoolAttributes=function(e){var t=0!==e.attributes.getInt("count_include_pad",0);return(0,r.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:t,kernelShape:[],strides:[],pads:[]})},t.maxPool=function(e,t,n){A(t);var r={name:"MaxPool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:function(){return s(t,r,!1,n)}}),t)]},t.parseMaxPoolAttributes=function(e){var t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),i=e.attributes.getInts("kernel_shape"),a=e.attributes.getInts("strides",[]),o=e.attributes.getInts("pads",[]),s=e.attributes.getInt("storage_order",0),u=e.attributes.getInts("dilations",[]);if(0!==s)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,r.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:!1,kernelShape:i,strides:a,pads:o,storageOrder:s,dilations:u})};var s=function(e,t,n,r){var i=u(e,r,n),o=_slicedToArray(i,2),s=o[0],l=o[1],c="\n      ".concat(f(e[0].dims,s,"\n      value = max(_X(x), value);\n    ","","-1e5"),"\n    ");return Object.assign(Object.assign({},t),{output:{dims:l,type:e[0].type,textureType:a.TextureType.unpacked},shaderSource:c})},u=function(e,t,n){var r=e[0].dims.slice(),a=Object.hasOwnProperty.call(t,"dilations"),o=t.kernelShape.slice(),s=t.strides.slice(),u=a?t.dilations.slice():[],l=t.pads.slice();i.PoolConvUtil.adjustPoolAttributes(n,r,o,s,u,l);var c=i.PoolConvUtil.computePoolOutputShape(n,r,s,u,o,l,t.autoPad),A=Object.assign({},t);return a?Object.assign(A,{kernelShape:o,strides:s,pads:l,dilations:u,cacheKey:t.cacheKey}):Object.assign(A,{kernelShape:o,strides:s,pads:l,cacheKey:t.cacheKey}),[A,c]},l={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},c={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[a.TextureType.unpacked]};t.globalMaxPool=function(e,t){return A(t),[e.run(Object.assign(Object.assign({},c),{get:function(){return s(t,c,!0,l)}}),t)]};var A=function(e){if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},f=function(e,t,n,r,a){var o=e.length;if(t.kernelShape.length<=2){var s,u=t.kernelShape[t.kernelShape.length-1],l=t.strides[t.strides.length-1],c=t.pads[t.pads.length/2-1],A=t.pads[t.pads.length-1],f=e[o-1],p="",v="";if(s=c+A!==0?"\n          for (int i = 0; i < ".concat(u,"; i++) {\n            x[").concat(o," - 1] = indices[").concat(o," - 1] * ").concat(l," - ").concat(c," + i;\n            if (x[").concat(o," - 1] < 0 || x[").concat(o," - 1] >= ").concat(f,") {\n              pad++;\n              continue;\n            }\n            ").concat(n,"\n          }"):"\n          for (int i = 0; i < ".concat(u,"; i++) {\n            x[").concat(o," - 1] = indices[").concat(o," - 1] * ").concat(l," - ").concat(c," + i;\n            ").concat(n,"\n          }"),2===t.kernelShape.length){var g=t.kernelShape[t.kernelShape.length-2],m=t.strides[t.strides.length-2],y=t.pads[t.pads.length/2-2],b=t.pads[t.pads.length-2],w=e[o-2];p=y+b!==0?"\n            for (int j = 0; j < ".concat(g,"; j++) {\n              x[").concat(o," - 2] = indices[").concat(o," - 2] * ").concat(m," - ").concat(y," + j;\n              if (x[").concat(o," - 2] < 0 || x[").concat(o," - 2] >= ").concat(w,") {\n                pad+= ").concat(u,";\n                continue;\n              }\n          "):"\n            for (int j = 0; j < ".concat(g,"; j++) {\n              x[").concat(o," - 2] = indices[").concat(o," - 2] * ").concat(m," - ").concat(y," + j;\n            "),v="\n          }\n        "}return"\n        float process(int indices[".concat(o,"]) {\n          int x[").concat(o,"];\n          copyVec(indices, x);\n\n          float value = ").concat(a,";\n          int pad = 0;\n          ").concat(p,"\n          ").concat(s,"\n          ").concat(v,"\n          ").concat(r,"\n          return value;\n        }\n      ")}var x,_=i.ShapeUtil.size(t.kernelShape),C=i.ShapeUtil.computeStrides(t.kernelShape),E=C.length,S=t.pads.length,B=h(E),T=d(e,"inputDims"),I=d(t.pads,"pads"),k=d(C,"kernelStrides"),M=d(t.strides,"strides");return x=t.pads.reduce((function(e,t){return e+t}))?"\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ".concat(n,"\n          }"):"\n          }\n          ".concat(n,"\n        "),"\n        ".concat(B,"\n        float process(int indices[").concat(o,"]) {\n          int x[").concat(o,"];\n          copyVec(indices, x);\n          int offset[").concat(E,"];\n          int pads[").concat(S,"];\n          int inputDims[").concat(o,"];\n          int kernelStrides[").concat(E,"];\n          int strides[").concat(E,"];\n          ").concat(I,"\n          ").concat(T,"\n          ").concat(M,"\n          ").concat(k,"\n\n          float value = ").concat(a,";\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ").concat(_,"; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ").concat(o," - ").concat(E,"; j < ").concat(o,"; j++) {\n              x[j] = indices[j] * strides[j - ").concat(o," + ").concat(E,"]\n                + offset[j - ").concat(o," + ").concat(E,"] - pads[j - 2];\n              ").concat(x,"\n          }\n          ").concat(r,"\n\n          return value;\n        }\n      ")},d=function(e,t){for(var n="",r=0;r<e.length;r++)n+="\n      ".concat(t,"[").concat(r,"] = ").concat(e[r],";\n    ");return n},h=function(e){return"\n  void offsetToIndices(int offset, int[".concat(e,"] strides, out int[").concat(e,"] indices) {\n    if (").concat(e," == 0) {\n      return;\n    }\n    for (int i = 0; i < ").concat(e," - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[").concat(e," - 1] = offset;\n  }")}},1010:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduceLogSumSquare=t.reduceLogSum=t.reduceProd=t.reduceMin=t.reduceMax=t.reduceMean=t.reduceSum=t.parseReduceAttributes=void 0;var r=n(4910),i=n(6145),a=n(7273),o=n(5639),s=function(e,t,n,r,i){l(t);var a={name:r,inputNames:["A"],inputTypes:[o.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},a),{cacheHint:n.cacheKey,get:function(){return u(e,t,n,r,i,a)}}),t)]};t.parseReduceAttributes=function(e){var t=e.attributes.getInts("axes",[]),n=1===e.attributes.getInt("keepdims",1);return(0,r.createAttributeWithCacheKey)({axes:t,keepDims:n})};var u=function(e,t,n,r,i,s){for(var u=[],l=t[0].dims.length||1,c=[],A=a.ShapeUtil.normalizeAxes(n.axes,t[0].dims.length),f=i(t,A),d=f[1],h=0;h<t[0].dims.length;h++)A.indexOf(h)>=0||0===A.length?(n.keepDims&&u.push(1),d="\n          for(int j".concat(h," = 0; j").concat(h," < ").concat(t[0].dims[h],"; j").concat(h,"++) {\n            inputIdx[").concat(h,"] = j").concat(h,";\n            ").concat(d,"\n          }")):(c.push("inputIdx[".concat(h,"] = outputIdx[").concat(u.length,"];")),u.push(t[0].dims[h]));var p="\n      float process(int outputIdx[".concat(u.length||1,"]) {\n        float value;                 // final result\n        int inputIdx[").concat(l,"];      // addressing input data\n        ").concat(c.join("\n"),"\n        ").concat(f[0],"       // init ops for reduce max/min\n        ").concat(d,"\n        ").concat(f[2],"       // final computation for reduce mean\n        return value;\n      }");return Object.assign(Object.assign({},s),{output:{dims:u,type:t[0].type,textureType:o.TextureType.unpacked},shaderSource:p})},l=function(e){if(!e||1!==e.length)throw new Error("Reduce op requires 1 input.");if(-1===i.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.reduceSum=function(e,t,n){return s(e,t,n,"ReduceSum",(function(){return["value = 0.0;","value += _A(inputIdx);",""]}))},t.reduceMean=function(e,t,n){return s(e,t,n,"ReduceMean",(function(e,t){for(var n=1,r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&(n*=e[0].dims[r]);return["value = 0.0;","value += _A(inputIdx);","value /= ".concat(n,".;")]}))},t.reduceMax=function(e,t,n){return s(e,t,n,"ReduceMax",(function(e,t){for(var n=[],r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push("inputIdx[".concat(r,"] = 0;"));return["".concat(n.join("\n"),"\nvalue = _A(inputIdx);"),"value = max(value, _A(inputIdx));",""]}))},t.reduceMin=function(e,t,n){return s(e,t,n,"ReduceMin",(function(e,t){for(var n=[],r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push("inputIdx[".concat(r,"] = 0;"));return["".concat(n.join("\n"),"\nvalue = _A(inputIdx);"),"value = min(value, _A(inputIdx));",""]}))},t.reduceProd=function(e,t,n){return s(e,t,n,"ReduceProd",(function(){return["value = 1.0;","value *= _A(inputIdx);",""]}))},t.reduceLogSum=function(e,t,n){return s(e,t,n,"ReduceLogSum",(function(){return["value = 0.0;","value += _A(inputIdx);","value = log(value);"]}))},t.reduceLogSumSquare=function(e,t,n){return s(e,t,n,"ReduceLogSumSquare",(function(){return["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]}))}},7379:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReshapeCheap=t.processDims3D=t.createPackedReshape3DProgramInfoLoader=void 0;var r=n(7273),i=n(6757),a=n(5639),o=n(5614);t.createPackedReshape3DProgramInfoLoader=function(e,t,n){var s=function(e){return{name:"Reshape (packed)",inputTypes:[a.TextureType.packed],inputNames:["A"],cacheHint:"".concat(e)}}(n);return Object.assign(Object.assign({},s),{get:function(){return function(e,t,n,s){for(var u=t.dims,l=s,c="",A=0;A<4;A++){var f="";switch(A){case 0:f="outputCoords = rc;";break;case 1:f="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:f="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:f="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}c+="\n        ".concat(f,"\n        ").concat(A>0?"if(outputCoords.y < rows && outputCoords.z < cols){":"","\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(A,"] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ").concat(A>0?"}":"","\n      ")}var d=(0,i.getGlsl)(e.session.backend.glContext.version),h="\n      ".concat(function(e){var t=r.ShapeUtil.computeStrides(e),n=["b","r","c"],i="index";return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(t.map((function(e,r){return"int ".concat(n[r]," = ").concat(i," / ").concat(e,"; ").concat(r===t.length-1?"int ".concat(n[r+1]," = ").concat(i," - ").concat(n[r]," * ").concat(e):"index -= ".concat(n[r]," * ").concat(e),";")})).join(""),"\n      return ivec3(b, r, c);\n    }\n  ")}(u),"\n      ").concat(function(e){var t=r.ShapeUtil.computeStrides(e);return"\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ".concat(t[0]," + coords.z * ").concat(t[1]," + coords.y;\n  }\n")}(l),"\n      ").concat((0,o.unpackFromChannel)(),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ").concat(l[2],";\n        int cols = ").concat(l[1],";\n\n        ").concat(c,"\n        ").concat(d.output," = result;\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:l,type:t.type,textureType:a.TextureType.packed},shaderSource:h,hasMain:!0})}(e,t,s,n)}})},t.processDims3D=function(e){if(0===e.length)return[1,1,1];for(var t=1,n=0;n<e.length-2;++n)t*=e[n];return[t,e.length>1?e[e.length-2]:1,e[e.length-1]]},t.isReshapeCheap=function(e,t){return 0===e.length||0===t.length||(e.length<2||t.length<2?e[e.length-1]===t[t.length-1]:e[e.length-1]===t[t.length-1]&&e[e.length-2]===t[t.length-2])}},8126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=void 0;var r=n(7273);t.reshape=function(e,t){var n=r.ShapeUtil.calculateReshapedDims(t[0].dims,t[1].integerData);return e.session.pack?[e.reshapePacked(t[0],n)]:[e.reshapeUnpacked(t[0],n)]}},2801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseResizeAttributesV11=t.parseResizeAttributesV10=t.resize=void 0;var r=n(6757),i=n(5639),a=n(432),o=n(5614),s=n(3980),u={name:"Resize",inputNames:["A"],inputTypes:[i.TextureType.packed]};t.resize=function(e,t,n){return(0,s.validateInputs)(t,n),[e.run(Object.assign(Object.assign({},u),{cacheHint:n.cacheKey,get:function(){return l(e,t,n)}}),t)]},t.parseResizeAttributesV10=function(e){return(0,s.parseUpsampleAttributes)(e,10)},t.parseResizeAttributesV11=function(e){return(0,s.parseUpsampleAttributes)(e,11)};var l=function(e,t,n){var s=(0,r.getGlsl)(e.session.backend.glContext.version),l=c(t,n),A=_slicedToArray(l,2),f=A[0],d=A[1];if(f.every((function(e){return 1===e}))&&"tf_crop_and_resize"!==n.coordinateTransformMode)return Object.assign(Object.assign({},u),{output:{dims:d,type:t[0].type,textureType:i.TextureType.packed},hasMain:!0,shaderSource:"void main() {\n                    vec4 v = ".concat(s.texture2D,"(X, TexCoords);\n                    ").concat(s.output," = v;\n                }")});var h=d.length;if(h<2)throw new Error("output dimension should be at least 2, but got ".concat(h));var p=d[h-2],v=d[h-1],g=t[0].dims;if(h!==g.length)throw new Error("output dimension should match input ".concat(g.length,", but got ").concat(h));var m=g[h-2],y=g[h-1],b=f[h-2],w=f[h-1],x="";if("linear"!==n.mode)throw new Error("resize (packed) does not support mode: '".concat(n.mode,"'"));switch(n.coordinateTransformMode){case"asymmetric":x="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":x="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"pytorch_half_pixel":x="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 fcoords = vec4(coords);\n                        return vec4(\n                            ".concat(v,".0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,\n                            ").concat(p,".0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,\n                            ").concat(v,".0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,\n                            ").concat(p,".0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0\n                          );\n                    }\n                ");break;case"align_corners":x="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(".concat(v,".0 - 1.0, ").concat(p,".0 - 1.0, ").concat(v,".0 - 1.0,\n                            ").concat(p,".0 - 1.0);\n                        vec4 original = vec4(").concat(y,".0 - 1.0, ").concat(m,".0 - 1.0, ").concat(y,".0 - 1.0,\n                            ").concat(m,".0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                ");break;default:throw new Error("resize (packed) does not support coordinateTransformMode:                                 '".concat(n.coordinateTransformMode,"'"))}var _=(0,a.getCoordsDataType)(h),C="\n            const vec2 inputWH = vec2(".concat(m,".0, ").concat(y,".0);\n            const vec4 scaleWHWH = vec4(float(").concat(b,"), float(").concat(w,"), float(").concat(b,"), float(").concat(w,"));\n            ").concat((0,o.unpackFromChannel)(),"\n            ").concat(x,"\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ").concat(_," rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ").concat(p-1,";\n                bool hasNextCol = rc.z < ").concat(v-1,";\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ").concat(s.output," = vec4(newValue);\n            }\n        ");return Object.assign(Object.assign({},u),{output:{dims:d,type:t[0].type,textureType:i.TextureType.packed},hasMain:!0,shaderSource:C})},c=function(e,t){var n,r=e[0].dims,i=t.scales;if(0===i.length){var a=e[t.scalesInputIdx];if(a&&0!==a.size){if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");i=A(a,t.mode,t.isResize)}else{var o=e[t.sizesInputIdx];if(!o||0===o.size)throw new Error("Either scales or sizes MUST be provided as input.");n=Array.from(o.integerData),i=f(n,r,t.mode,t.isResize)}}else if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");var s=n||r.map((function(e,t){return Math.floor(e*i[t])}));return[i,s]},A=function(e,t,n){var r=Array.from(e.floatData);return(0,s.scalesValidation)(r,t,n),r},f=function(e,t,n,r){for(var i=t.length,a=new Array(i),o=0,u=i;o<u;o++)if(0===t[o]){if(0!==e[o])throw new Error("Input dim is zero but required output dim is non-zero.");a[o]=1}else a[o]=e[o]/t[o];return(0,s.scalesValidation)(a,n,r),a}},565:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shape=void 0;var r=n(9240);t.shape=function(e,t){return i(t),[new r.Tensor([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]};var i=function(e){if(!e||1!==e.length)throw new Error("Shape requires 1 input.")}},2444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliceV10=t.parseSliceAttributes=t.slice=void 0;var r=n(4910),i=n(6145),a=n(7273),o=n(5639),s={name:"Slice",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};t.slice=function(e,t,n){return l(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:function(){return u(e,t[0],n)}}),t)]},t.parseSliceAttributes=function(e){var t=e.attributes.getInts("starts"),n=e.attributes.getInts("ends"),i=e.attributes.getInts("axes",[]);return(0,r.createAttributeWithCacheKey)({starts:t,ends:n,axes:i})};var u=function(e,t,n){for(var r=0===n.axes.length?t.dims.slice(0).map((function(e,t){return t})):n.axes,i=a.ShapeUtil.normalizeAxes(r,t.dims.length),u=n.starts.map((function(e,n){return e>t.dims[i[n]]-1?t.dims[i[n]]:a.ShapeUtil.normalizeAxis(e,t.dims[i[n]])})),l=n.ends.map((function(e,n){return e>t.dims[i[n]]-1?t.dims[i[n]]:a.ShapeUtil.normalizeAxis(e,t.dims[i[n]])})),c=t.dims.slice(),A=[],f=0;f<i.length;f++)c[i[f]]=l[f]-u[f],u[f]>0&&A.push("outputIdx[".concat(i[f],"] += ").concat(u[f],";"));var d="\n      float process(int outputIdx[".concat(c.length,"]) {\n        ").concat(A.join("\n      "),"\n        return _A(outputIdx);\n      }");return Object.assign(Object.assign({},s),{output:{dims:c,type:t.type,textureType:o.TextureType.unpacked},shaderSource:d})},l=function(e){if(!e||1!==e.length)throw new Error("Slice requires 1 input.");if(-1===i.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.sliceV10=function(e,t){A(t);var n=c(e,t);return[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:function(){return u(e,t[0],n)}}),[t[0]])]};var c=function(e,t){if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||t.length>=4&&!e.session.isInitializer(t[3].dataId)||t.length>=5&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some((function(e){return 1!==e})))throw new Error("currently non-1 steps is not supported for Slice");var n=Array.from(t[1].integerData),r=Array.from(t[2].integerData),i=t.length>=4?Array.from(t[3].integerData):[];return{starts:n,ends:r,axes:i,cacheKey:"".concat(i,";").concat(n,";").concat(r)}},A=function(e){if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if("int32"!==e[1].type||1!==e[1].dims.length)throw new Error("Invalid input type.");if("int32"!==e[2].type||1!==e[2].dims.length)throw new Error("Invalid input type.");if(e.length>=4&&("int32"!==e[3].type||1!==e[3].dims.length))throw new Error("Invalid input type.");if(e.length>=5&&("int32"!==e[4].type||1!==e[4].dims.length))throw new Error("Invalid input type.")}},815:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.softmaxV13=t.parseSoftmaxAttributesV13=t.parseSoftmaxAttributes=t.softmax=void 0;var r=n(4910),i=n(7273),a=n(6757),o=n(5639),s=n(5707),u={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[o.TextureType.unpacked]},l={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked]},c={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked]};t.softmax=function(e,t,n){p(t);var r=t[0].dims.slice(),a=i.ShapeUtil.normalizeAxis(n.axis,r.length),o=i.ShapeUtil.sizeToDimension(r,a),s=i.ShapeUtil.sizeFromDimension(r,a);return A(e,t,n,o,s)},t.parseSoftmaxAttributes=function(e){return(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",1)})},t.parseSoftmaxAttributesV13=function(e){return(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",-1)})},t.softmaxV13=function(e,t,n){p(t);var a,o=t[0].dims.slice(),u=i.ShapeUtil.normalizeAxis(n.axis,o.length),l=o.length,c=u!==l-1,f=[],d=[],h=[];c&&(d=Array.from({length:l}).map((function(e,t){return t})),d[u]=l-1,d[l-1]=u,d.map((function(e){return f.push(o[e])})),a=(0,r.createAttributeWithCacheKey)({perm:d}),h=(0,s.transpose)(e,t,a));var v=c?i.ShapeUtil.sizeToDimension(f,l-1):i.ShapeUtil.sizeToDimension(o,l-1),g=c?i.ShapeUtil.sizeFromDimension(f,l-1):i.ShapeUtil.sizeFromDimension(o,l-1),m=A(e,c?h:t,n,v,g);return c?(0,s.transpose)(e,m,a):m};var A=function(e,t,n,r,i){var a=f(e,t[0],r,i,[r]),o=e.run(Object.assign(Object.assign({},u),{cacheHint:n.cacheKey,get:function(){return a}}),t),s=d(e,t[0],r,i,a.output.dims,[r]),A=e.run(Object.assign(Object.assign({},l),{cacheHint:n.cacheKey,get:function(){return s}}),[t[0],o]),p=h(e,t[0],r,i,a.output.dims,s.output.dims);return[e.run(Object.assign(Object.assign({},c),{cacheHint:n.cacheKey,get:function(){return p}}),[t[0],o,A])]},f=function(e,t,n,r,i){var s=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),l=_slicedToArray(s,2),c=l[0],A=l[1],f=i.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==i.length)throw new Error("Dimensionality of the output should be 1");if(i[0]!==n)throw new Error("Shape of the output should be equal to logical row count");var d=(0,a.getGlsl)(e.session.backend.glContext.version),h="\n      float process(int[".concat(f,"] indices) {\n        int logical_row_start_offset = indices[0] * ").concat(r,";\n\n        float max = getColorAsFloat(").concat(d.texture2D,"(A, offsetToCoords(logical_row_start_offset, ").concat(c,",\n        ").concat(A," )));\n        for(int i=1; i<").concat(r,"; ++i)\n        {\n          float current = getColorAsFloat(").concat(d.texture2D,"(A, offsetToCoords(logical_row_start_offset + i,\n            ").concat(c,", ").concat(A,")));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }");return Object.assign(Object.assign({},u),{output:{dims:i,type:t.type,textureType:o.TextureType.unpacked},shaderSource:h})},d=function(e,t,n,r,i,s){var u=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),c=_slicedToArray(u,2),A=c[0],f=c[1],d=s.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==s.length)throw new Error("Dimensionality of the output should be 1");if(s[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==i.length)throw new Error("Dimensionality of the intermediate results should be 1");if(i[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");var h="\n      float process(int[".concat(d,"] indices) {\n        int logical_row_start_offset = indices[0] * ").concat(r,";\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<").concat(r,"; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(").concat((0,a.getGlsl)(e.session.backend.glContext.version).texture2D,"(A, offsetToCoords(logical_row_start_offset + i,\n            ").concat(A,", ").concat(f,"))) - max);\n        }\n\n        return norm_factor;\n      }");return Object.assign(Object.assign({},l),{output:{dims:s,type:t.type,textureType:o.TextureType.unpacked},shaderSource:h})},h=function(e,t,n,r,i,a){var s=e.calculateTextureWidthAndHeight(t.dims,o.TextureType.unpacked),u=_slicedToArray(s,2),l=u[0],A=u[1],f=t.dims.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==i.length||1!==a.length)throw new Error("Dimensionality of the intermediate results should be 1");if(i[0]!==n||a[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");var d="\n      float process(int[".concat(f,"] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ").concat(l,", ").concat(A,");\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ").concat(r,";\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }");return Object.assign(Object.assign({},c),{output:{dims:t.dims,type:t.type,textureType:o.TextureType.unpacked},shaderSource:d})},p=function(e){if(!e||1!==e.length)throw new Error("Softmax requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type")}},564:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSplitAttributes=t.split=void 0;var r=n(4910),i=n(7273),a=n(5639),o={name:"Split",inputNames:["A"],inputTypes:[a.TextureType.unpacked]};t.split=function(e,t,n){l(t);for(var r=i.ShapeUtil.normalizeAxis(n.axis,t[0].dims.length),a=s(e,t,r,n),c=[],A=function(i){c.push(e.run(Object.assign(Object.assign({},o),{cacheHint:"".concat(n.cacheKey,";").concat(i),get:function(){return u(e,t[0],n,r,i)}}),t))},f=0;f<a;++f)A(f);return c},t.parseSplitAttributes=function(e){var t=e.attributes.getInt("axis",0),n=e.attributes.getInts("split",[]),i=e.outputs.length;return(0,r.createAttributeWithCacheKey)({axis:t,split:n,numOutputs:i})};var s=function(e,t,n,r){var a=i.SplitUtil.splitShape(t[0].dims,n,r.split,r.numOutputs);return _slicedToArray(a,2)[1].length},u=function(e,t,n,r,s){var u=i.SplitUtil.splitShape(t.dims,r,n.split,n.numOutputs),l=_slicedToArray(u,2),c=l[0],A=l[1][s],f=c[s],d="\n      float process(int indices[".concat(f.length,"]) {\n        indices[").concat(r,"] += ").concat(A,";\n        return _A(indices);\n      }\n    ");return Object.assign(Object.assign({},o),{cacheHint:"".concat(n.cacheKey,":").concat(s),output:{dims:f,type:t.type,textureType:a.TextureType.unpacked},shaderSource:d})},l=function(e){if(!e||1!==e.length)throw new Error("Split requires one input.");if("int8"!==e[0].type&&"uint8"!==e[0].type&&"int16"!==e[0].type&&"uint16"!==e[0].type&&"int32"!==e[0].type&&"uint32"!==e[0].type&&"float32"!==e[0].type&&"float64"!==e[0].type&&"bool"!==e[0].type)throw new Error("Invalid input type.")}},5416:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSqueezeAttributes=t.squeezeV13=t.squeeze=void 0;var r=n(7273);t.squeeze=function(e,t,n){i(t);var a=r.ShapeUtil.squeezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],a)]},t.squeezeV13=function(e,n){return a(n),(0,t.squeeze)(e,[n[0]],Array.from(n[1].integerData))},t.parseSqueezeAttributes=function(e){return e.attributes.getInts("axes")};var i=function(e){if(!e||1!==e.length)throw new Error("Squeeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},a=function(e){if(!e||2!==e.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},1240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sum=void 0;var r=n(6757),i=n(5639);t.sum=function(e,t){o(t);var n={name:"Sum",inputNames:t.map((function(e,t){return"X".concat(t)})),inputTypes:new Array(t.length).fill(i.TextureType.unpacked)};return[e.run(Object.assign(Object.assign({},n),{get:function(){return a(e,t,n)}}),t)]};var a=function(e,t,n){var a=(0,r.getGlsl)(e.session.backend.glContext.version),o=t[0].dims.slice(),s="\n      void main() {\n        vec4 result = ".concat(t.map((function(e,t){return"".concat(a.texture2D,"(X").concat(t,",TexCoords)")})).join(" + "),";\n        ").concat(a.output," = result;\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:o,type:t[0].type,textureType:i.TextureType.unpacked},hasMain:!0,shaderSource:s})},o=function(e){if(!e||0===e.length)throw new Error("Sum requires inputs.");for(var t=e[0].dims.length,n=1;n<e.length;n++){if(t!==e[n].dims.length)throw new Error("Input shapes are mismatched.");for(var r=0;r<t;r++)if(e[0].dims[r]!==e[n].dims[r])throw new Error("Input shapes are not matched.")}if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.");for(var i=1;i<e.length;i++)if(e[0].type!==e[i].type)throw new Error("Input types are not matched.")}},5944:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tile=void 0;var r=n(6145),i=n(5639);t.tile=function(e,t){o(t);var n={name:"Tile",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},n),{get:function(){return a(e,t,n)}}),t)]};var a=function(e,t,n){for(var r=t[0].dims.slice(),a=new Array(r.length),o=[],s=0;s<r.length;s++)a[s]=r[s]*t[1].numberData[s],o.push("inputIdx[".concat(s,"] = int(mod(float(outputIdx[").concat(s,"]), ").concat(r[s],".));"));var u=a.length,l="\n      float process(int outputIdx[".concat(u,"]) {\n        int inputIdx[").concat(u,"];\n        ").concat(o.join("\n"),"\n        return _A(inputIdx);\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:a,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:l})},o=function(e){if(!e||2!==e.length)throw new Error("Tile requires 2 input.");if(1!==e[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(e[1].dims[0]!==e[0].dims.length)throw new Error("Invalid input shape.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invalid repeat type.")}},5707:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=void 0;var r=n(4910),i=n(7273),a=n(5639),o={name:"Transpose",inputNames:["A"],inputTypes:[a.TextureType.unpacked]};t.transpose=function(e,t,n){return A(t),[e.run(Object.assign(Object.assign({},o),{cacheHint:n.cacheKey,get:function(){return s(e,t[0],n.perm)}}),t)]},t.parseTransposeAttributes=function(e){return(0,r.createAttributeWithCacheKey)({perm:e.attributes.getInts("perm",[])})};var s=function(e,t,n){var r=t.dims;n=u(r,n);var i=l(r,n),s=r.length,A="\n      ".concat(c("perm",n,s),"\n      float process(int indices[").concat(s,"]) {\n        int a[").concat(s,"];\n        perm(a, indices);\n        return _A(a);\n      }");return Object.assign(Object.assign({},o),{output:{dims:i,type:t.type,textureType:a.TextureType.unpacked},shaderSource:A})},u=function(e,t){return t&&t.length!==e.length&&(t=_toConsumableArray(e.keys()).reverse()),t},l=function(e,t){return t=u(e,t),i.ShapeUtil.sortBasedOnPerm(e,t)},c=function(e,t,n){var r=[];r.push("void ".concat(e,"(out int a[").concat(n,"], int src[").concat(n,"]) {"));for(var i=0;i<n;++i)r.push("\ta[".concat(t[i],"]=src[").concat(i,"];"));return r.push("\t}"),r.join("\n")},A=function(e){if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("input should be float tensor")}},2488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAsUint8=void 0;var r=n(6757),i=n(5639);t.encodeAsUint8=function(e,t){var n=t.shape,a=(0,r.getGlsl)(e.session.backend.glContext.version),o="\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ".concat(a.texture2D,"(X,TexCoords).r;\n      ").concat(a.output," = encodeAsUint8(value);\n    }"),s={name:"Uint8Encode",inputTypes:[i.TextureType.unpacked],inputNames:["X"],output:{dims:n,type:t.tensor.type,textureType:i.TextureType.downloadUint8AsFloat},shaderSource:o,hasMain:!0};return e.executeProgram(s,[t.tensor])}},9087:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tanh=t.tan=t.sqrt=t.sin=t.sigmoid=t.relu=t.not=t.neg=t.log=t.parseLeakyReluAttributes=t.leakyRelu=t.identity=t.floor=t.exp=t.parseEluAttributes=t.elu=t.cos=t.ceil=t.clipV11=t.parseClipAttributes=t.clip=t.atan=t.asin=t.acos=t.abs=t.glslTanh=t.glslTan=t.glslSqrt=t.glslSigmoid=t.glslRelu=t.glslSin=t.glslNot=t.glslNeg=t.glslLog=t.glslLeakyRelu=t.glslIdentity=t.glslClip=t.glslFloor=t.glslExp=t.glslElu=t.glslCos=t.glslCeil=t.glslAtan=t.glslAsin=t.glslAcos=t.glslAbs=void 0;var r=n(4910),i=n(7273),a=n(1997),o=n(6757),s=n(5639);function u(){return I("abs")}function l(){return I("acos")}function c(){return I("asin")}function A(){return I("atan")}function f(){return I("ceil")}function d(){return I("cos")}function h(e){var t="elu";return{body:"\n  const float alpha = float(".concat(e,");\n\n  float ").concat(t,"_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return vec4(").concat(t,"_(v.x), ").concat(t,"_(v.y), ").concat(t,"_(v.z), ").concat(t,"_(v.w));\n  }\n  "),name:t,type:a.FunctionType.ValueBased}}function p(){return I("exp")}function v(){return I("floor")}function g(e,t){var n="clip";return{body:"\n  const float min = float(".concat(e,");\n  const float max = float(").concat(t,");\n\n  float ").concat(n,"_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 ").concat(n,"_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  "),name:n,type:a.FunctionType.ValueBased}}function m(){var e="indentity";return{body:"\n  float ".concat(e,"_(float a) {\n    return a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return v;\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function y(e){var t="leakyRelu";return{body:"\n  const float alpha = float(".concat(e,");\n\n  float ").concat(t,"_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return vec4(").concat(t,"_(v.x), ").concat(t,"_(v.y), ").concat(t,"_(v.z), ").concat(t,"_(v.w));\n  }\n  "),name:t,type:a.FunctionType.ValueBased}}function b(){return I("log")}function w(){var e="neg";return{body:"\n  float ".concat(e,"_(float a) {\n    return -a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return -v;\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function x(){var e="not";return{body:"\n  float ".concat(e,"_(float a) {\n    return float( ! bool(a) );\n  }\n  bool ").concat(e,"_(bool a) {\n    return !a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 ").concat(e,"_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function _(){return I("sin")}function C(){var e="relu";return{body:"\n  float ".concat(e,"_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function E(){var e="sigmoid";return{body:"\n  float ".concat(e,"_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function S(){return I("sqrt")}function B(){return I("tan")}function T(){var e="tanh";return{body:"\n  float ".concat(e,"_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}function I(e){return{body:"\n  float ".concat(e,"_(float a) {\n    return ").concat(e,"(a);\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return ").concat(e,"(v);\n  }\n  "),name:e,type:a.FunctionType.ValueBased}}t.glslAbs=u,t.glslAcos=l,t.glslAsin=c,t.glslAtan=A,t.glslCeil=f,t.glslCos=d,t.glslElu=h,t.glslExp=p,t.glslFloor=v,t.glslClip=g,t.glslIdentity=m,t.glslLeakyRelu=y,t.glslLog=b,t.glslNeg=w,t.glslNot=x,t.glslSin=_,t.glslRelu=C,t.glslSigmoid=E,t.glslSqrt=S,t.glslTan=B,t.glslTanh=T;var k=function(e,t,n,r){var i=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,a={name:n.name,inputTypes:[i],inputNames:["A"],cacheHint:r};return Object.assign(Object.assign({},a),{get:function(){return function(e,t,n,r){var i=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,a=(0,o.getGlsl)(e.session.backend.glContext.version);return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:i},shaderSource:"\n     ".concat(r.body,"\n     void main() {\n       vec4 v = ").concat(a.texture2D,"(A, TexCoords);\n       v = ").concat(r.name,"_(v);\n       ").concat(a.output," = v;\n     }\n     "),hasMain:!0})}(e,a,t,n)}})};t.abs=function(e,t){return[e.run(k(e,t[0],u()),t)]},t.acos=function(e,t){return[e.run(k(e,t[0],l()),t)]},t.asin=function(e,t){return[e.run(k(e,t[0],c()),t)]},t.atan=function(e,t){return[e.run(k(e,t[0],A()),t)]},t.clip=function(e,t,n){return[e.run(k(e,t[0],g(n.min,n.max),n.cacheKey),t)]},t.parseClipAttributes=function(e){return(0,r.createAttributeWithCacheKey)({min:e.attributes.getFloat("min",i.MIN_CLIP),max:e.attributes.getFloat("max",i.MAX_CLIP)})},t.clipV11=function(e,n){var r=M(e,n);return(0,t.clip)(e,[n[0]],r)};var M=function(e,t){if(t.length>=3&&(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");var n=t.length>=3?t[1].numberData[0]:i.MIN_CLIP,a=t.length>=3?t[2].numberData[0]:i.MAX_CLIP;return(0,r.createAttributeWithCacheKey)({min:n,max:a})};t.ceil=function(e,t){return[e.run(k(e,t[0],f()),t)]},t.cos=function(e,t){return[e.run(k(e,t[0],d()),t)]},t.elu=function(e,t,n){return[e.run(k(e,t[0],h(n.alpha),n.cacheKey),t)]},t.parseEluAttributes=function(e){return(0,r.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",1)})},t.exp=function(e,t){return[e.run(k(e,t[0],p()),t)]},t.floor=function(e,t){return[e.run(k(e,t[0],v()),t)]},t.identity=function(e,t){return[e.run(k(e,t[0],m()),t)]},t.leakyRelu=function(e,t,n){return[e.run(k(e,t[0],y(n.alpha),n.cacheKey),t)]},t.parseLeakyReluAttributes=function(e){return(0,r.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",.01)})},t.log=function(e,t){return[e.run(k(e,t[0],b()),t)]},t.neg=function(e,t){return[e.run(k(e,t[0],w()),t)]},t.not=function(e,t){return[e.run(k(e,t[0],x()),t)]},t.relu=function(e,t){return[e.run(k(e,t[0],C()),t)]},t.sigmoid=function(e,t){return[e.run(k(e,t[0],E()),t)]},t.sin=function(e,t){return[e.run(k(e,t[0],_()),t)]},t.sqrt=function(e,t){return[e.run(k(e,t[0],S()),t)]},t.tan=function(e,t){return[e.run(k(e,t[0],B()),t)]},t.tanh=function(e,t){return[e.run(k(e,t[0],T()),t)]}},540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackProgramInfoLoader=t.createUnpackProgramInfo=void 0;var r=n(6757),i=n(5639),a=n(432),o=n(5614),s={name:"unpack",inputNames:["A"],inputTypes:[i.TextureType.packed]};t.createUnpackProgramInfo=function(e,t){var n=t.dims.length,u=(0,o.getChannels)("rc",n),l=u.slice(-2),c=(0,a.getCoordsDataType)(n),A=(0,o.unpackFromChannel)(),f=0===t.dims.length?"":function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,u),d=n<=1?"rc":"vec2(".concat(l.join(","),")"),h="\n    ".concat(A,"\n    void main() {\n      ").concat(c," rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(").concat(f,");\n\n       ").concat((0,r.getGlsl)(e.session.backend.glContext.version).output," = vec4(getChannel(packedInput, ").concat(d,"), 0, 0, 0);\n     }\n   ");return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:i.TextureType.unpacked},shaderSource:h})},t.createUnpackProgramInfoLoader=function(e,n){return Object.assign(Object.assign({},s),{get:function(){return(0,t.createUnpackProgramInfo)(e,n)}})}},7862:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnsqueezeAttributes=t.unsqueezeV13=t.unsqueeze=void 0;var r=n(7273);t.unsqueeze=function(e,t,n){i(t);var a=r.ShapeUtil.unsqueezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],a)]},t.unsqueezeV13=function(e,n){return a(n),(0,t.unsqueeze)(e,[n[0]],Array.from(n[1].integerData))},t.parseUnsqueezeAttributes=function(e){return e.attributes.getInts("axes")};var i=function(e){if(!e||1!==e.length)throw new Error("Unsqueeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},a=function(e){if(!e||2!==e.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},3980:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalesValidation=t.validateInputs=t.parseUpsampleAttributes=t.parseUpsampleAttributesV9=t.parseUpsampleAttributesV7=t.upsample=void 0;var r=n(4910),i=n(6757),a=n(5639),o={name:"Upsample",inputNames:["X"],inputTypes:[a.TextureType.unpacked]};t.upsample=function(e,n,r){return(0,t.validateInputs)(n,r),[e.run(Object.assign(Object.assign({},o),{cacheHint:r.cacheKey,get:function(){return s(e,n,r)}}),n)]},t.parseUpsampleAttributesV7=function(e){return(0,t.parseUpsampleAttributes)(e,7)},t.parseUpsampleAttributesV9=function(e){return(0,t.parseUpsampleAttributes)(e,9)},t.parseUpsampleAttributes=function(e,n){var i=n>=10,a=e.attributes.getString("mode","nearest");if("nearest"!==a&&"linear"!==a&&(n<11||"cubic"!==a))throw new Error("unrecognized mode: ".concat(a));var o=[];n<9&&(o=e.attributes.getFloats("scales"),(0,t.scalesValidation)(o,a,i));var s=e.attributes.getFloat("extrapolation_value",0),u=n>10?e.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(u))throw new Error("coordinate_transform_mode '".concat(u,"' is not supported"));var l="tf_crop_and_resize"===u,c=l,A="nearest"===a&&n>=11?e.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(A))throw new Error("nearest_mode '".concat(A,"' is not supported"));var f=e.attributes.getFloat("cubic_coeff_a",-.75),d=0!==e.attributes.getInt("exclude_outside",0);if(d&&"cubic"!==a)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");var h=n<11||"nearest"===a&&"asymmetric"===u&&"floor"===A,p=0,v=0,g=0;return n>10?e.inputs.length>2?(p=1,v=2,g=3):(v=1,g=2):9===n&&(v=1),(0,r.createAttributeWithCacheKey)({opset:n,isResize:i,mode:a,scales:o,extrapolationValue:s,coordinateTransformMode:u,useExtrapolation:c,needRoiInput:l,nearestMode:A,cubicCoefficientA:f,excludeOutside:d,useNearest2xOptimization:h,roiInputIdx:p,scalesInputIdx:v,sizesInputIdx:g})};var s=function(e,t,n){for(var r=(0,i.getGlsl)(e.session.backend.glContext.version),s=e.calculateTextureWidthAndHeight(t[0].dims,a.TextureType.unpacked),u=_slicedToArray(s,2),l=u[0],c=u[1],A=t[0].dims.map((function(e,t){return Math.floor(e*n.scales[t])})),f=e.calculateTextureWidthAndHeight(A,a.TextureType.unpacked),d=_slicedToArray(f,2),h=d[0],p=d[1],v=A.length,g=new Array(v),m=new Array(v),y="\n      int output_pitches[".concat(v,"];\n      int input_pitches[").concat(v,"];\n      "),b=v-1;b>=0;b--)g[b]=b===v-1?1:g[b+1]*A[b+1],m[b]=b===v-1?1:m[b+1]*t[0].dims[b+1],y+="\n        output_pitches[".concat(b,"] = ").concat(g[b],";\n        input_pitches[").concat(b,"] = ").concat(m[b],";\n        ");var w="\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ".concat(l,", ").concat(c,");\n        float value = getColorAsFloat(").concat(r.texture2D,"(X, coords));\n        return value;\n      }\n      "),x="nearest"===n.mode?"\n    ".concat(w,"\n    float process(int indices[").concat(v,"]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(h,", ").concat(p,");\n\n      ").concat(y,"\n\n      int d, m;\n      for (int dim = 0; dim < ").concat(v,"; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }"):4===v?"\n    ".concat(w,"\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(h,", ").concat(p,");\n\n      ").concat(y,"\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (").concat(t[0].dims[2]," - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }"):"\n    ".concat(w,"\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(h,", ").concat(p,");\n\n      ").concat(y,"\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (").concat(t[0].dims[0]," - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }");return Object.assign(Object.assign({},o),{output:{dims:A,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:x,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map((function(e){return Math.ceil(e)}))}]})};t.validateInputs=function(e,t){if(!e||t.opset<9&&1!==e.length||t.opset>=9&&t.opset<11&&2!==e.length||t.opset>=11&&e.length<2)throw new Error("invalid inputs.");if(t.scales.length>0&&e[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if("string"===e[0].type)throw new Error("Invalid input tensor types.")},t.scalesValidation=function(e,t,n){if(n){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;)if(r.value<=0)throw new Error("Scale value should be greater than 0.")}catch(s){i.e(s)}finally{i.f()}}else{var a,o=_createForOfIteratorHelper(e);try{for(o.s();!(a=o.n()).done;)if(a.value<1)throw new Error("Scale value should be greater than or equal to 1.")}catch(s){o.e(s)}finally{o.f()}}if(!("linear"!==t&&"cubic"!==t||2===e.length||4===e.length&&1===e[0]&&1===e[1]))throw new Error("'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ".concat(n?"Resize":"Upsample"," opeartor."))}},2757:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;var r=n(8453),i=n(1315),a=n(8897),o=n(6757);t.ProgramManager=function(){function e(t,n,r){_classCallCheck(this,e),this.profiler=t,this.glContext=n,this.textureLayoutStrategy=r,this.repo=new Map,this.attributesBound=!1}return _createClass(e,[{key:"getArtifact",value:function(e){return this.repo.get(e)}},{key:"setArtifact",value:function(e,t){this.repo.set(e,t)}},{key:"run",value:function(e,t,n){var r,a=this;this.profiler.event("op","ProgramManager.run ".concat(null!==(r=e.programInfo.name)&&void 0!==r?r:"unknown kernel"),(function(){var r,o=a.glContext.gl,s=e.program;o.useProgram(s);try{a.bindOutput(n),a.attributesBound||a.bindAttributes(e.attribLocations),a.bindUniforms(e.uniformLocations,null!==(r=e.programInfo.variables)&&void 0!==r?r:[],t)}catch(t){throw i.Logger.error("ProgramManager",e.programInfo.shaderSource),t}a.profiler.event("backend","GlContext.draw()",(function(){a.glContext.draw()}))}),this.glContext)}},{key:"dispose",value:function(){var e=this;this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((function(t){return e.glContext.deleteProgram(t.program)}))}},{key:"build",value:function(e,t,n){var r=this;return this.profiler.event("backend","ProgramManager.build",(function(){var i=new a.GlslPreprocessor(r.glContext,e,t,n),o=i.preprocess(),s=r.compile(o);return{programInfo:e,program:s,uniformLocations:r.getUniformLocations(s,i.context.programInfo.inputNames,i.context.programInfo.variables),attribLocations:r.getAttribLocations(s)}}))}},{key:"compile",value:function(e){if(!this.vertexShader){i.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");var t=(0,o.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(t,this.glContext.gl.VERTEX_SHADER)}r.env.debug&&i.Logger.verbose("ProrgramManager","FragShader:\n".concat(e,"\n"));var n=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),a=this.glContext.createProgram(this.vertexShader,n);return this.glContext.deleteShader(n),a}},{key:"bindOutput",value:function(e){var t=e.width,n=e.height;i.Logger.verbose("ProrgramManager","Binding output texture to Framebuffer: w/h=".concat(t,"/").concat(n,", shape=").concat(e.shape,", type=").concat(e.tensor.type)),this.glContext.attachFramebuffer(e.texture,t,n)}},{key:"bindAttributes",value:function(e){var t=e.position,n=e.textureCoord;this.glContext.setVertexAttributes(t,n),this.attributesBound=!0}},{key:"bindUniforms",value:function(e,t,n){var r,i,a=this,o=this.glContext.gl,s=0,u=_createForOfIteratorHelper(e);try{var l=function(){var e=i.value,u=e.name,l=e.type,c=e.location,A=e.arrayLength,f=null===(r=t.find((function(e){return e.name===u})))||void 0===r?void 0:r.data;if("sampler2D"!==l&&!f)throw new Error("variable '".concat(u,"' does not have data defined in program info"));switch(l){case"sampler2D":a.bindTexture(n[s],c,s),s++;break;case"float":A?o.uniform1fv(c,f):o.uniform1f(c,f);break;case"int":A?o.uniform1iv(c,f):o.uniform1i(c,f);break;default:throw new Error("Uniform not implemented: ".concat(l))}};for(u.s();!(i=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}}},{key:"bindTexture",value:function(e,t,n){this.glContext.bindTextureToUniform(e.texture,n,t)}},{key:"getAttribLocations",value:function(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}}},{key:"getUniformLocations",value:function(e,t,n){var r=[];if(t){var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;r.push({name:o,type:"sampler2D",location:this.getUniformLocation(e,o)})}}catch(c){a.e(c)}finally{a.f()}}if(n){var s,u=_createForOfIteratorHelper(n);try{for(u.s();!(s=u.n()).done;){var l=s.value;r.push(Object.assign(Object.assign({},l),{location:this.getUniformLocation(e,l.name)}))}}catch(c){u.e(c)}finally{u.f()}}return r}},{key:"getUniformLocation",value:function(e,t){var n=this.glContext.gl.getUniformLocation(e,t);if(null===n)throw new Error("Uniform ".concat(t," not found."));return n}},{key:"getAttribLocation",value:function(e,t){return this.glContext.gl.getAttribLocation(e,t)}}]),e}()},2171:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSessionHandler=void 0;var r=n(1315),i=n(5881),a=n(7860),o=n(4110),s=n(2757),u=n(7618),l=n(5243);t.WebGLSessionHandler=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.context=n,this.layoutStrategy=new u.PreferLogicalStrategy(t.glContext.maxTextureSize),this.programManager=new s.ProgramManager(this.context.profiler,t.glContext,this.layoutStrategy),this.textureManager=new l.TextureManager(t.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===t.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=t.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}return _createClass(e,[{key:"createInferenceHandler",value:function(){return new a.WebGLInferenceHandler(this)}},{key:"onGraphInitialized",value:function(e){var t=e.getValues().filter((function(e){return-1===e.from&&e.tensor})).map((function(e){return e.tensor.dataId}));this.initializers=new Set(t)}},{key:"isInitializer",value:function(e){return!!this.initializers&&this.initializers.has(e)}},{key:"addInitializer",value:function(e){this.initializers.add(e)}},{key:"getTextureData",value:function(e,t){return t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}},{key:"setTextureData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),n?this.packedTextureDataCache.set(e,t):this.unpackedTextureDataCache.set(e,t)}},{key:"dispose",value:function(){var e=this;this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((function(t){return e.textureManager.releaseTexture(t,!0)})),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((function(t){return e.textureManager.releaseTexture(t,!0)})),this.unpackedTextureDataCache=new Map}},{key:"resolve",value:function(e,t,n){var r=(0,i.resolveOperator)(e,t,o.WEBGL_OP_RESOLVE_RULES);return{impl:r.opImpl,context:r.opInit?r.opInit(e,n):e}}}]),e}()},9622:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataEncoder=t.RGBAFloatDataEncoder=t.RedFloat32DataEncoder=void 0;var r=n(1315);t.RedFloat32DataEncoder=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(_classCallCheck(this,e),1===n)this.internalFormat=t.R32F,this.format=t.RED,this.textureType=t.FLOAT,this.channelSize=n;else{if(4!==n)throw new Error("Invalid number of channels: ".concat(n));this.internalFormat=t.RGBA32F,this.format=t.RGBA,this.textureType=t.FLOAT,this.channelSize=n}}return _createClass(e,[{key:"encode",value:function(e,t){var n,i;return e.constructor!==Float32Array&&(r.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),i=new Float32Array(e)),t*this.channelSize>e.length?(r.Logger.warning("Encoder","Source data too small. Allocating larger array"),i=e,n=this.allocate(t*this.channelSize),i.forEach((function(e,t){return n[t]=e}))):n=i=e,n}},{key:"allocate",value:function(e){return new Float32Array(4*e)}},{key:"decode",value:function(e,t){return 1===this.channelSize?e.filter((function(e,t){return t%4==0})).subarray(0,t):e.subarray(0,t)}}]),e}(),t.RGBAFloatDataEncoder=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(_classCallCheck(this,e),1!==n&&4!==n)throw new Error("Invalid number of channels: ".concat(n));this.internalFormat=t.RGBA,this.format=t.RGBA,this.channelSize=n,this.textureType=r||t.FLOAT}return _createClass(e,[{key:"encode",value:function(e,t){var n=e;return 1===this.channelSize&&(r.Logger.verbose("Encoder","Exploding into a larger array"),n=this.allocate(t),e.forEach((function(e,t){return n[4*t]=e}))),n}},{key:"allocate",value:function(e){return new Float32Array(4*e)}},{key:"decode",value:function(e,t){return 1===this.channelSize?e.filter((function(e,t){return t%4==0})).subarray(0,t):e.subarray(0,t)}}]),e}(),t.Uint8DataEncoder=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(_classCallCheck(this,e),this.channelSize=4,1===n)this.internalFormat=t.ALPHA,this.format=t.ALPHA,this.textureType=t.UNSIGNED_BYTE,this.channelSize=n;else{if(4!==n)throw new Error("Invalid number of channels: ".concat(n));this.internalFormat=t.RGBA,this.format=t.RGBA,this.textureType=t.UNSIGNED_BYTE,this.channelSize=n}}return _createClass(e,[{key:"encode",value:function(e,t){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}},{key:"allocate",value:function(e){return new Uint8Array(e*this.channelSize)}},{key:"decode",value:function(e,t){if(e instanceof Uint8Array)return e.subarray(0,t);throw new Error("Invalid array type: ".concat(e.constructor))}}]),e}()},7618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBatchDim=t.sizeToSquarishShape=t.getRowsCols=t.sizeFromShape=t.isInt=t.parseAxisParam=t.squeezeShape=t.PreferLogicalStrategy=t.AlwaysKeepOriginalSizeStrategy=void 0;var r=n(1315),i=n(7273);function a(e,t){for(var n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:o(t,e).sort(),s=0,u=0;u<e.length;++u){if(null!=a){if(a[s]===u&&1!==e[u])throw new Error("Can't squeeze axis ".concat(u," since its dim '").concat(e[u],"' is not 1"));(null==a[s]||a[s]>u)&&1===e[u]&&(n.push(e[u]),r.push(u)),a[s]<=u&&s++}1!==e[u]&&(n.push(e[u]),r.push(u))}return{newShape:n,keptDims:r}}function o(e,t){var n=t.length;return e=null==e?t.map((function(e,t){return t})):[].concat(e),(0,i.assert)(e.every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but got axis ").concat(e)})),(0,i.assert)(e.every(s),(function(){return"All values in axis param must be integers but got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function s(e){return e%1==0}function u(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function l(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}t.AlwaysKeepOriginalSizeStrategy=function(){function e(t){_classCallCheck(this,e),this.maxTextureSize=t}return _createClass(e,[{key:"computeTextureWH",value:function(e,t){if(0===e.length)return[1,1];var n=this.maxTextureSize;if(t&&void 0!==t.breakAxis){var i=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce((function(e,t){return e*t})),a=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce((function(e,t){return e*t}));if(!(i>n||a>n))return[i,a];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:".concat(e,", breakAxis:").concat(t.breakAxis))}for(var o=e.reduce((function(e,t){return e*t})),s=Math.floor(Math.sqrt(o));s<n&&s<o&&o%s!=0;s++);if(s>=n||o%s!=0)throw new Error("The given dimensions are outside this GPU's boundaries: ".concat(e));return[s,o/s]}}]),e}(),t.PreferLogicalStrategy=function(){function e(t){_classCallCheck(this,e),this.maxTextureSize=t}return _createClass(e,[{key:"computeTextureWH",value:function(e,t){var n=this.computeTexture(e,t);return t&&t.isPacked&&(n[0]/=2,n[1]/=2),t&&t.reverseWH?[n[1],n[0]]:n}},{key:"computeTexture",value:function(e,t){var n=t&&t.isPacked;if(0===e.length)return n?[2,2]:[1,1];var i=this.maxTextureSize;if(t&&void 0!==t.breakAxis){var o=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce((function(e,t){return e*t})),s=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce((function(e,t){return e*t}));if(!(o>i||s>i))return[o,s];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:".concat(e,", breakAxis:").concat(t.breakAxis))}var c=e.slice(0);if(n&&(i*=2,c=c.map((function(e,t){return t>=c.length-2?c[t]%2==0?c[t]:c[t]+1:c[t]})),1===c.length&&(c=[2,c[0]])),2!==c.length){var A=a(c);c=A.newShape}var f=u(c);return c.length<=1&&f<=i?[1,f]:2===c.length&&c[0]<=i&&c[1]<=i?c:3===c.length&&c[0]*c[1]<=i&&c[2]<=i?[c[0]*c[1],c[2]]:3===c.length&&c[0]<=i&&c[1]*c[2]<=i?[c[0],c[1]*c[2]]:4===c.length&&c[0]*c[1]*c[2]<=i&&c[3]<=i?[c[0]*c[1]*c[2],c[3]]:4===c.length&&c[0]<=i&&c[1]*c[2]*c[3]<=i?[c[0],c[1]*c[2]*c[3]]:n?l(f/4).map((function(e){return 2*e})):l(f)}}]),e}(),t.squeezeShape=a,t.parseAxisParam=o,t.isInt=s,t.sizeFromShape=u,t.getRowsCols=function(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]},t.sizeToSquarishShape=l,t.getBatchDim=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return u(e.slice(0,e.length-t))}},3314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTextureLayoutFromShape=t.calculateTextureWidthAndHeight=t.createTextureLayoutFromTextureType=void 0;var r=n(7273),i=n(5639);t.createTextureLayoutFromTextureType=function(e,n,r){var a=r===i.TextureType.unpacked||r===i.TextureType.unpackedReversed?1:4,o=r===i.TextureType.packed,s=r===i.TextureType.unpackedReversed||r===i.TextureType.packed,u=r===i.TextureType.packedLastDimension?n.length-1:void 0,l=r===i.TextureType.packedLastDimension?n.map((function(e,t){return t===n.length-1?4*e:e})):void 0;return(0,t.createTextureLayoutFromShape)(e,n,a,l,{isPacked:o,reverseWH:s,breakAxis:u})},t.calculateTextureWidthAndHeight=function(e,n,r){var i=(0,t.createTextureLayoutFromTextureType)(e,n,r);return[i.width,i.height]},t.createTextureLayoutFromShape=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=!(!a||!a.isPacked),s=e.computeTextureWH(o&&i||t,a),u=_slicedToArray(s,2),l=u[0],c=u[1],A=t.length,f=t.slice(0);if(0===A&&(f=[1]),1===n)i=t;else if(o){if(4!==n)throw new Error("a packed texture must be 4-channel");i=t,A>0&&(f[A-1]=Math.ceil(f[A-1]/2)),A>1&&(f[A-2]=Math.ceil(f[A-2]/2))}else if(!i)throw new Error("Unpacked shape is needed when using channels > 1");return{width:l,height:c,channels:n,isPacked:o,shape:f,strides:r.ShapeUtil.computeStrides(f),unpackedShape:i,reversedWH:a&&a.reverseWH}}},5243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextureManager=void 0;var r=n(1315);t.TextureManager=function(){function e(t,n,r,i){_classCallCheck(this,e),this.glContext=t,this.layoutStrategy=n,this.profiler=r,this.config=i,this.pendingRead=new Map,i.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}return _createClass(e,[{key:"createTextureFromLayout",value:function(e,t,n,i){var a=this.toEncoderType(e),o=this.glContext.getEncoder(a,t.channels||1,i);if(t.isPacked&&1===i)throw new Error("not implemented");var s,u,l=t.width,c=t.height;if(this.config.reuseTextures){s="".concat(l,"x").concat(c,"_").concat(o.format,"_").concat(o.internalFormat,"_").concat(o.textureType),(u=this.inUseTextures.get(s))||(u=[],this.inUseTextures.set(s,u));var A=this.idleTextures.get(s);if(A&&A.length>0){var f=A.pop();return u.push(f),1===i&&this.glContext.updateTexture(f,l,c,o,this.toTextureData(e,n)),f}}r.Logger.verbose("TextureManager","Creating new texture of size ".concat(t.width,"x").concat(t.height));var d=this.glContext.allocateTexture(l,c,o,this.toTextureData(e,n));return this.config.reuseTextures&&(u.push(d),this.textureLookup.set(d,s)),d}},{key:"readTexture",value:function(e,t,n){var r=this;return n||(n=1),this.profiler.event("backend","TextureManager.readTexture",(function(){var i=e.shape.reduce((function(e,t){return e*t}))*n,a=r.glContext.readTexture(e.texture,e.width,e.height,i,r.toEncoderType(t),n);return r.toTensorData(t,a)}))}},{key:"readTextureAsync",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.tensor.dataId,r||(r=1),!this.pendingRead.has(i)){e.next=4;break}return a=this.pendingRead.get(i),e.abrupt("return",new Promise((function(e){return null==a?void 0:a.push(e)})));case 4:return e.abrupt("return",this.profiler.event("backend","TextureManager.readTextureAsync",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var a,s,u,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.pendingRead.set(i,[]),a=t.shape.reduce((function(e,t){return e*t}))*r,e.next=4,o.glContext.createAndWaitForFence();case 4:return s=o.glContext.readTexture(t.texture,t.width,t.height,a,o.toEncoderType(n),r),u=o.toTensorData(n,s),l=o.pendingRead.get(i),e.abrupt("return",(o.pendingRead.delete(i),null==l||l.forEach((function(e){return e(u)})),u));case 6:case"end":return e.stop()}}),e)})))));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"readUint8TextureAsFloat",value:function(e){var t=this;return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(function(){var n=e.shape.reduce((function(e,t){return e*t})),r=t.glContext.readTexture(e.texture,e.width,e.height,4*n,"byte",4);return new Float32Array(r.buffer,r.byteOffset,n)}))}},{key:"releaseTexture",value:function(e,t){var n;if(this.config.reuseTextures&&(n=this.textureLookup.get(e.texture))){t&&this.textureLookup.delete(n);var i=this.inUseTextures.get(n);if(i){var a=i.indexOf(e.texture);if(-1!==a){i.splice(a,1);var o=this.idleTextures.get(n);o||(o=[],this.idleTextures.set(n,o)),o.push(e.texture)}}}n&&!t||(r.Logger.verbose("TextureManager","Deleting texture of size ".concat(e.width,"x").concat(e.height)),this.glContext.deleteTexture(e.texture))}},{key:"toTensorData",value:function(e,t){switch(e){case"int16":return t instanceof Int16Array?t:Int16Array.from(t);case"int32":return t instanceof Int32Array?t:Int32Array.from(t);case"int8":return t instanceof Int8Array?t:Int8Array.from(t);case"uint16":return t instanceof Uint16Array?t:Uint16Array.from(t);case"uint32":return t instanceof Uint32Array?t:Uint32Array.from(t);case"uint8":case"bool":return t instanceof Uint8Array?t:Uint8Array.from(t);case"float32":return t instanceof Float32Array?t:Float32Array.from(t);case"float64":return t instanceof Float64Array?t:Float64Array.from(t);default:throw new Error("TensorData type ".concat(e," is not supported"))}}},{key:"toTextureData",value:function(e,t){if(t)return t instanceof Float32Array?t:new Float32Array(t)}},{key:"toEncoderType",value:function(e){return"float"}},{key:"clearActiveTextures",value:function(){this.glContext.clearActiveTextures()}}]),e}()},5639:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureType=void 0,(n=t.TextureType||(t.TextureType={}))[n.unpacked=0]="unpacked",n[n.unpackedReversed=1]="unpackedReversed",n[n.packed=2]="packed",n[n.downloadUint8AsFloat=3]="downloadUint8AsFloat",n[n.packedLastDimension=4]="packedLastDimension"},432:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlChannels=t.getCoordsDataType=t.getSqueezedParams=t.squeezeInputShape=t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=t.generateShaderFuncNameFromInputSamplerName=t.repeatedTry=t.getPackedShape=void 0;var r=n(7273);t.getPackedShape=function(e){var t=e.length;return e.slice(0,t-1).concat(e[t-1]/4)},t.repeatedTry=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:function(e){return 0},r=i.length>2?i[2]:void 0,e.abrupt("return",new Promise((function(e,i){var a=0;!function o(){if(t())e();else{a++;var s=n(a);null!=r&&a>=r?i():setTimeout(o,s)}}()})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.generateShaderFuncNameFromInputSamplerName=function(e){return(0,r.assert)(void 0!==e&&0!==e.length,(function(){return"empty string found for sampler name"})),"get"+e.charAt(0).toUpperCase()+e.slice(1)},t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(e){return(0,r.assert)(void 0!==e&&0!==e.length,(function(){return"empty string found for sampler name"})),"get"+e.charAt(0).toUpperCase()+e.slice(1)+"AtOutCoords"},t.squeezeInputShape=function(e,t){return JSON.parse(JSON.stringify(e)),t},t.getSqueezedParams=function(e,t){return t.map((function(t){return e[t]})).join(", ")},t.getCoordsDataType=function(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))},t.getGlChannels=function(){return["x","y","z","w","u","v"].slice(0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:6)}},3389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNewWebGLContext=t.createWebGLContext=void 0;var r=n(1315),i=n(3524),a={};function o(e){var t,n=function(){if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas)throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}var e=document.createElement("canvas");return e.width=1,e.height=1,e}(),a={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!e||"webgl2"===e)&&(t=n.getContext("webgl2",a)))try{return new i.WebGLContext(t,2)}catch(e){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl2'. Error: ".concat(e))}if((!e||"webgl"===e)&&(t=n.getContext("webgl",a)||n.getContext("experimental-webgl",a)))try{return new i.WebGLContext(t,1)}catch(e){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ".concat(e))}throw new Error("WebGL is not supported")}t.createWebGLContext=function e(t){var n;t&&"webgl2"!==t||!("webgl2"in a)?t&&"webgl"!==t||!("webgl"in a)||(n=a.webgl):n=a.webgl2,n=n||o(t),t=t||1===n.version?"webgl":"webgl2";var r=n.gl;return a[t]=n,r.isContextLost()?(delete a[t],e(t)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),n)},t.createNewWebGLContext=o},3524:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=t.linearSearchLastTrue=void 0;var o=n(8453),s=a(n(9622)),u=n(432);function l(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}t.linearSearchLastTrue=l,t.WebGLContext=function(){function e(t,n){_classCallCheck(this,e),this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=t,this.version=n,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}return _createClass(e,[{key:"allocateTexture",value:function(e,t,n,r){var i=this.gl,a=i.createTexture();i.bindTexture(i.TEXTURE_2D,a),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);var o=r?n.encode(r,e*t):null;return i.texImage2D(i.TEXTURE_2D,0,n.internalFormat,e,t,0,n.format,n.textureType,o),this.checkError(),a}},{key:"updateTexture",value:function(e,t,n,r,i){var a=this.gl;a.bindTexture(a.TEXTURE_2D,e);var o=r.encode(i,t*n);a.texSubImage2D(a.TEXTURE_2D,0,0,0,t,n,r.format,r.textureType,o),this.checkError()}},{key:"attachFramebuffer",value:function(e,t,n){var r=this.gl;r.bindTexture(r.TEXTURE_2D,e),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this.checkError(),r.viewport(0,0,t,n),r.scissor(0,0,t,n)}},{key:"readTexture",value:function(e,t,n,r,i,a){var o=this.gl;a||(a=1),this.frameBufferBound||this.attachFramebuffer(e,t,n);var s=this.getEncoder(i,a),u=s.allocate(t*n);return o.bindTexture(o.TEXTURE_2D,e),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,e,0),o.readPixels(0,0,t,n,o.RGBA,s.textureType,u),this.checkError(),s.decode(u,r)}},{key:"isFramebufferReady",value:function(){return!0}},{key:"getActiveTexture",value:function(){var e=this.gl;return"TEXTURE"+(e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0)}},{key:"getTextureBinding",value:function(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}},{key:"getFramebufferBinding",value:function(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}},{key:"setVertexAttributes",value:function(e,t){var n=this.gl;n.vertexAttribPointer(e,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(e),-1!==t&&(n.vertexAttribPointer(t,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(t)),this.checkError()}},{key:"createProgram",value:function(e,t){var n=this.gl,r=n.createProgram();return n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),r}},{key:"compileShader",value:function(e,t){var n=this.gl,r=n.createShader(t);if(!r)throw new Error("createShader() returned null with type ".concat(t));if(n.shaderSource(r,e),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error("Failed to compile shader: ".concat(n.getShaderInfoLog(r),"\nShader source:\n").concat(e));return r}},{key:"deleteShader",value:function(e){this.gl.deleteShader(e)}},{key:"bindTextureToUniform",value:function(e,t,n){var r=this.gl;r.activeTexture(r.TEXTURE0+t),this.checkError(),r.bindTexture(r.TEXTURE_2D,e),this.checkError(),r.uniform1i(n,t),this.checkError()}},{key:"draw",value:function(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}},{key:"checkError",value:function(){if(o.env.debug){var e=this.gl,t=e.getError(),n="";switch(t){case e.NO_ERROR:return;case e.INVALID_ENUM:n="INVALID_ENUM";break;case e.INVALID_VALUE:n="INVALID_VALUE";break;case e.INVALID_OPERATION:n="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL";break;default:n="Unknown WebGL Error: ".concat(t.toString(16))}throw new Error(n)}}},{key:"deleteTexture",value:function(e){this.gl.deleteTexture(e)}},{key:"deleteProgram",value:function(e){this.gl.deleteProgram(e)}},{key:"getEncoder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(2===this.version)return new s.RedFloat32DataEncoder(this.gl,t);switch(e){case"float":return 1===n||this.isRenderFloat32Supported?new s.RGBAFloatDataEncoder(this.gl,t):new s.RGBAFloatDataEncoder(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new s.Uint8DataEncoder(this.gl,t);default:throw new Error("Invalid dataType: ".concat(e))}}},{key:"clearActiveTextures",value:function(){for(var e=this.gl,t=0;t<this.maxTextureImageUnits;++t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null)}},{key:"dispose",value:function(){if(!this.disposed){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0}}},{key:"createDefaultGeometry",value:function(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}},{key:"createVertexbuffer",value:function(){var e=this.gl,t=e.createBuffer();if(!t)throw new Error("createBuffer() returned null");var n=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this.checkError(),t}},{key:"createFramebuffer",value:function(){var e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e}},{key:"queryVitalParameters",value:function(){var e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version}},{key:"getExtensions",value:function(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}},{key:"checkFloatTextureAttachableToFrameBuffer",value:function(){var e=this.gl,t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);var n=2===this.version?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,n,1,1,0,e.RGBA,e.FLOAT,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(r),i}},{key:"checkRenderFloat32",value:function(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}},{key:"checkFloat32Download",value:function(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer}},{key:"checkFloat32Blend",value:function(){var e,t,n,r,i,a=this.gl;try{e=a.createTexture(),t=a.createFramebuffer(),a.bindTexture(a.TEXTURE_2D,e);var o=2===this.version?a.RGBA32F:a.RGBA;return a.texImage2D(a.TEXTURE_2D,0,o,1,1,0,a.RGBA,a.FLOAT,null),a.bindFramebuffer(a.FRAMEBUFFER,t),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e,0),a.enable(a.BLEND),!!(n=a.createShader(a.VERTEX_SHADER))&&(a.shaderSource(n,"void main(){}"),a.compileShader(n),!!(r=a.createShader(a.FRAGMENT_SHADER))&&(a.shaderSource(r,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),a.compileShader(r),!!(i=a.createProgram())&&(a.attachShader(i,n),a.attachShader(i,r),a.linkProgram(i),a.useProgram(i),a.drawArrays(a.POINTS,0,1),a.getError()===a.NO_ERROR)))}finally{a.disable(a.BLEND),i&&a.deleteProgram(i),n&&a.deleteShader(n),r&&a.deleteShader(r),t&&(a.bindFramebuffer(a.FRAMEBUFFER,null),a.deleteFramebuffer(t)),e&&(a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(e))}}},{key:"beginTimer",value:function(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){var e=this.gl,t=this.disjointTimerQueryWebgl2Extension,n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}throw new Error("WebGL1 profiling currently not supported.")}},{key:"endTimer",value:function(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");var e=this.gl,t=this.disjointTimerQueryWebgl2Extension;e.endQuery(t.TIME_ELAPSED_EXT)}},{key:"isTimerResultAvailable",value:function(e){var t,n;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");var r=this.gl,i=this.disjointTimerQueryWebgl2Extension;return t=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE),n=r.getParameter(i.GPU_DISJOINT_EXT),t&&!n}},{key:"getTimerResult",value:function(e){var t;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");var n=this.gl;return t=n.getQueryParameter(e,n.QUERY_RESULT),n.deleteQuery(e),t/1e6}},{key:"waitForQueryAndGetTime",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.repeatedTry)((function(){return n.isTimerResultAvailable(t)}));case 2:return e.abrupt("return",this.getTimerResult(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createAndWaitForFence",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.createFence(this.gl),e.abrupt("return",this.pollFence(t));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createFence",value:function(e){var t,n=e,r=n.fenceSync(n.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),t=null===r?function(){return!0}:function(){var e=n.clientWaitSync(r,0,0);return e===n.ALREADY_SIGNALED||e===n.CONDITION_SATISFIED},{query:r,isFencePassed:t}}},{key:"pollFence",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){n.addItemToPoll((function(){return t.isFencePassed()}),(function(){return e()}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"pollItems",value:function(){for(var e=l(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),e.t0=this.itemsToPoll.length>1,e.t0){e.next=5;break}return e.next=5,(0,u.repeatedTry)((function(){return r.pollItems(),0===r.itemsToPoll.length}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()},6496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionPlan=void 0;var r=n(1315),i=_createClass((function e(t,n){_classCallCheck(this,e),this.op=t,this.node=n}));t.ExecutionPlan=function(){function e(t,n,r){_classCallCheck(this,e),this.graph=t,this.profiler=r,this.initialize(n)}return _createClass(e,[{key:"initialize",value:function(e){var t=this;this.profiler.event("session","ExecutionPlan.initialize",(function(){var n=t.graph.getNodes();if(n.length!==e.length)throw new Error("The size of nodes and OPs do not match.");t._ops=e.map((function(e,t){return new i(e,n[t])})),t.reset(),t._starter=[],t._ops.forEach((function(e,n){var r,i=!0,a=_createForOfIteratorHelper(e.node.inputs);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(!t._values[o]&&-1===t.graph.getInputIndices().indexOf(o)){i=!1;break}}}catch(s){a.e(s)}finally{a.f()}i&&t._starter.push(n)}))}))}},{key:"reset",value:function(){this._values=this.graph.getValues().map((function(e){return e.tensor}))}},{key:"execute",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.profiler.event("session","ExecutionPlan.execute",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var a,o,s,u,l,c,A,f,d,h,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.reset(),a=t.createInferenceHandler(),o=i.graph.getInputIndices(),n.length===o.length){e.next=4;break}throw new Error("number of input tensors don't match the number of inputs to the model: actual: ".concat(n.length," expected: ").concat(o.length));case 4:n.forEach((function(e,t){var n=o[t];i._values[n]=e})),s=i._starter.slice(0),u=i.graph.getValues(),l=i.graph.getNodes(),c=0,A=_regeneratorRuntime().mark((function e(){var t,n,o,A,f,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s[c++],n=i._ops[t],o=n.node.inputs.map((function(e){return i._values[e]})),-1===o.indexOf(void 0)){e.next=3;break}throw new Error("unresolved input detected: op: ".concat(n.node));case 3:return A=o,r.Logger.verbose("ExecPlan","Runing op:".concat(n.node.name," (").concat(A.map((function(e,t){return"'".concat(n.node.inputs[t],"': ").concat(e.type,"[").concat(e.dims.join(","),"]")})).join(", "),")")),e.next=7,i.profiler.event("node",n.node.name,_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.op.impl(a,A,n.op.context));case 1:case"end":return e.stop()}}),e)}))));case 7:if((f=e.sent).length===n.node.outputs.length){e.next=10;break}throw new Error("the size of output does not match model definition.");case 10:f.forEach((function(e,t){var r=n.node.outputs[t];if(i._values[r])throw new Error("output [".concat(r,"] already has value: op:").concat(n.node.name));i._values[r]=e})),d=new Set,f.forEach((function(e,t){var r,a=n.node.outputs[t],o=_createForOfIteratorHelper(u[a].to);try{for(o.s();!(r=o.n()).done;){var s,c=r.value,A=l[c],f=!0,h=_createForOfIteratorHelper(A.inputs);try{for(h.s();!(s=h.n()).done;){var p=s.value;if(!i._values[p]){f=!1;break}}}catch(v){h.e(v)}finally{h.f()}f&&d.add(c)}}catch(v){o.e(v)}finally{o.f()}})),s.push.apply(s,_toConsumableArray(d));case 13:case"end":return e.stop()}}),e)}));case 8:if(!(c<s.length)){e.next=12;break}return e.delegateYield(A(),"t0",10);case 10:e.next=8;break;case 12:f=[],d=0;case 14:if(!(d<i.graph.getOutputIndices().length)){e.next=28;break}if(h=i.graph.getOutputIndices()[d],void 0!==(p=i._values[h])){e.next=18;break}throw new Error("required output [".concat(h,"] does not have value"));case 18:if(0!==h){e.next=23;break}return e.next=21,p.getData();case 21:e.next=24;break;case 23:p.data;case 24:f.push(p);case 25:d++,e.next=14;break;case 28:return e.abrupt("return",(r.Logger.verbose("ExecPlan","disposing of inferenceHandler"),a.dispose(),f));case 29:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()},4662:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;var r=n(1446),i=n(6874),a=n(1287),o=n(9240),s=n(7273),u=a.onnxruntime.experimental.fbs;t.Graph={from:function(e,t){return new A(e,t)}};var l=function(){function e(t){_classCallCheck(this,e),this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,t&&(this.type=s.ProtoUtil.tensorValueTypeFromProto(t.type.tensorType))}return _createClass(e,[{key:"from",get:function(){return this._from}},{key:"to",get:function(){return this._to}}]),e}(),c=_createClass((function e(t,n){_classCallCheck(this,e),t instanceof r.onnx.NodeProto?(this.name=t.name,this.opType=t.opType,this.attributes=new i.Attribute(t.attribute)):t instanceof u.Node&&(this.name=null!=n?n:t.name(),this.opType=t.opType(),this.attributes=new i.Attribute(s.ProtoUtil.tensorAttributesFromORTFormat(t))),this.inputs=[],this.outputs=[],this.executeNode=!0})),A=function(){function e(t,n){if(_classCallCheck(this,e),!t)throw new TypeError("graph is empty");this.buildGraph(t),this.transformGraph(n),this.checkIsAcyclic()}return _createClass(e,[{key:"getInputIndices",value:function(){return this._allInputIndices}},{key:"getInputNames",value:function(){return this._allInputNames}},{key:"getOutputIndices",value:function(){return this._allOutputIndices}},{key:"getOutputNames",value:function(){return this._allOutputNames}},{key:"getValues",value:function(){return this._allData}},{key:"getNodes",value:function(){return this._nodes}},{key:"buildGraph",value:function(e){if(e instanceof r.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else{if(!(e instanceof u.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(e)}}},{key:"buildGraphFromOnnxFormat",value:function(e){var t=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];var n=new Map;if(!e.input)throw new Error("missing information in graph: input");var r,i=[],a=_createForOfIteratorHelper(e.input);try{for(a.s();!(r=a.n()).done;){var u=r.value;if(t.has(u.name))throw new Error("duplicated input name: ".concat(u.name));var A=this._allData.push(new l(u))-1;t.set(u.name,A),i.push(u.name)}}catch(j){a.e(j)}finally{a.f()}if(!e.initializer)throw new Error("missing information in graph: initializer");var f,d=_createForOfIteratorHelper(e.initializer);try{for(d.s();!(f=d.n()).done;){var h=f.value,p=t.get(h.name);if(void 0===p){var v=new l;v.type={shape:{dims:s.ProtoUtil.tensorDimsFromProto(h.dims)},tensorType:s.ProtoUtil.tensorDataTypeFromProto(h.dataType)},p=this._allData.push(v)-1,t.set(h.name,p)}this._allData[p]._from=-1,this._allData[p].tensor=o.Tensor.fromProto(h)}}catch(j){d.e(j)}finally{d.f()}for(var g=0;g<this._allData.length;g++)this._allData[g].tensor||(this._allInputIndices.push(g),this._allInputNames.push(i[g]));if(!e.output)throw new Error("missing information in graph: output");var m,y=_createForOfIteratorHelper(e.output);try{for(y.s();!(m=y.n()).done;){var b=m.value;if(t.has(b.name))throw new Error("duplicated output name: ".concat(b.name));var w=this._allData.push(new l(b))-1;t.set(b.name,w),this._allOutputIndices.push(w),this._allOutputNames.push(b.name)}}catch(j){y.e(j)}finally{y.f()}if(!e.node)throw new Error("missing information in graph: node");var x,_=_createForOfIteratorHelper(e.node);try{for(_.s();!(x=_.n()).done;){var C=x.value;if(!C.name)for(var E=0;;E++){var S="unnamed_".concat(C.opType,"_").concat(E);if(!n.has(S)){C.name=S;break}}if(n.has(C.name))throw new Error("duplicated node name: ".concat(C.name));var B=this._nodes.push(new c(C))-1;n.set(C.name,B)}}catch(j){_.e(j)}finally{_.f()}for(var T=0;T<this._nodes.length;T++){var I=this._nodes[T],k=e.node[T];if(!k.output)throw new Error("missing output for node: ".concat(k.name));var M,R=_createForOfIteratorHelper(k.output);try{for(R.s();!(M=R.n()).done;){var U=M.value,F=t.get(U);if(void 0===F&&(F=this._allData.push(new l)-1,t.set(U,F)),I.outputs.push(F),void 0!==this._allData[F]._from)throw new Error("multiple nodes output to one data value: ".concat(F));if(this._allData[F]._from=T,"Constant"===k.opType){if(!k.attribute||1!==k.attribute.length||!k.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!k.output||1!==k.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");I.outputs.pop(),I.executeNode=!1,this._allData[F]._from=-1,this._allData[F].tensor=o.Tensor.fromProto(k.attribute[0].t)}}}catch(j){R.e(j)}finally{R.f()}}for(var O=0;O<this._nodes.length;O++){var P=this._nodes[O],D=e.node[O];if(!D.input)throw new Error("missing input for node: ".concat(D.name));var L,N=_createForOfIteratorHelper(D.input);try{for(N.s();!(L=N.n()).done;){var Q=L.value,H=t.get(Q);if(void 0===H){if(""===Q&&3===D.input.length&&"Resize"===D.opType)continue;throw new Error("unrecognized input '".concat(Q,"' for node: ").concat(D.name))}P.inputs.push(H),this._allData[H]._to.push(O)}}catch(j){N.e(j)}finally{N.f()}}return!0}},{key:"buildGraphFromOrtFormat",value:function(e){var t,n,r,i=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];for(var a=new Map,A=[],f=0;f<e.inputsLength();f++){var d=e.inputs(f);if(i.has(d))throw new Error("duplicated input name: ".concat(d));for(var h=0;h<e.nodeArgsLength();h++)if((null===(t=e.nodeArgs(h))||void 0===t?void 0:t.name())===d){var p=new l;if((null===(r=null===(n=e.nodeArgs(h))||void 0===n?void 0:n.type())||void 0===r?void 0:r.valueType())!==u.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");for(var v=e.nodeArgs(h).type().value(new u.TensorTypeAndShape),g=s.ProtoUtil.tensorDataTypeFromProto(v.elemType()),m=v.shape(),y=[],b=0;b<m.dimLength();b++)y.push(s.LongUtil.longToNumber(m.dim(b).value().dimValue()));p.type={shape:{dims:y},tensorType:g};var w=this._allData.push(p)-1;i.set(d,w),A.push(d)}}for(var x=0;x<e.initializersLength();x++){var _=e.initializers(x),C=i.get(_.name());if(void 0===C){var E=new l,S=s.ProtoUtil.tensorDimsFromORTFormat(_),B=s.ProtoUtil.tensorDataTypeFromProto(_.dataType());E.type={shape:{dims:S},tensorType:B},C=this._allData.push(E)-1,i.set(_.name(),C)}this._allData[C]._from=-1,this._allData[C].tensor=o.Tensor.fromOrtTensor(_)}for(var T=0;T<this._allData.length;T++)this._allData[T].tensor||(this._allInputIndices.push(T),this._allInputNames.push(A[T]));for(var I=0;I<e.outputsLength();I++){var k=e.outputs(I);if(i.has(k))throw new Error("duplicated output name: ".concat(k));var M=this._allData.push(new l)-1;i.set(k,M),this._allOutputIndices.push(M),this._allOutputNames.push(k)}if(!e.nodes)throw new Error("missing information in graph: node");for(var R=0;R<e.nodesLength();R++){var U=e.nodes(R),F=U.name();if(!F)for(var O=0;F="unnamed_".concat(U.opType(),"_").concat(O),a.has(F);O++);if(a.has(F))throw new Error("duplicated node name: ".concat(F));var P=this._nodes.push(new c(U,F))-1;a.set(F,P)}for(var D=0;D<this._nodes.length;D++){var L=this._nodes[D],N=e.nodes(D);if(null==N)throw new Error("No node exists at index ".concat(D));if(0===(null==N?void 0:N.outputsLength()))throw new Error("missing output for node: ".concat(N.name));for(var Q=0;Q<(null==N?void 0:N.outputsLength());Q++){var H=null==N?void 0:N.outputs(Q),j=i.get(H);if(void 0===j&&(j=this._allData.push(new l)-1,i.set(H,j)),L.outputs.push(j),void 0!==this._allData[j]._from)throw new Error("multiple nodes output to one data value: ".concat(j));if(this._allData[j]._from=D,"Constant"===N.opType()){if(1!==N.attributesLength()||!N.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==N.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");L.outputs.pop(),L.executeNode=!1,this._allData[j]._from=-1,this._allData[j].tensor=o.Tensor.fromOrtTensor(N.attributes(0).t())}}}for(var z=0;z<this._nodes.length;z++){var G=this._nodes[z],V=e.nodes(z);if(0===V.inputsLength())throw new Error("missing input for node: ".concat(V.name));for(var W=0;W<V.inputsLength();W++){var K=V.inputs(W),X=i.get(K);if(void 0===X)throw new Error("unrecognized input '".concat(K,"' for node: ").concat(V.name()));G.inputs.push(X),this._allData[X]._to.push(z)}}}},{key:"checkIsAcyclic",value:function(){var e=this,t=new Set;this._allInputIndices.forEach((function(n){e._allData[n]._to.forEach((function(e){t.add(e)}))}));for(var n=Array.from(t),r=new Array(this._nodes.length).fill("white"),i=function(){var t=n.pop();"gray"===r[t]?r[t]="black":(n.push(t),r[t]="gray",e._nodes[t].outputs.forEach((function(i){var a=e._allData[i];if(void 0!==a.tensor)throw new Error("node outputs should not be initialized");if(a._from!==t)throw new Error("from property of the Value object doesn't match index of Node being processed");a._to.forEach((function(e){if("gray"===r[e])throw new Error("model graph is cyclic");"white"===r[e]&&n.push(e)}))})))};n.length>0;)i()}},{key:"transformGraph",value:function(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}},{key:"finalizeGraph",value:function(){for(var e=this,t=0,n=new Array(this._nodes.length,0),r=0,i=0;i<this._nodes.length;i++)n[i]=r,this._nodes[i].executeNode?(r!==i&&(this._nodes[r]=this._nodes[i]),r++):this._nodes[i].outputs.forEach((function(t){e._allData[t]._from=-2}));this._nodes.splice(r,this._nodes.length-r);for(var a=0;a<this._allData.length;a++){var o=this._allData[a];void 0!==o._from&&-1!==o._from&&-2!==o._from&&(o._from=n[o._from]);for(var s=0;s<o._to.length;s++){if(!(o._to[s]>=0))throw new Error("Trying to update a removed node");o._to[s]=n[o._to[s]]}}t=0;for(var u=function(n){if(-2!==e._allData[n].from||-1!==e._allOutputIndices.indexOf(n+t)){if(t>0){var r=-1;void 0!==e._allData[n].from&&-1!==e._allData[n].from?-1!==(r=e._nodes[e._allData[n].from].outputs.indexOf(n+t))&&(e._nodes[e._allData[n].from].outputs[r]=n):-1!==(r=e._allInputIndices.indexOf(n+t))&&(e._allInputIndices[r]=n),e._allData[n].to.forEach((function(i){-1!==(r=e._nodes[i].inputs.indexOf(n+t))&&(e._nodes[i].inputs[r]=n)})),0===e._allData[n].to.length&&-1!==(r=e._allOutputIndices.indexOf(n+t))&&(e._allOutputIndices[r]=n)}}else t++,e._allData.splice(n,1),n--;l=n},l=0;l<this._allData.length;l++)u(l)}},{key:"deleteNode",value:function(e){var t=this._nodes[e];if(t.outputs.length>1)for(var n=1;n<t.outputs.length;n++)if(this._allData[t.outputs[n]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");t.executeNode=!1;for(var r=t.inputs[0],i=t.outputs[0],a=this._allData[i].to,o=0;o<t.inputs.length;o++){var s=this._allData[t.inputs[o]].to.indexOf(e);if(-1===s)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[t.inputs[o]].to.splice(s,1)}this._allData[i]._to=[];var u=this._allOutputIndices.indexOf(i);if(-1!==u&&(this._allOutputIndices[u]=r),a&&a.length>0){var l,c=_createForOfIteratorHelper(a);try{for(c.s();!(l=c.n()).done;){var A=l.value,f=this._nodes[A].inputs.indexOf(i);if(-1===f)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[A].inputs[f]=r,this._allData[r].to.push(A)}}catch(d){c.e(d)}finally{c.f()}}}},{key:"removeAllDropoutNodes",value:function(){var e,t=0,n=_createForOfIteratorHelper(this._nodes);try{for(n.s();!(e=n.n()).done;){var r=e.value;if("Dropout"===r.opType){if(1!==r.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==r.outputs.length&&2!==r.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===r.outputs.length&&0!==this._allData[r.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(t)}t++}}catch(i){n.e(i)}finally{n.f()}}},{key:"removeAllIdentityNodes",value:function(){var e,t=0,n=_createForOfIteratorHelper(this._nodes);try{for(n.s();!(e=n.n()).done;)"Identity"===e.value.opType&&this.deleteNode(t),t++}catch(r){n.e(r)}finally{n.f()}}},{key:"isActivation",value:function(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}},{key:"fuseConvActivationNodes",value:function(){var e,n=_createForOfIteratorHelper(this._nodes);try{for(n.s();!(e=n.n()).done;){var r=e.value;if("Conv"===r.opType){var i=this._allData[r.outputs[0]]._to;if(1===i.length&&this.isActivation(this._nodes[i[0]])){var a=this._nodes[i[0]];if("Clip"===a.opType)if(1===a.inputs.length)try{r.attributes.set("activation_params","floats",[a.attributes.getFloat("min"),a.attributes.getFloat("max")])}catch(t){r.attributes.set("activation_params","floats",[s.MIN_CLIP,s.MAX_CLIP])}else{if(!(a.inputs.length>=3&&void 0!==this._allData[a.inputs[1]].tensor&&void 0!==this._allData[a.inputs[2]].tensor))continue;r.attributes.set("activation_params","floats",[this._allData[a.inputs[1]].tensor.floatData[0],this._allData[a.inputs[2]].tensor.floatData[0]])}r.attributes.set("activation","string",a.opType),this.deleteNode(i[0])}}}}catch(o){n.e(o)}finally{n.f()}}}]),e}()},1315:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.Profiler=t.Logger=void 0;var n={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},r={none:new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e,t,n){}}]),e}()),console:new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e,t,n){console.log("".concat(this.color(e)," ").concat(n?"\x1b[35m"+n+"\x1b[0m ":"").concat(t))}},{key:"color",value:function(e){switch(e){case"verbose":return"\x1b[34;40mv\x1b[0m";case"info":return"\x1b[32mi\x1b[0m";case"warning":return"\x1b[30;43mw\x1b[0m";case"error":return"\x1b[31;40me\x1b[0m";case"fatal":return"\x1b[101mf\x1b[0m";default:throw new Error("unsupported severity: ".concat(e))}}}]),e}())},i={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1},a={"":i};function o(e,t,n,r){if(void 0===t)return i=e,{verbose:o.verbose.bind(null,i),info:o.info.bind(null,i),warning:o.warning.bind(null,i),error:o.error.bind(null,i),fatal:o.fatal.bind(null,i)};if(void 0===n)s(e,t);else if("number"==typeof n&&void 0===r)s(e,t);else if("string"==typeof n&&void 0===r)s(e,n,0,t);else{if("string"!=typeof n||"number"!=typeof r)throw new TypeError("input is valid");s(e,n,0,t)}var i}function s(e,t,i,o){var s=a[o||""]||a[""];n[e]<n[s.minimalSeverity]||(s.logDateTime&&(t="".concat((new Date).toISOString(),"|").concat(t)),s.logSourceLocation,r[s.provider].log(e,t,o))}!function(e){function t(e){a={},n("",e||{})}function n(e,n){if("*"===e)t(n);else{var r=a[e]||i;a[e]={provider:n.provider||r.provider,minimalSeverity:n.minimalSeverity||r.minimalSeverity,logDateTime:void 0===n.logDateTime?r.logDateTime:n.logDateTime,logSourceLocation:void 0===n.logSourceLocation?r.logSourceLocation:n.logSourceLocation}}}e.verbose=function(t,n){e("verbose",t,n)},e.info=function(t,n){e("info",t,n)},e.warning=function(t,n){e("warning",t,n)},e.error=function(t,n){e("error",t,n)},e.fatal=function(t,n){e("fatal",t,n)},e.reset=t,e.set=n,e.setWithEnv=function(e){var t={};e.logLevel&&(t.minimalSeverity=e.logLevel),n("",t)}}(o||(o={})),t.Logger=o;var u=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.category=t,this.name=n,this.startTime=r,this.endCallback=i,this.timer=a,this.ctx=o}return _createClass(e,[{key:"end",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.endCallback(this));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkTimer",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.ctx&&void 0!==this.timer){e.next=2;break}throw new Error("No webgl timer found");case 2:return e.abrupt("return",(this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),l=_createClass((function e(t,n,r,i){_classCallCheck(this,e),this.category=t,this.name=n,this.startTime=r,this.endTime=i}));t.Profiler=function(){function e(t,n,r){_classCallCheck(this,e),this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===t?1e4:t,this._flushBatchSize=void 0===n?10:n,this._flushIntervalInMilliseconds=void 0===r?5e3:r}return _createClass(e,[{key:"start",value:function(){this._started=!0,this._timingEvents=[],this._flushTime=(0,t.now)(),this._flushPointer=0}},{key:"stop",value:function(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}},{key:"event",value:function(e,t,n,r){var i=this._started?this.begin(e,t,r):void 0,a=!1,o=n();if(o&&"function"==typeof o.then)return a=!0,new Promise((function(e,t){o.then(function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(n){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=i,!t.t0){t.next=4;break}return t.next=4,i.end();case 4:e(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i,!e.t0){e.next=4;break}return e.next=4,i.end();case 4:t(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));if(!a&&i){var s=i.end();if(s&&"function"==typeof s.then)return new Promise((function(e,t){s.then((function(){e(o)}),(function(e){t(e)}))}))}return o}},{key:"begin",value:function(e,n,r){var i=this;if(!this._started)throw new Error("profiler is not started yet");if(void 0===r){var a=(0,t.now)();return this.flush(a),new u(e,n,a,(function(e){return i.endSync(e)}))}var o=r.beginTimer();return new u(e,n,0,function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.end(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o,r)}},{key:"end",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.checkTimer();case 2:n=e.sent,this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new l(t.category,t.name,t.startTime,n)),this.flush(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"endSync",value:function(e){var n=(0,t.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new l(e.category,e.name,e.startTime,n)),this.flush(n))}},{key:"logOneEvent",value:function(e){t.Logger.verbose("Profiler.".concat(e.category),"".concat((e.endTime-e.startTime).toFixed(2),"ms on event '").concat(e.name,"' at ").concat(e.endTime.toFixed(2)))}},{key:"flush",value:function(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(var n=this._flushPointer;this._flushPointer<n+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,t.now)()}}},{key:"started",get:function(){return this._started}}],[{key:"create",value:function(e){return void 0===e?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)}}]),e}(),t.now="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:Date.now},1745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var r=n(5686),i=n(1446),a=n(4662),o=n(1287),s=n(7273),u=o.onnxruntime.experimental.fbs;t.Model=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"load",value:function(e,t,n){if(!n)try{return void this.loadFromOnnxFormat(e,t)}catch(e){if(void 0!==n)throw e}this.loadFromOrtFormat(e,t)}},{key:"loadFromOnnxFormat",value:function(e,t){var n=i.onnx.ModelProto.decode(e);if(s.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map((function(e){return{domain:e.domain,version:s.LongUtil.longToNumber(e.version)}})),this._graph=a.Graph.from(n.graph,t)}},{key:"loadFromOrtFormat",value:function(e,t){var n=new r.flatbuffers.ByteBuffer(e),i=u.InferenceSession.getRootAsInferenceSession(n).model();if(s.LongUtil.longToNumber(i.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(var o=0;o<i.opsetImportLength();o++){var l=i.opsetImport(o);this._opsets.push({domain:null==l?void 0:l.domain(),version:s.LongUtil.longToNumber(l.version())})}this._graph=a.Graph.from(i.graph(),t)}},{key:"graph",get:function(){return this._graph}},{key:"opsets",get:function(){return this._opsets}}]),e}()},6145:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLOAT_TYPES=t.INT_TYPES=t.NUMBER_TYPES=void 0,t.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],t.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],t.FLOAT_TYPES=["float32","float64"]},5881:function(e,t){"use strict";function n(e,t){if(t.endsWith("+")){var n=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(n)&&n<=e}if(2===t.split("-").length){var r=t.split("-"),i=Number.parseInt(r[0],10),a=Number.parseInt(r[1],10);return!isNaN(i)&&!isNaN(a)&&i<=e&&e<=a}return Number.parseInt(t,10)===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveOperator=void 0,t.resolveOperator=function(e,t,r){var i,a=_createForOfIteratorHelper(r);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o[0],u=o[1],l=o[2],c=o[3],A=o[4];if(e.opType===s){var f,d=_createForOfIteratorHelper(t);try{for(d.s();!(f=d.n()).done;){var h=f.value;if((h.domain===u||"ai.onnx"===h.domain&&""===u)&&n(h.version,l))return{opImpl:c,opInit:A}}}catch(p){d.e(p)}finally{d.f()}}}}catch(p){a.e(p)}finally{a.f()}throw new TypeError("cannot resolve operator '".concat(e.opType,"' with opsets: ").concat(t.map((function(e){return"".concat(e.domain||"ai.onnx"," v").concat(e.version)})).join(", ")))}},1287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onnxruntime=void 0;var r,i,a=n(5686);(function(e){!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.INT=2]="INT",e[e.STRING=3]="STRING",e[e.TENSOR=4]="TENSOR",e[e.GRAPH=5]="GRAPH",e[e.FLOATS=6]="FLOATS",e[e.INTS=7]="INTS",e[e.STRINGS=8]="STRINGS",e[e.TENSORS=9]="TENSORS",e[e.GRAPHS=10]="GRAPHS",e[e.SPARSE_TENSOR=11]="SPARSE_TENSOR",e[e.SPARSE_TENSORS=12]="SPARSE_TENSORS"}(e.AttributeType||(e.AttributeType={}))})((i=(r=t.onnxruntime||(t.onnxruntime={})).experimental||(r.experimental={})).fbs||(i.fbs={})),function(e){!function(e){!function(e){!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VALUE=1]="VALUE",e[e.PARAM=2]="PARAM"}(e.DimensionValueType||(e.DimensionValueType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.UINT8=2]="UINT8",e[e.INT8=3]="INT8",e[e.UINT16=4]="UINT16",e[e.INT16=5]="INT16",e[e.INT32=6]="INT32",e[e.INT64=7]="INT64",e[e.STRING=8]="STRING",e[e.BOOL=9]="BOOL",e[e.FLOAT16=10]="FLOAT16",e[e.DOUBLE=11]="DOUBLE",e[e.UINT32=12]="UINT32",e[e.UINT64=13]="UINT64",e[e.COMPLEX64=14]="COMPLEX64",e[e.COMPLEX128=15]="COMPLEX128",e[e.BFLOAT16=16]="BFLOAT16"}(e.TensorDataType||(e.TensorDataType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){!function(e){e[e.Primitive=0]="Primitive",e[e.Fused=1]="Fused"}(e.NodeType||(e.NodeType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){!function(e){e[e.NONE=0]="NONE",e[e.tensor_type=1]="tensor_type",e[e.sequence_type=2]="sequence_type",e[e.map_type=3]="map_type"}(e.TypeInfoValue||(e.TypeInfoValue={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"dim",value:function(t,n){var r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"dimLength",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsShape",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsShape",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startShape",value:function(e){e.startObject(1)}},{key:"addDim",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"createDimVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startDimVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endShape",value:function(e){return e.endObject()}},{key:"createShape",value:function(e,n){return t.startShape(e),t.addDim(e,n),t.endShape(e)}}]),t}();t.Shape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"value",value:function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"denotation",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}}],[{key:"getRootAsDimension",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsDimension",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startDimension",value:function(e){e.startObject(2)}},{key:"addValue",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addDenotation",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"endDimension",value:function(e){return e.endObject()}},{key:"createDimension",value:function(e,n,r){return t.startDimension(e),t.addValue(e,n),t.addDenotation(e,r),t.endDimension(e)}}]),t}();t.Dimension=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"dimType",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):e.experimental.fbs.DimensionValueType.UNKNOWN}},{key:"dimValue",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"dimParam",value:function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}}],[{key:"getRootAsDimensionValue",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsDimensionValue",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startDimensionValue",value:function(e){e.startObject(3)}},{key:"addDimType",value:function(t,n){t.addFieldInt8(0,n,e.experimental.fbs.DimensionValueType.UNKNOWN)}},{key:"addDimValue",value:function(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}},{key:"addDimParam",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"endDimensionValue",value:function(e){return e.endObject()}},{key:"createDimensionValue",value:function(e,n,r,i){return t.startDimensionValue(e),t.addDimType(e,n),t.addDimValue(e,r),t.addDimParam(e,i),t.endDimensionValue(e)}}]),t}();t.DimensionValue=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"elemType",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}},{key:"shape",value:function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsTensorTypeAndShape",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsTensorTypeAndShape",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startTensorTypeAndShape",value:function(e){e.startObject(2)}},{key:"addElemType",value:function(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}},{key:"addShape",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"endTensorTypeAndShape",value:function(e){return e.endObject()}},{key:"createTensorTypeAndShape",value:function(e,n,r){return t.startTensorTypeAndShape(e),t.addElemType(e,n),t.addShape(e,r),t.endTensorTypeAndShape(e)}}]),t}();t.TensorTypeAndShape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"keyType",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}},{key:"valueType",value:function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsMapType",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsMapType",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startMapType",value:function(e){e.startObject(2)}},{key:"addKeyType",value:function(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}},{key:"addValueType",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"endMapType",value:function(e){return e.endObject()}},{key:"createMapType",value:function(e,n,r){return t.startMapType(e),t.addKeyType(e,n),t.addValueType(e,r),t.endMapType(e)}}]),t}();t.MapType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"elemType",value:function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsSequenceType",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsSequenceType",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startSequenceType",value:function(e){e.startObject(1)}},{key:"addElemType",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"endSequenceType",value:function(e){return e.endObject()}},{key:"createSequenceType",value:function(e,n){return t.startSequenceType(e),t.addElemType(e,n),t.endSequenceType(e)}}]),t}();t.SequenceType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){(e.fbs||(e.fbs={})).EdgeEnd=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"nodeIndex",value:function(){return this.bb.readUint32(this.bb_pos)}},{key:"srcArgIndex",value:function(){return this.bb.readInt32(this.bb_pos+4)}},{key:"dstArgIndex",value:function(){return this.bb.readInt32(this.bb_pos+8)}}],[{key:"createEdgeEnd",value:function(e,t,n,r){return e.prep(4,12),e.writeInt32(r),e.writeInt32(n),e.writeInt32(t),e.offset()}}]),e}()}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"nodeIndex",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0}},{key:"inputEdges",value:function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}},{key:"inputEdgesLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"outputEdges",value:function(t,n){var r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}},{key:"outputEdgesLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsNodeEdge",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsNodeEdge",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startNodeEdge",value:function(e){e.startObject(3)}},{key:"addNodeIndex",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"addInputEdges",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"startInputEdgesVector",value:function(e,t){e.startVector(12,t,4)}},{key:"addOutputEdges",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"startOutputEdgesVector",value:function(e,t){e.startVector(12,t,4)}},{key:"endNodeEdge",value:function(e){return e.endObject()}},{key:"createNodeEdge",value:function(e,n,r,i){return t.startNodeEdge(e),t.addNodeIndex(e,n),t.addInputEdges(e,r),t.addOutputEdges(e,i),t.endNodeEdge(e)}}]),t}();t.NodeEdge=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"name",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"docString",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"domain",value:function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"sinceVersion",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0}},{key:"index",value:function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint32(this.bb_pos+e):0}},{key:"opType",value:function(e){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"type",value:function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.NodeType.Primitive}},{key:"executionProviderType",value:function(e){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"inputs",value:function(e,t){var n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}},{key:"inputsLength",value:function(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"outputs",value:function(e,t){var n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}},{key:"outputsLength",value:function(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"attributes",value:function(t,n){var r=this.bb.__offset(this.bb_pos,24);return r?(n||new e.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"attributesLength",value:function(){var e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"inputArgCounts",value:function(e){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}},{key:"inputArgCountsLength",value:function(){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"inputArgCountsArray",value:function(){var e=this.bb.__offset(this.bb_pos,26);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}},{key:"implicitInputs",value:function(e,t){var n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}},{key:"implicitInputsLength",value:function(){var e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsNode",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsNode",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startNode",value:function(e){e.startObject(13)}},{key:"addName",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addDocString",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addDomain",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"addSinceVersion",value:function(e,t){e.addFieldInt32(3,t,0)}},{key:"addIndex",value:function(e,t){e.addFieldInt32(4,t,0)}},{key:"addOpType",value:function(e,t){e.addFieldOffset(5,t,0)}},{key:"addType",value:function(t,n){t.addFieldInt32(6,n,e.experimental.fbs.NodeType.Primitive)}},{key:"addExecutionProviderType",value:function(e,t){e.addFieldOffset(7,t,0)}},{key:"addInputs",value:function(e,t){e.addFieldOffset(8,t,0)}},{key:"createInputsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startInputsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addOutputs",value:function(e,t){e.addFieldOffset(9,t,0)}},{key:"createOutputsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startOutputsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addAttributes",value:function(e,t){e.addFieldOffset(10,t,0)}},{key:"createAttributesVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startAttributesVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addInputArgCounts",value:function(e,t){e.addFieldOffset(11,t,0)}},{key:"createInputArgCountsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}},{key:"startInputArgCountsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addImplicitInputs",value:function(e,t){e.addFieldOffset(12,t,0)}},{key:"createImplicitInputsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startImplicitInputsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endNode",value:function(e){return e.endObject()}},{key:"createNode",value:function(e,n,r,i,a,o,s,u,l,c,A,f,d,h){return t.startNode(e),t.addName(e,n),t.addDocString(e,r),t.addDomain(e,i),t.addSinceVersion(e,a),t.addIndex(e,o),t.addOpType(e,s),t.addType(e,u),t.addExecutionProviderType(e,l),t.addInputs(e,c),t.addOutputs(e,A),t.addAttributes(e,f),t.addInputArgCounts(e,d),t.addImplicitInputs(e,h),t.endNode(e)}}]),t}();t.Node=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"name",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"docString",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"type",value:function(t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsValueInfo",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsValueInfo",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startValueInfo",value:function(e){e.startObject(3)}},{key:"addName",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addDocString",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addType",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"endValueInfo",value:function(e){return e.endObject()}},{key:"createValueInfo",value:function(e,n,r,i){return t.startValueInfo(e),t.addName(e,n),t.addDocString(e,r),t.addType(e,i),t.endValueInfo(e)}}]),t}();t.ValueInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"denotation",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"valueType",value:function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):e.experimental.fbs.TypeInfoValue.NONE}},{key:"value",value:function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}}],[{key:"getRootAsTypeInfo",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsTypeInfo",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startTypeInfo",value:function(e){e.startObject(3)}},{key:"addDenotation",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addValueType",value:function(t,n){t.addFieldInt8(1,n,e.experimental.fbs.TypeInfoValue.NONE)}},{key:"addValue",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"endTypeInfo",value:function(e){return e.endObject()}},{key:"createTypeInfo",value:function(e,n,r,i){return t.startTypeInfo(e),t.addDenotation(e,n),t.addValueType(e,r),t.addValue(e,i),t.endTypeInfo(e)}}]),t}();t.TypeInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){var t=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"domain",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"version",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}}],[{key:"getRootAsOperatorSetId",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsOperatorSetId",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startOperatorSetId",value:function(e){e.startObject(2)}},{key:"addDomain",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addVersion",value:function(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}},{key:"endOperatorSetId",value:function(e){return e.endObject()}},{key:"createOperatorSetId",value:function(t,n,r){return e.startOperatorSetId(t),e.addDomain(t,n),e.addVersion(t,r),e.endOperatorSetId(t)}}]),e}();e.OperatorSetId=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"name",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"docString",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"dims",value:function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}},{key:"dimsLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"dataType",value:function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}},{key:"rawData",value:function(e){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0}},{key:"rawDataLength",value:function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"rawDataArray",value:function(){var e=this.bb.__offset(this.bb_pos,12);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}},{key:"stringData",value:function(e,t){var n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}},{key:"stringDataLength",value:function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsTensor",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsTensor",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startTensor",value:function(e){e.startObject(6)}},{key:"addName",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addDocString",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addDims",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"createDimsVector",value:function(e,t){e.startVector(8,t.length,8);for(var n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}},{key:"startDimsVector",value:function(e,t){e.startVector(8,t,8)}},{key:"addDataType",value:function(t,n){t.addFieldInt32(3,n,e.experimental.fbs.TensorDataType.UNDEFINED)}},{key:"addRawData",value:function(e,t){e.addFieldOffset(4,t,0)}},{key:"createRawDataVector",value:function(e,t){e.startVector(1,t.length,1);for(var n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()}},{key:"startRawDataVector",value:function(e,t){e.startVector(1,t,1)}},{key:"addStringData",value:function(e,t){e.addFieldOffset(5,t,0)}},{key:"createStringDataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startStringDataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endTensor",value:function(e){return e.endObject()}},{key:"createTensor",value:function(e,n,r,i,a,o,s){return t.startTensor(e),t.addName(e,n),t.addDocString(e,r),t.addDims(e,i),t.addDataType(e,a),t.addRawData(e,o),t.addStringData(e,s),t.endTensor(e)}}]),t}();t.Tensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"values",value:function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"indices",value:function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"dims",value:function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}},{key:"dimsLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsSparseTensor",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsSparseTensor",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startSparseTensor",value:function(e){e.startObject(3)}},{key:"addValues",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addIndices",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addDims",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"createDimsVector",value:function(e,t){e.startVector(8,t.length,8);for(var n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}},{key:"startDimsVector",value:function(e,t){e.startVector(8,t,8)}},{key:"endSparseTensor",value:function(e){return e.endObject()}},{key:"createSparseTensor",value:function(e,n,r,i){return t.startSparseTensor(e),t.addValues(e,n),t.addIndices(e,r),t.addDims(e,i),t.endSparseTensor(e)}}]),t}();t.SparseTensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"name",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"docString",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"type",value:function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.AttributeType.UNDEFINED}},{key:"f",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb_pos+e):0}},{key:"i",value:function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"s",value:function(e){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"t",value:function(t){var n=this.bb.__offset(this.bb_pos,16);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"g",value:function(t){var n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"floats",value:function(e){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+4*e):0}},{key:"floatsLength",value:function(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"floatsArray",value:function(){var e=this.bb.__offset(this.bb_pos,20);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}},{key:"ints",value:function(e){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}},{key:"intsLength",value:function(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"strings",value:function(e,t){var n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}},{key:"stringsLength",value:function(){var e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"tensors",value:function(t,n){var r=this.bb.__offset(this.bb_pos,26);return r?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"tensorsLength",value:function(){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"graphs",value:function(t,n){var r=this.bb.__offset(this.bb_pos,28);return r?(n||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"graphsLength",value:function(){var e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsAttribute",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsAttribute",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startAttribute",value:function(e){e.startObject(13)}},{key:"addName",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addDocString",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addType",value:function(t,n){t.addFieldInt32(2,n,e.experimental.fbs.AttributeType.UNDEFINED)}},{key:"addF",value:function(e,t){e.addFieldFloat32(3,t,0)}},{key:"addI",value:function(e,t){e.addFieldInt64(4,t,e.createLong(0,0))}},{key:"addS",value:function(e,t){e.addFieldOffset(5,t,0)}},{key:"addT",value:function(e,t){e.addFieldOffset(6,t,0)}},{key:"addG",value:function(e,t){e.addFieldOffset(7,t,0)}},{key:"addFloats",value:function(e,t){e.addFieldOffset(8,t,0)}},{key:"createFloatsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()}},{key:"startFloatsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addInts",value:function(e,t){e.addFieldOffset(9,t,0)}},{key:"createIntsVector",value:function(e,t){e.startVector(8,t.length,8);for(var n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}},{key:"startIntsVector",value:function(e,t){e.startVector(8,t,8)}},{key:"addStrings",value:function(e,t){e.addFieldOffset(10,t,0)}},{key:"createStringsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startStringsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addTensors",value:function(e,t){e.addFieldOffset(11,t,0)}},{key:"createTensorsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startTensorsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addGraphs",value:function(e,t){e.addFieldOffset(12,t,0)}},{key:"createGraphsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startGraphsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endAttribute",value:function(e){return e.endObject()}},{key:"createAttribute",value:function(e,n,r,i,a,o,s,u,l,c,A,f,d,h){return t.startAttribute(e),t.addName(e,n),t.addDocString(e,r),t.addType(e,i),t.addF(e,a),t.addI(e,o),t.addS(e,s),t.addT(e,u),t.addG(e,l),t.addFloats(e,c),t.addInts(e,A),t.addStrings(e,f),t.addTensors(e,d),t.addGraphs(e,h),t.endAttribute(e)}}]),t}();t.Attribute=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"initializers",value:function(t,n){var r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"initializersLength",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"nodeArgs",value:function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"nodeArgsLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"nodes",value:function(t,n){var r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"nodesLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"maxNodeIndex",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb_pos+e):0}},{key:"nodeEdges",value:function(t,n){var r=this.bb.__offset(this.bb_pos,12);return r?(n||new e.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"nodeEdgesLength",value:function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"inputs",value:function(e,t){var n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}},{key:"inputsLength",value:function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"outputs",value:function(e,t){var n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}},{key:"outputsLength",value:function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"sparseInitializers",value:function(t,n){var r=this.bb.__offset(this.bb_pos,18);return r?(n||new e.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"sparseInitializersLength",value:function(){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsGraph",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsGraph",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startGraph",value:function(e){e.startObject(8)}},{key:"addInitializers",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"createInitializersVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startInitializersVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addNodeArgs",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"createNodeArgsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startNodeArgsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addNodes",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"createNodesVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startNodesVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addMaxNodeIndex",value:function(e,t){e.addFieldInt32(3,t,0)}},{key:"addNodeEdges",value:function(e,t){e.addFieldOffset(4,t,0)}},{key:"createNodeEdgesVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startNodeEdgesVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addInputs",value:function(e,t){e.addFieldOffset(5,t,0)}},{key:"createInputsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startInputsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addOutputs",value:function(e,t){e.addFieldOffset(6,t,0)}},{key:"createOutputsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startOutputsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addSparseInitializers",value:function(e,t){e.addFieldOffset(7,t,0)}},{key:"createSparseInitializersVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startSparseInitializersVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endGraph",value:function(e){return e.endObject()}},{key:"createGraph",value:function(e,n,r,i,a,o,s,u,l){return t.startGraph(e),t.addInitializers(e,n),t.addNodeArgs(e,r),t.addNodes(e,i),t.addMaxNodeIndex(e,a),t.addNodeEdges(e,o),t.addInputs(e,s),t.addOutputs(e,u),t.addSparseInitializers(e,l),t.endGraph(e)}}]),t}();t.Graph=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"irVersion",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"opsetImport",value:function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"opsetImportLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"producerName",value:function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"producerVersion",value:function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"domain",value:function(e){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"modelVersion",value:function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"docString",value:function(e){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"graph",value:function(t){var n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"graphDocString",value:function(e){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__string(this.bb_pos+t,e):null}}],[{key:"getRootAsModel",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsModel",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startModel",value:function(e){e.startObject(9)}},{key:"addIrVersion",value:function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}},{key:"addOpsetImport",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"createOpsetImportVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startOpsetImportVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addProducerName",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"addProducerVersion",value:function(e,t){e.addFieldOffset(3,t,0)}},{key:"addDomain",value:function(e,t){e.addFieldOffset(4,t,0)}},{key:"addModelVersion",value:function(e,t){e.addFieldInt64(5,t,e.createLong(0,0))}},{key:"addDocString",value:function(e,t){e.addFieldOffset(6,t,0)}},{key:"addGraph",value:function(e,t){e.addFieldOffset(7,t,0)}},{key:"addGraphDocString",value:function(e,t){e.addFieldOffset(8,t,0)}},{key:"endModel",value:function(e){return e.endObject()}},{key:"createModel",value:function(e,n,r,i,a,o,s,u,l,c){return t.startModel(e),t.addIrVersion(e,n),t.addOpsetImport(e,r),t.addProducerName(e,i),t.addProducerVersion(e,a),t.addDomain(e,o),t.addModelVersion(e,s),t.addDocString(e,u),t.addGraph(e,l),t.addGraphDocString(e,c),t.endModel(e)}}]),t}();t.Model=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){var t=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"nodeIndices",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*e):0}},{key:"nodeIndicesLength",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"nodeIndicesArray",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}},{key:"kernelDefHashes",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}},{key:"kernelDefHashesLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsKernelCreateInfos",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsKernelCreateInfos",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startKernelCreateInfos",value:function(e){e.startObject(2)}},{key:"addNodeIndices",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"createNodeIndicesVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}},{key:"startNodeIndicesVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addKernelDefHashes",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"createKernelDefHashesVector",value:function(e,t){e.startVector(8,t.length,8);for(var n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}},{key:"startKernelDefHashesVector",value:function(e,t){e.startVector(8,t,8)}},{key:"endKernelCreateInfos",value:function(e){return e.endObject()}},{key:"createKernelCreateInfos",value:function(t,n,r){return e.startKernelCreateInfos(t),e.addNodeIndices(t,n),e.addKernelDefHashes(t,r),e.endKernelCreateInfos(t)}}]),e}();e.KernelCreateInfos=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"graphId",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"sessionState",value:function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsSubGraphSessionState",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsSubGraphSessionState",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startSubGraphSessionState",value:function(e){e.startObject(2)}},{key:"addGraphId",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addSessionState",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"endSubGraphSessionState",value:function(e){var t=e.endObject();return e.requiredField(t,4),t}},{key:"createSubGraphSessionState",value:function(e,n,r){return t.startSubGraphSessionState(e),t.addGraphId(e,n),t.addSessionState(e,r),t.endSubGraphSessionState(e)}}]),t}();t.SubGraphSessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"kernels",value:function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"subGraphSessionStates",value:function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"subGraphSessionStatesLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsSessionState",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsSessionState",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startSessionState",value:function(e){e.startObject(2)}},{key:"addKernels",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addSubGraphSessionStates",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"createSubGraphSessionStatesVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startSubGraphSessionStatesVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endSessionState",value:function(e){return e.endObject()}},{key:"createSessionState",value:function(e,n,r){return t.startSessionState(e),t.addKernels(e,n),t.addSubGraphSessionStates(e,r),t.endSessionState(e)}}]),t}();t.SessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"ortVersion",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"model",value:function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"sessionState",value:function(t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsInferenceSession",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsInferenceSession",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"bufferHasIdentifier",value:function(e){return e.__has_identifier("ORTM")}},{key:"startInferenceSession",value:function(e){e.startObject(3)}},{key:"addOrtVersion",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addModel",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addSessionState",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"endInferenceSession",value:function(e){return e.endObject()}},{key:"finishInferenceSessionBuffer",value:function(e,t){e.finish(t,"ORTM")}},{key:"finishSizePrefixedInferenceSessionBuffer",value:function(e,t){e.finish(t,"ORTM",!0)}},{key:"createInferenceSession",value:function(e,n,r,i){return t.startInferenceSession(e),t.addOrtVersion(e,n),t.addModel(e,r),t.addSessionState(e,i),t.endInferenceSession(e)}}]),t}();t.InferenceSession=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={}))},1723:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxjsSessionHandler=void 0;var r=n(8453),i=n(9240);t.OnnxjsSessionHandler=function(){function e(t){_classCallCheck(this,e),this.session=t,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}return _createClass(e,[{key:"dispose",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,a){var o,s,u,l,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in o=new Map,t)Object.hasOwnProperty.call(t,s)&&(u=t[s],o.set(s,new i.Tensor(u.dims,u.type,void 0,void 0,u.data)));return e.next=4,this.session.run(o);case 4:return l=e.sent,c={},e.abrupt("return",(l.forEach((function(e,t){c[t]=new r.Tensor(e.type,e.data,e.dims)})),c));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"startProfiling",value:function(){this.session.startProfiling()}},{key:"endProfiling",value:function(){this.session.endProfiling()}}]),e}()},6027:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;var r=n(7067),i=n(1296),a=n(1975),o=n(6496),s=n(1315),u=n(1745);t.Session=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this._initialized=!1,this.backendHint=t.backendHint,this.profiler=s.Profiler.create(t.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}return _createClass(e,[{key:"inputNames",get:function(){return this._model.graph.getInputNames()}},{key:"outputNames",get:function(){return this._model.graph.getOutputNames()}},{key:"startProfiling",value:function(){this.profiler.start()}},{key:"endProfiling",value:function(){this.profiler.stop()}},{key:"loadModel",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,o){var s=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.profiler.event("session","Session.loadModel",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var l,c,A,f,d,h;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.resolveBackend)(s.backendHint);case 2:if(l=e.sent,s.sessionHandler=l.createSessionHandler(s.context),s._model=new u.Model,"string"!=typeof t){e.next=21;break}if(c=t.endsWith(".ort"),"undefined"!=typeof fetch){e.next=12;break}return e.next=8,(0,i.promisify)(r.readFile)(t);case 8:A=e.sent,s.initialize(A,c),e.next=19;break;case 12:return e.next=14,fetch(t);case 14:return f=e.sent,e.next=17,f.arrayBuffer();case 17:d=e.sent,s.initialize(new Uint8Array(d),c);case 19:e.next=22;break;case 21:ArrayBuffer.isView(t)?s.initialize(t):(h=new Uint8Array(t,n||0,o||t.byteLength),s.initialize(h));case 22:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e,t){var n=this;if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(function(){var r=n.sessionHandler.transformGraph?n.sessionHandler:void 0;n._model.load(e,r,t),n.sessionHandler.onGraphInitialized&&n.sessionHandler.onGraphInitialized(n._model.graph),n.initializeOps(n._model.graph),n._executionPlan=new o.ExecutionPlan(n._model.graph,n._ops,n.profiler)})),this._initialized=!0}},{key:"run",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=2;break}throw new Error("session not initialized yet");case 2:return e.abrupt("return",this.profiler.event("session","Session.run",_asyncToGenerator(_regeneratorRuntime().mark((function e(){var r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.normalizeAndValidateInputs(t),e.next=3,n._executionPlan.execute(n.sessionHandler,r);case 3:return i=e.sent,e.abrupt("return",n.createOutput(i));case 5:case"end":return e.stop()}}),e)})))));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"normalizeAndValidateInputs",value:function(e){var t=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==t.length)throw new Error("incorrect input array length: expected ".concat(t.length," but got ").concat(e.length))}else{if(e.size!==t.length)throw new Error("incorrect input map size: expected ".concat(t.length," but got ").concat(e.size));for(var n=new Array(e.size),r=0,i=0;i<t.length;++i){var a=e.get(t[i]);if(!a)throw new Error("missing input tensor for: '".concat(name,"'"));n[r++]=a}e=n}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,e,!1);else{for(var o=this._model.graph.getInputIndices(),s=this._model.graph.getValues(),u=new Array(o.length),l=0;l<o.length;++l){var c=s[o[l]];u[l]=c.type.shape.dims,this.context.graphInputTypes.push(c.type.tensorType),this.context.graphInputDims.push(e[l].dims)}this.validateInputTensorDims(u,e,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,e),e}},{key:"validateInputTensorTypes",value:function(e,t){for(var n=0;n<t.length;n++){var r=e[n],i=t[n].type;if(r!==i)throw new Error("input tensor[".concat(n,"] check failed: expected type '").concat(r,"' but got ").concat(i))}}},{key:"validateInputTensorDims",value:function(e,t,n){for(var r=0;r<t.length;r++){var i=e[r],a=t[r].dims;if(!this.compareTensorDims(i,a,n))throw new Error("input tensor[".concat(r,"] check failed: expected shape '[").concat(i.join(","),"]' but got [").concat(a.join(","),"]"))}}},{key:"compareTensorDims",value:function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r]&&(!n||0!==e[r]))return!1;return!0}},{key:"createOutput",value:function(e){var t=this._model.graph.getOutputNames();if(e.length!==t.length)throw new Error("expected number of outputs do not match number of generated outputs");for(var n=new Map,r=0;r<t.length;++r)n.set(t[r],e[r]);return n}},{key:"initializeOps",value:function(e){var t=e.getNodes();this._ops=new Array(t.length);for(var n=0;n<t.length;n++)this._ops[n]=this.sessionHandler.resolve(t[n],this._model.opsets,e)}}]),e}()},9240:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;var i=n(3442),a=r(n(3720)),o=n(1446),s=n(1287),u=n(7273),l=s.onnxruntime.experimental.fbs,c=function(){function e(t,n,r,a,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i.Guid.create();_classCallCheck(this,e),this.dims=t,this.type=n,this.dataProvider=r,this.asyncDataProvider=a,this.cache=o,this.dataId=s,this.size=u.ShapeUtil.validateDimsAndCalcSize(t);var l=this.size,c=void 0===r&&void 0===a&&void 0===o;if(void 0!==o&&o.length!==l)throw new RangeError("Input dims doesn't match data length.");if("string"===n){if(!(void 0===o||Array.isArray(o)&&o.every((function(e){return"string"==typeof e}))))throw new TypeError("cache should be a string array");c&&(this.cache=new Array(l))}else{if(void 0!==o){var A=f(n);if(!(o instanceof A))throw new TypeError("cache should be type ".concat(A.name))}if(c){var d=new ArrayBuffer(l*function(e){switch(e){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error("cannot calculate sizeof() on type ".concat(e))}}(n));this.cache=function(e,t){return new(f(t))(e)}(d,n)}}}return _createClass(e,[{key:"data",get:function(){if(void 0===this.cache){var e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e}return this.cache}},{key:"stringData",get:function(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}},{key:"integerData",get:function(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}},{key:"floatData",get:function(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}},{key:"numberData",get:function(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}},{key:"get",value:function(e){return this.data[u.ShapeUtil.indicesToOffset(e,this.strides)]}},{key:"set",value:function(e,t){this.data[u.ShapeUtil.indicesToOffset(e,this.strides)]=t}},{key:"getData",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=void 0===this.cache,!e.t0){e.next=5;break}return e.next=4,this.asyncDataProvider(this.dataId);case 4:this.cache=e.sent;case 5:return e.abrupt("return",this.cache);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"strides",get:function(){return this._strides||(this._strides=u.ShapeUtil.computeStrides(this.dims)),this._strides}}],[{key:"fromProto",value:function(t){if(!t)throw new Error("cannot construct Value from an empty tensor");var n=u.ProtoUtil.tensorDataTypeFromProto(t.dataType),r=new e(u.ProtoUtil.tensorDimsFromProto(t.dims),n);if("string"===n)t.stringData.forEach((function(e,t){r.data[t]=(0,u.decodeUtf8String)(e)}));else if(t.rawData&&"number"==typeof t.rawData.byteLength&&t.rawData.byteLength>0){var i=r.data,s=new DataView(t.rawData.buffer,t.rawData.byteOffset,t.rawData.byteLength),l=A(t.dataType),c=t.rawData.byteLength/l;if(t.rawData.byteLength%l!=0)throw new Error("invalid buffer length");if(i.length!==c)throw new Error("buffer length mismatch");for(var f=0;f<c;f++){var p=h(s,t.dataType,f*l);i[f]=p}}else{var v;switch(t.dataType){case o.onnx.TensorProto.DataType.FLOAT:v=t.floatData;break;case o.onnx.TensorProto.DataType.INT32:case o.onnx.TensorProto.DataType.INT16:case o.onnx.TensorProto.DataType.UINT16:case o.onnx.TensorProto.DataType.INT8:case o.onnx.TensorProto.DataType.UINT8:case o.onnx.TensorProto.DataType.BOOL:v=t.int32Data;break;case o.onnx.TensorProto.DataType.INT64:v=t.int64Data;break;case o.onnx.TensorProto.DataType.DOUBLE:v=t.doubleData;break;case o.onnx.TensorProto.DataType.UINT32:case o.onnx.TensorProto.DataType.UINT64:v=t.uint64Data;break;default:throw new Error("unspecific error")}if(null==v)throw new Error("failed to populate data from a tensorproto value");var g=r.data;if(g.length!==v.length)throw new Error("array length mismatch");for(var m=0;m<v.length;m++){var y=v[m];a.default.isLong(y)?g[m]=d(y,t.dataType):g[m]=y}}return r}},{key:"fromData",value:function(t,n,r){return new e(n,r,void 0,void 0,t)}},{key:"fromOrtTensor",value:function(t){if(!t)throw new Error("cannot construct Value from an empty tensor");var n=u.ProtoUtil.tensorDimsFromORTFormat(t),r=u.ProtoUtil.tensorDataTypeFromProto(t.dataType()),i=new e(n,r);if("string"===r)for(var a=0;a<t.stringDataLength();a++)i.data[a]=t.stringData(a);else if(t.rawDataArray()&&"number"==typeof t.rawDataLength()&&t.rawDataLength()>0){var o=i.data,s=new DataView(t.rawDataArray().buffer,t.rawDataArray().byteOffset,t.rawDataLength()),l=A(t.dataType()),c=t.rawDataLength()/l;if(t.rawDataLength()%l!=0)throw new Error("invalid buffer length");if(o.length!==c)throw new Error("buffer length mismatch");for(var f=0;f<c;f++){var d=h(s,t.dataType(),f*l);o[f]=d}}return i}}]),e}();function A(e){switch(e){case o.onnx.TensorProto.DataType.UINT8:case o.onnx.TensorProto.DataType.INT8:case o.onnx.TensorProto.DataType.BOOL:return 1;case o.onnx.TensorProto.DataType.UINT16:case o.onnx.TensorProto.DataType.INT16:return 2;case o.onnx.TensorProto.DataType.FLOAT:case o.onnx.TensorProto.DataType.INT32:case o.onnx.TensorProto.DataType.UINT32:return 4;case o.onnx.TensorProto.DataType.INT64:case o.onnx.TensorProto.DataType.DOUBLE:case o.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error("cannot calculate sizeof() on type ".concat(o.onnx.TensorProto.DataType[e]))}}function f(e){switch(e){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function d(e,t){if(t===o.onnx.TensorProto.DataType.INT64||t===l.TensorDataType.INT64){if(e.greaterThanOrEqual(2147483648)||e.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(t!==o.onnx.TensorProto.DataType.UINT32&&t!==l.TensorDataType.UINT32&&t!==o.onnx.TensorProto.DataType.UINT64&&t!==l.TensorDataType.UINT64)throw new TypeError("not a LONG type: ".concat(o.onnx.TensorProto.DataType[t]));if(e.greaterThanOrEqual(4294967296)||e.lessThan(0))throw new TypeError("uint64 is not supported")}return e.toNumber()}function h(e,t,n){switch(t){case o.onnx.TensorProto.DataType.BOOL:case o.onnx.TensorProto.DataType.UINT8:return e.getUint8(n);case o.onnx.TensorProto.DataType.INT8:return e.getInt8(n);case o.onnx.TensorProto.DataType.UINT16:return e.getUint16(n,!0);case o.onnx.TensorProto.DataType.INT16:return e.getInt16(n,!0);case o.onnx.TensorProto.DataType.FLOAT:return e.getFloat32(n,!0);case o.onnx.TensorProto.DataType.INT32:return e.getInt32(n,!0);case o.onnx.TensorProto.DataType.UINT32:return e.getUint32(n,!0);case o.onnx.TensorProto.DataType.INT64:return d(a.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!1),t);case o.onnx.TensorProto.DataType.DOUBLE:return e.getFloat64(n,!0);case o.onnx.TensorProto.DataType.UINT64:return d(a.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!0),t);default:throw new Error("cannot read from DataView for type ".concat(o.onnx.TensorProto.DataType[t]))}}t.Tensor=c},7273:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUtf8String=t.MAX_CLIP=t.MIN_CLIP=t.PoolConvUtil=t.ReduceUtil=t.SplitUtil=t.MathUtil=t.ShapeUtil=t.LongUtil=t.ProtoUtil=t.GemmUtil=t.arrayCopyHelper=t.BroadcastUtil=t.MatMulUtil=t.ArrayUtil=t.assert=t.checkInputsShape=void 0;var i=n(5686),a=r(n(3720)),o=n(1446),s=n(9240);t.checkInputsShape=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!e||e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!e[i].dims||e[i].dims.length!==n[i])return!1;return!0},t.assert=function(e,t){if(!e)throw new Error("string"==typeof t?t:t())},t.ArrayUtil=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"arraysEqual",value:function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}]),e}();var u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"preprocessInputShapes",value:function(e,t){return[1===e.length?[1,e[0]]:e,1===t.length?[t[0],1]:t]}},{key:"postprocessOutputShape",value:function(e,t,n){1===t&&e.splice(e.length-2,1),1===n&&e.pop()}},{key:"calcMatMulShape",value:function(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}]),e}();t.MatMulUtil=u;var l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"calcShape",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.length,i=t.length;if(0===r)return t;if(0===i)return e;var a=Math.max(e.length,t.length),o=new Array(a);if(n){if(r<2||i<2)return;var s=u.calcMatMulShape([e[r-2],e[r-1]],[t[i-2],t[i-1]]);if(void 0===s)return;var l=_slicedToArray(s,2);o[a-2]=l[0],o[a-1]=l[1]}for(var c=n?3:1;c<=a;c++){var A=r-c<0?1:e[r-c],f=i-c<0?1:t[i-c];if(A!==f&&A>1&&f>1)return;o[a-c]=Math.max(A,f)}return o}},{key:"index",value:function(t,n){var r=new Array(n.length);return e.fillIndex(t,n,r),r}},{key:"fillIndex",value:function(e,t,n){for(var r=e.length-t.length,i=0;i<t.length;i++)n[i]=e[r+i]%t[i]}},{key:"calc",value:function(t,n,r,i,a){var o=e.calcShape(t.dims,n.dims);if(o){if(i&&!f.areEqual(o,t.dims))return;var u=f.size(o),l=i?t:new s.Tensor(o,a||t.type);if(0===o.length)l.set([],r(t.get([]),n.get([])));else{var c,A=new Array(o.length),d=new Array(t.dims.length),h=new Array(n.dims.length),p=0,v=0,g=!1,m=!1;0===t.dims.length&&(p=t.get([]),g=!0),0===n.dims.length&&(v=n.get([]),m=!0);for(var y=0;y<u;y++){c=y;for(var b=o.length-1;b>=0;b--)A[b]=c%o[b],c=Math.floor(c/o[b]);g||(e.fillIndex(A,t.dims,d),p=t.get(d)),m||(e.fillIndex(A,n.dims,h),v=n.get(h)),l.set(A,r(p,v))}}return l}}},{key:"isValidBroadcast",value:function(e,t){var n=e.length,r=t.length;if(n>r)return!1;for(var i=1;i<=n;i++)if(1!==e[n-i]&&e[n-i]!==t[r-i])return!1;return!0}},{key:"getBroadcastDims",value:function(e,t){for(var n=e.length,r=[],i=0;i<n;i++){var a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}}]),e}();t.BroadcastUtil=l,t.arrayCopyHelper=function(e,t,n,r,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(var a=0;a<i;a++)e[n+a]=t[r+a]},t.GemmUtil=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getShapeOfGemmResult",value:function(e,t,n,r,i){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");var a,o,s;t?(a=e[1],o=e[0]):(a=e[0],o=e[1]);var u=-1;if(r?(s=n[0],u=1):(s=n[1],u=0),n[u]!==o)throw new Error("dimension mismatch");if(a<=0||s<=0||o<=0)throw new Error("invalid shape specified");if(i&&!l.isValidBroadcast(i,[a,s]))throw new Error("gemm: invalid bias shape for broadcast");return[a,s,o]}}]),e}();var c=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"tensorDataTypeFromProto",value:function(e){switch(e){case o.onnx.TensorProto.DataType.INT8:return"int8";case o.onnx.TensorProto.DataType.UINT8:return"uint8";case o.onnx.TensorProto.DataType.BOOL:return"bool";case o.onnx.TensorProto.DataType.INT16:return"int16";case o.onnx.TensorProto.DataType.UINT16:return"uint16";case o.onnx.TensorProto.DataType.INT32:return"int32";case o.onnx.TensorProto.DataType.UINT32:return"uint32";case o.onnx.TensorProto.DataType.FLOAT:return"float32";case o.onnx.TensorProto.DataType.DOUBLE:return"float64";case o.onnx.TensorProto.DataType.STRING:return"string";case o.onnx.TensorProto.DataType.INT64:return"int32";case o.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error("unsupported data type: ".concat(o.onnx.TensorProto.DataType[e]))}}},{key:"tensorDataTypeStringToEnum",value:function(e){switch(e){case"int8":return o.onnx.TensorProto.DataType.INT8;case"uint8":return o.onnx.TensorProto.DataType.UINT8;case"bool":return o.onnx.TensorProto.DataType.BOOL;case"int16":return o.onnx.TensorProto.DataType.INT16;case"uint16":return o.onnx.TensorProto.DataType.UINT16;case"int32":return o.onnx.TensorProto.DataType.INT32;case"uint32":return o.onnx.TensorProto.DataType.UINT32;case"float32":return o.onnx.TensorProto.DataType.FLOAT;case"float64":return o.onnx.TensorProto.DataType.DOUBLE;case"string":return o.onnx.TensorProto.DataType.STRING;case"int64":return o.onnx.TensorProto.DataType.INT64;case"uint64":return o.onnx.TensorProto.DataType.UINT64;default:throw new Error("unsupported data type: ".concat(e))}}},{key:"tensorDimsFromProto",value:function(e){return e.map((function(e){return a.default.isLong(e)?e.toNumber():e}))}},{key:"tensorValueTypeFromProto",value:function(t){return{tensorType:e.tensorDataTypeFromProto(t.elemType),shape:{dims:e.tensorDimsFromProto(t.shape.dim.map((function(e){return e.dimValue})))}}}},{key:"tensorDimsFromORTFormat",value:function(e){for(var t=[],n=0;n<e.dimsLength();n++)t.push(A.longToNumber(e.dims(n)));return t}},{key:"tensorAttributesFromORTFormat",value:function(e){for(var t=[],n=0;n<e.attributesLength();n++)t.push(e.attributes(n));return t}}]),e}();t.ProtoUtil=c;var A=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"longToNumber",value:function(e,t){return a.default.isLong(e)?e.toNumber():e instanceof i.flatbuffers.Long?a.default.fromValue({low:e.low,high:e.high,unsigned:null!=t&&t}).toNumber():e}},{key:"isLong",value:function(e){return a.default.isLong(e)||e instanceof i.flatbuffers.Long}}]),e}();t.LongUtil=A;var f=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"size",value:function(t){return e.getSizeFromDimensionRange(t,0,t.length)}},{key:"sizeFromDimension",value:function(t,n){if(n<0||n>t.length)throw new Error("invalid dimension of ".concat(n," for sizeFromDimension as Tensor has ").concat(t.length," dimensions."));return e.getSizeFromDimensionRange(t,n,t.length)}},{key:"sizeToDimension",value:function(t,n){if(n<0||n>t.length)throw new Error("invalid dimension of ".concat(n," for sizeToDimension as Tensor has ").concat(t.length," dimensions."));return e.getSizeFromDimensionRange(t,0,n)}},{key:"getSizeFromDimensionRange",value:function(e,t,n){for(var r=1,i=t;i<n;i++){if(e[i]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[i]}return r}},{key:"computeStrides",value:function(e){var t=e.length;if(0===t)return[];if(1===t)return[1];var n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}},{key:"transpose",value:function(e){return e.slice().reverse()}},{key:"indicesToOffset",value:function(e,t,n){void 0===n&&(n=e.length);for(var r=0,i=0;i<n;++i)r+=t[i]*e[i];return r}},{key:"offsetToIndices",value:function(e,t){var n=t.length;if(0===n)return[];if(1===n)return[e*t[0]];for(var r=new Array(t.length),i=0;i<r.length-1;++i)r[i]=Math.floor(e/t[i]),e-=r[i]*t[i];return r[r.length-1]=e,r}},{key:"normalizeAxis",value:function(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}},{key:"normalizeAxes",value:function(e,t){var n=this;return e.map((function(e){return n.normalizeAxis(e,t)}))}},{key:"incrementIndex",value:function(e,t,n){if(0===t.length||0===e.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===n)n=t.length;else if(n<=0||n>t.length)throw new Error("Incorrect axis to increment on");for(var r=n-1;r>=0&&(e[r]++,!(e[r]<t[r]));--r)e[r]=0}},{key:"calculateReshapedDims",value:function(t,n){if(0===n.length){if(0===t.length||1===e.size(t))return[];throw new Error("cannot reshape to a scalar Tensor")}for(var r=n.length,i=new Array(r),a=-1,o=1,s=0;s<r;s++){if(n[s]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===n[s]){if(-1!==a)throw new Error("at most one dimension in shape hints can be -1");a=s}else{if(0===n[s]){if(s>=t.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");i[s]=t[s]}else i[s]=n[s];o*=i[s]}}var u=e.size(t);if(-1!==a){if(u%o!=0)throw new Error("the input tensor cannot be reshaped to the requested shape. Input shape: [".concat(t,"] Output shape: [").concat(n,"]"));i[a]=u/o}else if(o!==u)throw new Error("reshapedDims and originalDims don't have matching sizes");return i}},{key:"sortBasedOnPerm",value:function(e,t){return t?t.map((function(t){return e[t]})):e.slice().reverse()}},{key:"padShape",value:function(e,t){var n=e.length;return e.map((function(e,r){return e+t[r]+t[r+n]}))}},{key:"areEqual",value:function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}},{key:"validateDimsAndCalcSize",value:function(e){if(e.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");var t,n=1,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!Number.isInteger(i))throw new TypeError("Invalid shape: ".concat(i," is not an integer"));if(i<0||i>2147483647)throw new TypeError("Invalid shape: length ".concat(i," is not allowed"));n*=i}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"flattenShape",value:function(e,t){t<0&&(t+=e.length);var n=e.reduce((function(e,t){return e*t}),1),r=e.slice(t).reduce((function(e,t){return e*t}),1);return[n/r,r]}},{key:"squeezeShape",value:function(t,n){var r=new Array;n=e.normalizeAxes(n,t.length);for(var i=0;i<t.length;i++){var a=n.indexOf(i)>=0;if(a&&1!==t[i])throw new Error("squeeze an axis of size different than 1");(0===n.length&&t[i]>1||n.length>0&&!a)&&r.push(t[i])}return r}},{key:"unsqueezeShape",value:function(t,n){var r=new Array(t.length+n.length);r.fill(0);for(var i=0;i<n.length;i++){var a=e.normalizeAxis(n[i],r.length);if(a>=r.length)throw new Error("'axes' has an out of range axis");if(0!==r[a])throw new Error("'axes' has a duplicate axis");r[a]=1}for(var o=0,s=0;s<r.length;s++)0===r[s]&&(r[s]=t[o++]);if(o!==t.length)throw new Error("the unsqueezed dimension could not be established");return r}}]),e}();t.ShapeUtil=f,t.MathUtil=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"sqr",value:function(e,t,n,r,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(var a=0;a<i;a++)e[n+a]+=Math.pow(t[r+a],2)}},{key:"axpy",value:function(e,t,n,r,i,a){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(var o=0;o<i;o++)e[n+o]+=a*t[r+o]}},{key:"powx",value:function(e,t,n,r,i,a){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(var o=0;o<i;o++)e[n+o]=Math.pow(t[r+o],a)}},{key:"mul",value:function(e,t,n,r,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+i>t.length)throw new Error("source indices to be copied are outside bounds");if(n+i>e.length)throw new Error("target array is too small to hold result");for(var a=0;a<i;a++)e[n+a]=t[r+a]*e[n+a]}}]),e}();var d=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"splitShape",value:function(t,n,r,i){if(0===r.length){if(!i)throw new Error("need to know number of outputs when the 'split' attribute is not specified");e.determineSplit(t[n],i,r)}for(var a=[],o=[0],s=0;s<r.length;++s){0!==s&&o.push(o[s-1]+r[s-1]);var u=t.slice();u[n]=r[s],a.push(u)}return[a,o]}},{key:"determineSplit",value:function(e,t,n){if(e%t!=0)throw new Error("cannot split tensor to equal sized parts");for(var r=0;r<t;++r)n.push(e/t)}}]),e}();t.SplitUtil=d;var h=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"calcReduce",value:function(t,n,r,i,a){var o=t.dims.slice(0);0===n.length&&o.forEach((function(e,t){return n.push(t)}));for(var u=e.calcReduceShape(o,n,!0),c=f.size(u),A=new s.Tensor(u,t.type),d=f.computeStrides(u),h=f.computeStrides(o),p=new Array(o.length),v=0;v<c;v++){var g=f.offsetToIndices(v,d);l.fillIndex(g,o,p),A.set(g,e.calcReduceByAxis(t.numberData,n,o,0,f.indicesToOffset(p,h),i,a))}return r?A:new s.Tensor(e.calcReduceShape(o,n,r),A.type,void 0,void 0,A.data,A.dataId)}},{key:"calcReduceByAxis",value:function(t,n,r,i,a,o,s){var u=0;if(i>=n.length)return o(t[a]);for(var l=n[i],c=l>=r.length?1:f.size(r.slice(l+1)),A=0;A<r[l];A++)u=0===A?e.calcReduceByAxis(t,n,r,i+1,a,o,s):s(u,e.calcReduceByAxis(t,n,r,i+1,a,o,s)),a+=c;return u}},{key:"calcReduceShape",value:function(e,t,n){for(var r=e.slice(),i=0;i<t.length;i++)r[t[i]]=n?1:0;return r.filter((function(e){return 0!==e}))}}]),e}();t.ReduceUtil=h;var p=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"adjustPoolAttributes",value:function(e,t,n,r,i,a){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(var o=0;o<t.length-2;o++)o>=n.length?n.push(t[o+2]):n[o]=t[o+2];for(var s=0;s<n.length;s++)if(s<r.length){if(r[s]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(var u=0;u<n.length;u++)if(u<i.length){if(i[u]<0)throw new Error("dilations should be greater than or equal to 1")}else i.push(1);for(var l=0;l<2*n.length;l++)if(l<a.length){if(a[l]<0)throw new Error("pad should be greater than or equal to 1")}else a.push(0);for(var c=0;c<n.length;c++){if(n[c]<=0)throw new Error("kernel shapes need to be greater than 0");if(a[c]>=n[c]||a[c+n.length]>=n[c])throw new Error("pads should be smaller than kernel")}}},{key:"adjustPadsBasedOnAutoPad",value:function(t,n,r,i,a,o){if(o){if(a.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(i.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(var s=0;s<t.length-2;s++)e.adjustPadAndReturnShape(t[s+2],n[s],r[s],i[s],a,s,s+t.length-2,o)}}},{key:"computePoolOutputShape",value:function(t,n,r,i,a,o,s){if(n.length<=0)throw new Error("input shape must be of size greater than 0");var u=[n[0],n[1]];return e.computeShapeHelper(t,n,u,r,i,a,o,s),u}},{key:"computeConvOutputShape",value:function(t,n,r,i,a,o,s){if(t.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");var u=[t[0],n[0]];return e.computeShapeHelper(!1,t,u,r,i,a,o,s),u}},{key:"computeShapeHelper",value:function(t,n,r,i,a,o,s,u){if(t)for(var l=0;l<n.length-2;l++)r.push(1);else for(var c=0;c<n.length-2;c++)r.push(e.adjustPadAndReturnShape(n[c+2],i[c],a[c],o[c],s,c,c+n.length-2,u))}},{key:"adjustPadAndReturnShape",value:function(e,t,n,r,i,a,o,s){var u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+i[a]+i[o]-u)/t+1);switch(s){case"VALID":return i[a]=0,i[o]=0,Math.floor((e-u)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");var l=((e+t-1)/t-1)*t+r-e;return i[a]="SAME_LOWER"===s?Math.floor((l+1)/2):Math.floor(l/2),i[o]=l-i[a],Math.floor((e+l-r)/t+1);default:throw new Error("Unsupported AutoPad type")}}}]),e}();t.PoolConvUtil=p,t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22,t.decodeUtf8String=function(e){return(new TextDecoder).decode(e)}},3838:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGpuBackend=void 0;var r=n(8453),i=n(4955),a=n(7771),o=n(8510),s=n(8305);t.WebGpuBackend=function(){function e(){_classCallCheck(this,e),this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.pendingDispatchNumber=0,this.profilingEnabled=!1}return _createClass(e,[{key:"currentKernelCustomData",get:function(){if(null===this.currentKernelId)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");var e=this.kernelCustomData.get(this.currentKernelId);return e||(e={},this.kernelCustomData.set(this.currentKernelId,e)),e}},{key:"initialize",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.gpu){e.next=2;break}throw new Error("WebGpuBackend: WebGPU is not available.");case 2:return e.next=4,navigator.gpu.requestAdapter();case 4:if(t=e.sent){e.next=7;break}throw new Error("WebGpuBackend: Failed to get GPU adapter.");case 7:return n={requiredLimits:{maxComputeWorkgroupStorageSize:t.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:t.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:t.limits.maxStorageBufferBindingSize}},t.features.has("timestamp-query-inside-passes")&&"default"===r.env.webgpu.profilingMode&&(this.profilingEnabled=!0,n.requiredFeatures=["timestamp-query-inside-passes"]),e.next=11,t.requestDevice(n);case 11:this.device=e.sent,this.gpuDataManager=(0,a.createGpuDataManager)(this),this.programManager=new s.ProgramManager(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,this.device.onuncapturederror=function(e){e.error instanceof GPUValidationError&&console.error("An uncaught WebGPU validation error was raised: ".concat(e.error.message))},this.profilingEnabled&&(this.profilingQuerySet=this.device.createQuerySet({type:"timestamp",count:2}));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){}},{key:"getCommandEncoder",value:function(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}},{key:"getComputePassEncoder",value:function(){return this.computePassEncoder||(this.computePassEncoder=this.getCommandEncoder().beginComputePass()),this.computePassEncoder}},{key:"endComputePass",value:function(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}},{key:"flush",value:function(){this.endComputePass(),this.device.queue.submit([this.getCommandEncoder().finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0}},{key:"run",value:function(e,t,n,r,a){if(t.length!==e.inputTypes.length)throw new Error("Input size must be equal to ".concat(e.inputTypes.length,"."));for(var o=[],s=0;s<t.length;++s){var u=this.gpuDataManager.get(t[s].data);if(!u)throw new Error("no GPU data for input: ".concat(t[s].data));o[s]=u}var l=function(e,t,n){var r=t.map((function(e){return"".concat(e.join(","))})).join("_"),i=n.join("_"),a=e.name;return e.cacheHint&&(a+="["+e.cacheHint+"]"),a+=":"+r+";"+i}(e,t.map((function(e){return e.dims})),o.map((function(e){return e.type}))),c=this.programManager.getArtifact(l),A=c?c.programInfo:"function"==typeof e.get?e.get():e,f=0===n.length?A.outputs.map((function(e,t){return t})):n;if(f.length!==A.outputs.length)throw new Error("Output size ".concat(f.length," must be equal to ").concat(A.outputs.length,"."));for(var d=[],h=[],p=0;p<A.outputs.length;++p){if(!Number.isInteger(f[p])||f[p]<-2||f[p]>=A.outputs.length)throw new Error("Invalid output index: ".concat(f[p]));var v=-1===f[p],g=-2===f[p],m=v||g?a(A.outputs[p].dataType,A.outputs[p].dims):r(f[p],A.outputs[p].dataType,A.outputs[p].dims),y=this.gpuDataManager.get(m.data);if(!y)throw new Error("no GPU data for output: ".concat(m.data));if(v&&this.temporaryData.push(y),g){var b=this.kernelPersistentData.get(this.currentKernelId);b||(b=[],this.kernelPersistentData.set(this.currentKernelId,b)),b.push(y)}d.push(m),h.push(y)}var w=this.programManager.normalizeDispatchGroupSize(A.dispatchGroup(t));return c||(c=this.programManager.build(A,w),this.programManager.setArtifact(l,c)),(0,i.LOG_DEBUG)("info",(function(){return'[ProgramManager] run "'.concat(A.name,'" (key=').concat(l,") with ").concat(w[0],"x").concat(w[1],"x").concat(w[2])})),this.programManager.run(c,o,h,w),d}},{key:"upload",value:function(e,t){this.gpuDataManager.upload(e,t)}},{key:"memcpy",value:function(e,t){this.gpuDataManager.memcpy(e,t)}},{key:"download",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gpuDataManager.download(t);case 2:r=e.sent,n().set(new Uint8Array(r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"alloc",value:function(e){return this.gpuDataManager.create(e).id}},{key:"free",value:function(e){return this.gpuDataManager.release(e)}},{key:"createKernel",value:function(e,t,n){var r=o.WEBGPU_OP_RESOLVE_RULES.get(e);if(!r)throw new Error("kernel not implemented: ".concat(e));this.kernels.set(t,[e,r[0],[r[1],n]])}},{key:"releaseKernel",value:function(e){var t=this.kernelPersistentData.get(e);if(t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.gpuDataManager.release(i.id)}}catch(a){r.e(a)}finally{r.f()}this.kernelPersistentData.delete(e)}this.kernelCustomData.delete(e),this.kernels.delete(e)}},{key:"computeKernel",value:function(e,t){var n=this.kernels.get(e);if(!n)throw new Error("kernel not created: ".concat(e));var r=_slicedToArray(n,3),a=r[0],o=r[1],s=r[2];if(null!==this.currentKernelId)throw new Error('kernel "'.concat(a,'" is not allowed to be called recursively'));this.currentKernelId=e,s[0]&&(s[1]=s[0](s[1]),s[0]=void 0),(0,i.LOG_DEBUG)("info",(function(){return'[WebGPU] Start to run kernel "'.concat(a,'"...')})),this.temporaryData=[];try{return o(t,s[1]),0}catch(e){return(0,i.LOG_DEBUG)("warning",'[WebGPU] Kernel "'.concat(a,'" failed. Error: ').concat(e)),1}finally{var u,l=_createForOfIteratorHelper(this.temporaryData);try{for(l.s();!(u=l.n()).done;){var c=u.value;this.gpuDataManager.release(c.id)}}catch(A){l.e(A)}finally{l.f()}this.temporaryData=[],this.currentKernelId=null}}}]),e}()},7675:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var r=n(7917),i=n(3838),a=n(4955),o=n(6952),s=function(){function e(t,n,r,i){_classCallCheck(this,e),this.module=t,this.dataType=n,this.data=r,this.dims=i}return _createClass(e,[{key:"getFloat32Array",value:function(){return new Float32Array(this.module.HEAP8.buffer,this.data,o.ShapeUtil.size(this.dims))}},{key:"reshape",value:function(t){if(o.ShapeUtil.size(t)!==o.ShapeUtil.size(this.dims))throw new Error("Invalid new shape");return new e(this.module,this.dataType,this.data,t)}}]),e}(),u=function(){function e(t,n,r){_classCallCheck(this,e),this.module=t,this.backend=n;var i=t.HEAPU32,a=r>>2;this.opKernelContext=i[a++];for(var o=i[a++],u=[],l=0;l<o;l++){for(var c=i[a++],A=i[a++],f=i[a++],d=[],h=0;h<f;h++)d.push(i[a++]);u.push(new s(t,c,A,d))}this.inputs=u}return _createClass(e,[{key:"customData",get:function(){return this.backend.currentKernelCustomData}},{key:"compute",value:function(e,t){var n,i,a,u=this,l=null!==(i=null===(n=null==t?void 0:t.inputs)||void 0===n?void 0:n.map((function(e){return"number"==typeof e?u.inputs[e]:e})))&&void 0!==i?i:this.inputs,c=null!==(a=null==t?void 0:t.outputs)&&void 0!==a?a:[];return this.backend.run(e,l,c,(function(e,t,n){return new s(u.module,t,u.output(e,n),n)}),(function(e,t){var n=(0,r.getTensorElementSize)(e);if(!n)throw new Error("Unsupported data type: ".concat(e));var i=n*o.ShapeUtil.size(t);return new s(u.module,e,u.backend.gpuDataManager.create(i).id,t)}))}},{key:"output",value:function(e,t){var n=this.module.stackSave();try{var r=this.module.stackAlloc(4*(1+t.length)),i=r>>2;this.module.HEAPU32[i++]=t.length;for(var a=0;a<t.length;a++)this.module.HEAPU32[i++]=t[a];return this.module._JsepOutput(this.opKernelContext,e,r)}finally{this.module.stackRestore(n)}}}]),e}();t.init=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.jsepInit)||!navigator.gpu){e.next=6;break}return r=new i.WebGpuBackend,e.next=5,r.initialize();case 5:n({backend:r},(function(e){return r.alloc(e)}),(function(e){return r.free(e)}),(function(e,n,i){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3])(0,a.LOG_DEBUG)("verbose",(function(){return"[WebGPU] jsepCopyGpuToGpu: src=".concat(e,", dst=").concat(n,", size=").concat(i)})),r.memcpy(e,n);else{(0,a.LOG_DEBUG)("verbose",(function(){return"[WebGPU] jsepCopyCpuToGpu: dataOffset=".concat(e,", gpuDataId=").concat(n,", size=").concat(i)}));var o=t.HEAPU8.subarray(e,e+i);r.upload(n,o)}}),function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(n,i,o){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,a.LOG_DEBUG)("verbose",(function(){return"[WebGPU] jsepCopyGpuToCpu: gpuDataId=".concat(n,", dataOffset=").concat(i,", size=").concat(o)})),e.next=3,r.download(n,(function(){return t.HEAPU8.subarray(i,i+o)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),(function(e,t,n){return r.createKernel(e,t,n)}),(function(e){return r.releaseKernel(e)}),(function(e,n){(0,a.LOG_DEBUG)("verbose",(function(){return"[WebGPU] jsepRun: kernel=".concat(e,", contextDataOffset=").concat(n)}));var i=new u(t,r,n);return r.computeKernel(e,i)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},4955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_DEBUG=t.LOG=void 0;var r=n(8453),i=n(7917),a=["V","I","W","E","F"];t.LOG=function(e,t){var n,o,s=(0,i.logLevelStringToEnum)(e);s>=(0,i.logLevelStringToEnum)(r.env.logLevel)&&(n=s,o="function"==typeof t?t():t,console.log("[".concat(a[n],",").concat((new Date).toISOString(),"]").concat(o)))},t.LOG_DEBUG=function(){r.env.debug&&t.LOG.apply(void 0,arguments)}},6952:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_CLIP=t.MIN_CLIP=t.GemmUtil=t.PoolConvUtil=t.ShapeUtil=t.BroadcastUtil=t.MatMulUtil=void 0;var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"calcMatMulShape",value:function(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}]),e}();t.MatMulUtil=n;var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"calcShape",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.length,a=t.length;if(0===i)return t;if(0===a)return e;var o=Math.max(e.length,t.length),s=new Array(o);if(r){if(i<2||a<2)return;var u=n.calcMatMulShape([e[i-2],e[i-1]],[t[a-2],t[a-1]]);if(void 0===u)return;var l=_slicedToArray(u,2);s[o-2]=l[0],s[o-1]=l[1]}for(var c=r?3:1;c<=o;c++){var A=i-c<0?1:e[i-c],f=a-c<0?1:t[a-c];if(A!==f&&A>1&&f>1)return;s[o-c]=Math.max(A,f)}return s}},{key:"isValidBroadcast",value:function(e,t){var n=e.length,r=t.length;if(n>r)return!1;for(var i=1;i<=n;i++)if(1!==e[n-i]&&e[n-i]!==t[r-i])return!1;return!0}}]),e}();t.BroadcastUtil=r;var i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"size",value:function(t){return e.getSizeFromDimensionRange(t,0,t.length)}},{key:"sizeFromDimension",value:function(t,n){if(n<0||n>t.length)throw new Error("invalid dimension of ".concat(n," for sizeFromDimension as Tensor has ").concat(t.length," dimensions."));return e.getSizeFromDimensionRange(t,n,t.length)}},{key:"sizeToDimension",value:function(t,n){if(n<0||n>t.length)throw new Error("invalid dimension of ".concat(n," for sizeToDimension as Tensor has ").concat(t.length," dimensions."));return e.getSizeFromDimensionRange(t,0,n)}},{key:"getSizeFromDimensionRange",value:function(e,t,n){for(var r=1,i=t;i<n;i++){if(e[i]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[i]}return r}},{key:"computeStrides",value:function(e){var t=e.length;if(0===t)return[];if(1===t)return[1];var n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}},{key:"normalizeAxis",value:function(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}},{key:"normalizeAxes",value:function(e,t){var n=this;return e.map((function(r){return n.normalizeAxis(r,null!=t?t:e.length)}))}},{key:"sortBasedOnPerm",value:function(e,t){return t?t.map((function(t){return e[t]})):e.slice().reverse()}},{key:"padShape",value:function(e,t){var n=e.length;return e.map((function(e,r){return e+t[r]+t[r+n]}))}},{key:"areEqual",value:function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}}]),e}();t.ShapeUtil=i;var a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"adjustPoolAttributes",value:function(e,t,n,r,i,a){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(var o=0;o<t.length-2;o++)o>=n.length?n.push(t[o+2]):n[o]=t[o+2];for(var s=0;s<n.length;s++)if(s<r.length){if(r[s]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(var u=0;u<n.length;u++)if(u<i.length){if(i[u]<0)throw new Error("dilations should be greater than or equal to 1")}else i.push(1);for(var l=0;l<2*n.length;l++)if(l<a.length){if(a[l]<0)throw new Error("pad should be greater than or equal to 1")}else a.push(0);for(var c=0;c<n.length;c++){if(n[c]<=0)throw new Error("kernel shapes need to be greater than 0");if(a[c]>=n[c]||a[c+n.length]>=n[c])throw new Error("pads should be smaller than kernel")}}},{key:"adjustPadsBasedOnAutoPad",value:function(t,n,r,i,a,o,s){if(s){if(a.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(i.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(var u=0;u<t.length-2;u++)e.adjustPadAndReturnShape(t[u+(o?1:2)],n[u],r[u],i[u],a,u,u+t.length-2,s)}}},{key:"computePoolOutputShape",value:function(t,n,r,i,a,o,s){if(n.length<=0)throw new Error("input shape must be of size greater than 0");var u=[n[0],n[1]];return e.computeShapeHelper(t,n,u,r,i,a,o,s),u}},{key:"computeConvOutputShape",value:function(t,n,r,i,a,o,s){if(t.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");var u=[t[0],n[0]];return e.computeShapeHelper(!1,t,u,r,i,a,o,s),u}},{key:"computeShapeHelper",value:function(t,n,r,i,a,o,s,u){if(t)for(var l=0;l<n.length-2;l++)r.push(1);else for(var c=0;c<n.length-2;c++)r.push(e.adjustPadAndReturnShape(n[c+2],i[c],a[c],o[c],s,c,c+n.length-2,u))}},{key:"adjustPadAndReturnShape",value:function(e,t,n,r,i,a,o,s){var u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+i[a]+i[o]-u)/t+1);switch(s){case"VALID":return i[a]=0,i[o]=0,Math.floor((e-u)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");var l=((e+t-1)/t-1)*t+r-e;return i[a]="SAME_LOWER"===s?Math.floor((l+1)/2):Math.floor(l/2),i[o]=l-i[a],Math.floor((e+l-r)/t+1);default:throw new Error("Unsupported AutoPad type")}}}]),e}();t.PoolConvUtil=a,t.GemmUtil=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getShapeOfGemmResult",value:function(e,t,n,i,a){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");var o,s,u;t?(o=e[1],s=e[0]):(o=e[0],s=e[1]);var l=-1;if(i?(u=n[0],l=1):(u=n[1],l=0),n[l]!==s)throw new Error("dimension mismatch");if(o<=0||u<=0||s<=0)throw new Error("invalid shape specified");if(a&&!r.isValidBroadcast(a,[o,u]))throw new Error("gemm: invalid bias shape for broadcast");return[o,u,s]}}]),e}(),t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22},387:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;var n=function(){function e(t){_classCallCheck(this,e),Object.assign(this,t)}return _createClass(e,[{key:"cacheKey",get:function(){var e=this;return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((function(t){return"".concat(e[t])})).join(";")),this._cacheKey}}]),e}();t.createAttributeWithCacheKey=function(e){return new n(e)}},7771:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGpuDataManager=void 0;var r=n(4955),i=n(1163),a=function(e){return 16*Math.ceil(e/16)},o=0,s=function(){function e(t){_classCallCheck(this,e),this.backend=t,this.storageCache=new Map,this.downloadCache=new Map,this.buffersForUploadingPending=[],this.buffersPending=[]}return _createClass(e,[{key:"upload",value:function(e,t){var n=t.buffer,i=t.byteOffset,o=t.byteLength,s=a(o),u=this.storageCache.get(e);if(!u)throw new Error("gpu data for uploading does not exist");if(u.originalSize!==o)throw new Error("inconsistent data size. gpu data size=".concat(u.originalSize,", data size=").concat(o));var l=this.backend.device.createBuffer({mappedAtCreation:!0,size:s,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),c=l.getMappedRange();new Uint8Array(c).set(new Uint8Array(n,i,o)),l.unmap();var A=this.backend.getCommandEncoder();this.backend.endComputePass(),A.copyBufferToBuffer(l,0,u.gpuData.buffer,0,s),(0,r.LOG_DEBUG)("verbose",(function(){return"[WebGPU] GpuDataManager.upload(id=".concat(e,")")})),this.buffersForUploadingPending.push(l)}},{key:"memcpy",value:function(e,t){var n=this.storageCache.get(e);if(!n)throw new Error("source gpu data for memcpy does not exist");var r=this.storageCache.get(t);if(!r)throw new Error("destination gpu data for memcpy does not exist");if(n.originalSize!==r.originalSize)throw new Error("inconsistent source and destination gpu data size");var i=a(n.originalSize);this.backend.getCommandEncoder().copyBufferToBuffer(n.gpuData.buffer,0,r.gpuData.buffer,0,i)}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST,n=a(e),s=this.backend.device.createBuffer({size:n,usage:t}),u={id:o++,type:i.GpuDataType.default,buffer:s};return this.storageCache.set(u.id,{gpuData:u,originalSize:e}),(0,r.LOG_DEBUG)("verbose",(function(){return"[WebGPU] GpuDataManager.create(size=".concat(e,") => id=").concat(u.id)})),u}},{key:"get",value:function(e){var t;return null===(t=this.storageCache.get(e))||void 0===t?void 0:t.gpuData}},{key:"release",value:function(e){var t=this.storageCache.get(e);if(!t)throw new Error("releasing data does not exist");return(0,r.LOG_DEBUG)("verbose",(function(){return"[WebGPU] GpuDataManager.release(id=".concat(e,"), gpuDataId=").concat(t.gpuData.id)})),this.storageCache.delete(e),this.buffersPending.push(t.gpuData.buffer),this.downloadCache.get(e)&&this.downloadCache.delete(e),t.originalSize}},{key:"download",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,a,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.downloadCache.get(t))){e.next=3;break}return e.abrupt("return",n.data);case 3:if(r=this.storageCache.get(t)){e.next=6;break}throw new Error("data does not exist");case 6:return i=this.backend.getCommandEncoder(),this.backend.endComputePass(),a=this.backend.device.createBuffer({size:r.originalSize,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),i.copyBufferToBuffer(r.gpuData.buffer,0,a,0,r.originalSize),this.backend.flush(),o=new Promise((function(e){a.mapAsync(GPUMapMode.READ).then((function(){var t=a.getMappedRange().slice(0);a.destroy(),e(t)}))})),e.abrupt("return",(this.downloadCache.set(t,{data:o}),o));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshPendingBuffers",value:function(){var e,t=_createForOfIteratorHelper(this.buffersForUploadingPending);try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(i){t.e(i)}finally{t.f()}var n,r=_createForOfIteratorHelper(this.buffersPending);try{for(r.s();!(n=r.n()).done;)n.value.destroy()}catch(i){r.e(i)}finally{r.f()}}}]),e}();t.createGpuDataManager=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _construct(s,t)}},8510:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGPU_OP_RESOLVE_RULES=void 0;var o=a(n(504)),s=n(9770),u=n(4271),l=n(1522),c=a(n(5262)),A=n(2625),f=a(n(9302));t.WEBGPU_OP_RESOLVE_RULES=new Map([["Abs",[f.abs]],["Acos",[f.acos]],["Acosh",[f.acosh]],["Add",[o.add]],["Asin",[f.asin]],["Asinh",[f.asinh]],["Atan",[f.atan]],["Atanh",[f.atanh]],["AveragePool",[c.averagePool,c.parseAveragePoolAttributes]],["Ceil",[f.ceil]],["ClipV10",[f.clipV10]],["Clip",[f.clip]],["Conv",[s.conv,s.parseConvAttributes]],["Cos",[f.cos]],["Cosh",[f.cosh]],["Div",[o.div]],["Elu",[f.elu,f.parseAlphaAttributes]],["Erf",[f.erf]],["Exp",[f.exp]],["Floor",[f.floor]],["Gemm",[u.gemm,u.parseGemmAttributes]],["GlobalAveragePool",[c.globalAveragePool,c.parseGlobalAveragePoolAttributes]],["GlobalMaxPool",[c.globalMaxPool,c.parseGlobalMaxPoolAttributes]],["LeakyRelu",[f.leakyRelu,f.parseAlphaAttributes]],["MatMul",[l.matMul]],["MaxPool",[c.maxPool,c.parseMaxPoolAttributes]],["Mul",[o.mul]],["Neg",[f.neg]],["Pow",[o.pow]],["Reciprocal",[f.reciprocal]],["Relu",[f.relu]],["Sigmoid",[f.sigmoid]],["Sin",[f.sin]],["Sinh",[f.sinh]],["Sqrt",[f.sqrt]],["Sub",[o.sub]],["Tan",[f.tan]],["Tanh",[f.tanh]],["ThresholdedRelu",[f.thresholdedRelu,f.parseAlphaAttributes]],["Transpose",[A.transpose,A.parseTransposeAttributes]]])},1427:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.biasActivationSnippet=t.activationFnSnippet=t.typeSnippet=void 0,t.typeSnippet=function(e){switch(e){case 1:return"f32";case 2:return"vec2<f32>";case 3:return"vec3<f32>";case 4:return"vec4<f32>";default:throw new Error("".concat(e,"-component is not supported."))}},t.activationFnSnippet=function(e){return""},t.biasActivationSnippet=function(e,t){return"\n      ".concat(e?"value = value + getBiasByOutputCoords(coords);":"","\n      ").concat(t?"value = activation(value, coords);":"","\n      ")}},9456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConv2DMatMulProgramInfo=void 0;var r=n(4955),i=n(6952),a=n(1163),o=n(1427),s=n(4085),u=n(158);t.createConv2DMatMulProgramInfo=function(e,t,n,l,c,A,f,d,h){var p="NHWC"===n.format,v=p?e[0].dims[3]:e[0].dims[1],g=l[0],m=p?l[2]:l[3],y=p?l[1]:l[2],b=p?l[3]:l[1],w=((v%4==0||v%3==0)&&p||m%4==0&&!p)&&b%4==0,x=p?b:m*y,_=p?m*y:b,C=w?[8,8,1]:[x<=4?4:16,x>4&&_<=4?4:16,1],E=w?[4,4,1]:[x<=4?1:2,x>4&&_<=4?1:2,1],S=[Math.ceil(x/C[0]/E[0]),Math.ceil(_/C[1]/E[1]),Math.ceil(g/C[2]/E[1])];(0,r.LOG_DEBUG)("verbose",(function(){return"[conv2d_mm_webgpu] dispatch = ".concat(S)}));var B=w?p&&v%4!=0?3:4:E[0],T=C[1]*E[1],I=C[0]*E[0],k=Math.max(C[0]*B,C[1]),M=c%T==0,R=A%I==0,U=f%k==0,F=w?[B,4,4]:[1,1,1],O=["@group(0) @binding(0) var<storage, read> x: array<".concat(w&&4===B?"vec4<f32>":"f32",">;"),"@group(0) @binding(1) var<storage, read> w: array<".concat(w?"vec4<f32>":"f32",">;")],P="\n      fn setOutputAtIndex(flatIndex : i32, value : ".concat(w?"vec4<f32>":"f32",") {\n        result[flatIndex] = ").concat(w?"vec4<f32>":"f32","(value);\n      }\n      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ").concat(w?"vec4<f32>":"f32",") {\n        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));\n        setOutputAtIndex(flatIndex ").concat(w?"/ 4":"",", value);\n      }");return d&&(O.push("@group(0) @binding(2) var<storage, read> bias: array<".concat(w?"vec4<f32>":"f32",">;")),P+="\n        fn getBiasByOutputCoords(coords : vec4<i32>) -> ".concat(w?"vec4<f32>":"f32"," {\n          return bias[coords.").concat(p?"w":"y").concat(w?"/ 4":"","];\n        }")),Object.assign(Object.assign({},t),{outputs:[{dims:l,dataType:e[0].dataType,gpuDataType:a.GpuDataType.default}],dispatchGroup:function(){return{x:S[0],y:S[1],z:S[2]}},getShaderSource:function(){return"\n        ".concat(s.utilFunctions,"\n        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,\n        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,\n        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };\n        ").concat(O.join(""),"\n        @group(0) @binding(").concat(O.length,") var<storage, read_write> result: array<").concat(w?"vec4<f32>":"f32",">;\n        //@group(0) @binding(").concat(O.length+1,") var<uniform> uniforms: Uniforms;\n\n        const xShape : vec4<i32> = vec4<i32>(").concat(e[0].dims.join(","),");\n        const wShape : vec4<i32> = vec4<i32>(").concat(e[1].dims.join(","),");\n        const outShape : vec4<i32> = vec4<i32>(").concat(l.join(","),");\n        const outShapeStrides : vec3<i32> = vec3<i32>(").concat(i.ShapeUtil.computeStrides(l).slice(0,3).join(","),");\n        const filterDims : vec2<i32> = vec2<i32>(").concat(n.kernelShape[0],", ").concat(n.kernelShape[1],");\n        const pad : vec2<i32> = vec2<i32>(").concat(n.pads[0],", ").concat(n.pads[1],");\n        const stride : vec2<i32> = vec2<i32>(").concat(n.strides[0],", ").concat(n.strides[1],");\n        const dilation : vec2<i32> = vec2<i32>(").concat(n.dilations[0],", ").concat(n.dilations[1],");\n        const dimAOuter : i32 = ").concat(c,";\n        const dimBOuter : i32 = ").concat(A,";\n        const dimInner : i32 = ").concat(f,";\n        ").concat(P,"\n        ").concat(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:4,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:4,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:4,A=e?"\n    let coord = vec4<i32>(batch, xRow, xCol, xCh);\n    ":"\n    let coord = vec4<i32>(batch, xCh, xRow, xCol);\n    ",f=e?"\n    let coords = vec4<i32>(\n      batch,\n      row / outWidth,\n      row % outWidth,\n      col);\n    ":"\n    let coords = vec4<i32>(\n      batch,\n      row,\n      col / outWidth,\n      col % outWidth);\n    ",d=e?"xShape[1]":"xShape[2]",h=e?"xShape[2]":"xShape[3]",p=e?"row":"col",v=e?"col":"row",g="\n    let inChannels = wShape[2];\n    let outWidth = ".concat(e?"outShape[2]":"outShape[3]",";\n    let outRow = ").concat(p," / outWidth;\n    let outCol = ").concat(p," % outWidth;\n\n    let WRow = ").concat(v," / (filterDims[1] * inChannels);\n    let WCol = ").concat(v," / inChannels % filterDims[1];\n    let xRow = outRow * stride[0] + dilation[0] * WRow - pad[0];\n    let xCol = outCol * stride[1] + dilation[1] * WCol - pad[1];\n    let xCh = ").concat(v," % inChannels;\n    var resData = ").concat((0,o.typeSnippet)(u),"(0.0);\n    // The bounds checking is always needed since we use it to pad zero for\n    // the 'same' padding type.\n    if (xRow >= 0 && xRow < ").concat(d," && xCol >= 0 && xCol < ").concat(h,") {\n      ").concat(A,"\n      let xIndex = getIndexFromCoords4D(coord, xShape);\n      ").concat(function(e){switch(e){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = x[xIndex / 4];";default:throw new Error("innerElementSize ".concat(e," is not supported."))}}(u),"\n    }\n    return resData;"),m=e?t&&r?"\n    let col = colIn * ".concat(u,";\n    ").concat(g):"\n    let col = colIn * ".concat(u,";\n    if (row < dimAOuter && col < dimInner) {\n      ").concat(g,"\n    }\n    return ").concat((0,o.typeSnippet)(u),"(0.0);"):r&&n?"\n    let col = colIn * ".concat(u,";\n    ").concat(g):"\n    let col = colIn * ".concat(u,";\n    if (row < dimInner && col < dimBOuter) {\n      ").concat(g,"\n    }\n    return ").concat((0,o.typeSnippet)(u),"(0.0);"),y="".concat(function(e){switch(e){case 1:return"return w[row * wShape[3] + colIn];";case 4:return"return w[row * wShape[3] / 4 + colIn];";default:throw new Error("innerElementSize ".concat(e," is not supported."))}}(l)),b=(0,o.typeSnippet)(c),w=e?(0,o.typeSnippet)(u):(0,o.typeSnippet)(l),x=e?(0,o.typeSnippet)(l):(0,o.typeSnippet)(u);return"\n    ".concat((0,o.activationFnSnippet)(a,s,4===c,4),"\n    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ").concat(w," {\n      ").concat(e?m:y,"\n    }\n\n    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ").concat(x," {\n      ").concat(e?y:m,"\n    }\n\n    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ").concat(b,") {\n      let col = colIn * ").concat(c,";\n      if (row < dimAOuter && col < dimBOuter)\n      {\n      var value = valueIn;\n      let outWidth = ").concat(e?"outShape[2]":"outShape[3]",";\n      ").concat(f,"\n      ").concat((0,o.biasActivationSnippet)(i,a),"\n      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\n      }\n    }")}(p,M,R,U,d,void 0,!1,F[0],F[1],F[2]),"\n            ").concat(w?(0,u.makeMatMulPackedVec4Source)(E,C,!p,k):(0,u.makeMatMulPackedSource)(E,C,!p,k,!1,void 0,h))}})}},4085:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utilFunctions=void 0,t.utilFunctions="\nfn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));\n}\nfn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n    outShapeStrides.x, outShapeStrides.y, outShapeStrides.z, 1));\n}\n"},158:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeMatMulPackedSource=t.makeMatMulPackedVec4Source=void 0,t.makeMatMulPackedVec4Source=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:32,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=t[1]*e[1],l=t[0]*e[0],c=r?u:i,A=r?i:u,f=c/t[0],d=i/t[1];if((!r||4!==f||4!==e[1])&&(r||3!==f&&4!==f)||c%t[0]!=0||i%t[1]!=0||4!==e[0])throw new Error("If transposeA ".concat(r," is true, innerElementSize ").concat(f," and workPerThread[1] ").concat(e[1]," must be 4.\n      Otherwise, innerElementSize ").concat(f," must be 3 or 4.\n  tileAWidth ").concat(c," must be divisible by workgroupSize[0]").concat(t[0],". tileInner ").concat(i," must be divisible by workgroupSize[1] ").concat(t[1],". colPerThread ").concat(e[0]," must be 4."));return"\nvar<workgroup> mm_Asub : array<array<vec".concat(f,"<f32>, ").concat(c/f,">, ").concat(A,">;\nvar<workgroup> mm_Bsub : array<array<vec4<f32>, ").concat(l/e[0],">, ").concat(i,">;\n\nconst rowPerThread = ").concat(e[1],";\nconst colPerThread = ").concat(e[0],";\nconst innerElementSize = ").concat(f,";\nconst tileInner = ").concat(i,";\n\n@compute @workgroup_size(").concat(t[0],", ").concat(t[1],", ").concat(t[2],")\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n  let localRow = i32(localId.y);\n  let tileRow = ").concat(s?"0":"localRow * rowPerThread",";\n  let tileCol = i32(localId.x);\n\n  let globalRow = ").concat(s?"0":"i32(globalId.y) * rowPerThread",";\n  let globalCol = i32(globalId.x);\n  let batch = ").concat(a?"0":"i32(globalId.z)",";\n  let globalRowStart = i32(workgroupId.y) * ").concat(u,";\n\n  let numTiles = ").concat(a?"".concat(Math.ceil(o/i)):"(dimInner - 1) / tileInner + 1",";\n  var kStart = ").concat(a?"i32(globalId.z) * ".concat(o):"0",";\n\n  var acc: array<vec4<f32>, rowPerThread>;\n\n  // Loop over shared dimension.\n  let tileRowB = localRow * ").concat(d,";\n  for (var t = 0; t < numTiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let inputRow = tileRow + innerRow;\n          let inputCol = tileCol;\n          ").concat((n=r,n?"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          kStart + inputRow,\n          globalRowStart / innerElementSize + inputCol);\n        ":"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          globalRow + innerRow,\n          kStart / innerElementSize + inputCol);\n        "),"\n      }\n\n      // Load one tile of B into local memory.\n      for (var innerRow = 0; innerRow < ").concat(d,"; innerRow = innerRow + 1) {\n          let inputRow = tileRowB + innerRow;\n          let inputCol = tileCol;\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol);\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {\n          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];\n          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];\n          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];\n          ").concat(3===f?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];","\n\n          ").concat(function(e,t){return e?"\n        let ACached0 = mm_Asub[k * innerElementSize][localRow];\n        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];\n        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];\n        ".concat(3===t?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];","\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          acc[i] = BCached0 * ACached0[i] + acc[i];\n          acc[i] = BCached1 * ACached1[i] + acc[i];\n          acc[i] = BCached2 * ACached2[i] + acc[i];\n          ").concat(3===t?"":"acc[i] = BCached3 * ACached3[i] + acc[i];","\n        }"):"\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          let ACached = mm_Asub[tileRow + i][k];\n          acc[i] = BCached0 * ACached.x + acc[i];\n          acc[i] = BCached1 * ACached.y + acc[i];\n          acc[i] = BCached2 * ACached.z + acc[i];\n          ".concat(3===t?"":"acc[i] = BCached3 * ACached.w + acc[i];","\n        }")}(r,f),"\n      }\n\n      workgroupBarrier();\n  }\n\n  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);\n  }\n}")};var n=function(e){return e?"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              kStart + inputRow,\n              globalRowStart + inputCol);\n            ":"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              globalRowStart + inputRow,\n              kStart + inputCol);\n            "};t.makeMatMulPackedSource=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:32,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=e[1]*t[1],l=e[0]*t[0],c=r?u:i,A=r?i:u;if(A%t[1]!=0||c%t[0]!=0||i%t[1]!=0)throw new Error("tileAHight ".concat(A," must be divisible by workgroupSize[1]").concat(t[1],", tileAWidth ").concat(c," must be divisible by workgroupSize[0]").concat(t[0],", tileInner ").concat(i," must be divisible by workgroupSize[1]").concat(t[1]));var f=A/t[1],d=c/t[0],h=i/t[1],p=s?"\n    let localRow = i32(localId.y);\n    let localCol = i32(localId.x);\n    let globalRowStart = i32(workgroupId.y) * ".concat(u,";\n    let globalColStart = i32(workgroupId.x) * ").concat(l,";\n\n    // Loop over shared dimension.\n    for (var t = 0; t < numTiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var inputRow = localRow; inputRow < ").concat(A,"; inputRow = inputRow + ").concat(t[1],") {\n        for (var inputCol = localCol; inputCol < ").concat(c,"; inputCol = inputCol + ").concat(t[0],") {\n          ").concat(n(r),"\n        }\n      }\n      // Load one tile of B into local memory.\n      for (var inputRow = localRow; inputRow < ").concat(i,"; inputRow = inputRow + ").concat(t[1],") {\n            for (var inputCol = localCol; inputCol < ").concat(l,"; inputCol = inputCol + ").concat(t[0],") {\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n            kStart + inputRow,\n            globalColStart + inputCol);\n        }\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      var BCached : array<f32, colPerThread>;\n      for (var k = 0; k < tileInner; k = k + 1) {\n        for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n          BCached[inner] = mm_Bsub[k][localCol + inner * ").concat(t[0],"];\n        }\n        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let ACached = ").concat(r?"mm_Asub[k][localRow + innerRow * ".concat(t[1],"];"):"mm_Asub[localRow + innerRow * ".concat(t[1],"][k];"),"\n          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n            acc[innerRow][innerCol] = acc[innerRow][innerCol] +\n                ACached * BCached[innerCol];\n          }\n        }\n      }\n      workgroupBarrier();\n    }\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      let gRow = globalRowStart + localRow + innerRow * ").concat(t[1],";\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        let gCol = globalColStart + localCol + innerCol * ").concat(t[0],";\n        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);\n      }\n    }\n    "):"\nlet tileRow = i32(localId.y) * rowPerThread;\nlet tileCol = i32(localId.x) * colPerThread;\n\nlet globalRow = i32(globalId.y) * rowPerThread;\nlet globalCol = i32(globalId.x) * colPerThread;\nlet globalRowStart = i32(workgroupId.y) * ".concat(u,";\n\nlet tileRowA = i32(localId.y) * ").concat(f,";\nlet tileColA = i32(localId.x) * ").concat(d,";\nlet tileRowB = i32(localId.y) * ").concat(h,";\n// Loop over shared dimension.\nfor (var t = 0; t < numTiles; t = t + 1) {\n  // Load one tile of A into local memory.\n  for (var innerRow = 0; innerRow < ").concat(f,"; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < ").concat(d,"; innerCol = innerCol + 1) {\n      let inputRow = tileRowA + innerRow;\n      let inputCol = tileColA + innerCol;\n      ").concat(n(r),"\n    }\n  }\n\n  // Load one tile of B into local memory.\n  for (var innerRow = 0; innerRow < ").concat(h,"; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n      let inputRow = tileRowB + innerRow;\n      let inputCol = tileCol + innerCol;\n      mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n        kStart + inputRow,\n        globalCol + innerCol);\n    }\n  }\n  kStart = kStart + tileInner;\n  workgroupBarrier();\n\n  // Compute acc values for a single thread.\n  var BCached : array<f32, colPerThread>;\n  for (var k = 0; k < tileInner; k = k + 1) {\n    for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n      BCached[inner] = mm_Bsub[k][tileCol + inner];\n    }\n\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      ").concat(function(e){return e?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];"}(r),"\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];\n      }\n    }\n  }\n\n  workgroupBarrier();\n}\n\nfor (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n    mm_write(batch, globalRow + innerRow, globalCol + innerCol,\n        acc[innerRow][innerCol]);\n  }\n}\n");return"\n  var<workgroup> mm_Asub : array<array<f32, ".concat(c,">, ").concat(A,">;\n  var<workgroup> mm_Bsub : array<array<f32, ").concat(l,">, ").concat(i,">;\n  const rowPerThread = ").concat(e[1],";\n  const colPerThread = ").concat(e[0],";\n  const tileInner = ").concat(i,";\n\n@compute @workgroup_size(").concat(t[0],", ").concat(t[1],", ").concat(t[2],")\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n    let batch = ").concat(a?"0":"i32(globalId.z)",";\n    let numTiles = ").concat(a?"".concat(Math.ceil(o/i)):"(dimInner - 1) / tileInner + 1",";\n    var kStart = ").concat(a?"i32(globalId.z) * ".concat(o):"0",";\n\n    var acc : array<array<f32, colPerThread>, rowPerThread>;\n\n    // Without this initialization strange values show up in acc.\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = 0.0;\n      }\n    }\n    ").concat(p,"\n  }\n")}},504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.pow=t.mul=t.div=t.add=void 0;var r=n(6952),i=n(1163),a=n(2075),o=function(e,t,n,o,s){var u={name:t,inputTypes:[i.GpuDataType.default,i.GpuDataType.default],cacheHint:s};return Object.assign(Object.assign({},u),{get:function(){return function(e,t,n,o,s){var u,l,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.dataType,A=!r.ShapeUtil.areEqual(t.dims,n.dims),f=t.dims,d=r.ShapeUtil.size(t.dims),h=!1;if(A){var p=r.BroadcastUtil.calcShape(t.dims,n.dims,!1);if(!p)throw new Error("Can't perform binary op on the given tensors");f=p,d=r.ShapeUtil.size(f);for(var v=1,g=0;g<f.length;g++){var m=null!==(u=t.dims[t.dims.length-g])&&void 0!==u?u:1;if(m!==(null!==(l=n.dims[n.dims.length-g])&&void 0!==l?l:1))break;v*=m}v%4==0&&(h=!0)}else h=!0;return Object.assign(Object.assign({},e),{getShaderSource:function(e){return function(e,t,n,i,o,s,u,l){var c,A,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"f32",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"f32",h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"f32",p=r.ShapeUtil.size(i),v=Math.ceil(p/4);"string"==typeof u?c=A=function(e,t){return"".concat(u,"((").concat(e,"),(").concat(t,"))")}:"function"==typeof u?c=A=u:(c=u.scalar,A=u.vector);var g,m="",y=(0,a.createIndicesHelper)("output",i);if(s){var b=function(e){for(var t=r.ShapeUtil.computeStrides(e),n=[],a=e.length-1;a>=0;a--){var o=0===i.length?"0u":1===i.length?"(*outputIndices)":"(*outputIndices)[".concat(a+i.length-e.length,"]");n.push("".concat(t[a],"u * (").concat(o," % ").concat(e[a],"u)"))}return n.length>0?n.join("+"):"0u"};m="\n  ".concat(y.o2iImpl,"\n\n  fn calcOffsetA(outputIndices: ptr<function, ").concat(y.iType,">) -> u32 {\n    return ").concat(b(t),";\n  }\n\n  fn calcOffsetB(outputIndices: ptr<function, ").concat(y.iType,">) -> u32 {\n    return ").concat(b(n),";\n  }\n  ")}if(o)g=s?"\n      ".concat(y.indicesVariableDeclaration("outputIndices"),"\n      ").concat(y.o2iCall("global_idx * 4u","outputIndices"),"\n      let offsetA = calcOffsetA(&outputIndices);\n      let offsetB = calcOffsetB(&outputIndices);\n      outputData[global_idx] = ").concat(A("aData[offsetA / 4u]","bData[offsetB / 4u]"),";"):"outputData[global_idx] = ".concat(A("aData[global_idx]","bData[global_idx]"),";");else{if(!s)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");var w=function(e){var t="aData[indexA".concat(e,"][componentA").concat(e,"]"),n="bData[indexB".concat(e,"][componentB").concat(e,"]");return"\n      ".concat(y.o2iCall("global_idx * 4u + ".concat(e,"u"),"outputIndices"),"\n      let offsetA").concat(e," = calcOffsetA(&outputIndices);\n      let offsetB").concat(e," = calcOffsetB(&outputIndices);\n      let indexA").concat(e," = offsetA").concat(e," / 4u;\n      let indexB").concat(e," = offsetB").concat(e," / 4u;\n      let componentA").concat(e," = offsetA").concat(e," % 4u;\n      let componentB").concat(e," = offsetB").concat(e," % 4u;\n      outputData[global_idx][").concat(e,"] = ").concat(c(t,n),";")};g="\n      ".concat(y.indicesVariableDeclaration("outputIndices"),"\n      ").concat(w(0),"\n      ").concat(w(1),"\n      ").concat(w(2),"\n      ").concat(w(3))}return"\n  @group(0) @binding(0) var<storage, read> aData : array<vec4<".concat(f,">>;\n  @group(0) @binding(1) var<storage, read> bData : array<vec4<").concat(d,">>;\n  @group(0) @binding(2) var<storage, read_write> outputData : array<vec4<").concat(h,">>;\n\n  ").concat(null!=l?l:"","\n  ").concat(m,"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes(v),"\n    ").concat(g,"\n  }")}(e,t.dims,n.dims,f,h,A,o,s)},outputs:[{dims:f,dataType:c,gpuDataType:i.GpuDataType.default}],dispatchGroup:function(){return{x:Math.ceil(d/64/(h?4:1))}}})}(u,e[0],e[1],n,o)}})};t.add=function(e){e.compute(o(e.inputs,"Add",(function(e,t){return"".concat(e,"+").concat(t)})))},t.div=function(e){e.compute(o(e.inputs,"Div",(function(e,t){return"".concat(e,"/").concat(t)})))},t.mul=function(e){e.compute(o(e.inputs,"Mul",(function(e,t){return"".concat(e,"*").concat(t)})))},t.pow=function(e){e.compute(o(e.inputs,"Pow",{scalar:function(e,t){return"pow_f32(".concat(e,",").concat(t,")")},vector:function(e,t){return"pow_vf32(".concat(e,",").concat(t,")")}},"\n    fn pow_f32(a : f32, b : f32) -> f32 {\n      if (b == 0.0) {\n        return 1.0;\n      } else if (a < 0.0 && b != floor(b)) {\n        return pow(a, b); // NaN\n      }\n      return select(sign(a), 1.0, round(abs(b) % 2.0) != 1.0) * pow(abs(a), b);\n    }\n    fn pow_vf32(a : vec4<f32>, b : vec4<f32>) -> vec4<f32> {\n      // TODO: implement vectorized pow\n      return vec4<f32>(pow_f32(a.x, b.x), pow_f32(a.y, b.y), pow_f32(a.z, b.z), pow_f32(a.w, b.w));\n    }\n      "))},t.sub=function(e){e.compute(o(e.inputs,"Sub",(function(e,t){return"".concat(e,"-").concat(t)})))}},2075:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createShaderHelper=t.createIndicesHelper=t.WORKGROUP_SIZE=void 0;var r=n(6952);t.WORKGROUP_SIZE=64,t.createIndicesHelper=function(e,t){for(var n=t.length<2?"u32":"array<u32, ".concat(t.length,">"),i=r.ShapeUtil.computeStrides(t),a="",o=0;o<t.length-1;o++)a+="\n    let dim".concat(o," = current / ").concat(i[o],"u;\n    let rest").concat(o," = current % ").concat(i[o],"u;\n    (*indices)[").concat(o,"] = dim").concat(o,";\n    current = rest").concat(o,";\n    ");a+="(*indices)[".concat(t.length-1,"] = current;");var s=t.length<2?"":"\n  fn ih_o2i_".concat(e,"(offset: u32, indices: ptr<function, ").concat(n,">) {\n    var current = offset;\n    ").concat(a,"\n  }"),u=[];if(0===t.length)u.push("0u");else if(t.length<2)u.push("(*indices)");else for(var l=t.length-1;l>=0;l--)u.push("".concat(i[l],"u * ((*indices)[").concat(l,"])"));return{o2iImpl:s,o2iCall:function(n,r){return t.length<2?"".concat(r,"=").concat(n,";"):"ih_o2i_".concat(e,"(").concat(n,", &").concat(r,");")},i2oImpl:t.length<2?"":"\n  fn ih_i2o_".concat(e,"(indices: ptr<function, ").concat(n,">) -> u32 {\n    return ").concat(u.join("+"),";\n  }"),i2oExpression:function(n,r){return t.length<2?"(".concat(r?"*":"").concat(n,")"):"ih_i2o_".concat(e,"(").concat(r?"":"&").concat(n,")")},indicesVariableDeclaration:function(e,t){return"var ".concat(e,":").concat(n).concat(t?"=".concat(n,"(").concat(t.join(","),")"):"",";")},iType:n}};var i=function(){function e(t){_classCallCheck(this,e),this.normalizedDispatchGroup=t}return _createClass(e,[{key:"guardAgainstOutOfBoundsWorkgroupSizes",value:function(e){return"if (global_idx >= ".concat("number"==typeof e?"".concat(e,"u"):e,") { return; }")}},{key:"mainStart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.WORKGROUP_SIZE,n="number"==typeof e?e:e[0],r="number"==typeof e?1:e[1],i="number"==typeof e?1:e[2],a=1===this.normalizedDispatchGroup[1]&&1===this.normalizedDispatchGroup[2];return"@compute @workgroup_size(".concat(n,", ").concat(r,", ").concat(i,")\n  fn main(").concat(a?"@builtin(global_invocation_id) global_id : vec3<u32>":"@builtin(local_invocation_index) local_index : u32,\n    @builtin(workgroup_id) workgroup_id : vec3<u32>",") {\n    ").concat(a?"let global_idx = global_id.x;":"let global_idx = (workgroup_id.z * ".concat(this.normalizedDispatchGroup[0]*this.normalizedDispatchGroup[1],"u +\n          workgroup_id.y * ").concat(this.normalizedDispatchGroup[0],"u + workgroup_id.x) * ").concat(n*r*i,"u + local_index;"),"\n  ")}}]),e}();t.createShaderHelper=function(e){return new i(e)}},9192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGroupedConvProgramInfoLoader=void 0;var r=n(6952),i=n(1163),a=n(2075),o=n(9770),s=n(3997);t.createGroupedConvProgramInfoLoader=function(e,t,n){var u,l,c=(u=e.length>2,l=t.cacheKey,{name:"GroupedConv",inputTypes:u?[i.GpuDataType.default,i.GpuDataType.default,i.GpuDataType.default]:[i.GpuDataType.default,i.GpuDataType.default],cacheHint:l});return Object.assign(Object.assign({},c),{get:function(){return function(e,t,n,u){var l=e.length>2,c=l?"value += b[output_channel];":"",A=e[0].dims,f=e[1].dims,d=f[0]/n.group,h="f32",p=(0,s.getActicationSnippet)(n),v=p.activationFunction,g=p.applyActivation,m=["@group(0) @binding(0) var<storage, read> x : array<".concat(h,">;"),"@group(0) @binding(1) var<storage, read> w : array<".concat(h,">;")];l&&m.push("@group(0) @binding(2) var<storage, read> b : array<".concat(h,">;"));var y="NHWC"===n.format,b=(0,o.calculateOutputShape)(A,f,n.dilations,n.pads,n.strides,y),w=r.ShapeUtil.size(b),x=(0,a.createIndicesHelper)("output",b),_=(0,a.createIndicesHelper)("x",A),C=(0,a.createIndicesHelper)("w",f);return Object.assign(Object.assign({},t),{outputs:[{dims:u?u(b):b,dataType:e[0].dataType,gpuDataType:i.GpuDataType.default}],getShaderSource:function(e){return"\n  const strides: vec2<u32> = vec2(".concat(n.strides[0],"u, ").concat(n.strides[1],"u);\n  const pads: vec2<u32> = vec2(").concat(n.pads[0],"u, ").concat(n.pads[1],"u);\n\n  ").concat(m.join("\n"),"\n  @group(0) @binding(").concat(m.length,") var<storage, read_write> output : array<").concat(h,">;\n\n  ").concat(v,"\n  ").concat(x.o2iImpl,"\n  ").concat(_.i2oImpl,"\n  ").concat(C.i2oImpl,"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes(w),"\n\n    ").concat(x.indicesVariableDeclaration("outputIndices"),"\n    ").concat(x.o2iCall("global_idx","outputIndices"),"\n    let batch: u32 = outputIndices[0];\n    let output_channel: u32 = outputIndices[").concat(y?3:1,"];\n    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[").concat(y?1:2,"], outputIndices[").concat(y?2:3,"]) * strides - pads;\n    let group_id: u32 = output_channel / ").concat(d,"u;\n\n    var value: ").concat(h," = ").concat(h,"(0);\n    for (var wInChannel: u32 = 0u; wInChannel < ").concat(f[1],"u; wInChannel++) {\n      let input_channel = group_id * ").concat(f[1],"u + wInChannel;\n      for (var wHeight: u32 = 0u; wHeight < ").concat(f[2],"u; wHeight++) {\n        let xHeight = xRCCorner.x + wHeight * ").concat(n.dilations[0],"u;\n\n        if (xHeight < 0u || xHeight >= ").concat(A[y?1:2],"u) {\n          continue;\n        }\n\n        for (var wWidth: u32 = 0u; wWidth < ").concat(f[3],"u; wWidth++) {\n          let xWidth = xRCCorner.y + wWidth * ").concat(n.dilations[1],"u;\n          if (xWidth < 0u || xWidth >= ").concat(A[y?2:3],"u) {\n            continue;\n          }\n\n          ").concat(_.indicesVariableDeclaration("xIndices",y?["batch","xHeight","xWidth","input_channel"]:["batch","input_channel","xHeight","xWidth"]),"\n          let xVal = x[").concat(_.i2oExpression("xIndices"),"];\n          ").concat(C.indicesVariableDeclaration("wIndices",["output_channel","wInChannel","wHeight","wWidth"]),"\n          let wVal = w[").concat(C.i2oExpression("wIndices"),"];\n          value += xVal*wVal;\n        }\n      }\n    }\n    ").concat(c,"\n    ").concat(g,"\n    output[global_idx] = value;\n  }")},dispatchGroup:function(){return{x:Math.ceil(w/64)}}})}(e,c,t,n)}})}},9770:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conv=t.parseConvAttributes=t.calculateOutputShape=void 0;var r=n(6952),i=n(387),a=n(9192),o=n(3822),s=n(3997),u=n(2625);t.calculateOutputShape=function(e,t,n,r,i,a){var o=e[0],s=e.slice(a?1:2,a?3:4),u=s.length,l=t[0],c=t.slice(2).map((function(e,t){return e+(e-1)*(n[t]-1)})),A=s.map((function(e,t){return e+r[t]+r[t+u]})).map((function(e,t){return Math.floor((e-c[t]+i[t])/i[t])}));return A.splice(0,0,o),A.splice(a?3:1,0,l),A};var l=(0,i.createAttributeWithCacheKey)({perm:[2,3,1,0]}),c=function(e,t){for(var n=e.kernelShape.slice(),i=2;i<t[1].dims.length;++i)0===n[i-2]&&(n[i-2]=t[1].dims[i]);var a=e.pads.slice();r.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,a,"NHWC"===e.format,e.autoPad);var o=Object.assign({},e);return Object.assign(o,{kernelShape:n,pads:a,cacheKey:e.cacheKey}),o};t.parseConvAttributes=function(e){var t=(0,s.parseInternalActivationAttributes)(e),n=e.format,r=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],a=e.dilations,o=e.group,u=e.kernel_shape,l=e.pads,c=e.strides,A=e.w_is_const();return(0,i.createAttributeWithCacheKey)(Object.assign({autoPad:r,format:n,dilations:a,group:o,kernelShape:u,pads:l,strides:c,wIsConst:A},t))},t.conv=function(e,n){(function(e,t){if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length&&3!==e[0].dims.length)throw new Error("currently only support conv 1D and 2D");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");if(e[0].dims["NHWC"===t.format?e[0].dims.length-1:1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");var n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error("dilations should be ".concat(n,"D"));if(t.strides.length!==n)throw new Error("strides should be ".concat(n,"D"));if(t.pads.length!==2*n)throw new Error("pads should be ".concat(2*n,"D"));if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(1!==e[0].dataType||1!==e[1].dataType)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&1!==e[2].dataType)throw new Error("Conv input(bias) should be float tensor")})(e.inputs,n),3===e.inputs[0].dims.length?function(e,t){var n="NHWC"===t.format,r=[e.inputs[0].reshape(n?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];3===e.inputs.length&&r.push(e.inputs[2]);var i=[0,t.pads[0],0,t.pads[1]],o=[1].concat(t.strides),s=[1].concat(t.dilations),u=[1].concat(t.kernelShape),l=c(Object.assign(Object.assign({},t),{pads:i,strides:o,dilations:s,kernelShape:u}),r);e.compute((0,a.createGroupedConvProgramInfoLoader)(r,l,(function(e){return n?[e[0],e[2],e[3]]:[]})))}(e,n):function(e,n,r){var i,s=c(r,n),A=3===n.length,f="NHWC"===r.format,d=n[0].dims[f?1:2],h=n[0].dims[f?2:3],p=n[0].dims[f?3:1],v=n[1].dims[2],g=n[1].dims[3],m=(0,t.calculateOutputShape)(n[0].dims,n[1].dims,r.dilations,s.pads,r.strides,f),y=m[f?1:2],b=m[f?2:3],w=m[f?3:1];if(f&&v===d&&g===h&&"VALID"===r.autoPad||1===v&&1===g&&1===r.dilations[0]&&1===r.dilations[1]&&1===r.strides[0]&&1===r.strides[1]&&("SAME_UPPER"===r.autoPad||"SAME_LOWER"===r.autoPad||"VALID"===r.autoPad))e.compute((0,a.createGroupedConvProgramInfoLoader)(n,s));else if(f&&1===r.group){var x=f?y*b:w,_=f?w:y*b,C=v*g*p,E=null!==(i=e.customData.wT)&&void 0!==i?i:e.compute(Object.assign(Object.assign({},u.transposeProgramMetadata),{cacheHint:l.cacheKey,get:function(){return(0,u.createTransposeProgramInfo)(n[1],l.perm)}}),{inputs:[1],outputs:[r.wIsConst?-2:-1]})[0];r.wIsConst&&!e.customData.wT&&(e.customData.wT=E);var S=[n[0],E];A&&(f||1!==n[2].dims.length?S.push(n[2]):S.push(n[2].reshape([n[2].dims[0],1,1]))),e.compute((0,o.createConv2DMatMulProgramInfoLoader)(S,s,m,x,_,C,A,!0),{inputs:S})}else e.compute((0,a.createGroupedConvProgramInfoLoader)(n,s))}(e,e.inputs,n)}},3822:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConv2DMatMulProgramInfoLoader=void 0;var r=n(1163),i=n(9456);t.createConv2DMatMulProgramInfoLoader=function(e,t,n,a,o,s,u,l){var c=function(e,t){return{name:"Conv2DMatMul",inputTypes:e?[r.GpuDataType.default,r.GpuDataType.default,r.GpuDataType.default]:[r.GpuDataType.default,r.GpuDataType.default],cacheHint:t}}(u,t.cacheKey);return Object.assign(Object.assign({},c),{get:function(){return(0,i.createConv2DMatMulProgramInfo)(e,c,t,n,a,o,s,u,l)}})}},3997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActicationSnippet=void 0;var r=n(6952);t.getActicationSnippet=function(e){switch(e.activation){case"Relu":return{activationFunction:"",applyActivation:"value = max(value, 0.0);"};case"Sigmoid":return{activationFunction:"",applyActivation:"value = (1.0 / (1.0 + exp(-value)));"};case"Clip":return{activationFunction:"const clip_min_=f32(".concat(e.clipMin,");const clip_max_=f32(").concat(e.clipMax,");"),applyActivation:"value = clamp(value, clip_min_, clip_max_);"};default:return{activationFunction:"",applyActivation:""}}},t.parseInternalActivationAttributes=function(e){var t=(null==e?void 0:e.activation)||"";if("Clip"===t){var n=(null==e?void 0:e.activation_params)||[r.MIN_CLIP,r.MAX_CLIP],i=_slicedToArray(n,2),a=i[0],o=i[1];return{activation:t,clipMax:o,clipMin:a,activationCacheKey:"".concat(t,":").concat(a,",").concat(o)}}return{activation:t,activationCacheKey:t}}},4271:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributes=t.gemm=void 0;var r=n(6952),i=n(387),a=n(1163);t.gemm=function(e,t){(function(e){if(!e)throw new Error("Input is missing");if(e.length<2||e.length>3)throw new Error("Invaid input number.");if(3===e.length&&e[2].dims.length>2)throw new Error("Invalid input shape of C");if(1!==e[0].dataType||1!==e[1].dataType||3===e.length&&1!==e[2].dataType)throw new Error("Invalid input type.");if(e[0].dataType!==e[1].dataType||3===e.length&&e[0].dataType!==e[2].dataType)throw new Error("Input types are mismatched")})(e.inputs),e.compute(function(e,t){var n={name:"Gemm",inputTypes:3===e.length?[a.GpuDataType.default,a.GpuDataType.default,a.GpuDataType.default]:[a.GpuDataType.default,a.GpuDataType.default],cacheHint:t.cacheKey};return Object.assign(Object.assign({},n),{get:function(){return function(e,t,n){var i=t[0].dims.slice(),o=t[1].dims.slice(),s=r.GemmUtil.getShapeOfGemmResult(i,n.transA,o,n.transB,3===t.length?t[2].dims:void 0),u=_slicedToArray(s,3),l=u[0],c=u[1],A=u[2],f=[l,c];if(!f)throw new Error("Can't use gemm on the given tensors");var d=r.ShapeUtil.size(f),h="";n.transA&&n.transB?h="value += a[k * M + m] * b[n * K + k];":n.transA&&!n.transB?h="value += a[k * M + m] * b[k * N + n];":!n.transA&&n.transB?h="value += a[m * K + k] * b[n * K + k];":n.transA||n.transB||(h="value += a[m * K + k] * b[k * N + n];");var p="f32",v=1===n.alpha?"":"value *= alpha;",g=3===t.length?"value += beta * c[".concat(function(e,t,n){if(0===n.length)return"0u";var r=1===n.length&&1!==e||2===n.length&&n[0]!==e,i=n[n.length-1]!==t,a="0u";return r||(a+="+ m * ".concat(n[n.length-1],"u")),i||(a+="+n"),a}(l,c,t[2].dims),"];"):"",m=["@group(0) @binding(0) var<storage, read> a : array<".concat(p,">;"),"@group(0) @binding(1) var<storage, read> b : array<".concat(p,">;")];return 3===t.length&&m.push("@group(0) @binding(2) var<storage, read> c : array<".concat(p,">;")),Object.assign(Object.assign({},e),{outputs:[{dims:f,dataType:t[0].dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:function(e){return"\n  const M: u32 = ".concat(l,"u;\n  const N: u32 = ").concat(c,"u;\n  const K: u32 = ").concat(A,"u;\n  const alpha = ").concat(p,"(").concat(n.alpha,");\n  const beta = ").concat(p,"(").concat(n.beta,");\n\n  ").concat(m.join("\n"),"\n  @group(0) @binding(").concat(t.length,") var<storage, read_write> output : array<").concat(p,">;\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes(d),"\n\n    let m = global_id.x / N;\n    let n = global_id.x % N;\n\n    var value = ").concat(p,"(0);\n    for (var k: u32 = 0u; k<").concat(A,"u; k++) {\n      ").concat(h,"\n    }\n\n    ").concat(v,"\n    ").concat(g,"\n    output[global_id.x] = value;\n\n  }")},dispatchGroup:function(){return{x:Math.ceil(d/64)}}})}(n,e,t)}})}(e.inputs,t))},t.parseGemmAttributes=function(e){return(0,i.createAttributeWithCacheKey)(e)}},1522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matMul=t.createMatmulProgramInfoLoader=void 0;var r=n(6952),i=n(1163),a=n(3997);t.createMatmulProgramInfoLoader=function(e,t){var n,o,s=(n=e.length>2,o=t.activationCacheKey,{name:"MatMul",inputTypes:n?[i.GpuDataType.default,i.GpuDataType.default,i.GpuDataType.default]:[i.GpuDataType.default,i.GpuDataType.default],cacheHint:o});return Object.assign(Object.assign({},s),{get:function(){return function(e,t,n){var o=t[0].dims,s=t[1].dims,u=r.BroadcastUtil.calcShape(o,s,!0);if(!u)throw new Error("Can't use matmul on the given tensors");var l=r.ShapeUtil.size(u),c="f32",A=(0,a.getActicationSnippet)(n),f=A.activationFunction,d=A.applyActivation,h=u[u.length-2],p=o[o.length-1],v=u[u.length-1];return Object.assign(Object.assign({},e),{outputs:[{dims:u,dataType:t[0].dataType,gpuDataType:i.GpuDataType.default}],getShaderSource:function(e){return"\n  const M: u32 = ".concat(h,"u;\n  const N: u32 = ").concat(v,"u;\n  const K: u32 = ").concat(p,"u;\n\n  @group(0) @binding(0) var<storage, read> a : array<").concat(c,">;\n  @group(0) @binding(1) var<storage, read> b : array<").concat(c,">;\n  @group(0) @binding(2) var<storage, read_write> output : array<").concat(c,">;\n\n  ").concat(f,"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes(l),"\n\n    let stack = global_idx / (M * N);\n    let mn = global_idx % (M * N);\n    let n = global_idx % N;\n    let m = mn / N;\n\n    let offsetA = stack * (M * K);\n    let offsetB = stack * (K * N);\n\n    var value = ").concat(c,"(0);\n    for (var k: u32 = 0u; k<").concat(p,"u; k++) {\n      value += a[offsetA + m * K + k] * b[offsetB + k * N + n];\n    }\n    ").concat(d,"\n    output[global_idx] = value;\n  }")},dispatchGroup:function(){return{x:Math.ceil(l/64)}}})}(s,e,t)}})},t.matMul=function(e){(function(e){if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if(1!==e[0].dataType||1!==e[1].dataType)throw new Error("inputs should be float type")})(e.inputs),e.compute((0,t.createMatmulProgramInfoLoader)(e.inputs,{activation:"",activationCacheKey:""}))}},5262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseGlobalMaxPoolAttributes=t.parseMaxPoolAttributes=t.maxPool=t.globalAveragePool=t.parseGlobalAveragePoolAttributes=t.averagePool=t.parseAveragePoolAttributes=void 0;var r=n(6952),i=n(387),a=n(1163),o=n(2075),s=function(e){if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if(4!==e[0].dims.length)throw new Error("Pool ops supports 2-D inputs only for now.");if(1!==e[0].dataType)throw new Error("Invalid input type.")},u=function(e,t,n){var i="NHWC"===t.format,a=i?[e[0].dims[0],e[0].dims[3],e[0].dims[1],e[0].dims[2]]:e[0].dims.slice(),o=Object.hasOwnProperty.call(t,"dilations"),s=t.kernelShape.slice(),u=t.strides.slice(),l=o?t.dilations.slice():[],c=t.pads.slice();r.PoolConvUtil.adjustPoolAttributes(n,a,s,u,l,c);var A=r.PoolConvUtil.computePoolOutputShape(n,a,u,l,s,c,t.autoPad),f=Object.assign({},t);return o?Object.assign(f,{kernelShape:s,strides:u,pads:c,dilations:l,cacheKey:t.cacheKey}):Object.assign(f,{kernelShape:s,strides:u,pads:c,cacheKey:t.cacheKey}),[f,i?[A[0],A[2],A[3],A[1]]:A]},l=function(e,t,n,i,a,s,u,l){var c="NHWC"===i.format,A=t.length,f=r.ShapeUtil.size(n),d=(0,o.createIndicesHelper)("output",n),h=(0,o.createIndicesHelper)("x",t);if(i.kernelShape.length<=2){var p,v=i.kernelShape[i.kernelShape.length-1],g=i.strides[i.strides.length-1],m=i.pads[i.pads.length/2-1],y=A-(c?2:1),b="",w="";if(p=m+i.pads[i.pads.length-1]!==0?"\n              for (var i: u32 = 0u; i < ".concat(v,"u; i++) {\n                xIndices[").concat(y,"] = indices[").concat(y,"] * ").concat(g," - ").concat(m," + i;\n                if (xIndices[").concat(y,"] < 0 || xIndices[").concat(y,"] >= ").concat(t[y],") {\n                  pad++;\n                  continue;\n                }\n                let x_val = x[").concat(h.i2oExpression("xIndices"),"];\n                ").concat(a,"\n              }"):"\n              for (var i: u32 = 0u; i < ".concat(v,"u; i++) {\n                xIndices[").concat(y,"] = indices[").concat(y,"] * ").concat(g," - ").concat(m," + i;\n                let x_val = x[").concat(h.i2oExpression("xIndices"),"];\n                ").concat(a,"\n              }"),2===i.kernelShape.length){var x=i.kernelShape[i.kernelShape.length-2],_=i.strides[i.strides.length-2],C=i.pads[i.pads.length/2-2],E=i.pads[i.pads.length-2],S=A-(c?3:2),B=t[S];b=C+E!==0?"\n                for (var j: u32 = 0u; j < ".concat(x,"u; j++) {\n                  xIndices[").concat(S,"] = indices[").concat(S,"] * ").concat(_," - ").concat(C," + j;\n                  if (xIndices[").concat(S,"] < 0 || xIndices[").concat(S,"] >= ").concat(B,") {\n                    pad+= ").concat(v,";\n                    continue;\n                  }\n              "):"\n                for (var j: u32 = 0u; j < ".concat(x,"u; j++) {\n                  xIndices[").concat(S,"] = indices[").concat(S,"] * ").concat(_," - ").concat(C," + j;\n                "),w="\n              }\n            "}return"\n            @group(0) @binding(0) var<storage, read> x : array<".concat(u,">;\n            @group(0) @binding(1) var<storage, read_write> output : array<").concat(u,">;\n\n            ").concat(d.o2iImpl,"\n            ").concat(h.i2oImpl,"\n\n            ").concat(e.mainStart(),"\n              ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes(f),"\n\n              ").concat(d.indicesVariableDeclaration("indices"),"\n              ").concat(d.o2iCall("global_idx","indices"),"\n              ").concat(d.indicesVariableDeclaration("xIndices"),"\n              ").concat(d.o2iCall("global_idx","xIndices"),"\n\n              var value: ").concat(u," = ").concat(u,"(").concat(l,");\n              var pad = 0;\n              ").concat(b,"\n              ").concat(p,"\n              ").concat(w,"\n              ").concat(s,"\n\n              output[global_idx] = value;\n            }")}if(c)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");var T,I=r.ShapeUtil.size(i.kernelShape),k=r.ShapeUtil.computeStrides(i.kernelShape),M=k.length,R=i.pads.length;return T=i.pads.reduce((function(e,t){return e+t}))?"\n                if (xIndices[j] >= inputDims[j]) {\n                  pad++;\n                  isPad = true;\n                  break;\n                }\n              }\n              if (!isPad) {\n                let x_val = x[".concat(h.i2oExpression("xIndices"),"];\n                ").concat(a,"\n              }"):"\n              }\n              let x_val = x[".concat(h.i2oExpression("xIndices"),"];\n              ").concat(a,"\n            "),"\n            @group(0) @binding(0) var<storage, read> x : array<".concat(u,">;\n            @group(0) @binding(1) var<storage, read_write> output : array<").concat(u,">;\n\n            ").concat(d.o2iImpl,"\n            ").concat(h.i2oImpl,"\n\n            const pads = array<u32, ").concat(R,">(").concat(i.pads.map((function(e){return"".concat(e,"u")})).join(","),");\n            const inputDims = array<u32, ").concat(A,">(").concat(t.map((function(e){return"".concat(e,"u")})).join(","),");\n            const kernelStrides = array<u32, ").concat(M,">(").concat(k.map((function(e){return"".concat(e,"u")})).join(","),");\n            const strides = array<u32, ").concat(M,">(").concat(i.strides.map((function(e){return"".concat(e,"u")})).join(","),");\n\n            ").concat(e.mainStart(),"\n              ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes(f),"\n\n              ").concat(d.indicesVariableDeclaration("indices"),"\n              ").concat(d.o2iCall("global_idx","indices"),"\n              ").concat(d.indicesVariableDeclaration("xIndices"),"\n              ").concat(d.o2iCall("global_idx","xIndices"),"\n\n              var offsets: array<u32, ").concat(M,">;\n\n              var value = ").concat(u,"(").concat(l,");\n              var pad = 0;\n              var isPad = false;\n\n              for (var i: u32 = 0u; i < ").concat(I,"u; i++) {\n                var offset = i;\n                for (var j = 0u; j < ").concat(M-1,"u; j++) {\n                  offsets[j] = offset / kernelStrides[j];\n                  offset -= offsets[j] * kernelStrides[j];\n                }\n                offsets[").concat(M-1,"] = offset;\n\n                isPad = false;\n                for (var j = ").concat(A-M,"u; j < ").concat(A,"u; j++) {\n                  xIndices[j] = indices[j] * strides[j - ").concat(A-M,"u]\n                    + offsets[j - ").concat(A-M,"u] - pads[j - 2u];\n                  ").concat(T,"\n              }\n              ").concat(s,"\n\n              output[global_idx] = value;\n            }")},c=function(e){return{format:e.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],ceilMode:e.ceil_mode,kernelShape:e.kernel_shape,strides:e.strides,pads:e.pads}},A=function(e,t,n,i){var o=u(e,i,n),s=_slicedToArray(o,2),c=s[0],A=s[1],f=r.ShapeUtil.size(c.kernelShape),d="f32",h="";return c.countIncludePad?h+="value /= ".concat(d,"(").concat(f,");"):h+="value /= ".concat(d,"(").concat(f," - pad);"),Object.assign(Object.assign({},t),{outputs:[{dims:A,dataType:e[0].dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:function(t){return l(t,e[0].dims,A,c,"value += x_val;",h,d,"0.0")},dispatchGroup:function(){return{x:Math.ceil(r.ShapeUtil.size(A)/64)}}})};t.parseAveragePoolAttributes=function(e){var t=0!==e.count_include_pad,n=c(e);if(0!==n.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,i.createAttributeWithCacheKey)(Object.assign({countIncludePad:t},n))},t.averagePool=function(e,t){s(e.inputs);var n={name:"AveragePool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:function(){return A(e.inputs,n,!1,t)}}))};var f={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""};t.parseGlobalAveragePoolAttributes=function(e){var t=e.format;return Object.assign(Object.assign({format:t},f),{cacheKey:t})},t.globalAveragePool=function(e,t){s(e.inputs);var n={name:"GlobalAveragePool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:function(){return A(e.inputs,n,!0,t)}}))};var d=function(e,t,n,i){var o=u(e,i,n),s=_slicedToArray(o,2),c=s[0],A=s[1];return Object.assign(Object.assign({},t),{outputs:[{dims:A,dataType:e[0].dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:function(t){return l(t,e[0].dims,A,c,"\n      value = max(x_val, value);\n    ","","f32","-1e5")},dispatchGroup:function(){return{x:Math.ceil(r.ShapeUtil.size(A)/64)}}})};t.maxPool=function(e,t){s(e.inputs);var n={name:"MaxPool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:function(){return d(e.inputs,n,!1,t)}}))},t.parseMaxPoolAttributes=function(e){var t=e.storage_order,n=e.dilations,r=c(e);if(0!==t)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==r.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,i.createAttributeWithCacheKey)(Object.assign({storageOrder:t,dilations:n},r))},t.parseGlobalMaxPoolAttributes=function(e){var t=e.format;return Object.assign(Object.assign({format:t},f),{cacheKey:t})},t.globalMaxPool=function(e,t){s(e.inputs);var n={name:"GlobalMaxPool",inputTypes:[a.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:function(){return d(e.inputs,n,!0,t)}}))}},2625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=t.createTransposeProgramInfo=t.transposeProgramMetadata=void 0;var r=n(6952),i=n(387),a=n(1163),o=n(2075);t.transposeProgramMetadata={name:"Transpose",inputTypes:[a.GpuDataType.default]};var s=function(e,t){return t&&t.length!==e.length?_toConsumableArray(e.keys()).reverse():t};t.createTransposeProgramInfo=function(e,n){var i=e.dims,u=s(i,n),l=function(e,t){return r.ShapeUtil.sortBasedOnPerm(e,s(e,t))}(i,u),c=i.length,A=r.ShapeUtil.size(l),f=(0,o.createIndicesHelper)("output",l),d=(0,o.createIndicesHelper)("a",i);return Object.assign(Object.assign({},t.transposeProgramMetadata),{outputs:[{dims:l,dataType:e.dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:function(e){return"\n  @group(0) @binding(0) var<storage, read> a : array<f32>;\n  @group(0) @binding(1) var<storage, read_write> output : array<f32>;\n\n  ".concat(function(e,t){var n=[];n.push("fn perm(a: ptr<function, array<u32, ".concat(t,">>, i: ptr<function, array<u32, ").concat(t,">>) {"));for(var r=0;r<t;++r)n.push("\t(*a)[".concat(e[r],"]=(*i)[").concat(r,"];"));return n.push("\t}"),n.join("\n")}(u,c),"\n  ").concat(f.o2iImpl,"\n  ").concat(d.i2oImpl,"\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes(A),"\n\n    ").concat(f.indicesVariableDeclaration("indices"),"\n    ").concat(f.o2iCall("global_idx","indices"),"\n    ").concat(d.indicesVariableDeclaration("aIndices"),"\n    perm(&aIndices, &indices);\n\n    output[global_idx] = a[").concat(d.i2oExpression("aIndices"),"];\n  }")},dispatchGroup:function(){return{x:Math.ceil(A/64)}}})},t.transpose=function(e,n){(function(e){if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if(1!==e[0].dataType)throw new Error("input should be float tensor")})(e.inputs),e.compute(Object.assign(Object.assign({},t.transposeProgramMetadata),{cacheHint:n.cacheKey,get:function(){return(0,t.createTransposeProgramInfo)(e.inputs[0],n.perm)}}))},t.parseTransposeAttributes=function(e){return(0,i.createAttributeWithCacheKey)({perm:e.perm})}},9302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.thresholdedRelu=t.tanh=t.tan=t.sqrt=t.sinh=t.sin=t.sigmoid=t.relu=t.reciprocal=t.neg=t.leakyRelu=t.floor=t.exp=t.erf=t.elu=t.parseAlphaAttributes=t.cosh=t.cos=t.ceil=t.clip=t.clipV10=t.atanh=t.atan=t.asinh=t.asin=t.acosh=t.acos=t.abs=void 0;var r=n(6952),i=n(387),a=n(1163),o=function(e,t,n,i,o){var s={name:t,inputTypes:[a.GpuDataType.default],cacheHint:o};return Object.assign(Object.assign({},s),{get:function(){return function(e,t,n,i){return Object.assign(Object.assign({},e),{getShaderSource:function(e){return function(e,t,n,r){var i,a=Math.ceil(t/4);return i="string"==typeof n?"".concat(n,"(a)"):n("a"),"\n  @group(0) @binding(0) var<storage, read> inputData : array<vec4<f32>>;\n  @group(0) @binding(1) var<storage, read_write> outputData : array<vec4<f32>>;\n\n  ".concat(null!=r?r:"","\n\n  ").concat(e.mainStart(),"\n    ").concat(e.guardAgainstOutOfBoundsWorkgroupSizes(a),"\n\n    let a = inputData[global_idx];\n    outputData[global_idx] = ").concat(i,";\n  }")}(e,r.ShapeUtil.size(t.dims),n,i)},outputs:[{dims:t.dims,dataType:t.dataType,gpuDataType:a.GpuDataType.default}],dispatchGroup:function(e){return{x:Math.ceil(r.ShapeUtil.size(e[0].dims)/64/4)}}})}(s,e,n,i)}})};t.abs=function(e){e.compute(o(e.inputs[0],"Abs","abs"))},t.acos=function(e){e.compute(o(e.inputs[0],"Acos","acos"))},t.acosh=function(e){e.compute(o(e.inputs[0],"Acosh","acosh"))},t.asin=function(e){e.compute(o(e.inputs[0],"Asin","asin"))},t.asinh=function(e){e.compute(o(e.inputs[0],"Asinh","asinh"))},t.atan=function(e){e.compute(o(e.inputs[0],"Atan","atan"))},t.atanh=function(e){e.compute(o(e.inputs[0],"Atanh","atanh"))},t.clipV10=function(e,t){e.compute(o(e.inputs[0],"Clip",(function(e){return"clamp(".concat(e,", clip_min_, clip_max_)")}),"\n    const clip_min_: vec4<f32> = vec4(f32(".concat(t.min,"));\n    const clip_max_: vec4<f32> = vec4(f32(").concat(t.max,"));\n"),t.cacheKey),{inputs:[0]})},t.clip=function(e){var n=function(e){var t=e.length>=2?e[1].getFloat32Array()[0]:r.MIN_CLIP,n=e.length>=3?e[2].getFloat32Array()[0]:r.MAX_CLIP;return(0,i.createAttributeWithCacheKey)({min:t,max:n})}(e.inputs);(0,t.clipV10)(e,n)},t.ceil=function(e){e.compute(o(e.inputs[0],"Ceil","ceil"))},t.cos=function(e){e.compute(o(e.inputs[0],"Cos","cos"))},t.cosh=function(e){e.compute(o(e.inputs[0],"Cosh","cosh"))},t.parseAlphaAttributes=function(e){return(0,i.createAttributeWithCacheKey)(e)},t.elu=function(e,t){e.compute(o(e.inputs[0],"Elu",(function(e){return"elu_vf32(".concat(e,")")}),"\n  const elu_alpha_: f32 = f32(".concat(t.alpha,");\n\n  fn elu_f32(a: f32) -> f32 {\n  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);\n  }\n\n  fn elu_vf32(v: vec4<f32>) -> vec4<f32> {\n  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));\n  }"),t.cacheKey))},t.erf=function(e){e.compute(o(e.inputs[0],"Erf",(function(e){return"erf_vf32(".concat(e,")")}),"\n  const r0: f32 = 0.3275911;\n  const r1: f32 = 0.254829592;\n  const r2: f32 = -0.284496736;\n  const r3: f32 = 1.421413741;\n  const r4: f32 = -1.453152027;\n  const r5: f32 = 1.061405429;\n\n  fn erf_vf32(v: vec4<f32>) -> vec4<f32> {\n    let absv = abs(v);\n    let x = 1.0 / (1.0 + r0 * absv);\n    return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));\n  }"))},t.exp=function(e){e.compute(o(e.inputs[0],"Exp","exp"))},t.floor=function(e){e.compute(o(e.inputs[0],"Floor","floor"))},t.leakyRelu=function(e,t){e.compute(o(e.inputs[0],"LeakyRelu",(function(e){return"select(leaky_relu_alpha_ * ".concat(e,", ").concat(e,", ").concat(e," >= vec4<f32>(0.0))")}),"const leaky_relu_alpha_: f32 = f32(".concat(t.alpha,");"),t.cacheKey))},t.neg=function(e){e.compute(o(e.inputs[0],"Neg",(function(e){return"-".concat(e)})))},t.reciprocal=function(e){e.compute(o(e.inputs[0],"Reciprocal",(function(e){return"1.0/".concat(e)})))},t.relu=function(e){e.compute(o(e.inputs[0],"Relu",(function(e){return"select(vec4<f32>(0.0), ".concat(e,", ").concat(e," > vec4<f32>(0.0))")})))},t.sigmoid=function(e){e.compute(o(e.inputs[0],"Sigmoid",(function(e){return"(1.0 / (1.0 + exp(-".concat(e,")))")})))},t.sin=function(e){e.compute(o(e.inputs[0],"Sin","sin"))},t.sinh=function(e){e.compute(o(e.inputs[0],"Sinh","sinh"))},t.sqrt=function(e){e.compute(o(e.inputs[0],"Sqrt","sqrt"))},t.tan=function(e){e.compute(o(e.inputs[0],"Tan","tan"))},t.tanh=function(e){e.compute(o(e.inputs[0],"Tanh","tanh"))},t.thresholdedRelu=function(e,t){return e.compute(o(e.inputs[0],"ThresholdedRelu",(function(e){return"select(vec4<f32>(0.0), ".concat(e,", ").concat(e," > thresholded_relu_alpha_)")}),"const thresholded_relu_alpha_: vec4<f32> = vec4<f32>(".concat(t.alpha,");"),t.cacheKey)),0}},8305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;var r=n(4955),i=n(2075);t.ProgramManager=function(){function e(t){_classCallCheck(this,e),this.backend=t,this.repo=new Map,this.attributesBound=!1}return _createClass(e,[{key:"getArtifact",value:function(e){return this.repo.get(e)}},{key:"setArtifact",value:function(e,t){this.repo.set(e,t)}},{key:"run",value:function(e,t,n,r){var i=this,a=this.backend.device,o=this.backend.getComputePassEncoder();this.backend.profilingEnabled&&o.writeTimestamp(this.backend.profilingQuerySet,0),o.setPipeline(e.computePipeline);var s,u=[],l=_createForOfIteratorHelper(t);try{for(l.s();!(s=l.n()).done;){var c=s.value;u.push({binding:u.length,resource:{buffer:c.buffer}})}}catch(y){l.e(y)}finally{l.f()}var A,f=_createForOfIteratorHelper(n);try{for(f.s();!(A=f.n()).done;){var d=A.value;u.push({binding:u.length,resource:{buffer:d.buffer}})}}catch(y){f.e(y)}finally{f.f()}var h=a.createBindGroup({layout:e.computePipeline.getBindGroupLayout(0),entries:u});if(o.setBindGroup(0,h),o.dispatchWorkgroups.apply(o,_toConsumableArray(r)),this.backend.pendingDispatchNumber++,this.backend.profilingEnabled){o.writeTimestamp(this.backend.profilingQuerySet,1);var p=this.backend.gpuDataManager.create(16,GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE),v=this.backend.gpuDataManager.create(16,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);this.backend.endComputePass(),this.backend.getCommandEncoder().resolveQuerySet(this.backend.profilingQuerySet,0,2,p.buffer,0),this.backend.getCommandEncoder().copyBufferToBuffer(p.buffer,0,v.buffer,0,16),this.backend.flush();var g=this.backend.currentKernelId,m=this.backend.kernels.get(g)[0];v.buffer.mapAsync(GPUMapMode.READ).then((function(){var e=new BigUint64Array(v.buffer.getMappedRange()),t=e[0],n=e[1];v.buffer.unmap(),void 0===i.backend.profilingTimeBase&&(i.backend.profilingTimeBase=t);var r=Number(t-i.backend.profilingTimeBase),a=Number(n-i.backend.profilingTimeBase);if(!Number.isSafeInteger(r)||!Number.isSafeInteger(a))throw new RangeError("incorrect timestamp range");i.backend.gpuDataManager.release(p.id),i.backend.gpuDataManager.release(v.id),console.log('[profiling] kernel "'.concat(g,"|").concat(m,'" execution time: ').concat(a-r," ns"))}))}this.backend.pendingDispatchNumber>=16&&this.backend.flush()}},{key:"dispose",value:function(){}},{key:"build",value:function(e,t){var n=this.backend.device,a=e.getShaderSource((0,i.createShaderHelper)(t)),o=n.createShaderModule({code:a});return(0,r.LOG_DEBUG)("verbose",(function(){return"[WebGPU] shader code: ".concat(a)})),{programInfo:e,computePipeline:n.createComputePipeline({compute:{module:o,entryPoint:"main"},layout:"auto"})}}},{key:"normalizeDispatchGroupSize",value:function(e){var t="number"==typeof e?e:e.x,n="number"==typeof e?1:e.y||1,r="number"==typeof e?1:e.z||1,i=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(t<=i&&n<=i&&r<=i)return[t,n,r];var a=t*n*r,o=Math.ceil(Math.sqrt(a));if(o>i){if((o=Math.ceil(Math.cbrt(a)))>i)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[o,o,o]}return[o,o,1]}}]),e}()},1163:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.GpuDataType=void 0,(n=t.GpuDataType||(t.GpuDataType={}))[n.default=0]="default",n[n.upload=1]="upload",n[n.profile=2]="profile"},3899:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=function(e,n,r,i){if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((function(e){var a=_slicedToArray(e,2),o=a[0],s=a[1],u=n?n+o:o;if("object"==typeof s)(0,t.iterateExtraOptions)(s,u+".",r,i);else if("string"==typeof s||"number"==typeof s)i(u,s.toString());else{if("boolean"!=typeof s)throw new Error("Can't handle extra config type: "+typeof s);i(u,s?"1":"0")}}))}},9544:function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=t.initWasm=void 0;var s,u,l,c=n(8453),A=n(7675),f=o(n(1259)),d=n(263),h=function(){return!!c.env.wasm.proxy&&"undefined"!=typeof document},p=!1,v=!1,g=!1,m=[],y=[],b=[],w=[],x=[],_=[],C=function(){if(p||!v||g||!s)throw new Error("worker not ready")},E=function(e){switch(e.data.type){case"init-wasm":p=!1,e.data.err?(g=!0,u[1](e.data.err)):(v=!0,u[0]());break;case"init-ort":e.data.err?l[1](e.data.err):l[0]();break;case"create_allocate":e.data.err?m.shift()[1](e.data.err):m.shift()[0](e.data.out);break;case"create_finalize":e.data.err?y.shift()[1](e.data.err):y.shift()[0](e.data.out);break;case"create":e.data.err?b.shift()[1](e.data.err):b.shift()[0](e.data.out);break;case"release":e.data.err?w.shift()[1](e.data.err):w.shift()[0]();break;case"run":e.data.err?x.shift()[1](e.data.err):x.shift()[0](e.data.out);break;case"end-profiling":e.data.err?_.shift()[1](e.data.err):_.shift()[0]()}},S="undefined"!=typeof document?null===(r=null===document||void 0===document?void 0:document.currentScript)||void 0===r?void 0:r.src:void 0;t.initWasm=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h()){e.next=8;break}if(!v){e.next=3;break}return e.abrupt("return");case 3:if(!p){e.next=5;break}throw new Error("multiple calls to 'initWasm()' detected.");case 5:if(!g){e.next=7;break}throw new Error("previous call to 'initWasm()' failed.");case 7:return e.abrupt("return",(p=!0,void 0===c.env.wasm.wasmPaths&&S&&0!==S.indexOf("blob:")&&(c.env.wasm.wasmPaths=S.substr(0,+S.lastIndexOf("/")+1)),new Promise((function(e,t){null==s||s.terminate(),(s=n(8050).Z()).onmessage=E,u=[e,t];var r={type:"init-wasm",in:c.env.wasm};s.postMessage(r)}))));case 8:return e.abrupt("return",(0,d.initializeWebAssembly)(c.env.wasm));case 9:case"end":return e.stop()}}),e)}))),t.initOrt=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h()){e.next=2;break}return e.abrupt("return",(C(),new Promise((function(e,r){l=[e,r];var i={type:"init-ort",in:{numThreads:t,loggingLevel:n}};s.postMessage(i)}))));case 2:return f.initOrt(t,n),e.next=5,(0,A.init)((0,d.getInstance)());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.createSessionAllocate=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h()?(C(),new Promise((function(e,n){m.push([e,n]);var r={type:"create_allocate",in:{model:t}};s.postMessage(r,[t.buffer])}))):f.createSessionAllocate(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.createSessionFinalize=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h()?(C(),new Promise((function(e,r){y.push([e,r]);var i={type:"create_finalize",in:{modeldata:t,options:n}};s.postMessage(i)}))):f.createSessionFinalize(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.createSession=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h()?(C(),new Promise((function(e,r){b.push([e,r]);var i={type:"create",in:{model:t,options:n}};s.postMessage(i,[t.buffer])}))):f.createSession(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.releaseSession=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h()){e.next=2;break}return e.abrupt("return",(C(),new Promise((function(e,n){w.push([e,n]);var r={type:"release",in:t};s.postMessage(r)}))));case 2:f.releaseSession(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.run=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i,a){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h()?(C(),new Promise((function(e,o){x.push([e,o]);var u={type:"run",in:{sessionId:t,inputIndices:n,inputs:r,outputIndices:i,options:a}};s.postMessage(u,f.extractTransferableBuffers(r))}))):f.run(t,n,r,i,a));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),t.endProfiling=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h()){e.next=2;break}return e.abrupt("return",(C(),new Promise((function(e,n){_.push([e,n]);var r={type:"end-profiling",in:t};s.postMessage(r)}))));case 2:f.endProfiling(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},7918:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;var r=n(3899),i=n(9444),a=n(263);t.setRunOptions=function(e){var t=(0,a.getInstance)(),n=0,o=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error("log serverity level is not valid: ".concat(e.logSeverityLevel));if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error("log verbosity level is not valid: ".concat(e.logVerbosityLevel));void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);var u=0;if(void 0!==(null==e?void 0:e.tag)&&(u=(0,i.allocWasmString)(e.tag,o)),0===(n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,u)))throw new Error("Can't create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,(function(e,r){var a=(0,i.allocWasmString)(e,o),s=(0,i.allocWasmString)(r,o);if(0!==t._OrtAddRunConfigEntry(n,a,s))throw new Error("Can't set a run config entry: ".concat(e," - ").concat(r))})),[n,o]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),o.forEach(t._free),e}}},6640:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;var r,i=n(2806),a=n(8453),o=n(2850),s=n(9544),u=n(7917);t.OnnxruntimeWebAssemblySessionHandler=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSessionAllocate",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:return r=e.sent,e.abrupt("return",(0,s.createSessionAllocate)(new Uint8Array(r)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadModel",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var l,c,A,f,d,h,p,v;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,e.t0){e.next=5;break}return e.next=4,(0,s.initOrt)(a.env.wasm.numThreads,(0,u.logLevelStringToEnum)(a.env.logLevel));case 4:r=!0;case 5:if("string"!=typeof t){e.next=31;break}if("undefined"!=typeof fetch){e.next=19;break}return e.next=9,(0,o.promisify)(i.readFile)(t);case 9:return l=e.sent,e.next=12,(0,s.createSession)(l,n);case 12:c=e.sent,A=_slicedToArray(c,3),this.sessionId=A[0],this.inputNames=A[1],this.outputNames=A[2],e.next=29;break;case 19:return e.next=21,this.createSessionAllocate(t);case 21:return f=e.sent,e.next=24,(0,s.createSessionFinalize)(f,n);case 24:d=e.sent,h=_slicedToArray(d,3),this.sessionId=h[0],this.inputNames=h[1],this.outputNames=h[2];case 29:e.next=38;break;case 31:return e.next=33,(0,s.createSession)(t,n);case 33:p=e.sent,v=_slicedToArray(p,3),this.sessionId=v[0],this.inputNames=v[1],this.outputNames=v[2];case 38:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.releaseSession)(this.sessionId));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r){var i,o,u,l,c,A,f=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],o=[],Object.entries(t).forEach((function(e){var t=e[0],n=e[1],r=f.inputNames.indexOf(t);if(-1===r)throw new Error("invalid input '".concat(t,"'"));i.push(n),o.push(r)})),u=[],Object.entries(n).forEach((function(e){var t=e[0],n=f.outputNames.indexOf(t);if(-1===n)throw new Error("invalid output '".concat(t,"'"));u.push(n)})),e.next=6,(0,s.run)(this.sessionId,o,i.map((function(e){return[e.type,e.dims,e.data]})),u,r);case 6:for(l=e.sent,c={},A=0;A<l.length;A++)c[this.outputNames[u[A]]]=new a.Tensor(l[A][0],l[A][2],l[A][1]);return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"startProfiling",value:function(){}},{key:"endProfiling",value:function(){(0,s.endProfiling)(this.sessionId)}}]),e}()},7622:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;var r=n(3899),i=n(9444),a=n(263);t.setSessionOptions=function(e){var t,n,o,s,u=(0,a.getInstance)(),l=0,c=[],A=e||{};!function(e){e.extra||(e.extra={}),e.extra.session||(e.extra.session={});var t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((function(e){return"webgpu"===("string"==typeof e?e:e.name)}))&&(e.enableMemPattern=!1)}(A);try{var f=function(e){switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error("unsupported graph optimization level: ".concat(e))}}(null!==(t=A.graphOptimizationLevel)&&void 0!==t?t:"all"),d=function(e){switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error("unsupported execution mode: ".concat(e))}}(null!==(n=A.executionMode)&&void 0!==n?n:"sequential"),h="string"==typeof A.logId?(0,i.allocWasmString)(A.logId,c):0,p=null!==(o=A.logSeverityLevel)&&void 0!==o?o:2;if(!Number.isInteger(p)||p<0||p>4)throw new Error("log serverity level is not valid: ".concat(p));var v=null!==(s=A.logVerbosityLevel)&&void 0!==s?s:0;if(!Number.isInteger(v)||v<0||v>4)throw new Error("log verbosity level is not valid: ".concat(v));var g="string"==typeof A.optimizedModelFilePath?(0,i.allocWasmString)(A.optimizedModelFilePath,c):0;if(0===(l=u._OrtCreateSessionOptions(f,!!A.enableCpuMemArena,!!A.enableMemPattern,d,!!A.enableProfiling,0,h,p,v,g)))throw new Error("Can't create session options");return A.executionProviders&&function(e,t,n){var r,o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,u="string"==typeof s?s:s.name;switch(u){case"xnnpack":u="XNNPACK";break;case"webgpu":u="JS";break;case"wasm":case"cpu":continue;default:throw new Error("not supported EP: ".concat(u))}var l=(0,i.allocWasmString)(u,n);if(0!==(0,a.getInstance)()._OrtAppendExecutionProvider(e,l))throw new Error("Can't append execution provider: ".concat(u))}}catch(c){o.e(c)}finally{o.f()}}(l,A.executionProviders,c),void 0!==A.extra&&(0,r.iterateExtraOptions)(A.extra,"",new WeakSet,(function(e,t){var n=(0,i.allocWasmString)(e,c),r=(0,i.allocWasmString)(t,c);if(0!==u._OrtAddSessionConfigEntry(l,n,r))throw new Error("Can't set a session config entry: ".concat(e," - ").concat(t))})),[l,c]}catch(e){throw 0!==l&&u._OrtReleaseSessionOptions(l),c.forEach(u._free),e}}},9444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;var r=n(263);t.allocWasmString=function(e,t){var n=(0,r.getInstance)(),i=n.lengthBytesUTF8(e)+1,a=n._malloc(i);return n.stringToUTF8(e,a,i),t.push(a),a}},7917:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=function(e){switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error("unsupported data type: ".concat(e))}},t.tensorDataTypeEnumToString=function(e){switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error("unsupported data type: ".concat(e))}},t.getTensorElementSize=function(e){return[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e]},t.tensorTypeToTypedArrayConstructor=function(e){switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error("unsupported type: ".concat(e))}},t.logLevelStringToEnum=function(e){switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error("unsupported logging level: ".concat(e))}}},1259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;var r=n(7918),i=n(7622),a=n(9444),o=n(7917),s=n(263);t.initOrt=function(e,t){var n=(0,s.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error("Can't initialize onnxruntime. error code = ".concat(n))};var u=new Map;t.createSessionAllocate=function(e){var t=(0,s.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=function(e,t){var n=(0,s.getInstance)(),r=0,a=0,o=[];try{var l,c;if(l=(0,i.setSessionOptions)(t),a=(c=_slicedToArray(l,2))[0],o=c[1],0===(r=n._OrtCreateSession(e[0],e[1],a)))throw new Error("Can't create a session")}finally{n._free(e[0]),0!==a&&n._OrtReleaseSessionOptions(a),o.forEach(n._free)}for(var A=n._OrtGetInputCount(r),f=n._OrtGetOutputCount(r),d=[],h=[],p=[],v=[],g=0;g<A;g++){var m=n._OrtGetInputName(r,g);if(0===m)throw new Error("Can't get an input name");h.push(m),d.push(n.UTF8ToString(m))}for(var y=0;y<f;y++){var b=n._OrtGetOutputName(r,y);if(0===b)throw new Error("Can't get an output name");v.push(b),p.push(n.UTF8ToString(b))}return u.set(r,[r,h,v]),[r,d,p]},t.createSession=function(e,n){var r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=function(e){var t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");var r=n[0],i=n[1],a=n[2];i.forEach(t._OrtFree),a.forEach(t._OrtFree),t._OrtReleaseSession(r),u.delete(e)},t.run=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,i,l,c){var A,f,d,h,p,v,g,m,y,b,w,x,_,C,E,S,B,T,I,k,M,R,U,F,O,P,D,L,N,Q,H,j,z,G,V,W,K,X,q,Y,Z,J,$,ee,te,ne,re,ie;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=(0,s.getInstance)(),f=u.get(t)){e.next=3;break}throw new Error("invalid session id");case 3:d=f[0],h=f[1],p=f[2],v=n.length,g=l.length,m=0,y=[],b=[],w=[],e.prev=6,x=(0,r.setRunOptions)(c),_=_slicedToArray(x,2),m=_[0],y=_[1],C=_regeneratorRuntime().mark((function e(){var t,n,r,s,u,l,c,f,d,h,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i[E][0],n=i[E][1],r=i[E][2],!Array.isArray(r)){e.next=14;break}u=4*r.length,s=A._malloc(u),w.push(s),l=s/4,c=0;case 5:if(!(c<r.length)){e.next=12;break}if("string"==typeof r[c]){e.next=8;break}throw new TypeError("tensor data at index ".concat(c," is not a string"));case 8:A.HEAPU32[l++]=(0,a.allocWasmString)(r[c],w);case 9:c++,e.next=5;break;case 12:e.next=15;break;case 14:u=r.byteLength,s=A._malloc(u),w.push(s),A.HEAPU8.set(new Uint8Array(r.buffer,r.byteOffset,u),s);case 15:if(f=A.stackSave(),d=A.stackAlloc(4*n.length),e.prev=16,h=d/4,n.forEach((function(e){return A.HEAP32[h++]=e})),0!==(p=A._OrtCreateTensor((0,o.tensorDataTypeStringToEnum)(t),s,u,d,n.length))){e.next=22;break}throw new Error("Can't create a tensor");case 22:b.push(p);case 23:return e.prev=23,A.stackRestore(f),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[16,,23,26]])})),E=0;case 13:if(!(E<v)){e.next=18;break}return e.delegateYield(C(),"t0",15);case 15:E++,e.next=13;break;case 18:for(S=A.stackSave(),B=A.stackAlloc(4*v),T=A.stackAlloc(4*v),I=A.stackAlloc(4*g),k=A.stackAlloc(4*g),e.prev=19,M=B/4,R=T/4,U=I/4,F=k/4,O=0;O<v;O++)A.HEAPU32[M++]=b[O],A.HEAPU32[R++]=h[n[O]];for(P=0;P<g;P++)A.HEAPU32[U++]=0,A.HEAPU32[F++]=p[l[P]];if(D=A._OrtRun(d,T,B,v,k,g,I,m),L=A.jsepRunPromise,e.t1=L&&void 0!==L.then,!e.t1){e.next=30;break}return e.next=29,L;case 29:D=e.sent;case 30:if(N=[],0!==D){e.next=53;break}Q=0;case 33:if(!(Q<g)){e.next=53;break}if(H=A.HEAPU32[I/4+Q],j=A.stackSave(),z=A.stackAlloc(16),G=void 0,V=0,e.prev=36,0===(D=A._OrtGetTensorData(H,z,z+4,z+8,z+12))){e.next=39;break}throw new Error("Can't access output tensor data. error code = ".concat(D));case 39:for(W=z/4,K=A.HEAPU32[W++],V=A.HEAPU32[W++],X=A.HEAPU32[W++],q=A.HEAPU32[W++],Y=[],Z=0;Z<q;Z++)Y.push(A.HEAPU32[X/4+Z]);if(A._OrtFree(X),J=0===Y.length?1:Y.reduce((function(e,t){return e*t})),"string"===(G=(0,o.tensorDataTypeEnumToString)(K))){for($=[],ee=V/4,te=0;te<J;te++)ne=A.HEAPU32[ee++],re=te===J-1?void 0:A.HEAPU32[ee]-ne,$.push(A.UTF8ToString(ne,re));N.push([G,Y,$])}else ie=new((0,o.tensorTypeToTypedArrayConstructor)(G))(J),new Uint8Array(ie.buffer,ie.byteOffset,ie.byteLength).set(A.HEAPU8.subarray(V,V+ie.byteLength)),N.push([G,Y,ie]);case 47:return e.prev=47,A.stackRestore(j),"string"===G&&V&&A._free(V),A._OrtReleaseTensor(H),e.finish(47);case 50:Q++,e.next=33;break;case 53:if(0!==D){e.next=55;break}return e.abrupt("return",N);case 55:throw new Error("failed to call OrtRun(). error code = ".concat(D,"."));case 56:return e.prev=56,A.stackRestore(S),e.finish(56);case 59:return e.prev=59,b.forEach(A._OrtReleaseTensor),w.forEach(A._free),A._OrtReleaseRunOptions(m),y.forEach(A._free),e.finish(59);case 62:case"end":return e.stop()}}),e,null,[[6,,59,62],[19,,56,59],[36,,47,50]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),t.endProfiling=function(e){var t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");var r=n[0],i=t._OrtEndProfiling(r);if(0===i)throw new Error("Can't get an profile file name");t._OrtFree(i)},t.extractTransferableBuffers=function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value[2];!Array.isArray(i)&&i.buffer&&n.push(i.buffer)}}catch(a){r.e(a)}finally{r.f()}return n}},263:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;var o,s=a(n(6449)),u=n(932),l=n(3474),c=!1,A=!1,f=!1;t.initializeWebAssembly=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,i,a,d,h,p,v,g,m,y,b;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(!A){e.next=4;break}throw new Error("multiple calls to 'initializeWebAssembly()' detected.");case 4:if(!f){e.next=6;break}throw new Error("previous call to 'initializeWebAssembly()' failed.");case 6:return A=!0,r=t.initTimeout,i=t.numThreads,a=t.simd,d=i>1&&function(){try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}}(),h=a&&function(){try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}}(),p=t.wasmPaths,v="string"==typeof p?p:void 0,g=function(e,t){return t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm"}(h,d),m="object"==typeof p?p[g]:void 0,y=!1,b=[],r>0&&b.push(new Promise((function(e){setTimeout((function(){y=!0,e()}),r)}))),b.push(new Promise((function(e,t){var r=d?l:u,i={locateFile:function(e,t){return d&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(4154)],{type:"text/javascript"})):e.endsWith(".wasm")?m||(null!=v?v:t)+g:t+e}};if(d)if("undefined"==typeof Blob)i.mainScriptUrlOrBlob=s.join("/","ort-wasm-threaded.js");else{var a="var ortWasmThreaded=(function(){var _scriptDir;return ".concat(r.toString(),"})();");i.mainScriptUrlOrBlob=new Blob([a],{type:"text/javascript"})}r(i).then((function(t){A=!1,c=!0,o=t,e()}),(function(e){A=!1,f=!0,t(e)}))}))),e.next=14,Promise.race(b);case 14:if(!y){e.next=16;break}throw new Error("WebAssembly backend initializing failed due to timeout: ".concat(r,"ms"));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getInstance=function(){if(c&&o)return o;throw new Error("WebAssembly is not initialized yet.")},t.dispose=function(){var e;!c||A||f||(A=!0,null===(e=o.PThread)||void 0===e||e.terminateAllThreads(),o=void 0,A=!1,c=!1,f=!0)}},8050:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(6614),i=n.n(r);function a(){return i()('/*!\n* ONNX Runtime Web v1.15.1\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setRunOptions=e=>{const t=(0,o.getInstance)();let n=0;const i=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=(0,a.allocWasmString)(e.tag,i)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,o),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const o=(0,a.allocWasmString)(e,i),s=(0,a.allocWasmString)(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,s))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setSessionOptions=e=>{var t,n,i,s;const u=(0,o.getInstance)();let c=0;const l=[],f=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(f);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=f.graphOptimizationLevel)&&void 0!==t?t:"all"),p=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(n=f.executionMode)&&void 0!==n?n:"sequential"),d="string"==typeof f.logId?(0,a.allocWasmString)(f.logId,l):0,m=null!==(i=f.logSeverityLevel)&&void 0!==i?i:2;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log serverity level is not valid: ${m}`);const g=null!==(s=f.logVerbosityLevel)&&void 0!==s?s:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof f.optimizedModelFilePath?(0,a.allocWasmString)(f.optimizedModelFilePath,l):0;if(c=u._OrtCreateSessionOptions(e,!!f.enableCpuMemArena,!!f.enableMemPattern,p,!!f.enableProfiling,0,d,m,g,h),0===c)throw new Error("Can\'t create session options");return f.executionProviders&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const i=(0,a.allocWasmString)(t,n);if(0!==(0,o.getInstance)()._OrtAppendExecutionProvider(e,i))throw new Error(`Can\'t append execution provider: ${t}`)}})(c,f.executionProviders,l),void 0!==f.extra&&(0,r.iterateExtraOptions)(f.extra,"",new WeakSet,((e,t)=>{const n=(0,a.allocWasmString)(e,l),r=(0,a.allocWasmString)(t,l);if(0!==u._OrtAddSessionConfigEntry(c,n,r))throw new Error(`Can\'t set a session config entry: ${e} - ${t}`)})),[c,l]}catch(e){throw 0!==c&&u._OrtReleaseSessionOptions(c),l.forEach(u._free),e}}},444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(263);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const r=n(918),a=n(622),o=n(444),i=n(917),s=n(263);t.initOrt=(e,t)=>{const n=(0,s.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;t.createSessionAllocate=e=>{const t=(0,s.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,s.getInstance)();let r=0,o=0,i=[];try{if([o,i]=(0,a.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],o),0===r)throw new Error("Can\'t create a session")}finally{n._free(e[0]),0!==o&&n._OrtReleaseSessionOptions(o),i.forEach(n._free)}const c=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],d=[],m=[];for(let e=0;e<c;e++){const t=n._OrtGetInputName(r,e);if(0===t)throw new Error("Can\'t get an input name");p.push(t),f.push(n.UTF8ToString(t))}for(let e=0;e<l;e++){const t=n._OrtGetOutputName(r,e);if(0===t)throw new Error("Can\'t get an output name");m.push(t),d.push(n.UTF8ToString(t))}return u.set(r,[r,p,m]),[r,f,d]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),u.delete(e)},t.run=async(e,t,n,a,c)=>{const l=(0,s.getInstance)(),f=u.get(e);if(!f)throw new Error("invalid session id");const p=f[0],d=f[1],m=f[2],g=t.length,h=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,r.setRunOptions)(c);for(let e=0;e<g;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let s,u;if(Array.isArray(a)){u=4*a.length,s=l._malloc(u),w.push(s);let e=s/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,o.allocWasmString)(a[t],w)}}else u=a.byteLength,s=l._malloc(u),w.push(s),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),s);const c=l.stackSave(),f=l.stackAlloc(4*r.length);try{let e=f/4;r.forEach((t=>l.HEAP32[e++]=t));const n=l._OrtCreateTensor((0,i.tensorDataTypeStringToEnum)(t),s,u,f,r.length);if(0===n)throw new Error("Can\'t create a tensor");b.push(n)}finally{l.stackRestore(c)}}const e=l.stackSave(),s=l.stackAlloc(4*g),u=l.stackAlloc(4*g),f=l.stackAlloc(4*h),_=l.stackAlloc(4*h);try{let e=s/4,n=u/4,r=f/4,o=_/4;for(let r=0;r<g;r++)l.HEAPU32[e++]=b[r],l.HEAPU32[n++]=d[t[r]];for(let e=0;e<h;e++)l.HEAPU32[r++]=0,l.HEAPU32[o++]=m[a[e]];let c=l._OrtRun(p,u,s,g,_,h,f,y);const v=l.jsepRunPromise;v&&void 0!==v.then&&(c=await v);const w=[];if(0===c)for(let e=0;e<h;e++){const t=l.HEAPU32[f/4+e],n=l.stackSave(),r=l.stackAlloc(16);let a,o=0;try{if(c=l._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==c)throw new Error(`Can\'t access output tensor data. error code = ${c}`);let e=r/4;const n=l.HEAPU32[e++];o=l.HEAPU32[e++];const s=l.HEAPU32[e++],u=l.HEAPU32[e++],f=[];for(let e=0;e<u;e++)f.push(l.HEAPU32[s/4+e]);l._OrtFree(s);const p=0===f.length?1:f.reduce(((e,t)=>e*t));if(a=(0,i.tensorDataTypeEnumToString)(n),"string"===a){const e=[];let t=o/4;for(let n=0;n<p;n++){const r=l.HEAPU32[t++],a=n===p-1?void 0:l.HEAPU32[t]-r;e.push(l.UTF8ToString(r,a))}w.push([a,f,e])}else{const e=new((0,i.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(o,o+e.byteLength)),w.push([a,f,e])}}finally{l.stackRestore(n),"string"===a&&o&&l._free(o),l._OrtReleaseTensor(t)}}if(0===c)return w;throw new Error(`failed to call OrtRun(). error code = ${c}.`)}finally{l.stackRestore(e)}}finally{b.forEach(l._OrtReleaseTensor),w.forEach(l._free),l._OrtReleaseRunOptions(y),v.forEach(l._free)}},t.endProfiling=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(n(449)),s=n(932),u=n(474);let c,l=!1,f=!1,p=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(p)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),d=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),m=e.wasmPaths,g="string"==typeof m?m:void 0,h=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(d,o),y="object"==typeof m?m[h]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const r=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=g?g:t)+h:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,p=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||p||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,p=!0)}},474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return P.buffer!=D&&G(P.buffer),F}function r(){return P.buffer!=D&&G(P.buffer),U}function a(){return P.buffer!=D&&G(P.buffer),I}function o(){return P.buffer!=D&&G(P.buffer),W}function i(){return P.buffer!=D&&G(P.buffer),j}var s,u,c;e=e||{},s||(s=void 0!==e?e:{}),s.ready=new Promise((function(e,t){u=e,c=t}));var l,f,p,d,m,g,h=Object.assign({},s),y="./this.program",v=(e,t)=>{throw t},b="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=s.ENVIRONMENT_IS_PTHREAD||!1,S="";function T(e){return s.locateFile?s.locateFile(e,S):S+e}if(_){let t;S=w?n(908).dirname(S)+"/":"//",g=()=>{m||(d=n(384),m=n(908))},l=function(e,t){return g(),e=m.normalize(e),d.readFileSync(e,t?void 0:"utf8")},p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{g(),e=m.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ie))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=(e,t)=>{if(C)throw process.exitCode=e,t;t instanceof ie||x("exiting due to exception: "+t),process.exit(e)},s.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(b||w)&&(w?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),_scriptDir&&(S=_scriptDir),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var A=console.log.bind(console),E=console.warn.bind(console);_&&(g(),A=e=>d.writeSync(1,e+"\\n"),E=e=>d.writeSync(2,e+"\\n"));var M,R=s.print||A,x=s.printErr||E;Object.assign(s,h),h=null,s.thisProgram&&(y=s.thisProgram),s.quit&&(v=s.quit),s.wasmBinary&&(M=s.wasmBinary);var C=s.noExitRuntime||!0;"object"!=typeof WebAssembly&&ne("no native wasm support detected");var P,k,D,F,U,I,W,j,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Y(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&L)return L.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function z(e,t){return(e>>>=0)?Y(r(),e,t):""}function B(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function N(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){D=e,s.HEAP8=F=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=I=new Int32Array(e),s.HEAPU8=U=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=W=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=j=new Float64Array(e)}O&&(D=s.buffer);var q=s.INITIAL_MEMORY||16777216;if(O)P=s.wasmMemory,D=s.buffer;else if(s.wasmMemory)P=s.wasmMemory;else if(!((P=new WebAssembly.Memory({initial:q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");P&&(D=P.buffer),q=D.byteLength,G(D);var $,V=[],J=[],Q=[];function X(){var e=s.preRun.shift();V.unshift(e)}var K,Z=0,ee=null,te=null;function ne(e){throw O?postMessage({cmd:"onAbort",arg:e}):s.onAbort&&s.onAbort(e),x(e="Aborted("+e+")"),H=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function re(){return K.startsWith("data:application/octet-stream;base64,")}function ae(){var e=K;try{if(e==K&&M)return new Uint8Array(M);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}K="ort-wasm-threaded.wasm",re()||(K=T(K));var oe={};function ie(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function se(e){(e=fe.La[e])||ne(),fe.Xa(e)}function ue(e){var t=fe.lb();if(!t)return 6;fe.Ra.push(t),fe.La[e.Ka]=t,t.Ka=e.Ka;var n={cmd:"run",start_routine:e.pb,arg:e.ib,pthread_ptr:e.Ka};return t.Qa=()=>{n.time=performance.now(),t.postMessage(n,e.vb)},t.loaded&&(t.Qa(),delete t.Qa),0}function ce(e){if(O)return He(1,1,e);C||(fe.qb(),s.onExit&&s.onExit(e),H=!0),v(e,new ie(e))}function le(e,t){if(!t&&O)throw de(e),"unwind";ce(e)}var fe={Oa:[],Ra:[],$a:[],La:{},Ua:function(){O&&fe.mb()},xb:function(){},mb:function(){fe.receiveObjectTransfer=fe.ob,fe.threadInitTLS=fe.Za,fe.setExitStatus=fe.Ya,C=!1},Ya:function(){},qb:function(){for(var e of Object.values(fe.La))fe.Xa(e);for(e of fe.Oa)e.terminate();fe.Oa=[]},Xa:function(e){var t=e.Ka;delete fe.La[t],fe.Oa.push(e),fe.Ra.splice(fe.Ra.indexOf(e),1),e.Ka=0,ct(t)},ob:function(){},Za:function(){fe.$a.forEach((e=>e()))},nb:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ka&&(fe.kb=e.Ka),n.targetThread&&n.targetThread!=rt()){var a=fe.La[n.yb];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?De(n.queue):"spawnThread"===r?ue(n):"cleanupThread"===r?se(n.thread):"killThread"===r?(n=n.thread,r=fe.La[n],delete fe.La[n],r.terminate(),ct(n),fe.Ra.splice(fe.Ra.indexOf(r),1),r.Ka=0):"cancelThread"===r?fe.La[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Qa&&(e.Qa(),delete e.Qa)):"print"===r?R("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?s.onAbort&&s.onAbort(n.arg):r&&x("worker sent an unknown command "+r);fe.kb=void 0},e.onerror=e=>{throw x("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},_&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:s.mainScriptUrlOrBlob||_scriptDir,wasmMemory:P,wasmModule:k})},hb:function(){var e=T("ort-wasm-threaded.worker.js");fe.Oa.push(new Worker(e))},lb:function(){return 0==fe.Oa.length&&(fe.hb(),fe.nb(fe.Oa[0])),fe.Oa.pop()}};function pe(e){for(;0<e.length;)e.shift()(s)}function de(e){if(O)return He(2,0,e);try{le(e)}catch(e){e instanceof ie||"unwind"==e||v(1,e)}}s.PThread=fe,s.establishStackSpace=function(){var e=rt(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],ft(t,t-e),dt(t)};var me,ge,he=[];function ye(e){this.Pa=e-24,this.gb=function(e){o()[this.Pa+4>>2>>>0]=e},this.cb=function(e){o()[this.Pa+8>>2>>>0]=e},this.eb=function(){a()[this.Pa>>2>>>0]=0},this.bb=function(){t()[this.Pa+12>>0>>>0]=0},this.fb=function(){t()[this.Pa+13>>0>>>0]=0},this.Ua=function(e,t){this.ab(),this.gb(e),this.cb(t),this.eb(),this.bb(),this.fb()},this.ab=function(){o()[this.Pa+16>>2>>>0]=0}}function ve(e,t,n,r){return O?He(3,1,e,t,n,r):be(e,t,n,r)}function be(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?ve(e,t,n,r):(e={pb:n,Ka:e,ib:r,vb:a},O?(e.wb="spawnThread",postMessage(e,a),0):ue(e))}function we(e,t,n){return O?He(4,1,e,t,n):0}function _e(e,t){if(O)return He(5,1,e,t)}function Oe(e,t){if(O)return He(6,1,e,t)}function Se(e,t,n){if(O)return He(7,1,e,t,n)}function Te(e,t,n){return O?He(8,1,e,t,n):0}function Ae(e,t){if(O)return He(9,1,e,t)}function Ee(e,t,n){if(O)return He(10,1,e,t,n)}function Me(e,t,n,r){if(O)return He(11,1,e,t,n,r)}function Re(e,t,n,r){if(O)return He(12,1,e,t,n,r)}function xe(e,t,n,r){if(O)return He(13,1,e,t,n,r)}function Ce(e){if(O)return He(14,1,e)}function Pe(e,t){if(O)return He(15,1,e,t)}function ke(e,t,n){if(O)return He(16,1,e,t,n)}function De(e){Atomics.store(a(),e>>2,1),rt()&&ut(e),Atomics.compareExchange(a(),e>>2,1,0)}function Fe(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function Ue(e,t,n,r,a,o){return O?He(17,1,e,t,n,r,a,o):-52}function Ie(e,t,n,r,a,o){if(O)return He(18,1,e,t,n,r,a,o)}function We(e){var n=N(e)+1,r=at(n);return r&&B(e,t(),r,n),r}function je(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return He(19,1,e,t,n);var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);a()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=r(s),t=r(u),e=We(e),t=We(t),c<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function He(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=pt();return e=e(),dt(t),e}((()=>{for(var a=mt(8*n),o=a>>3,s=0;s<n;s++){var u=r[2+s];i()[o+s>>>0]=u}return st(e,n,a,t)}))}s.invokeEntryPoint=function(e,t){var n=he[e];n||(e>=he.length&&(he.length=e+1),he[e]=n=$.get(e)),e=n(t),C?fe.Ya(e):lt(e)},s.executeNotifiedProxyingQueue=De,ge=_?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?()=>performance.now()-s.__performance_now_clock_drift:()=>performance.now();var Le,Ye=[],ze={};function Be(){if(!Le){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(e in ze)void 0===ze[e]?delete t[e]:t[e]=ze[e];var n=[];for(e in t)n.push(e+"="+t[e]);Le=n}return Le}function Ne(e,n){if(O)return He(20,1,e,n);var r=0;return Be().forEach((function(a,i){var s=n+r;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,r+=a.length+1})),0}function Ge(e,t){if(O)return He(21,1,e,t);var n=Be();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function qe(e){return O?He(22,1,e):52}function $e(e,t,n,r){return O?He(23,1,e,t,n,r):52}function Ve(e,t,n,r,a){return O?He(24,1,e,t,n,r,a):70}var Je=[null,[],[]];function Qe(e,t,n,a){if(O)return He(25,1,e,t,n,a);for(var i=0,s=0;s<n;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=r()[u+l>>>0],p=Je[e];0===f||10===f?((1===e?R:x)(Y(p,0)),p.length=0):p.push(f)}i+=c}return o()[a>>2>>>0]=i,0}function Xe(e){return 0==e%4&&(0!=e%100||0==e%400)}var Ke=[31,29,31,30,31,30,31,31,30,31,30,31],Ze=[31,28,31,30,31,30,31,31,30,31,30,31];function et(e,n,r,o){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return i(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Ma;for(e=new Date(new Date(e.Na+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Xe(e.getFullYear())?Ke:Ze)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[o+40>>2>>>0];for(var p in o={tb:a()[o>>2>>>0],sb:a()[o+4>>2>>>0],Sa:a()[o+8>>2>>>0],Va:a()[o+12>>2>>>0],Ta:a()[o+16>>2>>>0],Na:a()[o+20>>2>>>0],Ja:a()[o+24>>2>>>0],Ma:a()[o+28>>2>>>0],zb:a()[o+32>>2>>>0],rb:a()[o+36>>2>>>0],ub:f?z(f):""},r=z(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.Ja].substring(0,3)},"%A":function(e){return d[e.Ja]},"%b":function(e){return m[e.Ta].substring(0,3)},"%B":function(e){return m[e.Ta]},"%C":function(e){return s((e.Na+1900)/100|0,2)},"%d":function(e){return s(e.Va,2)},"%e":function(e){return i(e.Va,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return s(e.Sa,2)},"%I":function(e){return 0==(e=e.Sa)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ta-1;t+=(Xe(e.Na+1900)?Ke:Ze)[n++]);return s(e.Va+t,3)},"%m":function(e){return s(e.Ta+1,2)},"%M":function(e){return s(e.sb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Sa&&12>e.Sa?"AM":"PM"},"%S":function(e){return s(e.tb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ja||7},"%U":function(e){return s(Math.floor((e.Ma+7-e.Ja)/7),2)},"%V":function(e){var t=Math.floor((e.Ma+7-(e.Ja+6)%7)/7);if(2>=(e.Ja+371-e.Ma-2)%7&&t++,t)53==t&&(4==(n=(e.Ja+371-e.Ma)%7)||3==n&&Xe(e.Na)||(t=1));else{t=52;var n=(e.Ja+7-e.Ma-1)%7;(4==n||5==n&&Xe(e.Na%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Ja},"%W":function(e){return s(Math.floor((e.Ma+7-(e.Ja+6)%7)/7),2)},"%y":function(e){return(e.Na+1900).toString().substring(2)},"%Y":function(e){return e.Na+1900},"%z":function(e){var t=0<=(e=e.rb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ub},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](o)));return p=function(e){var t=Array(N(e)+1);return B(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}fe.Ua();var tt=[null,ce,de,ve,we,_e,Oe,Se,Te,Ae,Ee,Me,Re,xe,Ce,Pe,ke,Ue,Ie,je,Ne,Ge,qe,$e,Ve,Qe],nt={b:function(e){return at(e+24)+24},c:function(e,t,n){throw new ye(e).Ua(t,n),e},L:function(e){ot(e,!w,1,!b),fe.Za()},l:function(e){O?postMessage({cmd:"cleanupThread",thread:e}):se(e)},D:be,i:we,R:_e,z:Oe,B:Se,T:Te,P:Ae,I:Ee,O:Me,p:Re,A:xe,x:Ce,Q:Pe,y:ke,r:function(){},j:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(e,t,n,r){if(e==t)setTimeout((()=>De(r)));else if(O)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=fe.La[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},K:function(){return-1},W:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},X:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},Y:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=o.getTimezoneOffset(),u=Math.min(s,i);return 0>n?a()[e+32>>2>>>0]=Number(i!=s&&u==r):0<n!=(u==r)&&(i=Math.max(s,i),t.setTime(t.getTime()+6e4*((0<n?u:i)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},G:Ue,H:Ie,Z:function e(t,n,r){e.jb||(e.jb=!0,je(t,n,r))},d:function(){ne("")},m:function(){if(!_&&!w){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";me||(me={}),me[e]||(me[e]=1,_&&(e="warning: "+e),x(e))}},w:function(){return 4294901760},f:ge,S:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},g:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},J:function(e,t,n){Ye.length=t,n>>=3;for(var r=0;r<t;r++)Ye[r]=i()[n+r>>>0];return(0>e?oe[-e-1]:tt[e]).apply(null,Ye)},v:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a),o=o.min.call(o,4294901760,a+(65536-a%65536)%65536);e:{try{P.grow(o-D.byteLength+65535>>>16),G(P.buffer);var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},U:function(){throw"unwind"},M:Ne,N:Ge,k:le,h:qe,o:$e,t:Ve,n:Qe,u:function e(r,a){e.Wa||(e.Wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(_)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>ne("randomDevice")}());for(var o=0;o<a;o++)t()[r+o>>0>>>0]=e.Wa();return 0},a:P||s.wasmMemory,C:et,e:function(e,t,n,r){return et(e,t,n,r)}};!function(){function e(e,t){s.asm=e.exports,fe.$a.push(s.asm.wa),$=s.asm.za,J.unshift(s.asm._),k=t,O||(Z--,s.monitorRunDependencies&&s.monitorRunDependencies(Z),0==Z&&(null!==ee&&(clearInterval(ee),ee=null),te&&(e=te,te=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!M&&(b||w)){if("function"==typeof fetch&&!K.startsWith("file://"))return fetch(K,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+K+"\'";return e.arrayBuffer()})).catch((function(){return ae()}));if(f)return new Promise((function(e,t){f(K,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ae()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),ne(e)}))}var r={a:nt};if(O||(Z++,s.monitorRunDependencies&&s.monitorRunDependencies(Z)),s.instantiateWasm)try{return s.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||re()||K.startsWith("file://")||_||"function"!=typeof fetch?n(t):fetch(K,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm._).apply(null,arguments)},s._OrtInit=function(){return(s._OrtInit=s.asm.$).apply(null,arguments)},s._OrtCreateSessionOptions=function(){return(s._OrtCreateSessionOptions=s.asm.aa).apply(null,arguments)},s._OrtAppendExecutionProvider=function(){return(s._OrtAppendExecutionProvider=s.asm.ba).apply(null,arguments)},s._OrtAddSessionConfigEntry=function(){return(s._OrtAddSessionConfigEntry=s.asm.ca).apply(null,arguments)},s._OrtReleaseSessionOptions=function(){return(s._OrtReleaseSessionOptions=s.asm.da).apply(null,arguments)},s._OrtCreateSession=function(){return(s._OrtCreateSession=s.asm.ea).apply(null,arguments)},s._OrtReleaseSession=function(){return(s._OrtReleaseSession=s.asm.fa).apply(null,arguments)},s._OrtGetInputCount=function(){return(s._OrtGetInputCount=s.asm.ga).apply(null,arguments)},s._OrtGetOutputCount=function(){return(s._OrtGetOutputCount=s.asm.ha).apply(null,arguments)},s._OrtGetInputName=function(){return(s._OrtGetInputName=s.asm.ia).apply(null,arguments)},s._OrtGetOutputName=function(){return(s._OrtGetOutputName=s.asm.ja).apply(null,arguments)},s._OrtFree=function(){return(s._OrtFree=s.asm.ka).apply(null,arguments)},s._OrtCreateTensor=function(){return(s._OrtCreateTensor=s.asm.la).apply(null,arguments)},s._OrtGetTensorData=function(){return(s._OrtGetTensorData=s.asm.ma).apply(null,arguments)},s._OrtReleaseTensor=function(){return(s._OrtReleaseTensor=s.asm.na).apply(null,arguments)},s._OrtCreateRunOptions=function(){return(s._OrtCreateRunOptions=s.asm.oa).apply(null,arguments)},s._OrtAddRunConfigEntry=function(){return(s._OrtAddRunConfigEntry=s.asm.pa).apply(null,arguments)},s._OrtReleaseRunOptions=function(){return(s._OrtReleaseRunOptions=s.asm.qa).apply(null,arguments)},s._OrtRun=function(){return(s._OrtRun=s.asm.ra).apply(null,arguments)},s._OrtEndProfiling=function(){return(s._OrtEndProfiling=s.asm.sa).apply(null,arguments)};var rt=s._pthread_self=function(){return(rt=s._pthread_self=s.asm.ta).apply(null,arguments)},at=s._malloc=function(){return(at=s._malloc=s.asm.ua).apply(null,arguments)};s._free=function(){return(s._free=s.asm.va).apply(null,arguments)},s.__emscripten_tls_init=function(){return(s.__emscripten_tls_init=s.asm.wa).apply(null,arguments)};var ot=s.__emscripten_thread_init=function(){return(ot=s.__emscripten_thread_init=s.asm.xa).apply(null,arguments)};s.__emscripten_thread_crashed=function(){return(s.__emscripten_thread_crashed=s.asm.ya).apply(null,arguments)};var it,st=s._emscripten_run_in_main_runtime_thread_js=function(){return(st=s._emscripten_run_in_main_runtime_thread_js=s.asm.Aa).apply(null,arguments)},ut=s.__emscripten_proxy_execute_task_queue=function(){return(ut=s.__emscripten_proxy_execute_task_queue=s.asm.Ba).apply(null,arguments)},ct=s.__emscripten_thread_free_data=function(){return(ct=s.__emscripten_thread_free_data=s.asm.Ca).apply(null,arguments)},lt=s.__emscripten_thread_exit=function(){return(lt=s.__emscripten_thread_exit=s.asm.Da).apply(null,arguments)},ft=s._emscripten_stack_set_limits=function(){return(ft=s._emscripten_stack_set_limits=s.asm.Ea).apply(null,arguments)},pt=s.stackSave=function(){return(pt=s.stackSave=s.asm.Fa).apply(null,arguments)},dt=s.stackRestore=function(){return(dt=s.stackRestore=s.asm.Ga).apply(null,arguments)},mt=s.stackAlloc=function(){return(mt=s.stackAlloc=s.asm.Ha).apply(null,arguments)};function gt(){function e(){if(!it&&(it=!0,s.calledRun=!0,!H)&&(O||pe(J),u(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),!O)){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;){var e=s.postRun.shift();Q.unshift(e)}pe(Q)}}if(!(0<Z))if(O)u(s),O||pe(J),postMessage({cmd:"loaded"});else{if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)X();pe(V),0<Z||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),e()}),1)):e())}}if(s.___cxa_is_pointer_type=function(){return(s.___cxa_is_pointer_type=s.asm.Ia).apply(null,arguments)},s.UTF8ToString=z,s.stringToUTF8=function(e,t,n){return B(e,r(),t,n)},s.lengthBytesUTF8=N,s.keepRuntimeAlive=function(){return C},s.wasmMemory=P,s.stackSave=pt,s.stackRestore=dt,s.stackAlloc=mt,s.ExitStatus=ie,s.PThread=fe,te=function e(){it||gt(),it||(te=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return gt(),e.ready});e.exports=r},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var o,i,s,u,c,l,f=Object.assign({},t),p="./this.program",d=(e,t)=>{throw t},m="object"==typeof window,g="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y="";h?(y=g?n(908).dirname(y)+"/":"//",l=()=>{c||(u=n(384),c=n(908))},o=function(e,t){return l(),e=c.normalize(e),u.readFileSync(e,t?void 0:"utf8")},s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,n)=>{l(),e=c.normalize(e),u.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof $))throw e})),process.on("unhandledRejection",(function(e){throw e})),d=(e,t)=>{if(_)throw process.exitCode=e,t;t instanceof $||w("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(m||g)&&(g?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),_scriptDir&&(y=_scriptDir),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var v,b=t.print||console.log.bind(console),w=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(p=t.thisProgram),t.quit&&(d=t.quit),t.wasmBinary&&(v=t.wasmBinary);var _=t.noExitRuntime||!0;"object"!=typeof WebAssembly&&B("no native wasm support detected");var O,S,T,A,E,M,R=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&x)return x.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function P(e,t){return(e>>>=0)?C(A,e,t):""}function k(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function D(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function F(){var e=O.buffer;S=e,t.HEAP8=T=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=E=new Int32Array(e),t.HEAPU8=A=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=M=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var U=[],I=[],W=[];function j(){var e=t.preRun.shift();U.unshift(e)}var H,L=0,Y=null,z=null;function B(e){throw t.onAbort&&t.onAbort(e),w(e="Aborted("+e+")"),R=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function N(){return H.startsWith("data:application/octet-stream;base64,")}if(H="ort-wasm.wasm",!N()){var G=H;H=t.locateFile?t.locateFile(G,y):y+G}function q(){var e=H;try{if(e==H&&v)return new Uint8Array(v);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){B(e)}}function $(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function V(e){for(;0<e.length;)e.shift()(t)}function J(e){this.sa=e-24,this.Ia=function(e){M[this.sa+4>>2>>>0]=e},this.Ba=function(e){M[this.sa+8>>2>>>0]=e},this.Ga=function(){E[this.sa>>2>>>0]=0},this.Aa=function(){T[this.sa+12>>0>>>0]=0},this.Ha=function(){T[this.sa+13>>0>>>0]=0},this.ya=function(e,t){this.za(),this.Ia(e),this.Ba(t),this.Ga(),this.Aa(),this.Ha()},this.za=function(){M[this.sa+16>>2>>>0]=0}}function Q(e){var t=D(e)+1,n=ie(t);return n&&k(e,T,n,t),n}var X={};function K(){if(!Z){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in X)void 0===X[e]?delete t[e]:t[e]=X[e];var n=[];for(e in t)n.push(e+"="+t[e]);Z=n}return Z}var Z,ee=[null,[],[]];function te(e){return 0==e%4&&(0!=e%100||0==e%400)}var ne=[31,29,31,30,31,30,31,31,30,31,30,31],re=[31,28,31,30,31,30,31,31,30,31,30,31];function ae(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.qa;for(e=new Date(new Date(e.ra+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(te(e.getFullYear())?ne:re)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=i(t,e)?0>=i(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=E[r+40>>2>>>0];for(var l in r={Ea:E[r>>2>>>0],Da:E[r+4>>2>>>0],ta:E[r+8>>2>>>0],va:E[r+12>>2>>>0],ua:E[r+16>>2>>>0],ra:E[r+20>>2>>>0],la:E[r+24>>2>>>0],qa:E[r+28>>2>>>0],Ja:E[r+32>>2>>>0],Ca:E[r+36>>2>>>0],Fa:c?P(c):""},n=P(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.la].substring(0,3)},"%A":function(e){return f[e.la]},"%b":function(e){return p[e.ua].substring(0,3)},"%B":function(e){return p[e.ua]},"%C":function(e){return o((e.ra+1900)/100|0,2)},"%d":function(e){return o(e.va,2)},"%e":function(e){return a(e.va,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return o(e.ta,2)},"%I":function(e){return 0==(e=e.ta)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ua-1;t+=(te(e.ra+1900)?ne:re)[n++]);return o(e.va+t,3)},"%m":function(e){return o(e.ua+1,2)},"%M":function(e){return o(e.Da,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.ta&&12>e.ta?"AM":"PM"},"%S":function(e){return o(e.Ea,2)},"%t":function(){return"\\t"},"%u":function(e){return e.la||7},"%U":function(e){return o(Math.floor((e.qa+7-e.la)/7),2)},"%V":function(e){var t=Math.floor((e.qa+7-(e.la+6)%7)/7);if(2>=(e.la+371-e.qa-2)%7&&t++,t)53==t&&(4==(n=(e.la+371-e.qa)%7)||3==n&&te(e.ra)||(t=1));else{t=52;var n=(e.la+7-e.qa-1)%7;(4==n||5==n&&te(e.ra%400-1))&&t++}return o(t,2)},"%w":function(e){return e.la},"%W":function(e){return o(Math.floor((e.qa+7-(e.la+6)%7)/7),2)},"%y":function(e){return(e.ra+1900).toString().substring(2)},"%Y":function(e){return e.ra+1900},"%z":function(e){var t=0<=(e=e.Ca);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Fa},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(D(e)+1);return k(e,t,0,t.length),t}(n=n.replace(/\\0\\0/g,"%")),l.length>t?0:(T.set(l,e>>>0),l.length-1)}var oe={a:function(e){return ie(e+24)+24},b:function(e,t,n){throw new J(e).ya(t,n),e},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getUTCSeconds(),E[t+4>>2>>>0]=e.getUTCMinutes(),E[t+8>>2>>>0]=e.getUTCHours(),E[t+12>>2>>>0]=e.getUTCDate(),E[t+16>>2>>>0]=e.getUTCMonth(),E[t+20>>2>>>0]=e.getUTCFullYear()-1900,E[t+24>>2>>>0]=e.getUTCDay(),E[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),E[t+20>>2>>>0]=e.getFullYear()-1900,E[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);E[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,E[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},O:function(e){var t=new Date(E[e+20>>2>>>0]+1900,E[e+16>>2>>>0],E[e+12>>2>>>0],E[e+8>>2>>>0],E[e+4>>2>>>0],E[e>>2>>>0],0),n=E[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),s=Math.min(i,o);return 0>n?E[e+32>>2>>>0]=Number(o!=i&&s==r):0<n!=(s==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?s:o)-r))),E[e+24>>2>>>0]=t.getDay(),E[e+28>>2>>>0]=(t.getTime()-a.getTime())/864e5|0,E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function e(t,n,r){e.xa||(e.xa=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();E[e>>2>>>0]=60*Math.max(a,s),E[t>>2>>>0]=Number(a!=s),e=r(o),t=r(i),e=Q(e),t=Q(t),s<a?(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t):(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e)}(t,n,r))},d:function(){B("")},t:function(){return 4294901760},h:h?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),J:function(e,t,n){A.copyWithin(e>>>0,t>>>0,t+n>>>0)},f:function(e){var t=A.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{O.grow(a-S.byteLength+65535>>>16),F();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){var n=0;return K().forEach((function(r,a){var o=t+n;for(a=M[e+4*a>>2>>>0]=o,o=0;o<r.length;++o)T[a++>>0>>>0]=r.charCodeAt(o);T[a>>0>>>0]=0,n+=r.length+1})),0},E:function(e,t){var n=K();M[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),M[t>>2>>>0]=r,0},r:function(e){_||(t.onExit&&t.onExit(e),R=!0),d(e,new $(e))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=M[t>>2>>>0],s=M[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=A[i+u>>>0],l=ee[e];0===c||10===c?((1===e?b:w)(C(l,0)),l.length=0):l.push(c)}a+=s}return M[r>>2>>>0]=a,0},s:function e(t,r){e.wa||(e.wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(h)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>B("randomDevice")}());for(var a=0;a<r;a++)T[t+a>>0>>>0]=e.wa();return 0},A:ae,c:function(e,t,n,r){return ae(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,O=t.asm.P,F(),I.unshift(t.asm.Q),L--,t.monitorRunDependencies&&t.monitorRunDependencies(L),0==L&&(null!==Y&&(clearInterval(Y),Y=null),z&&(e=z,z=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!v&&(m||g)){if("function"==typeof fetch&&!H.startsWith("file://"))return fetch(H,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+H+"\'";return e.arrayBuffer()})).catch((function(){return q()}));if(i)return new Promise((function(e,t){i(H,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return q()}))}().then((function(e){return WebAssembly.instantiate(e,o)})).then((function(e){return e})).then(e,(function(e){w("failed to asynchronously prepare wasm: "+e),B(e)}))}var o={a:oe};if(L++,t.monitorRunDependencies&&t.monitorRunDependencies(L),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||N()||H.startsWith("file://")||h||"function"!=typeof fetch?r(n):fetch(H,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.Q).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.R).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.S).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.T).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.U).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.V).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.W).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.X).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Y).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Z).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm._).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.$).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.aa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.ba).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.ca).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.da).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ea).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.fa).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.ga).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.ha).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ia).apply(null,arguments)};var ie=t._malloc=function(){return(ie=t._malloc=t.asm.ja).apply(null,arguments)};t._free=function(){return(t._free=t.asm.ka).apply(null,arguments)};var se,ue=t.stackSave=function(){return(ue=t.stackSave=t.asm.ma).apply(null,arguments)},ce=t.stackRestore=function(){return(ce=t.stackRestore=t.asm.na).apply(null,arguments)},le=t.stackAlloc=function(){return(le=t.stackAlloc=t.asm.oa).apply(null,arguments)};function fe(){function e(){if(!se&&(se=!0,t.calledRun=!0,!R)){if(V(I),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();W.unshift(e)}V(W)}}if(!(0<L)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)j();V(U),0<L||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.___cxa_is_pointer_type=function(){return(t.___cxa_is_pointer_type=t.asm.pa).apply(null,arguments)},t.UTF8ToString=P,t.stringToUTF8=function(e,t,n){return k(e,A,t,n)},t.lengthBytesUTF8=D,t.stackSave=ue,t.stackRestore=ce,t.stackAlloc=le,z=function e(){se||fe(),se||(z=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return fe(),e.ready});e.exports=r},154:e=>{"use strict";e.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(259),t=n(263);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,t.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:r}=n.data.in;(0,e.initOrt)(t,r),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=n.data.in,r=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:r})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:r}=n.data.in,a=(0,e.createSessionFinalize)(t,r);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,a=(0,e.createSession)(t,r);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:a,outputIndices:o,options:i}=n.data.in;(0,e.run)(t,r,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:function(e){"use strict";e.exports=function(e,t,n,r){var i=self||window;try{try{var a;try{a=new i.Blob([e])}catch(t){(a=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),a=a.getBlob()}var o=i.URL||i.webkitURL,s=o.createObjectURL(a),u=new i[t](s,n);return o.revokeObjectURL(s),u}catch(r){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new i[t](r,n)}}},3474:function(e,t,n){var r,i=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return U.buffer!=O&&K(U.buffer),P}function i(){return U.buffer!=O&&K(U.buffer),D}function a(){return U.buffer!=O&&K(U.buffer),L}function o(){return U.buffer!=O&&K(U.buffer),N}function s(){return U.buffer!=O&&K(U.buffer),Q}var u,l,c;e=e||{},u||(u=void 0!==e?e:{}),u.ready=new Promise((function(e,t){l=e,c=t}));var A,f,d,h,p,v,g=Object.assign({},u),m="./this.program",y=function(e,t){throw t},b="object"==typeof window,w="function"==typeof importScripts,x="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,_=u.ENVIRONMENT_IS_PTHREAD||!1,C="";function E(e){return u.locateFile?u.locateFile(e,C):C+e}if(x){var S;C=w?n(908).dirname(C)+"/":"//",v=function(){p||(h=n(1384),p=n(908))},A=function(e,t){return v(),e=p.normalize(e),h.readFileSync(e,t?void 0:"utf8")},d=function(e){return(e=A(e,!0)).buffer||(e=new Uint8Array(e)),e},f=function(e,t,n){v(),e=p.normalize(e),h.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ue))throw e})),process.on("unhandledRejection",(function(e){throw e})),y=function(e,t){if(R)throw process.exitCode=e,t;t instanceof ue||M("exiting due to exception: "+t),process.exit(e)},u.inspect=function(){return"[Emscripten Module object]"};try{S=n(9925)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}n.g.Worker=S.Worker}else(b||w)&&(w?C=self.location.href:"undefined"!=typeof document&&document.currentScript&&(C=document.currentScript.src),r&&(C=r),C=0!==C.indexOf("blob:")?C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1):"",x||(A=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(d=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));x&&"undefined"==typeof performance&&(n.g.performance=n(6953).performance);var B=console.log.bind(console),T=console.warn.bind(console);x&&(v(),B=function(e){return h.writeSync(1,e+"\n")},T=function(e){return h.writeSync(2,e+"\n")});var I,k=u.print||B,M=u.printErr||T;Object.assign(u,g),g=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(y=u.quit),u.wasmBinary&&(I=u.wasmBinary);var R=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&ie("no native wasm support detected");var U,F,O,P,D,L,N,Q,H=!1,j="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&j)return j.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function G(e,t){return(e>>>=0)?z(i(),e,t):""}function V(e,t,n,r){if(!(0<r))return 0;var i=n>>>=0;r=n+r-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(n>=r)break;t[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;t[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++>>>0]=224|o>>12}else{if(n+3>=r)break;t[n++>>>0]=240|o>>18,t[n++>>>0]=128|o>>12&63}t[n++>>>0]=128|o>>6&63}t[n++>>>0]=128|63&o}}return t[n>>>0]=0,n-i}function W(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function K(e){O=e,u.HEAP8=P=new Int8Array(e),u.HEAP16=new Int16Array(e),u.HEAP32=L=new Int32Array(e),u.HEAPU8=D=new Uint8Array(e),u.HEAPU16=new Uint16Array(e),u.HEAPU32=N=new Uint32Array(e),u.HEAPF32=new Float32Array(e),u.HEAPF64=Q=new Float64Array(e)}_&&(O=u.buffer);var X=u.INITIAL_MEMORY||16777216;if(_)U=u.wasmMemory,O=u.buffer;else if(u.wasmMemory)U=u.wasmMemory;else if(!((U=new WebAssembly.Memory({initial:X/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw M("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),x&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");U&&(O=U.buffer),X=O.byteLength,K(O);var q,Y=[],Z=[],J=[];function $(){var e=u.preRun.shift();Y.unshift(e)}var ee,te=0,ne=null,re=null;function ie(e){throw _?postMessage({cmd:"onAbort",arg:e}):u.onAbort&&u.onAbort(e),M(e="Aborted("+e+")"),H=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function ae(){return ee.startsWith("data:application/octet-stream;base64,")}function oe(){var e=ee;try{if(e==ee&&I)return new Uint8Array(I);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}catch(e){ie(e)}}ee="ort-wasm-threaded.wasm",ae()||(ee=E(ee));var se={};function ue(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function le(e){(e=de.La[e])||ie(),de.Xa(e)}function ce(e){var t=de.lb();if(!t)return 6;de.Ra.push(t),de.La[e.Ka]=t,t.Ka=e.Ka;var n={cmd:"run",start_routine:e.pb,arg:e.ib,pthread_ptr:e.Ka};return t.Qa=function(){n.time=performance.now(),t.postMessage(n,e.vb)},t.loaded&&(t.Qa(),delete t.Qa),0}function Ae(e){if(_)return He(1,1,e);R||(de.qb(),u.onExit&&u.onExit(e),H=!0),y(e,new ue(e))}function fe(e,t){if(!t&&_)throw pe(e),"unwind";Ae(e)}var de={Oa:[],Ra:[],$a:[],La:{},Ua:function(){_&&de.mb()},xb:function(){},mb:function(){de.receiveObjectTransfer=de.ob,de.threadInitTLS=de.Za,de.setExitStatus=de.Ya,R=!1},Ya:function(){},qb:function(){for(var e=0,t=Object.values(de.La);e<t.length;e++){var n=t[e];de.Xa(n)}var r,i=_createForOfIteratorHelper(de.Oa);try{for(i.s();!(r=i.n()).done;)(n=r.value).terminate()}catch(a){i.e(a)}finally{i.f()}de.Oa=[]},Xa:function(e){var t=e.Ka;delete de.La[t],de.Oa.push(e),de.Ra.splice(de.Ra.indexOf(e),1),e.Ka=0,At(t)},ob:function(){},Za:function(){de.$a.forEach((function(e){return e()}))},nb:function(e,t){e.onmessage=function(n){var r=(n=n.data).cmd;if(e.Ka&&(de.kb=e.Ka),n.targetThread&&n.targetThread!=at()){var i=de.La[n.yb];i?i.postMessage(n,n.transferList):M('Internal error! Worker sent a message "'+r+'" to target pthread '+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?Oe(n.queue):"spawnThread"===r?ce(n):"cleanupThread"===r?le(n.thread):"killThread"===r?(n=n.thread,r=de.La[n],delete de.La[n],r.terminate(),At(n),de.Ra.splice(de.Ra.indexOf(r),1),r.Ka=0):"cancelThread"===r?de.La[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Qa&&(e.Qa(),delete e.Qa)):"print"===r?k("Thread "+n.threadId+": "+n.text):"printErr"===r?M("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&M("worker sent an unknown command "+r);de.kb=void 0},e.onerror=function(e){throw M("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},x&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||r,wasmMemory:U,wasmModule:F})},hb:function(){var e=E("ort-wasm-threaded.worker.js");de.Oa.push(new Worker(e))},lb:function(){return 0==de.Oa.length&&(de.hb(),de.nb(de.Oa[0])),de.Oa.pop()}};function he(e){for(;0<e.length;)e.shift()(u)}function pe(e){if(_)return He(2,0,e);try{fe(e)}catch(e){e instanceof ue||"unwind"==e||y(1,e)}}u.PThread=de,u.establishStackSpace=function(){var e=at(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],dt(t,t-e),pt(t)};var ve,ge,me=[];function ye(e){this.Pa=e-24,this.gb=function(e){o()[this.Pa+4>>2>>>0]=e},this.cb=function(e){o()[this.Pa+8>>2>>>0]=e},this.eb=function(){a()[this.Pa>>2>>>0]=0},this.bb=function(){t()[this.Pa+12>>0>>>0]=0},this.fb=function(){t()[this.Pa+13>>0>>>0]=0},this.Ua=function(e,t){this.ab(),this.gb(e),this.cb(t),this.eb(),this.bb(),this.fb()},this.ab=function(){o()[this.Pa+16>>2>>>0]=0}}function be(e,t,n,r){return _?He(3,1,e,t,n,r):we(e,t,n,r)}function we(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return M("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var i=[];return _&&0===i.length?be(e,t,n,r):(e={pb:n,Ka:e,ib:r,vb:i},_?(e.wb="spawnThread",postMessage(e,i),0):ce(e))}function xe(e,t,n){return _?He(4,1,e,t,n):0}function _e(e,t){if(_)return He(5,1,e,t)}function Ce(e,t){if(_)return He(6,1,e,t)}function Ee(e,t,n){if(_)return He(7,1,e,t,n)}function Se(e,t,n){return _?He(8,1,e,t,n):0}function Be(e,t){if(_)return He(9,1,e,t)}function Te(e,t,n){if(_)return He(10,1,e,t,n)}function Ie(e,t,n,r){if(_)return He(11,1,e,t,n,r)}function ke(e,t,n,r){if(_)return He(12,1,e,t,n,r)}function Me(e,t,n,r){if(_)return He(13,1,e,t,n,r)}function Re(e){if(_)return He(14,1,e)}function Ue(e,t){if(_)return He(15,1,e,t)}function Fe(e,t,n){if(_)return He(16,1,e,t,n)}function Oe(e){Atomics.store(a(),e>>2,1),at()&&ct(e),Atomics.compareExchange(a(),e>>2,1,0)}function Pe(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function De(e,t,n,r,i,a){return _?He(17,1,e,t,n,r,i,a):-52}function Le(e,t,n,r,i,a){if(_)return He(18,1,e,t,n,r,i,a)}function Ne(e){var n=W(e)+1,r=ot(n);return r&&V(e,t(),r,n),r}function Qe(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(_)return He(19,1,e,t,n);var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var l=u.getTimezoneOffset(),c=Math.max(i,l);a()[e>>2>>>0]=60*c,a()[t>>2>>>0]=Number(i!=l),e=r(s),t=r(u),e=Ne(e),t=Ne(t),l<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function He(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=ht();return e=e(),pt(t),e}((function(){for(var i=vt(8*n),a=i>>3,o=0;o<n;o++){var u=r[2+o];s()[a+o>>>0]=u}return lt(e,n,i,t)}))}u.invokeEntryPoint=function(e,t){var n=me[e];n||(e>=me.length&&(me.length=e+1),me[e]=n=q.get(e)),e=n(t),R?de.Ya(e):ft(e)},u.executeNotifiedProxyingQueue=Oe,ge=x?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:_?function(){return performance.now()-u.__performance_now_clock_drift}:function(){return performance.now()};var je,ze=[],Ge={};function Ve(){if(!je){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(e in Ge)void 0===Ge[e]?delete t[e]:t[e]=Ge[e];var n=[];for(e in t)n.push(e+"="+t[e]);je=n}return je}function We(e,n){if(_)return He(20,1,e,n);var r=0;return Ve().forEach((function(i,a){var s=n+r;for(a=o()[e+4*a>>2>>>0]=s,s=0;s<i.length;++s)t()[a++>>0>>>0]=i.charCodeAt(s);t()[a>>0>>>0]=0,r+=i.length+1})),0}function Ke(e,t){if(_)return He(21,1,e,t);var n=Ve();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function Xe(e){return _?He(22,1,e):52}function qe(e,t,n,r){return _?He(23,1,e,t,n,r):52}function Ye(e,t,n,r,i){return _?He(24,1,e,t,n,r,i):70}var Ze=[null,[],[]];function Je(e,t,n,r){if(_)return He(25,1,e,t,n,r);for(var a=0,s=0;s<n;s++){var u=o()[t>>2>>>0],l=o()[t+4>>2>>>0];t+=8;for(var c=0;c<l;c++){var A=i()[u+c>>>0],f=Ze[e];0===A||10===A?((1===e?k:M)(z(f,0)),f.length=0):f.push(A)}a+=l}return o()[r>>2>>>0]=a,0}function $e(e){return 0==e%4&&(0!=e%100||0==e%400)}var et=[31,29,31,30,31,30,31,31,30,31,30,31],tt=[31,28,31,30,31,30,31,31,30,31,30,31];function nt(e,n,r,i){function o(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return o(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function l(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Ma;for(e=new Date(new Date(e.Na+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=($e(e.getFullYear())?et:tt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=l(new Date(e.getFullYear(),0,4)),n=l(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var A=a()[i+40>>2>>>0];for(var f in i={tb:a()[i>>2>>>0],sb:a()[i+4>>2>>>0],Sa:a()[i+8>>2>>>0],Va:a()[i+12>>2>>>0],Ta:a()[i+16>>2>>>0],Na:a()[i+20>>2>>>0],Ja:a()[i+24>>2>>>0],Ma:a()[i+28>>2>>>0],zb:a()[i+32>>2>>>0],rb:a()[i+36>>2>>>0],ub:A?G(A):""},r=G(r),A={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),A[f]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(f in A={"%a":function(e){return d[e.Ja].substring(0,3)},"%A":function(e){return d[e.Ja]},"%b":function(e){return h[e.Ta].substring(0,3)},"%B":function(e){return h[e.Ta]},"%C":function(e){return s((e.Na+1900)/100|0,2)},"%d":function(e){return s(e.Va,2)},"%e":function(e){return o(e.Va,2," ")},"%g":function(e){return c(e).toString().substring(2)},"%G":function(e){return c(e)},"%H":function(e){return s(e.Sa,2)},"%I":function(e){return 0==(e=e.Sa)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ta-1;t+=($e(e.Na+1900)?et:tt)[n++]);return s(e.Va+t,3)},"%m":function(e){return s(e.Ta+1,2)},"%M":function(e){return s(e.sb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.Sa&&12>e.Sa?"AM":"PM"},"%S":function(e){return s(e.tb,2)},"%t":function(){return"\t"},"%u":function(e){return e.Ja||7},"%U":function(e){return s(Math.floor((e.Ma+7-e.Ja)/7),2)},"%V":function(e){var t=Math.floor((e.Ma+7-(e.Ja+6)%7)/7);if(2>=(e.Ja+371-e.Ma-2)%7&&t++,t)53==t&&(4==(n=(e.Ja+371-e.Ma)%7)||3==n&&$e(e.Na)||(t=1));else{t=52;var n=(e.Ja+7-e.Ma-1)%7;(4==n||5==n&&$e(e.Na%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Ja},"%W":function(e){return s(Math.floor((e.Ma+7-(e.Ja+6)%7)/7),2)},"%y":function(e){return(e.Na+1900).toString().substring(2)},"%Y":function(e){return e.Na+1900},"%z":function(e){var t=0<=(e=e.rb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ub},"%%":function(){return"%"}},r=r.replace(/%%/g,"\0\0"),A)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),A[f](i)));return f=function(e){var t=Array(W(e)+1);return V(e,t,0,t.length),t}(r=r.replace(/\0\0/g,"%")),f.length>n?0:(function(e,n){t().set(e,n>>>0)}(f,e),f.length-1)}de.Ua();var rt=[null,Ae,pe,be,xe,_e,Ce,Ee,Se,Be,Te,Ie,ke,Me,Re,Ue,Fe,De,Le,Qe,We,Ke,Xe,qe,Ye,Je],it={b:function(e){return ot(e+24)+24},c:function(e,t,n){throw new ye(e).Ua(t,n),e},L:function(e){st(e,!w,1,!b),de.Za()},l:function(e){_?postMessage({cmd:"cleanupThread",thread:e}):le(e)},D:we,i:xe,R:_e,z:Ce,B:Ee,T:Se,P:Be,I:Te,O:Ie,p:ke,A:Me,x:Re,Q:Ue,y:Fe,r:function(){},j:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(e,t,n,r){if(e==t)setTimeout((function(){return Oe(r)}));else if(_)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=de.La[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},K:function(){return-1},W:function(e,t){e=new Date(1e3*Pe(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},X:function(e,t){e=new Date(1e3*Pe(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},Y:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=i.getTimezoneOffset(),u=Math.min(s,o);return 0>n?a()[e+32>>2>>>0]=Number(o!=s&&u==r):0<n!=(u==r)&&(o=Math.max(s,o),t.setTime(t.getTime()+6e4*((0<n?u:o)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-i.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},G:De,H:Le,Z:function e(t,n,r){e.jb||(e.jb=!0,Qe(t,n,r))},d:function(){ie("")},m:function(){if(!x&&!w){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";ve||(ve={}),ve[e]||(ve[e]=1,x&&(e="warning: "+e),M(e))}},w:function(){return 4294901760},f:ge,S:function(e,t,n){i().copyWithin(e>>>0,t>>>0,t+n>>>0)},g:function(){return x?n(3993).cpus().length:navigator.hardwareConcurrency},J:function(e,t,n){ze.length=t,n>>=3;for(var r=0;r<t;r++)ze[r]=s()[n+r>>>0];return(0>e?se[-e-1]:rt[e]).apply(null,ze)},v:function(e){var t=i().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{U.grow(a-O.byteLength+65535>>>16),K(U.buffer);var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},U:function(){throw"unwind"},M:We,N:Ke,k:fe,h:Xe,o:qe,t:Ye,n:Je,u:function e(r,i){e.Wa||(e.Wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(x)try{var t=n(760);return function(){return t.randomBytes(1)[0]}}catch(e){}return function(){return ie("randomDevice")}}());for(var a=0;a<i;a++)t()[r+a>>0>>>0]=e.Wa();return 0},a:U||u.wasmMemory,C:nt,e:function(e,t,n,r){return nt(e,t,n,r)}};!function(){function e(e,t){u.asm=e.exports,de.$a.push(u.asm.wa),q=u.asm.za,Z.unshift(u.asm._),F=t,_||(te--,u.monitorRunDependencies&&u.monitorRunDependencies(te),0==te&&(null!==ne&&(clearInterval(ne),ne=null),re&&(e=re,re=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!I&&(b||w)){if("function"==typeof fetch&&!ee.startsWith("file://"))return fetch(ee,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ee+"'";return e.arrayBuffer()})).catch((function(){return oe()}));if(f)return new Promise((function(e,t){f(ee,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return oe()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){M("failed to asynchronously prepare wasm: "+e),ie(e)}))}var r={a:it};if(_||(te++,u.monitorRunDependencies&&u.monitorRunDependencies(te)),u.instantiateWasm)try{return u.instantiateWasm(r,e)}catch(e){return M("Module.instantiateWasm callback failed with error: "+e),!1}(I||"function"!=typeof WebAssembly.instantiateStreaming||ae()||ee.startsWith("file://")||x||"function"!=typeof fetch?n(t):fetch(ee,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return M("wasm streaming compile failed: "+e),M("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm._).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.$).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.aa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.ba).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.ca).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm.da).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.ea).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.fa).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.ga).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.ha).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.ia).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.ja).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.ka).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.la).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.ma).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.na).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.oa).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.pa).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.qa).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.ra).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.sa).apply(null,arguments)};var at=u._pthread_self=function(){return(at=u._pthread_self=u.asm.ta).apply(null,arguments)},ot=u._malloc=function(){return(ot=u._malloc=u.asm.ua).apply(null,arguments)};u._free=function(){return(u._free=u.asm.va).apply(null,arguments)},u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.wa).apply(null,arguments)};var st=u.__emscripten_thread_init=function(){return(st=u.__emscripten_thread_init=u.asm.xa).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.ya).apply(null,arguments)};var ut,lt=u._emscripten_run_in_main_runtime_thread_js=function(){return(lt=u._emscripten_run_in_main_runtime_thread_js=u.asm.Aa).apply(null,arguments)},ct=u.__emscripten_proxy_execute_task_queue=function(){return(ct=u.__emscripten_proxy_execute_task_queue=u.asm.Ba).apply(null,arguments)},At=u.__emscripten_thread_free_data=function(){return(At=u.__emscripten_thread_free_data=u.asm.Ca).apply(null,arguments)},ft=u.__emscripten_thread_exit=function(){return(ft=u.__emscripten_thread_exit=u.asm.Da).apply(null,arguments)},dt=u._emscripten_stack_set_limits=function(){return(dt=u._emscripten_stack_set_limits=u.asm.Ea).apply(null,arguments)},ht=u.stackSave=function(){return(ht=u.stackSave=u.asm.Fa).apply(null,arguments)},pt=u.stackRestore=function(){return(pt=u.stackRestore=u.asm.Ga).apply(null,arguments)},vt=u.stackAlloc=function(){return(vt=u.stackAlloc=u.asm.Ha).apply(null,arguments)};function gt(){function e(){if(!ut&&(ut=!0,u.calledRun=!0,!H)&&(_||he(Z),l(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!_)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var e=u.postRun.shift();J.unshift(e)}he(J)}}if(!(0<te))if(_)l(u),_||he(Z),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)$();he(Y),0<te||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),e()}),1)):e())}}if(u.___cxa_is_pointer_type=function(){return(u.___cxa_is_pointer_type=u.asm.Ia).apply(null,arguments)},u.UTF8ToString=G,u.stringToUTF8=function(e,t,n){return V(e,i(),t,n)},u.lengthBytesUTF8=W,u.keepRuntimeAlive=function(){return R},u.wasmMemory=U,u.stackSave=ht,u.stackRestore=pt,u.stackAlloc=vt,u.ExitStatus=ue,u.PThread=de,re=function e(){ut||gt(),ut||(re=e)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return gt(),e.ready});e.exports=i},932:function(e,t,n){var r,i=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,i,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){i=e,a=t}));var o,s,u,l,c,A,f=Object.assign({},t),d="./this.program",h=function(e,t){throw t},p="object"==typeof window,v="function"==typeof importScripts,g="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";g?(m=v?n(908).dirname(m)+"/":"//",A=function(){c||(l=n(1384),c=n(908))},o=function(e,t){return A(),e=c.normalize(e),l.readFileSync(e,t?void 0:"utf8")},u=function(e){return(e=o(e,!0)).buffer||(e=new Uint8Array(e)),e},s=function(e,t,n){A(),e=c.normalize(e),l.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof X))throw e})),process.on("unhandledRejection",(function(e){throw e})),h=function(e,t){if(x)throw process.exitCode=e,t;t instanceof X||w("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(p||v)&&(v?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),r&&(m=r),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},v&&(u=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var y,b=t.print||console.log.bind(console),w=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(d=t.thisProgram),t.quit&&(h=t.quit),t.wasmBinary&&(y=t.wasmBinary);var x=t.noExitRuntime||!0;"object"!=typeof WebAssembly&&G("no native wasm support detected");var _,C,E,S,B,T,I=!1,k="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function M(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&k)return k.decode(e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function R(e,t){return(e>>>=0)?M(S,e,t):""}function U(e,t,n,r){if(!(0<r))return 0;var i=n>>>=0;r=n+r-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(n>=r)break;t[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;t[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++>>>0]=224|o>>12}else{if(n+3>=r)break;t[n++>>>0]=240|o>>18,t[n++>>>0]=128|o>>12&63}t[n++>>>0]=128|o>>6&63}t[n++>>>0]=128|63&o}}return t[n>>>0]=0,n-i}function F(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function O(){var e=_.buffer;C=e,t.HEAP8=E=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=B=new Int32Array(e),t.HEAPU8=S=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=T=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var P=[],D=[],L=[];function N(){var e=t.preRun.shift();P.unshift(e)}var Q,H=0,j=null,z=null;function G(e){throw t.onAbort&&t.onAbort(e),w(e="Aborted("+e+")"),I=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function V(){return Q.startsWith("data:application/octet-stream;base64,")}if(Q="ort-wasm.wasm",!V()){var W=Q;Q=t.locateFile?t.locateFile(W,m):m+W}function K(){var e=Q;try{if(e==Q&&y)return new Uint8Array(y);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(e){G(e)}}function X(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function q(e){for(;0<e.length;)e.shift()(t)}function Y(e){this.sa=e-24,this.Ia=function(e){T[this.sa+4>>2>>>0]=e},this.Ba=function(e){T[this.sa+8>>2>>>0]=e},this.Ga=function(){B[this.sa>>2>>>0]=0},this.Aa=function(){E[this.sa+12>>0>>>0]=0},this.Ha=function(){E[this.sa+13>>0>>>0]=0},this.ya=function(e,t){this.za(),this.Ia(e),this.Ba(t),this.Ga(),this.Aa(),this.Ha()},this.za=function(){T[this.sa+16>>2>>>0]=0}}function Z(e){var t=F(e)+1,n=se(t);return n&&U(e,E,n,t),n}var J={};function $(){if(!ee){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"};for(e in J)void 0===J[e]?delete t[e]:t[e]=J[e];var n=[];for(e in t)n.push(e+"="+t[e]);ee=n}return ee}var ee,te=[null,[],[]];function ne(e){return 0==e%4&&(0!=e%100||0==e%400)}var re=[31,29,31,30,31,30,31,31,30,31,30,31],ie=[31,28,31,30,31,30,31,31,30,31,30,31];function ae(e,t,n,r){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function a(e,t){return i(e,t,"0")}function o(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.qa;for(e=new Date(new Date(e.ra+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(ne(e.getFullYear())?re:ie)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=o(t,e)?0>=o(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var l=B[r+40>>2>>>0];for(var c in r={Ea:B[r>>2>>>0],Da:B[r+4>>2>>>0],ta:B[r+8>>2>>>0],va:B[r+12>>2>>>0],ua:B[r+16>>2>>>0],ra:B[r+20>>2>>>0],la:B[r+24>>2>>>0],qa:B[r+28>>2>>>0],Ja:B[r+32>>2>>>0],Ca:B[r+36>>2>>>0],Fa:l?R(l):""},n=R(n),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(c,"g"),l[c]);var A="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),f="January February March April May June July August September October November December".split(" ");for(c in l={"%a":function(e){return A[e.la].substring(0,3)},"%A":function(e){return A[e.la]},"%b":function(e){return f[e.ua].substring(0,3)},"%B":function(e){return f[e.ua]},"%C":function(e){return a((e.ra+1900)/100|0,2)},"%d":function(e){return a(e.va,2)},"%e":function(e){return i(e.va,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return a(e.ta,2)},"%I":function(e){return 0==(e=e.ta)?e=12:12<e&&(e-=12),a(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ua-1;t+=(ne(e.ra+1900)?re:ie)[n++]);return a(e.va+t,3)},"%m":function(e){return a(e.ua+1,2)},"%M":function(e){return a(e.Da,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.ta&&12>e.ta?"AM":"PM"},"%S":function(e){return a(e.Ea,2)},"%t":function(){return"\t"},"%u":function(e){return e.la||7},"%U":function(e){return a(Math.floor((e.qa+7-e.la)/7),2)},"%V":function(e){var t=Math.floor((e.qa+7-(e.la+6)%7)/7);if(2>=(e.la+371-e.qa-2)%7&&t++,t)53==t&&(4==(n=(e.la+371-e.qa)%7)||3==n&&ne(e.ra)||(t=1));else{t=52;var n=(e.la+7-e.qa-1)%7;(4==n||5==n&&ne(e.ra%400-1))&&t++}return a(t,2)},"%w":function(e){return e.la},"%W":function(e){return a(Math.floor((e.qa+7-(e.la+6)%7)/7),2)},"%y":function(e){return(e.ra+1900).toString().substring(2)},"%Y":function(e){return e.ra+1900},"%z":function(e){var t=0<=(e=e.Ca);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Fa},"%%":function(){return"%"}},n=n.replace(/%%/g,"\0\0"),l)n.includes(c)&&(n=n.replace(new RegExp(c,"g"),l[c](r)));return c=function(e){var t=Array(F(e)+1);return U(e,t,0,t.length),t}(n=n.replace(/\0\0/g,"%")),c.length>t?0:(E.set(c,e>>>0),c.length-1)}var oe={a:function(e){return se(e+24)+24},b:function(e,t,n){throw new Y(e).ya(t,n),e},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){G("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){G("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(e,t){e=new Date(1e3*(T[e>>>2]+4294967296*B[e+4>>>2])),B[t>>2>>>0]=e.getUTCSeconds(),B[t+4>>2>>>0]=e.getUTCMinutes(),B[t+8>>2>>>0]=e.getUTCHours(),B[t+12>>2>>>0]=e.getUTCDate(),B[t+16>>2>>>0]=e.getUTCMonth(),B[t+20>>2>>>0]=e.getUTCFullYear()-1900,B[t+24>>2>>>0]=e.getUTCDay(),B[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(e,t){e=new Date(1e3*(T[e>>>2]+4294967296*B[e+4>>>2])),B[t>>2>>>0]=e.getSeconds(),B[t+4>>2>>>0]=e.getMinutes(),B[t+8>>2>>>0]=e.getHours(),B[t+12>>2>>>0]=e.getDate(),B[t+16>>2>>>0]=e.getMonth(),B[t+20>>2>>>0]=e.getFullYear()-1900,B[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);B[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,B[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),B[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},O:function(e){var t=new Date(B[e+20>>2>>>0]+1900,B[e+16>>2>>>0],B[e+12>>2>>>0],B[e+8>>2>>>0],B[e+4>>2>>>0],B[e>>2>>>0],0),n=B[e+32>>2>>>0],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=i.getTimezoneOffset(),s=Math.min(o,a);return 0>n?B[e+32>>2>>>0]=Number(a!=o&&s==r):0<n!=(s==r)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<n?s:a)-r))),B[e+24>>2>>>0]=t.getDay(),B[e+28>>2>>>0]=(t.getTime()-i.getTime())/864e5|0,B[e>>2>>>0]=t.getSeconds(),B[e+4>>2>>>0]=t.getMinutes(),B[e+8>>2>>>0]=t.getHours(),B[e+12>>2>>>0]=t.getDate(),B[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function e(t,n,r){e.xa||(e.xa=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var i=(new Date).getFullYear(),a=new Date(i,0,1),o=new Date(i,6,1);i=a.getTimezoneOffset();var s=o.getTimezoneOffset();B[e>>2>>>0]=60*Math.max(i,s),B[t>>2>>>0]=Number(i!=s),e=r(a),t=r(o),e=Z(e),t=Z(t),s<i?(T[n>>2>>>0]=e,T[n+4>>2>>>0]=t):(T[n>>2>>>0]=t,T[n+4>>2>>>0]=e)}(t,n,r))},d:function(){G("")},t:function(){return 4294901760},h:g?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()},J:function(e,t,n){S.copyWithin(e>>>0,t>>>0,t+n>>>0)},f:function(e){var t=S.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var i=Math;r=Math.max(e,r),i=i.min.call(i,4294901760,r+(65536-r%65536)%65536);e:{try{_.grow(i-C.byteLength+65535>>>16),O();var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},D:function(e,t){var n=0;return $().forEach((function(r,i){var a=t+n;for(i=T[e+4*i>>2>>>0]=a,a=0;a<r.length;++a)E[i++>>0>>>0]=r.charCodeAt(a);E[i>>0>>>0]=0,n+=r.length+1})),0},E:function(e,t){var n=$();T[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),T[t>>2>>>0]=r,0},r:function(e){x||(t.onExit&&t.onExit(e),I=!0),h(e,new X(e))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=T[t>>2>>>0],s=T[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var l=S[o+u>>>0],c=te[e];0===l||10===l?((1===e?b:w)(M(c,0)),c.length=0):c.push(l)}i+=s}return T[r>>2>>>0]=i,0},s:function e(t,r){e.wa||(e.wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(g)try{var t=n(760);return function(){return t.randomBytes(1)[0]}}catch(e){}return function(){return G("randomDevice")}}());for(var i=0;i<r;i++)E[t+i>>0>>>0]=e.wa();return 0},A:ae,c:function(e,t,n,r){return ae(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,_=t.asm.P,O(),D.unshift(t.asm.Q),H--,t.monitorRunDependencies&&t.monitorRunDependencies(H),0==H&&(null!==j&&(clearInterval(j),j=null),z&&(e=z,z=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!y&&(p||v)){if("function"==typeof fetch&&!Q.startsWith("file://"))return fetch(Q,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Q+"'";return e.arrayBuffer()})).catch((function(){return K()}));if(s)return new Promise((function(e,t){s(Q,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return K()}))}().then((function(e){return WebAssembly.instantiate(e,i)})).then((function(e){return e})).then(e,(function(e){w("failed to asynchronously prepare wasm: "+e),G(e)}))}var i={a:oe};if(H++,t.monitorRunDependencies&&t.monitorRunDependencies(H),t.instantiateWasm)try{return t.instantiateWasm(i,e)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(y||"function"!=typeof WebAssembly.instantiateStreaming||V()||Q.startsWith("file://")||g||"function"!=typeof fetch?r(n):fetch(Q,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,i).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.Q).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.R).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.S).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.T).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.U).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.V).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.W).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.X).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Y).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Z).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm._).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.$).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.aa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.ba).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.ca).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.da).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ea).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.fa).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.ga).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.ha).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ia).apply(null,arguments)};var se=t._malloc=function(){return(se=t._malloc=t.asm.ja).apply(null,arguments)};t._free=function(){return(t._free=t.asm.ka).apply(null,arguments)};var ue,le=t.stackSave=function(){return(le=t.stackSave=t.asm.ma).apply(null,arguments)},ce=t.stackRestore=function(){return(ce=t.stackRestore=t.asm.na).apply(null,arguments)},Ae=t.stackAlloc=function(){return(Ae=t.stackAlloc=t.asm.oa).apply(null,arguments)};function fe(){function e(){if(!ue&&(ue=!0,t.calledRun=!0,!I)){if(q(D),i(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();L.unshift(e)}q(L)}}if(!(0<H)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)N();q(P),0<H||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.___cxa_is_pointer_type=function(){return(t.___cxa_is_pointer_type=t.asm.pa).apply(null,arguments)},t.UTF8ToString=R,t.stringToUTF8=function(e,t,n){return U(e,S,t,n)},t.lengthBytesUTF8=F,t.stackSave=le,t.stackRestore=ce,t.stackAlloc=Ae,z=function e(){ue||fe(),ue||(z=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return fe(),e.ready});e.exports=i},4537:function(e){"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,a=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,o){n[r]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){a&&(a=!1,o(e))}}))}},7419:function(e,t){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),a=0;a<64;)i[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,n){for(var i,a=null,o=[],s=0,u=0;t<n;){var l=e[t++];switch(u){case 0:o[s++]=r[l>>2],i=(3&l)<<4,u=1;break;case 1:o[s++]=r[i|l>>4],i=(15&l)<<2,u=2;break;case 2:o[s++]=r[i|l>>6],o[s++]=r[63&l],u=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return u&&(o[s++]=r[i],o[s++]=61,1===u&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";n.decode=function(e,t,n){for(var r,a=n,s=0,u=0;u<e.length;){var l=e.charCodeAt(u++);if(61===l&&s>1)break;if(void 0===(l=i[l]))throw Error(o);switch(s){case 0:r=l,s=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,s=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,s=3;break;case 3:t[n++]=(3&r)<<6|l,s=0}}if(1===s)throw Error(o);return n-a},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},9211:function(e){"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},945:function(e){"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function a(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:a,e.writeFloatBE=r?a:i,e.readFloatLE=r?o:s,e.readFloatBE=r?s:o}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,n,r)}}function o(e,t,n){var r=e(t,n),i=2*(r>>31)+1,a=r>>>23&255,o=8388607&r;return 255===a?o?NaN:i*(1/0):0===a?1401298464324817e-60*i*o:i*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=o.bind(null,i),e.readFloatBE=o.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function a(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:a,e.writeDoubleBE=r?a:i,e.readDoubleLE=r?o:s,e.readDoubleBE=r?s:o}():function(){function t(e,t,n,r,i,a){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,i,a+t),e(1/r>0?0:2147483648,i,a+n);else if(isNaN(r))e(0,i,a+t),e(2146959360,i,a+n);else if(r>17976931348623157e292)e(0,i,a+t),e((o<<31|2146435072)>>>0,i,a+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,a+t),e((o<<31|s/4294967296)>>>0,i,a+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=r*Math.pow(2,-u))>>>0,i,a+t),e((o<<31|u+1023<<20|1048576*s&1048575)>>>0,i,a+n)}}}function o(e,t,n,r,i){var a=e(r,i+t),o=e(r,i+n),s=2*(o>>31)+1,u=o>>>20&2047,l=4294967296*(1048575&o)+a;return 2047===u?l?NaN:s*(1/0):0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=o.bind(null,i,0,4),e.readDoubleBE=o.bind(null,a,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:function _(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},6662:function(e){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,a=null,o=r;return function(n){if(n<1||n>i)return e(n);o+n>r&&(a=e(r),o=0);var s=t.call(a,o,o+=n);return 7&o&&(o=1+(7|o)),s}}},4997:function(e,t){"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,a=[],o=0;t<n;)(r=e[t++])<128?a[o++]=r:r>191&&r<224?a[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(r>>10),a[o++]=56320+(1023&r)):a[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))},n.write=function(e,t,n){for(var r,i,a=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-a}},3442:function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=n},3720:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},a={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=u(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=u(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?g:v;if(t){if(e<0)return g;if(e>=d)return x}else{if(e<=-h)return _;if(e+1>=h)return w}return e<0?s(-e,t).neg():u(e%f|0,e/f|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=s,n.fromBits=u;var l=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var i=s(l(n,8)),a=v,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),A=parseInt(e.substring(o,o+u),n);if(u<8){var f=s(l(n,u));a=a.mul(f).add(s(A))}else a=(a=a.mul(i)).add(s(A))}return a.unsigned=t,a}function A(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?c(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=A;var f=4294967296,d=f*f,h=d/2,p=o(1<<24),v=o(0);n.ZERO=v;var g=o(0,!0);n.UZERO=g;var m=o(1);n.ONE=m;var y=o(1,!0);n.UONE=y;var b=o(-1);n.NEG_ONE=b;var w=u(-1,2147483647,!1);n.MAX_VALUE=w;var x=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var _=u(0,-2147483648,!1);n.MIN_VALUE=_;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(l(e,6),this.unsigned),a=this,o="";;){var u=a.div(i),c=(a.sub(u.mul(i)).toInt()>>>0).toString(e);if((a=u).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(e){return r(e)||(e=A(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(r(e)||(e=A(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(m)},C.neg=C.negate,C.add=function(e){r(e)||(e=A(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,l=e.low>>>16,c=0,f=0,d=0,h=0;return d+=(h+=a+(65535&e.low))>>>16,f+=(d+=i+l)>>>16,c+=(f+=n+s)>>>16,c+=t+o,u((d&=65535)<<16|(h&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},C.subtract=function(e){return r(e)||(e=A(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return v;if(r(e)||(e=A(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(_))return e.isOdd()?_:v;if(e.eq(_))return this.isOdd()?_:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(p)&&e.lt(p))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,a=this.low>>>16,o=65535&this.low,l=e.high>>>16,c=65535&e.high,f=e.low>>>16,d=65535&e.low,h=0,g=0,m=0,y=0;return m+=(y+=o*d)>>>16,g+=(m+=a*d)>>>16,m&=65535,g+=(m+=o*f)>>>16,h+=(g+=i*d)>>>16,g&=65535,h+=(g+=a*f)>>>16,g&=65535,h+=(g+=o*c)>>>16,h+=n*d+i*f+a*c+o*l,u((m&=65535)<<16|(y&=65535),(h&=65535)<<16|(g&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(r(e)||(e=A(e)),e.isZero())throw Error("division by zero");var n,i,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return y;a=g}else{if(this.eq(_))return e.eq(m)||e.eq(b)?_:e.eq(_)?m:(n=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?m:b:(i=this.sub(e.mul(n)),a=n.add(i.div(e)));if(e.eq(_))return this.unsigned?g:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=v}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),c=o<=48?1:l(2,o-48),f=s(n),d=f.mul(e);d.isNegative()||d.gt(i);)d=(f=s(n-=c,this.unsigned)).mul(e);f.isZero()&&(f=m),a=a.add(f),i=i.sub(d)}return a},C.div=C.divide,C.modulo=function(e){return r(e)||(e=A(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return u(~this.low,~this.high,this.unsigned)},C.and=function(e){return r(e)||(e=A(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return r(e)||(e=A(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return r(e)||(e=A(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},1446:function(e,t,n){"use strict";var r,i,a,o=n(2100),s=o.Reader,u=o.Writer,l=o.util,c=o.roots.default||(o.roots.default={});c.onnx=((a={}).Version=(r={},(i=Object.create(r))[r[0]="_START_VERSION"]=0,i[r[1]="IR_VERSION_2017_10_10"]=1,i[r[2]="IR_VERSION_2017_10_30"]=2,i[r[3]="IR_VERSION_2017_11_3"]=3,i[r[4]="IR_VERSION_2019_1_22"]=4,i[r[5]="IR_VERSION"]=5,i),a.AttributeProto=function(){function e(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.refAttrName="",e.prototype.docString="",e.prototype.type=0,e.prototype.f=0,e.prototype.i=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.s=l.newBuffer([]),e.prototype.t=null,e.prototype.g=null,e.prototype.floats=l.emptyArray,e.prototype.ints=l.emptyArray,e.prototype.strings=l.emptyArray,e.prototype.tensors=l.emptyArray,e.prototype.graphs=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.f&&e.hasOwnProperty("f")&&t.uint32(21).float(e.f),null!=e.i&&e.hasOwnProperty("i")&&t.uint32(24).int64(e.i),null!=e.s&&e.hasOwnProperty("s")&&t.uint32(34).bytes(e.s),null!=e.t&&e.hasOwnProperty("t")&&c.onnx.TensorProto.encode(e.t,t.uint32(42).fork()).ldelim(),null!=e.g&&e.hasOwnProperty("g")&&c.onnx.GraphProto.encode(e.g,t.uint32(50).fork()).ldelim(),null!=e.floats&&e.floats.length){t.uint32(58).fork();for(var n=0;n<e.floats.length;++n)t.float(e.floats[n]);t.ldelim()}if(null!=e.ints&&e.ints.length){for(t.uint32(66).fork(),n=0;n<e.ints.length;++n)t.int64(e.ints[n]);t.ldelim()}if(null!=e.strings&&e.strings.length)for(n=0;n<e.strings.length;++n)t.uint32(74).bytes(e.strings[n]);if(null!=e.tensors&&e.tensors.length)for(n=0;n<e.tensors.length;++n)c.onnx.TensorProto.encode(e.tensors[n],t.uint32(82).fork()).ldelim();if(null!=e.graphs&&e.graphs.length)for(n=0;n<e.graphs.length;++n)c.onnx.GraphProto.encode(e.graphs[n],t.uint32(90).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(106).string(e.docString),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(160).int32(e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&t.uint32(170).string(e.refAttrName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.AttributeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 21:r.refAttrName=e.string();break;case 13:r.docString=e.string();break;case 20:r.type=e.int32();break;case 2:r.f=e.float();break;case 3:r.i=e.int64();break;case 4:r.s=e.bytes();break;case 5:r.t=c.onnx.TensorProto.decode(e,e.uint32());break;case 6:r.g=c.onnx.GraphProto.decode(e,e.uint32());break;case 7:if(r.floats&&r.floats.length||(r.floats=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.floats.push(e.float());else r.floats.push(e.float());break;case 8:if(r.ints&&r.ints.length||(r.ints=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.ints.push(e.int64());else r.ints.push(e.int64());break;case 9:r.strings&&r.strings.length||(r.strings=[]),r.strings.push(e.bytes());break;case 10:r.tensors&&r.tensors.length||(r.tensors=[]),r.tensors.push(c.onnx.TensorProto.decode(e,e.uint32()));break;case 11:r.graphs&&r.graphs.length||(r.graphs=[]),r.graphs.push(c.onnx.GraphProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&!l.isString(e.refAttrName))return"refAttrName: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=e.f&&e.hasOwnProperty("f")&&"number"!=typeof e.f)return"f: number expected";if(null!=e.i&&e.hasOwnProperty("i")&&!(l.isInteger(e.i)||e.i&&l.isInteger(e.i.low)&&l.isInteger(e.i.high)))return"i: integer|Long expected";if(null!=e.s&&e.hasOwnProperty("s")&&!(e.s&&"number"==typeof e.s.length||l.isString(e.s)))return"s: buffer expected";if(null!=e.t&&e.hasOwnProperty("t")&&(n=c.onnx.TensorProto.verify(e.t)))return"t."+n;if(null!=e.g&&e.hasOwnProperty("g")&&(n=c.onnx.GraphProto.verify(e.g)))return"g."+n;if(null!=e.floats&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var t=0;t<e.floats.length;++t)if("number"!=typeof e.floats[t])return"floats: number[] expected"}if(null!=e.ints&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(t=0;t<e.ints.length;++t)if(!(l.isInteger(e.ints[t])||e.ints[t]&&l.isInteger(e.ints[t].low)&&l.isInteger(e.ints[t].high)))return"ints: integer|Long[] expected"}if(null!=e.strings&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(t=0;t<e.strings.length;++t)if(!(e.strings[t]&&"number"==typeof e.strings[t].length||l.isString(e.strings[t])))return"strings: buffer[] expected"}if(null!=e.tensors&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(t=0;t<e.tensors.length;++t)if(n=c.onnx.TensorProto.verify(e.tensors[t]))return"tensors."+n}if(null!=e.graphs&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(t=0;t<e.graphs.length;++t){var n;if(n=c.onnx.GraphProto.verify(e.graphs[t]))return"graphs."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.AttributeProto)return e;var t=new c.onnx.AttributeProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.refAttrName&&(t.refAttrName=String(e.refAttrName)),null!=e.docString&&(t.docString=String(e.docString)),e.type){case"UNDEFINED":case 0:t.type=0;break;case"FLOAT":case 1:t.type=1;break;case"INT":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"TENSOR":case 4:t.type=4;break;case"GRAPH":case 5:t.type=5;break;case"FLOATS":case 6:t.type=6;break;case"INTS":case 7:t.type=7;break;case"STRINGS":case 8:t.type=8;break;case"TENSORS":case 9:t.type=9;break;case"GRAPHS":case 10:t.type=10}if(null!=e.f&&(t.f=Number(e.f)),null!=e.i&&(l.Long?(t.i=l.Long.fromValue(e.i)).unsigned=!1:"string"==typeof e.i?t.i=parseInt(e.i,10):"number"==typeof e.i?t.i=e.i:"object"==typeof e.i&&(t.i=new l.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),null!=e.s&&("string"==typeof e.s?l.base64.decode(e.s,t.s=l.newBuffer(l.base64.length(e.s)),0):e.s.length&&(t.s=e.s)),null!=e.t){if("object"!=typeof e.t)throw TypeError(".onnx.AttributeProto.t: object expected");t.t=c.onnx.TensorProto.fromObject(e.t)}if(null!=e.g){if("object"!=typeof e.g)throw TypeError(".onnx.AttributeProto.g: object expected");t.g=c.onnx.GraphProto.fromObject(e.g)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");t.floats=[];for(var n=0;n<e.floats.length;++n)t.floats[n]=Number(e.floats[n])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(t.ints=[],n=0;n<e.ints.length;++n)l.Long?(t.ints[n]=l.Long.fromValue(e.ints[n])).unsigned=!1:"string"==typeof e.ints[n]?t.ints[n]=parseInt(e.ints[n],10):"number"==typeof e.ints[n]?t.ints[n]=e.ints[n]:"object"==typeof e.ints[n]&&(t.ints[n]=new l.LongBits(e.ints[n].low>>>0,e.ints[n].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(t.strings=[],n=0;n<e.strings.length;++n)"string"==typeof e.strings[n]?l.base64.decode(e.strings[n],t.strings[n]=l.newBuffer(l.base64.length(e.strings[n])),0):e.strings[n].length&&(t.strings[n]=e.strings[n])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(t.tensors=[],n=0;n<e.tensors.length;++n){if("object"!=typeof e.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");t.tensors[n]=c.onnx.TensorProto.fromObject(e.tensors[n])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(t.graphs=[],n=0;n<e.graphs.length;++n){if("object"!=typeof e.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");t.graphs[n]=c.onnx.GraphProto.fromObject(e.graphs[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[]),t.defaults){if(n.name="",n.f=0,l.Long){var r=new l.Long(0,0,!1);n.i=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.i=t.longs===String?"0":0;t.bytes===String?n.s="":(n.s=[],t.bytes!==Array&&(n.s=l.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.type=t.enums===String?"UNDEFINED":0,n.refAttrName=""}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.f&&e.hasOwnProperty("f")&&(n.f=t.json&&!isFinite(e.f)?String(e.f):e.f),null!=e.i&&e.hasOwnProperty("i")&&("number"==typeof e.i?n.i=t.longs===String?String(e.i):e.i:n.i=t.longs===String?l.Long.prototype.toString.call(e.i):t.longs===Number?new l.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),null!=e.s&&e.hasOwnProperty("s")&&(n.s=t.bytes===String?l.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),null!=e.t&&e.hasOwnProperty("t")&&(n.t=c.onnx.TensorProto.toObject(e.t,t)),null!=e.g&&e.hasOwnProperty("g")&&(n.g=c.onnx.GraphProto.toObject(e.g,t)),e.floats&&e.floats.length){n.floats=[];for(var i=0;i<e.floats.length;++i)n.floats[i]=t.json&&!isFinite(e.floats[i])?String(e.floats[i]):e.floats[i]}if(e.ints&&e.ints.length)for(n.ints=[],i=0;i<e.ints.length;++i)"number"==typeof e.ints[i]?n.ints[i]=t.longs===String?String(e.ints[i]):e.ints[i]:n.ints[i]=t.longs===String?l.Long.prototype.toString.call(e.ints[i]):t.longs===Number?new l.LongBits(e.ints[i].low>>>0,e.ints[i].high>>>0).toNumber():e.ints[i];if(e.strings&&e.strings.length)for(n.strings=[],i=0;i<e.strings.length;++i)n.strings[i]=t.bytes===String?l.base64.encode(e.strings[i],0,e.strings[i].length):t.bytes===Array?Array.prototype.slice.call(e.strings[i]):e.strings[i];if(e.tensors&&e.tensors.length)for(n.tensors=[],i=0;i<e.tensors.length;++i)n.tensors[i]=c.onnx.TensorProto.toObject(e.tensors[i],t);if(e.graphs&&e.graphs.length)for(n.graphs=[],i=0;i<e.graphs.length;++i)n.graphs[i]=c.onnx.GraphProto.toObject(e.graphs[i],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?c.onnx.AttributeProto.AttributeType[e.type]:e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&(n.refAttrName=e.refAttrName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.AttributeType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="INT"]=2,t[e[3]="STRING"]=3,t[e[4]="TENSOR"]=4,t[e[5]="GRAPH"]=5,t[e[6]="FLOATS"]=6,t[e[7]="INTS"]=7,t[e[8]="STRINGS"]=8,t[e[9]="TENSORS"]=9,t[e[10]="GRAPHS"]=10,t}(),e}(),a.ValueInfoProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type=null,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.type&&e.hasOwnProperty("type")&&c.onnx.TypeProto.encode(e.type,t.uint32(18).fork()).ldelim(),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(26).string(e.docString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.ValueInfoProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.type=c.onnx.TypeProto.decode(e,e.uint32());break;case 3:r.docString=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")){var t=c.onnx.TypeProto.verify(e.type);if(t)return"type."+t}return null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.ValueInfoProto)return e;var t=new c.onnx.ValueInfoProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.type){if("object"!=typeof e.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");t.type=c.onnx.TypeProto.fromObject(e.type)}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.type=null,n.docString=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=c.onnx.TypeProto.toObject(e.type,t)),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.NodeProto=function(){function e(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.input=l.emptyArray,e.prototype.output=l.emptyArray,e.prototype.name="",e.prototype.opType="",e.prototype.domain="",e.prototype.attribute=l.emptyArray,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.input&&e.input.length)for(var n=0;n<e.input.length;++n)t.uint32(10).string(e.input[n]);if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)t.uint32(18).string(e.output[n]);if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.opType&&e.hasOwnProperty("opType")&&t.uint32(34).string(e.opType),null!=e.attribute&&e.attribute.length)for(n=0;n<e.attribute.length;++n)c.onnx.AttributeProto.encode(e.attribute[n],t.uint32(42).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(58).string(e.domain),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.NodeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.input&&r.input.length||(r.input=[]),r.input.push(e.string());break;case 2:r.output&&r.output.length||(r.output=[]),r.output.push(e.string());break;case 3:r.name=e.string();break;case 4:r.opType=e.string();break;case 7:r.domain=e.string();break;case 5:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(c.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:r.docString=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!l.isString(e.input[t]))return"input: string[] expected"}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!l.isString(e.output[t]))return"output: string[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.opType&&e.hasOwnProperty("opType")&&!l.isString(e.opType))return"opType: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!l.isString(e.domain))return"domain: string expected";if(null!=e.attribute&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t){var n=c.onnx.AttributeProto.verify(e.attribute[t]);if(n)return"attribute."+n}}return null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.NodeProto)return e;var t=new c.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");t.input=[];for(var n=0;n<e.input.length;++n)t.input[n]=String(e.input[n])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n)t.output[n]=String(e.output[n])}if(null!=e.name&&(t.name=String(e.name)),null!=e.opType&&(t.opType=String(e.opType)),null!=e.domain&&(t.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(t.attribute=[],n=0;n<e.attribute.length;++n){if("object"!=typeof e.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");t.attribute[n]=c.onnx.AttributeProto.fromObject(e.attribute[n])}}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.input=[],n.output=[],n.attribute=[]),t.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),e.input&&e.input.length){n.input=[];for(var r=0;r<e.input.length;++r)n.input[r]=e.input[r]}if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=e.output[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.opType&&e.hasOwnProperty("opType")&&(n.opType=e.opType),e.attribute&&e.attribute.length)for(n.attribute=[],r=0;r<e.attribute.length;++r)n.attribute[r]=c.onnx.AttributeProto.toObject(e.attribute[r],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.ModelProto=function(){function e(e){if(this.opsetImport=[],this.metadataProps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.irVersion=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.opsetImport=l.emptyArray,e.prototype.producerName="",e.prototype.producerVersion="",e.prototype.domain="",e.prototype.modelVersion=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.docString="",e.prototype.graph=null,e.prototype.metadataProps=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.irVersion&&e.hasOwnProperty("irVersion")&&t.uint32(8).int64(e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&t.uint32(18).string(e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&t.uint32(26).string(e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(34).string(e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&t.uint32(40).int64(e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&c.onnx.GraphProto.encode(e.graph,t.uint32(58).fork()).ldelim(),null!=e.opsetImport&&e.opsetImport.length)for(var n=0;n<e.opsetImport.length;++n)c.onnx.OperatorSetIdProto.encode(e.opsetImport[n],t.uint32(66).fork()).ldelim();if(null!=e.metadataProps&&e.metadataProps.length)for(n=0;n<e.metadataProps.length;++n)c.onnx.StringStringEntryProto.encode(e.metadataProps[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.ModelProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.irVersion=e.int64();break;case 8:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(c.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:r.producerName=e.string();break;case 3:r.producerVersion=e.string();break;case 4:r.domain=e.string();break;case 5:r.modelVersion=e.int64();break;case 6:r.docString=e.string();break;case 7:r.graph=c.onnx.GraphProto.decode(e,e.uint32());break;case 14:r.metadataProps&&r.metadataProps.length||(r.metadataProps=[]),r.metadataProps.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&!(l.isInteger(e.irVersion)||e.irVersion&&l.isInteger(e.irVersion.low)&&l.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(null!=e.opsetImport&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var t=0;t<e.opsetImport.length;++t)if(n=c.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+n}if(null!=e.producerName&&e.hasOwnProperty("producerName")&&!l.isString(e.producerName))return"producerName: string expected";if(null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&!l.isString(e.producerVersion))return"producerVersion: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!l.isString(e.domain))return"domain: string expected";if(null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&!(l.isInteger(e.modelVersion)||e.modelVersion&&l.isInteger(e.modelVersion.low)&&l.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.graph&&e.hasOwnProperty("graph")&&(n=c.onnx.GraphProto.verify(e.graph)))return"graph."+n;if(null!=e.metadataProps&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(t=0;t<e.metadataProps.length;++t){var n;if(n=c.onnx.StringStringEntryProto.verify(e.metadataProps[t]))return"metadataProps."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.ModelProto)return e;var t=new c.onnx.ModelProto;if(null!=e.irVersion&&(l.Long?(t.irVersion=l.Long.fromValue(e.irVersion)).unsigned=!1:"string"==typeof e.irVersion?t.irVersion=parseInt(e.irVersion,10):"number"==typeof e.irVersion?t.irVersion=e.irVersion:"object"==typeof e.irVersion&&(t.irVersion=new l.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");t.opsetImport=[];for(var n=0;n<e.opsetImport.length;++n){if("object"!=typeof e.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");t.opsetImport[n]=c.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n])}}if(null!=e.producerName&&(t.producerName=String(e.producerName)),null!=e.producerVersion&&(t.producerVersion=String(e.producerVersion)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.modelVersion&&(l.Long?(t.modelVersion=l.Long.fromValue(e.modelVersion)).unsigned=!1:"string"==typeof e.modelVersion?t.modelVersion=parseInt(e.modelVersion,10):"number"==typeof e.modelVersion?t.modelVersion=e.modelVersion:"object"==typeof e.modelVersion&&(t.modelVersion=new l.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),null!=e.docString&&(t.docString=String(e.docString)),null!=e.graph){if("object"!=typeof e.graph)throw TypeError(".onnx.ModelProto.graph: object expected");t.graph=c.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(t.metadataProps=[],n=0;n<e.metadataProps.length;++n){if("object"!=typeof e.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");t.metadataProps[n]=c.onnx.StringStringEntryProto.fromObject(e.metadataProps[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.opsetImport=[],n.metadataProps=[]),t.defaults){if(l.Long){var r=new l.Long(0,0,!1);n.irVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.irVersion=t.longs===String?"0":0;n.producerName="",n.producerVersion="",n.domain="",l.Long?(r=new l.Long(0,0,!1),n.modelVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.modelVersion=t.longs===String?"0":0,n.docString="",n.graph=null}if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&("number"==typeof e.irVersion?n.irVersion=t.longs===String?String(e.irVersion):e.irVersion:n.irVersion=t.longs===String?l.Long.prototype.toString.call(e.irVersion):t.longs===Number?new l.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&(n.producerName=e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&(n.producerVersion=e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&("number"==typeof e.modelVersion?n.modelVersion=t.longs===String?String(e.modelVersion):e.modelVersion:n.modelVersion=t.longs===String?l.Long.prototype.toString.call(e.modelVersion):t.longs===Number?new l.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&(n.graph=c.onnx.GraphProto.toObject(e.graph,t)),e.opsetImport&&e.opsetImport.length){n.opsetImport=[];for(var i=0;i<e.opsetImport.length;++i)n.opsetImport[i]=c.onnx.OperatorSetIdProto.toObject(e.opsetImport[i],t)}if(e.metadataProps&&e.metadataProps.length)for(n.metadataProps=[],i=0;i<e.metadataProps.length;++i)n.metadataProps[i]=c.onnx.StringStringEntryProto.toObject(e.metadataProps[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.StringStringEntryProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.StringStringEntryProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!l.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!l.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.StringStringEntryProto)return e;var t=new c.onnx.StringStringEntryProto;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.value=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.TensorAnnotation=function(){function e(e){if(this.quantParameterTensorNames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tensorName="",e.prototype.quantParameterTensorNames=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&t.uint32(10).string(e.tensorName),null!=e.quantParameterTensorNames&&e.quantParameterTensorNames.length)for(var n=0;n<e.quantParameterTensorNames.length;++n)c.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorAnnotation;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.tensorName=e.string();break;case 2:r.quantParameterTensorNames&&r.quantParameterTensorNames.length||(r.quantParameterTensorNames=[]),r.quantParameterTensorNames.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorName&&e.hasOwnProperty("tensorName")&&!l.isString(e.tensorName))return"tensorName: string expected";if(null!=e.quantParameterTensorNames&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var t=0;t<e.quantParameterTensorNames.length;++t){var n=c.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[t]);if(n)return"quantParameterTensorNames."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.TensorAnnotation)return e;var t=new c.onnx.TensorAnnotation;if(null!=e.tensorName&&(t.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");t.quantParameterTensorNames=[];for(var n=0;n<e.quantParameterTensorNames.length;++n){if("object"!=typeof e.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");t.quantParameterTensorNames[n]=c.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.quantParameterTensorNames=[]),t.defaults&&(n.tensorName=""),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&(n.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var r=0;r<e.quantParameterTensorNames.length;++r)n.quantParameterTensorNames[r]=c.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.GraphProto=function(){function e(e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.node=l.emptyArray,e.prototype.name="",e.prototype.initializer=l.emptyArray,e.prototype.docString="",e.prototype.input=l.emptyArray,e.prototype.output=l.emptyArray,e.prototype.valueInfo=l.emptyArray,e.prototype.quantizationAnnotation=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.node&&e.node.length)for(var n=0;n<e.node.length;++n)c.onnx.NodeProto.encode(e.node[n],t.uint32(10).fork()).ldelim();if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.initializer&&e.initializer.length)for(n=0;n<e.initializer.length;++n)c.onnx.TensorProto.encode(e.initializer[n],t.uint32(42).fork()).ldelim();if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(82).string(e.docString),null!=e.input&&e.input.length)for(n=0;n<e.input.length;++n)c.onnx.ValueInfoProto.encode(e.input[n],t.uint32(90).fork()).ldelim();if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)c.onnx.ValueInfoProto.encode(e.output[n],t.uint32(98).fork()).ldelim();if(null!=e.valueInfo&&e.valueInfo.length)for(n=0;n<e.valueInfo.length;++n)c.onnx.ValueInfoProto.encode(e.valueInfo[n],t.uint32(106).fork()).ldelim();if(null!=e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n=0;n<e.quantizationAnnotation.length;++n)c.onnx.TensorAnnotation.encode(e.quantizationAnnotation[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.GraphProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(c.onnx.NodeProto.decode(e,e.uint32()));break;case 2:r.name=e.string();break;case 5:r.initializer&&r.initializer.length||(r.initializer=[]),r.initializer.push(c.onnx.TensorProto.decode(e,e.uint32()));break;case 10:r.docString=e.string();break;case 11:r.input&&r.input.length||(r.input=[]),r.input.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:r.output&&r.output.length||(r.output=[]),r.output.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:r.valueInfo&&r.valueInfo.length||(r.valueInfo=[]),r.valueInfo.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:r.quantizationAnnotation&&r.quantizationAnnotation.length||(r.quantizationAnnotation=[]),r.quantizationAnnotation.push(c.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.node&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var t=0;t<e.node.length;++t)if(n=c.onnx.NodeProto.verify(e.node[t]))return"node."+n}if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.initializer&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(t=0;t<e.initializer.length;++t)if(n=c.onnx.TensorProto.verify(e.initializer[t]))return"initializer."+n}if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(t=0;t<e.input.length;++t)if(n=c.onnx.ValueInfoProto.verify(e.input[t]))return"input."+n}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(n=c.onnx.ValueInfoProto.verify(e.output[t]))return"output."+n}if(null!=e.valueInfo&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(t=0;t<e.valueInfo.length;++t)if(n=c.onnx.ValueInfoProto.verify(e.valueInfo[t]))return"valueInfo."+n}if(null!=e.quantizationAnnotation&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(t=0;t<e.quantizationAnnotation.length;++t){var n;if(n=c.onnx.TensorAnnotation.verify(e.quantizationAnnotation[t]))return"quantizationAnnotation."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.GraphProto)return e;var t=new c.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");t.node=[];for(var n=0;n<e.node.length;++n){if("object"!=typeof e.node[n])throw TypeError(".onnx.GraphProto.node: object expected");t.node[n]=c.onnx.NodeProto.fromObject(e.node[n])}}if(null!=e.name&&(t.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(t.initializer=[],n=0;n<e.initializer.length;++n){if("object"!=typeof e.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");t.initializer[n]=c.onnx.TensorProto.fromObject(e.initializer[n])}}if(null!=e.docString&&(t.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(t.input=[],n=0;n<e.input.length;++n){if("object"!=typeof e.input[n])throw TypeError(".onnx.GraphProto.input: object expected");t.input[n]=c.onnx.ValueInfoProto.fromObject(e.input[n])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n){if("object"!=typeof e.output[n])throw TypeError(".onnx.GraphProto.output: object expected");t.output[n]=c.onnx.ValueInfoProto.fromObject(e.output[n])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(t.valueInfo=[],n=0;n<e.valueInfo.length;++n){if("object"!=typeof e.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");t.valueInfo[n]=c.onnx.ValueInfoProto.fromObject(e.valueInfo[n])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(t.quantizationAnnotation=[],n=0;n<e.quantizationAnnotation.length;++n){if("object"!=typeof e.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");t.quantizationAnnotation[n]=c.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[]),t.defaults&&(n.name="",n.docString=""),e.node&&e.node.length){n.node=[];for(var r=0;r<e.node.length;++r)n.node[r]=c.onnx.NodeProto.toObject(e.node[r],t)}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.initializer&&e.initializer.length)for(n.initializer=[],r=0;r<e.initializer.length;++r)n.initializer[r]=c.onnx.TensorProto.toObject(e.initializer[r],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.input&&e.input.length)for(n.input=[],r=0;r<e.input.length;++r)n.input[r]=c.onnx.ValueInfoProto.toObject(e.input[r],t);if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=c.onnx.ValueInfoProto.toObject(e.output[r],t);if(e.valueInfo&&e.valueInfo.length)for(n.valueInfo=[],r=0;r<e.valueInfo.length;++r)n.valueInfo[r]=c.onnx.ValueInfoProto.toObject(e.valueInfo[r],t);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n.quantizationAnnotation=[],r=0;r<e.quantizationAnnotation.length;++r)n.quantizationAnnotation[r]=c.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[r],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a.TensorProto=function(){function e(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dims=l.emptyArray,e.prototype.dataType=0,e.prototype.segment=null,e.prototype.floatData=l.emptyArray,e.prototype.int32Data=l.emptyArray,e.prototype.stringData=l.emptyArray,e.prototype.int64Data=l.emptyArray,e.prototype.name="",e.prototype.docString="",e.prototype.rawData=l.newBuffer([]),e.prototype.externalData=l.emptyArray,e.prototype.dataLocation=0,e.prototype.doubleData=l.emptyArray,e.prototype.uint64Data=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.dims&&e.dims.length){t.uint32(10).fork();for(var n=0;n<e.dims.length;++n)t.int64(e.dims[n]);t.ldelim()}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&t.uint32(16).int32(e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&c.onnx.TensorProto.Segment.encode(e.segment,t.uint32(26).fork()).ldelim(),null!=e.floatData&&e.floatData.length){for(t.uint32(34).fork(),n=0;n<e.floatData.length;++n)t.float(e.floatData[n]);t.ldelim()}if(null!=e.int32Data&&e.int32Data.length){for(t.uint32(42).fork(),n=0;n<e.int32Data.length;++n)t.int32(e.int32Data[n]);t.ldelim()}if(null!=e.stringData&&e.stringData.length)for(n=0;n<e.stringData.length;++n)t.uint32(50).bytes(e.stringData[n]);if(null!=e.int64Data&&e.int64Data.length){for(t.uint32(58).fork(),n=0;n<e.int64Data.length;++n)t.int64(e.int64Data[n]);t.ldelim()}if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(66).string(e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&t.uint32(74).bytes(e.rawData),null!=e.doubleData&&e.doubleData.length){for(t.uint32(82).fork(),n=0;n<e.doubleData.length;++n)t.double(e.doubleData[n]);t.ldelim()}if(null!=e.uint64Data&&e.uint64Data.length){for(t.uint32(90).fork(),n=0;n<e.uint64Data.length;++n)t.uint64(e.uint64Data[n]);t.ldelim()}if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(98).string(e.docString),null!=e.externalData&&e.externalData.length)for(n=0;n<e.externalData.length;++n)c.onnx.StringStringEntryProto.encode(e.externalData[n],t.uint32(106).fork()).ldelim();return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&t.uint32(112).int32(e.dataLocation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.dims.push(e.int64());else r.dims.push(e.int64());break;case 2:r.dataType=e.int32();break;case 3:r.segment=c.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(r.floatData&&r.floatData.length||(r.floatData=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.floatData.push(e.float());else r.floatData.push(e.float());break;case 5:if(r.int32Data&&r.int32Data.length||(r.int32Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.int32Data.push(e.int32());else r.int32Data.push(e.int32());break;case 6:r.stringData&&r.stringData.length||(r.stringData=[]),r.stringData.push(e.bytes());break;case 7:if(r.int64Data&&r.int64Data.length||(r.int64Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.int64Data.push(e.int64());else r.int64Data.push(e.int64());break;case 8:r.name=e.string();break;case 12:r.docString=e.string();break;case 9:r.rawData=e.bytes();break;case 13:r.externalData&&r.externalData.length||(r.externalData=[]),r.externalData.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:r.dataLocation=e.int32();break;case 10:if(r.doubleData&&r.doubleData.length||(r.doubleData=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.doubleData.push(e.double());else r.doubleData.push(e.double());break;case 11:if(r.uint64Data&&r.uint64Data.length||(r.uint64Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.uint64Data.push(e.uint64());else r.uint64Data.push(e.uint64());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dims&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var t=0;t<e.dims.length;++t)if(!(l.isInteger(e.dims[t])||e.dims[t]&&l.isInteger(e.dims[t].low)&&l.isInteger(e.dims[t].high)))return"dims: integer|Long[] expected"}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&!l.isInteger(e.dataType))return"dataType: integer expected";if(null!=e.segment&&e.hasOwnProperty("segment")&&(n=c.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+n;if(null!=e.floatData&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(t=0;t<e.floatData.length;++t)if("number"!=typeof e.floatData[t])return"floatData: number[] expected"}if(null!=e.int32Data&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(t=0;t<e.int32Data.length;++t)if(!l.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(null!=e.stringData&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(t=0;t<e.stringData.length;++t)if(!(e.stringData[t]&&"number"==typeof e.stringData[t].length||l.isString(e.stringData[t])))return"stringData: buffer[] expected"}if(null!=e.int64Data&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(t=0;t<e.int64Data.length;++t)if(!(l.isInteger(e.int64Data[t])||e.int64Data[t]&&l.isInteger(e.int64Data[t].low)&&l.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.rawData&&e.hasOwnProperty("rawData")&&!(e.rawData&&"number"==typeof e.rawData.length||l.isString(e.rawData)))return"rawData: buffer expected";if(null!=e.externalData&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(t=0;t<e.externalData.length;++t){var n;if(n=c.onnx.StringStringEntryProto.verify(e.externalData[t]))return"externalData."+n}}if(null!=e.dataLocation&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=e.doubleData&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(t=0;t<e.doubleData.length;++t)if("number"!=typeof e.doubleData[t])return"doubleData: number[] expected"}if(null!=e.uint64Data&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(t=0;t<e.uint64Data.length;++t)if(!(l.isInteger(e.uint64Data[t])||e.uint64Data[t]&&l.isInteger(e.uint64Data[t].low)&&l.isInteger(e.uint64Data[t].high)))return"uint64Data: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof c.onnx.TensorProto)return e;var t=new c.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");t.dims=[];for(var n=0;n<e.dims.length;++n)l.Long?(t.dims[n]=l.Long.fromValue(e.dims[n])).unsigned=!1:"string"==typeof e.dims[n]?t.dims[n]=parseInt(e.dims[n],10):"number"==typeof e.dims[n]?t.dims[n]=e.dims[n]:"object"==typeof e.dims[n]&&(t.dims[n]=new l.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber())}if(null!=e.dataType&&(t.dataType=0|e.dataType),null!=e.segment){if("object"!=typeof e.segment)throw TypeError(".onnx.TensorProto.segment: object expected");t.segment=c.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(t.floatData=[],n=0;n<e.floatData.length;++n)t.floatData[n]=Number(e.floatData[n])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(t.int32Data=[],n=0;n<e.int32Data.length;++n)t.int32Data[n]=0|e.int32Data[n]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(t.stringData=[],n=0;n<e.stringData.length;++n)"string"==typeof e.stringData[n]?l.base64.decode(e.stringData[n],t.stringData[n]=l.newBuffer(l.base64.length(e.stringData[n])),0):e.stringData[n].length&&(t.stringData[n]=e.stringData[n])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(t.int64Data=[],n=0;n<e.int64Data.length;++n)l.Long?(t.int64Data[n]=l.Long.fromValue(e.int64Data[n])).unsigned=!1:"string"==typeof e.int64Data[n]?t.int64Data[n]=parseInt(e.int64Data[n],10):"number"==typeof e.int64Data[n]?t.int64Data[n]=e.int64Data[n]:"object"==typeof e.int64Data[n]&&(t.int64Data[n]=new l.LongBits(e.int64Data[n].low>>>0,e.int64Data[n].high>>>0).toNumber())}if(null!=e.name&&(t.name=String(e.name)),null!=e.docString&&(t.docString=String(e.docString)),null!=e.rawData&&("string"==typeof e.rawData?l.base64.decode(e.rawData,t.rawData=l.newBuffer(l.base64.length(e.rawData)),0):e.rawData.length&&(t.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(t.externalData=[],n=0;n<e.externalData.length;++n){if("object"!=typeof e.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");t.externalData[n]=c.onnx.StringStringEntryProto.fromObject(e.externalData[n])}}switch(e.dataLocation){case"DEFAULT":case 0:t.dataLocation=0;break;case"EXTERNAL":case 1:t.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(t.doubleData=[],n=0;n<e.doubleData.length;++n)t.doubleData[n]=Number(e.doubleData[n])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(t.uint64Data=[],n=0;n<e.uint64Data.length;++n)l.Long?(t.uint64Data[n]=l.Long.fromValue(e.uint64Data[n])).unsigned=!0:"string"==typeof e.uint64Data[n]?t.uint64Data[n]=parseInt(e.uint64Data[n],10):"number"==typeof e.uint64Data[n]?t.uint64Data[n]=e.uint64Data[n]:"object"==typeof e.uint64Data[n]&&(t.uint64Data[n]=new l.LongBits(e.uint64Data[n].low>>>0,e.uint64Data[n].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),t.defaults&&(n.dataType=0,n.segment=null,n.name="",t.bytes===String?n.rawData="":(n.rawData=[],t.bytes!==Array&&(n.rawData=l.newBuffer(n.rawData))),n.docString="",n.dataLocation=t.enums===String?"DEFAULT":0),e.dims&&e.dims.length){n.dims=[];for(var r=0;r<e.dims.length;++r)"number"==typeof e.dims[r]?n.dims[r]=t.longs===String?String(e.dims[r]):e.dims[r]:n.dims[r]=t.longs===String?l.Long.prototype.toString.call(e.dims[r]):t.longs===Number?new l.LongBits(e.dims[r].low>>>0,e.dims[r].high>>>0).toNumber():e.dims[r]}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&(n.dataType=e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&(n.segment=c.onnx.TensorProto.Segment.toObject(e.segment,t)),e.floatData&&e.floatData.length)for(n.floatData=[],r=0;r<e.floatData.length;++r)n.floatData[r]=t.json&&!isFinite(e.floatData[r])?String(e.floatData[r]):e.floatData[r];if(e.int32Data&&e.int32Data.length)for(n.int32Data=[],r=0;r<e.int32Data.length;++r)n.int32Data[r]=e.int32Data[r];if(e.stringData&&e.stringData.length)for(n.stringData=[],r=0;r<e.stringData.length;++r)n.stringData[r]=t.bytes===String?l.base64.encode(e.stringData[r],0,e.stringData[r].length):t.bytes===Array?Array.prototype.slice.call(e.stringData[r]):e.stringData[r];if(e.int64Data&&e.int64Data.length)for(n.int64Data=[],r=0;r<e.int64Data.length;++r)"number"==typeof e.int64Data[r]?n.int64Data[r]=t.longs===String?String(e.int64Data[r]):e.int64Data[r]:n.int64Data[r]=t.longs===String?l.Long.prototype.toString.call(e.int64Data[r]):t.longs===Number?new l.LongBits(e.int64Data[r].low>>>0,e.int64Data[r].high>>>0).toNumber():e.int64Data[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&(n.rawData=t.bytes===String?l.base64.encode(e.rawData,0,e.rawData.length):t.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(n.doubleData=[],r=0;r<e.doubleData.length;++r)n.doubleData[r]=t.json&&!isFinite(e.doubleData[r])?String(e.doubleData[r]):e.doubleData[r];if(e.uint64Data&&e.uint64Data.length)for(n.uint64Data=[],r=0;r<e.uint64Data.length;++r)"number"==typeof e.uint64Data[r]?n.uint64Data[r]=t.longs===String?String(e.uint64Data[r]):e.uint64Data[r]:n.uint64Data[r]=t.longs===String?l.Long.prototype.toString.call(e.uint64Data[r]):t.longs===Number?new l.LongBits(e.uint64Data[r].low>>>0,e.uint64Data[r].high>>>0).toNumber(!0):e.uint64Data[r];if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.externalData&&e.externalData.length)for(n.externalData=[],r=0;r<e.externalData.length;++r)n.externalData[r]=c.onnx.StringStringEntryProto.toObject(e.externalData[r],t);return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&(n.dataLocation=t.enums===String?c.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="UINT8"]=2,t[e[3]="INT8"]=3,t[e[4]="UINT16"]=4,t[e[5]="INT16"]=5,t[e[6]="INT32"]=6,t[e[7]="INT64"]=7,t[e[8]="STRING"]=8,t[e[9]="BOOL"]=9,t[e[10]="FLOAT16"]=10,t[e[11]="DOUBLE"]=11,t[e[12]="UINT32"]=12,t[e[13]="UINT64"]=13,t[e[14]="COMPLEX64"]=14,t[e[15]="COMPLEX128"]=15,t[e[16]="BFLOAT16"]=16,t}(),e.Segment=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.begin=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.end=l.Long?l.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.begin&&e.hasOwnProperty("begin")&&t.uint32(8).int64(e.begin),null!=e.end&&e.hasOwnProperty("end")&&t.uint32(16).int64(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorProto.Segment;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.begin=e.int64();break;case 2:r.end=e.int64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.begin&&e.hasOwnProperty("begin")&&!(l.isInteger(e.begin)||e.begin&&l.isInteger(e.begin.low)&&l.isInteger(e.begin.high))?"begin: integer|Long expected":null!=e.end&&e.hasOwnProperty("end")&&!(l.isInteger(e.end)||e.end&&l.isInteger(e.end.low)&&l.isInteger(e.end.high))?"end: integer|Long expected":null},e.fromObject=function(e){if(e instanceof c.onnx.TensorProto.Segment)return e;var t=new c.onnx.TensorProto.Segment;return null!=e.begin&&(l.Long?(t.begin=l.Long.fromValue(e.begin)).unsigned=!1:"string"==typeof e.begin?t.begin=parseInt(e.begin,10):"number"==typeof e.begin?t.begin=e.begin:"object"==typeof e.begin&&(t.begin=new l.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber())),null!=e.end&&(l.Long?(t.end=l.Long.fromValue(e.end)).unsigned=!1:"string"==typeof e.end?t.end=parseInt(e.end,10):"number"==typeof e.end?t.end=e.end:"object"==typeof e.end&&(t.end=new l.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(l.Long){var r=new l.Long(0,0,!1);n.begin=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.begin=t.longs===String?"0":0;l.Long?(r=new l.Long(0,0,!1),n.end=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.end=t.longs===String?"0":0}return null!=e.begin&&e.hasOwnProperty("begin")&&("number"==typeof e.begin?n.begin=t.longs===String?String(e.begin):e.begin:n.begin=t.longs===String?l.Long.prototype.toString.call(e.begin):t.longs===Number?new l.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber():e.begin),null!=e.end&&e.hasOwnProperty("end")&&("number"==typeof e.end?n.end=t.longs===String?String(e.end):e.end:n.end=t.longs===String?l.Long.prototype.toString.call(e.end):t.longs===Number?new l.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.DataLocation=function(){var e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="EXTERNAL"]=1,t}(),e}(),a.TensorShapeProto=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dim=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=u.create()),null!=e.dim&&e.dim.length)for(var n=0;n<e.dim.length;++n)c.onnx.TensorShapeProto.Dimension.encode(e.dim[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorShapeProto;e.pos<n;){var i=e.uint32();i>>>3==1?(r.dim&&r.dim.length||(r.dim=[]),r.dim.push(c.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dim&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var t=0;t<e.dim.length;++t){var n=c.onnx.TensorShapeProto.Dimension.verify(e.dim[t]);if(n)return"dim."+n}}return null},e.fromObject=function(e){if(e instanceof c.onnx.TensorShapeProto)return e;var t=new c.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");t.dim=[];for(var n=0;n<e.dim.length;++n){if("object"!=typeof e.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");t.dim[n]=c.onnx.TensorShapeProto.Dimension.fromObject(e.dim[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dim=[]),e.dim&&e.dim.length){n.dim=[];for(var r=0;r<e.dim.length;++r)n.dim[r]=c.onnx.TensorShapeProto.Dimension.toObject(e.dim[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Dimension=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.dimValue=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.dimParam="",e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:l.oneOfGetter(t=["dimValue","dimParam"]),set:l.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&t.uint32(8).int64(e.dimValue),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&t.uint32(18).string(e.dimParam),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(26).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TensorShapeProto.Dimension;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.dimValue=e.int64();break;case 2:r.dimParam=e.string();break;case 3:r.denotation=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.dimValue&&e.hasOwnProperty("dimValue")&&(t.value=1,!(l.isInteger(e.dimValue)||e.dimValue&&l.isInteger(e.dimValue.low)&&l.isInteger(e.dimValue.high))))return"dimValue: integer|Long expected";if(null!=e.dimParam&&e.hasOwnProperty("dimParam")){if(1===t.value)return"value: multiple values";if(t.value=1,!l.isString(e.dimParam))return"dimParam: string expected"}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!l.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.TensorShapeProto.Dimension)return e;var t=new c.onnx.TensorShapeProto.Dimension;return null!=e.dimValue&&(l.Long?(t.dimValue=l.Long.fromValue(e.dimValue)).unsigned=!1:"string"==typeof e.dimValue?t.dimValue=parseInt(e.dimValue,10):"number"==typeof e.dimValue?t.dimValue=e.dimValue:"object"==typeof e.dimValue&&(t.dimValue=new l.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber())),null!=e.dimParam&&(t.dimParam=String(e.dimParam)),null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&("number"==typeof e.dimValue?n.dimValue=t.longs===String?String(e.dimValue):e.dimValue:n.dimValue=t.longs===String?l.Long.prototype.toString.call(e.dimValue):t.longs===Number?new l.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber():e.dimValue,t.oneofs&&(n.value="dimValue")),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&(n.dimParam=e.dimParam,t.oneofs&&(n.value="dimParam")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),a.TypeProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.tensorType=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:l.oneOfGetter(t=["tensorType"]),set:l.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&c.onnx.TypeProto.Tensor.encode(e.tensorType,t.uint32(10).fork()).ldelim(),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(50).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TypeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.tensorType=c.onnx.TypeProto.Tensor.decode(e,e.uint32());break;case 6:r.denotation=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorType&&e.hasOwnProperty("tensorType")){var t=c.onnx.TypeProto.Tensor.verify(e.tensorType);if(t)return"tensorType."+t}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!l.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof c.onnx.TypeProto)return e;var t=new c.onnx.TypeProto;if(null!=e.tensorType){if("object"!=typeof e.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");t.tensorType=c.onnx.TypeProto.Tensor.fromObject(e.tensorType)}return null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&(n.tensorType=c.onnx.TypeProto.Tensor.toObject(e.tensorType,t),t.oneofs&&(n.value="tensorType")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Tensor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.elemType&&e.hasOwnProperty("elemType")&&t.uint32(8).int32(e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&c.onnx.TensorShapeProto.encode(e.shape,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.TypeProto.Tensor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.elemType=e.int32();break;case 2:r.shape=c.onnx.TensorShapeProto.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")&&!l.isInteger(e.elemType))return"elemType: integer expected";if(null!=e.shape&&e.hasOwnProperty("shape")){var t=c.onnx.TensorShapeProto.verify(e.shape);if(t)return"shape."+t}return null},e.fromObject=function(e){if(e instanceof c.onnx.TypeProto.Tensor)return e;var t=new c.onnx.TypeProto.Tensor;if(null!=e.elemType&&(t.elemType=0|e.elemType),null!=e.shape){if("object"!=typeof e.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");t.shape=c.onnx.TensorShapeProto.fromObject(e.shape)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.elemType=0,n.shape=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&(n.shape=c.onnx.TensorShapeProto.toObject(e.shape,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),a.OperatorSetIdProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.domain="",e.prototype.version=l.Long?l.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=u.create()),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(10).string(e.domain),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(16).int64(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.onnx.OperatorSetIdProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.domain=e.string();break;case 2:r.version=e.int64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.domain&&e.hasOwnProperty("domain")&&!l.isString(e.domain)?"domain: string expected":null!=e.version&&e.hasOwnProperty("version")&&!(l.isInteger(e.version)||e.version&&l.isInteger(e.version.low)&&l.isInteger(e.version.high))?"version: integer|Long expected":null},e.fromObject=function(e){if(e instanceof c.onnx.OperatorSetIdProto)return e;var t=new c.onnx.OperatorSetIdProto;return null!=e.domain&&(t.domain=String(e.domain)),null!=e.version&&(l.Long?(t.version=l.Long.fromValue(e.version)).unsigned=!1:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"==typeof e.version&&(t.version=new l.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.domain="",l.Long){var r=new l.Long(0,0,!1);n.version=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.version=t.longs===String?"0":0;return null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?l.Long.prototype.toString.call(e.version):t.longs===Number?new l.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),a),e.exports=c},2100:function(e,t,n){"use strict";e.exports=n(9482)},9482:function(e,t,n){"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=i,i()},1408:function(e,t,n){"use strict";e.exports=u;var r,i=n(9693),a=i.LongBits,o=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var l,c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},A=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new r(e):c(e)})(e)}:c};function f(){var e=new a(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new a(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=A(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){r=e,u.create=A(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},593:function(e,t,n){"use strict";e.exports=a;var r=n(1408);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(9693);function a(e){r.call(this,e)}a._configure=function(){i.Buffer&&(a.prototype._slice=i.Buffer.prototype.slice)},a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},a._configure()},5054:function(e){"use strict";e.exports={}},5994:function(e,t,n){"use strict";t.Service=n(7948)},7948:function(e,t,n){"use strict";e.exports=i;var r=n(9693);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return r.asPromise(e,s,t,n,i,a);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(e,n){if(e)return s.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",n,t),o(null,n)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:function(e,t,n){"use strict";e.exports=i;var r=n(9693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=i.zero=new i(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):a},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?a:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function a(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=a,r.ProtocolError=a("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},1173:function(e,t,n){"use strict";e.exports=A;var r,i=n(9693),a=i.LongBits,o=i.base64,s=i.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function A(){this.len=0,this.head=new u(l,0,0),this.tail=this.head,this.states=null}var f=function(){return i.Buffer?function(){return(A.create=function(){return new r})()}:function(){return new A}};function d(e,t,n){t[n]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function v(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}A.create=f(),A.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(A.alloc=i.pool(A.alloc,i.Array.prototype.subarray)),A.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},h.prototype=Object.create(u.prototype),h.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},A.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},A.prototype.int32=function(e){return e<0?this._push(p,10,a.fromNumber(e)):this.uint32(e)},A.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},A.prototype.uint64=function(e){var t=a.from(e);return this._push(p,t.length(),t)},A.prototype.int64=A.prototype.uint64,A.prototype.sint64=function(e){var t=a.from(e).zzEncode();return this._push(p,t.length(),t)},A.prototype.bool=function(e){return this._push(d,1,e?1:0)},A.prototype.fixed32=function(e){return this._push(v,4,e>>>0)},A.prototype.sfixed32=A.prototype.fixed32,A.prototype.fixed64=function(e){var t=a.from(e);return this._push(v,4,t.lo)._push(v,4,t.hi)},A.prototype.sfixed64=A.prototype.fixed64,A.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},A.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};A.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var n=A.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(g,t,e)},A.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(d,1,0)},A.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new u(l,0,0),this.len=0,this},A.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(l,0,0),this.len=0),this},A.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},A.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},A._configure=function(e){r=e,A.create=f(),r._configure()}},3155:function(e,t,n){"use strict";e.exports=a;var r=n(1173);(a.prototype=Object.create(r.prototype)).constructor=a;var i=n(9693);function a(){r.call(this)}function o(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}a._configure=function(){a.alloc=i._Buffer_allocUnsafe,a.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a.writeBytesBuffer,t,e),this},a.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},a._configure()},4154:function(e){"use strict";e.exports='"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\n'},7067:function(){},1296:function(){},760:function(){},1384:function(){},3993:function(){},908:function(){},6953:function(){},9925:function(){},2806:function(){},6449:function(){},2850:function(){},5381:function(){},5686:function(e,t,n){"use strict";n.r(t),n.d(t,{flatbuffers:function(){return r}});var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.SIZE_PREFIX_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Long=function(e,t){this.low=0|e,this.high=0|t},r.Long.create=function(e,t){return 0==e&&0==t?r.Long.ZERO:new r.Long(e,t)},r.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},r.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},r.Long.ZERO=new r.Long(0,0),r.Builder=function(e){if(e)t=e;else var t=1024;this.bb=r.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},r.Builder.prototype.dataBuffer=function(){return this.bb},r.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},r.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var i=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)},r.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},r.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},r.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},r.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},r.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},r.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},r.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},r.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},r.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},r.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},r.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},r.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},r.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},r.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},r.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},r.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},r.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},r.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},r.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},r.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},r.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},r.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},r.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},r.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},r.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},r.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,i=r.ByteBuffer.allocate(n);return i.setPosition(n-t),i.bytes().set(e.bytes(),n-t),i},r.Builder.prototype.addOffset=function(e){this.prep(r.SIZEOF_INT,0),this.writeInt32(this.offset()-e+r.SIZEOF_INT)},r.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var i=(n+2)*r.SIZEOF_SHORT;this.addInt16(i);var a=0,o=this.space;e:for(t=0;t<this.vtables.length;t++){var s=this.bb.capacity()-this.vtables[t];if(i==this.bb.readInt16(s)){for(var u=r.SIZEOF_SHORT;u<i;u+=r.SIZEOF_SHORT)if(this.bb.readInt16(o+u)!=this.bb.readInt16(s+u))continue e;a=this.vtables[t];break}}return a?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,a-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},r.Builder.prototype.finish=function(e,t,n){var i=n?r.SIZE_PREFIX_LENGTH:0;if(t){var a=t;if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH+i),a.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var o=r.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(a.charCodeAt(o))}this.prep(this.minalign,r.SIZEOF_INT+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},r.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},r.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,r=n-this.bb.readInt32(n);if(0==this.bb.readInt16(r+t))throw new Error("FlatBuffers: field "+t+" must be set")},r.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(r.SIZEOF_INT,e*t),this.prep(n,e*t)},r.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},r.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var n=0;n<e.length;){var r,i=e.charCodeAt(n++);(r=i<55296||i>=56320?i:(i<<10)+e.charCodeAt(n++)+-56613888)<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),n=0;for(var a=this.space,o=this.bb.bytes();n<t.length;n++)o[a++]=t[n];return this.endVector()},r.Builder.prototype.createLong=function(e,t){return r.Long.create(e,t)},r.ByteBuffer=function(e){this.bytes_=e,this.position_=0},r.ByteBuffer.allocate=function(e){return new r.ByteBuffer(new Uint8Array(e))},r.ByteBuffer.prototype.clear=function(){this.position_=0},r.ByteBuffer.prototype.bytes=function(){return this.bytes_},r.ByteBuffer.prototype.position=function(){return this.position_},r.ByteBuffer.prototype.setPosition=function(e){this.position_=e},r.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},r.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},r.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},r.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},r.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},r.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},r.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},r.ByteBuffer.prototype.readInt64=function(e){return new r.Long(this.readInt32(e),this.readInt32(e+4))},r.ByteBuffer.prototype.readUint64=function(e){return new r.Long(this.readUint32(e),this.readUint32(e+4))},r.ByteBuffer.prototype.readFloat32=function(e){return r.int32[0]=this.readInt32(e),r.float32[0]},r.ByteBuffer.prototype.readFloat64=function(e){return r.int32[r.isLittleEndian?0:1]=this.readInt32(e),r.int32[r.isLittleEndian?1:0]=this.readInt32(e+4),r.float64[0]},r.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},r.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},r.ByteBuffer.prototype.writeFloat32=function(e,t){r.float32[0]=t,this.writeInt32(e,r.int32[0])},r.ByteBuffer.prototype.writeFloat64=function(e,t){r.float64[0]=t,this.writeInt32(e,r.int32[r.isLittleEndian?0:1]),this.writeInt32(e+4,r.int32[r.isLittleEndian?1:0])},r.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+r.SIZEOF_INT+t));return e},r.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},r.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},r.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),i="",a=0;if(e+=r.SIZEOF_INT,t===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;a<n;){var o,s=this.readUint8(e+a++);if(s<192)o=s;else{var u=this.readUint8(e+a++);if(s<224)o=(31&s)<<6|63&u;else{var l=this.readUint8(e+a++);o=s<240?(15&s)<<12|(63&u)<<6|63&l:(7&s)<<18|(63&u)<<12|(63&l)<<6|63&this.readUint8(e+a++)}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode(55296+(o>>10),56320+(1023&o)))}return i},r.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},r.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+r.SIZEOF_INT},r.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},r.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+r.SIZEOF_INT+t))return!1;return!0},r.ByteBuffer.prototype.createLong=function(e,t){return r.Long.create(e,t)}}},__webpack_module_cache__={};function __nested_webpack_require_606622__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_606622__),n.exports}__nested_webpack_require_606622__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __nested_webpack_require_606622__.d(t,{a:t}),t},__nested_webpack_require_606622__.d=function(e,t){for(var n in t)__nested_webpack_require_606622__.o(t,n)&&!__nested_webpack_require_606622__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_606622__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_606622__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__nested_webpack_require_606622__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __nested_webpack_exports__=__nested_webpack_require_606622__(1057);return __nested_webpack_exports__}()},module.exports=t()},60:function(e){"use strict";e.exports="https://unpkg.com/@imgly/background-removal@1.0.6/dist/a620c8c752bdf5c69d98.onnx"},920:function(e){"use strict";e.exports="https://unpkg.com/@imgly/background-removal@1.0.6/dist/2ebb460f4adfe0ebf34d.onnx"},111:function(e){"use strict";e.exports="https://unpkg.com/@imgly/background-removal@1.0.6/dist/ec79eeba92555e43251e.wasm"},965:function(e){"use strict";e.exports="https://unpkg.com/@imgly/background-removal@1.0.6/dist/5fd9e75c3bb1f31c2207.wasm"},48:function(e){"use strict";e.exports="https://unpkg.com/@imgly/background-removal@1.0.6/dist/deea8254622ca47c4771.wasm"},884:function(e){"use strict";e.exports="https://unpkg.com/@imgly/background-removal@1.0.6/dist/9f4d6e330a4b1cebd316.wasm"},342:function(e){"use strict";e.exports="https://unpkg.com/@imgly/background-removal@1.0.6/dist/eac818d9d05525e8f209.wasm"},393:function(e){"use strict";e.exports="https://unpkg.com/@imgly/background-removal@1.0.6/dist/c285eb5377ad8280cf32.wasm"}},__webpack_module_cache__={};function __nested_webpack_require_1493429__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_1493429__),n.loaded=!0,n.exports}__nested_webpack_require_1493429__.d=function(e,t){for(var n in t)__nested_webpack_require_1493429__.o(t,n)&&!__nested_webpack_require_1493429__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_1493429__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_1493429__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__nested_webpack_require_1493429__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__nested_webpack_require_1493429__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var __nested_webpack_exports__={};return function(){"use strict";function e(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function t(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function n(n){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,createImageBitmap(n)];case 1:return[2,i(e.sent())]}}))}))}function r(n,r,i){return void 0===r&&(r=.8),void 0===i&&(i="image/png"),e(this,void 0,void 0,(function(){var e;return t(this,(function(t){return(e=new OffscreenCanvas(n.width,n.height)).getContext("2d").putImageData(n,0,0),[2,e.convertToBlob({quality:r,type:i})]}))}))}function i(e){var t=new OffscreenCanvas(e.width,e.height),n=t.getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,t.width,t.height)}function a(n,r,a){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,createImageBitmap(n,{resizeWidth:r,resizeHeight:a,resizeQuality:"high",premultiplyAlpha:"premultiply"})];case 1:return[2,i(e.sent())]}}))}))}function o(e){return function(e){return new RegExp("^(?:[a-z+]+:)?//","i").test(e)}(e)?e:new URL(e,window.location.href).href}function s(r){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return"string"==typeof r&&(r=o(r),r=new URL(r)),r instanceof URL?[4,fetch(r,{})]:[3,3];case 1:return[4,e.sent().blob()];case 2:r=e.sent(),e.label=3;case 3:return(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r=new Blob([r])),r instanceof Blob?[4,n(r)]:[3,5];case 4:r=e.sent(),e.label=5;case 5:return[2,r]}}))}))}function u(n,r,i,o){return e(this,void 0,void 0,(function(){var e,s,u,l,c,A,f,d,h,p,v,g,m,y,b,w;return t(this,(function(t){switch(t.label){case 0:return r.progress&&r.progress("compute:inference",0,1),e=1024,s=n.width,u=n.height,l=[1,3,e,e],[4,a(n,e,e)];case 1:return c=t.sent(),A=function(e,t,n){void 0===t&&(t=[128,128,128]),void 0===n&&(n=[256,256,256]);for(var r=e.data,i=e.width*e.height,a=new Float32Array(3*i),o=0,s=0;o<r.length;o+=4,s+=1)a[s]=(r[o]-t[0])/n[0],a[s+i]=(r[o+1]-t[1])/n[1],a[s+i+i]=(r[o+2]-t[2])/n[2];return a}(c),[4,i.runSession(o,[["input",{data:A,shape:l,dataType:"float32"}]],["output"])];case 2:for(f=t.sent(),d=e*e,h=0;h<4*d;h+=4)p=h/4,v=f[0].data[p],c.data[h+3]=255*v;return x=n.width,_=n.height,C=e/x,E=e/_,S=Math.min(C,E),g=[Math.floor(x*S),Math.floor(_*S)],m=g[0],y=g[1],b=Math.min(m,s),w=Math.min(y,u),[4,a(c,b,w)];case 3:return c=t.sent(),r.progress&&r.progress("compute:inference",1,1),[2,c]}var x,_,C,E,S}))}))}var l,c;__nested_webpack_require_1493429__.r(__nested_webpack_exports__),__nested_webpack_require_1493429__.d(__nested_webpack_exports__,{default:function(){return wt}}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e.assertEqual=function(e){return e},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=function(e){var t,n={},r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i]=i}}catch(a){r.e(a)}finally{r.f()}return n},e.getValidEnumValues=function(t){var n,r=e.objectKeys(t).filter((function(e){return"number"!=typeof t[t[e]]})),i={},a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;i[o]=t[o]}}catch(s){a.e(s)}finally{a.f()}return e.objectValues(i)},e.objectValues=function(t){return e.objectKeys(t).map((function(e){return t[e]}))},e.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=function(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t(i))return i}}catch(a){r.e(a)}finally{r.f()}},e.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.joinValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((function(e){return"string"==typeof e?"'".concat(e,"'"):e})).join(t)},e.jsonStringifyReplacer=function(e,t){return"bigint"==typeof t?t.toString():t}}(l||(l={})),function(e){e.mergeShapes=function(e,t){return _objectSpread(_objectSpread({},e),t)}}(c||(c={}));var A=l.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),f=function(e){switch(typeof e){case"undefined":return A.undefined;case"string":return A.string;case"number":return isNaN(e)?A.nan:A.number;case"boolean":return A.boolean;case"function":return A.function;case"bigint":return A.bigint;case"symbol":return A.symbol;case"object":return Array.isArray(e)?A.array:null===e?A.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?A.promise:"undefined"!=typeof Map&&e instanceof Map?A.map:"undefined"!=typeof Set&&e instanceof Set?A.set:"undefined"!=typeof Date&&e instanceof Date?A.date:A.object;default:return A.unknown}},d=l.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),(r=t.call(this)).issues=[],r.addIssue=function(e){r.issues=[].concat(_toConsumableArray(r.issues),[e])},r.addIssues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r.issues=[].concat(_toConsumableArray(r.issues),_toConsumableArray(e))};var i=(this instanceof n?this.constructor:void 0).prototype;return Object.setPrototypeOf?Object.setPrototypeOf(_assertThisInitialized(r),i):r.__proto__=i,r.name="ZodError",r.issues=e,r}return _createClass(n,[{key:"errors",get:function(){return this.issues}},{key:"format",value:function(e){var t=e||function(e){return e.message},n={_errors:[]};return function e(r){var i,a=_createForOfIteratorHelper(r.issues);try{for(a.s();!(i=a.n()).done;){var o=i.value;if("invalid_union"===o.code)o.unionErrors.map(e);else if("invalid_return_type"===o.code)e(o.returnTypeError);else if("invalid_arguments"===o.code)e(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else for(var s=n,u=0;u<o.path.length;){var l=o.path[u];u===o.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(t(o))):s[l]=s[l]||{_errors:[]},s=s[l],u++}}}catch(c){a.e(c)}finally{a.f()}}(this),n}},{key:"toString",value:function(){return this.message}},{key:"message",get:function(){return JSON.stringify(this.issues,l.jsonStringifyReplacer,2)}},{key:"isEmpty",get:function(){return 0===this.issues.length}},{key:"flatten",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.message},n={},r=[],i=_createForOfIteratorHelper(this.issues);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a))}}catch(o){i.e(o)}finally{i.f()}return{formErrors:r,fieldErrors:n}}},{key:"formErrors",get:function(){return this.flatten()}}]),n}(_wrapNativeSuper(Error));h.create=function(e){return new h(e)};var p=function(e,t){var n;switch(e.code){case d.invalid_type:n=e.received===A.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case d.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,l.jsonStringifyReplacer));break;case d.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(l.joinValues(e.keys,", "));break;case d.invalid_union:n="Invalid input";break;case d.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(l.joinValues(e.options));break;case d.invalid_enum_value:n="Invalid enum value. Expected ".concat(l.joinValues(e.options),", received '").concat(e.received,"'");break;case d.invalid_arguments:n="Invalid function arguments";break;case d.invalid_return_type:n="Invalid function return type";break;case d.invalid_date:n="Invalid date";break;case d.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"==typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):l.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case d.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case d.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case d.custom:n="Invalid input";break;case d.invalid_intersection_types:n="Intersection results could not be merged";break;case d.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case d.not_finite:n="Number must be finite";break;default:n=t.defaultError,l.assertNever(e)}return{message:n}},v=p;function g(){return v}var m=function(e){var t,n=e.data,r=e.path,i=e.errorMaps,a=e.issueData,o=[].concat(_toConsumableArray(r),_toConsumableArray(a.path||[])),s=_objectSpread(_objectSpread({},a),{},{path:o}),u="",l=i.filter((function(e){return!!e})).slice().reverse(),c=_createForOfIteratorHelper(l);try{for(c.s();!(t=c.n()).done;)u=(0,t.value)(s,{data:n,defaultError:u}).message}catch(A){c.e(A)}finally{c.f()}return _objectSpread(_objectSpread({},a),{},{path:o,message:a.message||u})};function y(e,t){var n=m({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,g(),p].filter((function(e){return!!e}))});e.common.issues.push(n)}var b,w=function(){function e(){_classCallCheck(this,e),this.value="valid"}return _createClass(e,[{key:"dirty",value:function(){"valid"===this.value&&(this.value="dirty")}},{key:"abort",value:function(){"aborted"!==this.value&&(this.value="aborted")}}],[{key:"mergeArray",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("aborted"===a.status)return x;"dirty"===a.status&&e.dirty(),r.push(a.value)}}catch(o){i.e(o)}finally{i.f()}return{status:e.value,value:r}}},{key:"mergeObjectAsync",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(n,r){var i,a,o,s;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],a=_createForOfIteratorHelper(r),t.prev=2,a.s();case 4:if((o=a.n()).done){t.next=17;break}return s=o.value,t.t0=i,t.next=9,s.key;case 9:return t.t1=t.sent,t.next=12,s.value;case 12:t.t2=t.sent,t.t3={key:t.t1,value:t.t2},t.t0.push.call(t.t0,t.t3);case 15:t.next=4;break;case 17:t.next=22;break;case 19:t.prev=19,t.t4=t.catch(2),a.e(t.t4);case 22:return t.prev=22,a.f(),t.finish(22);case 25:return t.abrupt("return",e.mergeObjectSync(n,i));case 26:case"end":return t.stop()}}),t,null,[[2,19,22,25]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"mergeObjectSync",value:function(e,t){var n,r={},i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.key,s=a.value;if("aborted"===o.status)return x;if("aborted"===s.status)return x;"dirty"===o.status&&e.dirty(),"dirty"===s.status&&e.dirty(),(void 0!==s.value||a.alwaysSet)&&(r[o.value]=s.value)}}catch(u){i.e(u)}finally{i.f()}return{status:e.value,value:r}}}]),e}(),x=Object.freeze({status:"aborted"}),_=function(e){return{status:"dirty",value:e}},C=function(e){return{status:"valid",value:e}},E=function(e){return"aborted"===e.status},S=function(e){return"dirty"===e.status},B=function(e){return"valid"===e.status},T=function(e){return"undefined"!=typeof Promise&&e instanceof Promise};!function(e){e.errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},e.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message}}(b||(b={}));var I=function(){function e(t,n,r,i){_classCallCheck(this,e),this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}return _createClass(e,[{key:"path",get:function(){var e,t;return this._cachedPath.length||(this._key instanceof Array?(e=this._cachedPath).push.apply(e,_toConsumableArray(this._path).concat(_toConsumableArray(this._key))):(t=this._cachedPath).push.apply(t,_toConsumableArray(this._path).concat([this._key]))),this._cachedPath}}]),e}(),k=function(e,t){if(B(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;var t=new h(e.common.issues);return this._error=t,this._error}}};function M(e){if(!e)return{};var t=e.errorMap,n=e.invalid_type_error,r=e.required_error,i=e.description;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:function(e,t){return"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=r?r:t.defaultError}:{message:null!=n?n:t.defaultError}},description:i}}var R=function(){function e(t){_classCallCheck(this,e),this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}return _createClass(e,[{key:"description",get:function(){return this._def.description}},{key:"_getType",value:function(e){return f(e.data)}},{key:"_getOrReturnCtx",value:function(e,t){return t||{common:e.parent.common,data:e.data,parsedType:f(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}},{key:"_processInputParams",value:function(e){return{status:new w,ctx:{common:e.parent.common,data:e.data,parsedType:f(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}},{key:"_parseSync",value:function(e){var t=this._parse(e);if(T(t))throw new Error("Synchronous parse encountered promise.");return t}},{key:"_parseAsync",value:function(e){var t=this._parse(e);return Promise.resolve(t)}},{key:"parse",value:function(e,t){var n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}},{key:"safeParse",value:function(e,t){var n,r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:f(e)},i=this._parseSync({data:e,path:r.path,parent:r});return k(r,i)}},{key:"parseAsync",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.safeParseAsync(t,n);case 2:if(!(r=e.sent).success){e.next=5;break}return e.abrupt("return",r.data);case 5:throw r.error;case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"safeParseAsync",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n){var r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={common:{issues:[],contextualErrorMap:null==n?void 0:n.errorMap,async:!0},path:(null==n?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:f(t)},i=this._parse({data:t,path:r.path,parent:r}),e.next=4,T(i)?i:Promise.resolve(i);case 4:return a=e.sent,e.abrupt("return",k(r,a));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"refine",value:function(e,t){var n=function(e){return"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t};return this._refinement((function(t,r){var i=e(t),a=function(){return r.addIssue(_objectSpread({code:d.custom},n(t)))};return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return!!e||(a(),!1)})):!!i||(a(),!1)}))}},{key:"refinement",value:function(e,t){return this._refinement((function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)}))}},{key:"_refinement",value:function(e){return new ye({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}},{key:"superRefine",value:function(e){return this._refinement(e)}},{key:"optional",value:function(){return be.create(this,this._def)}},{key:"nullable",value:function(){return we.create(this,this._def)}},{key:"nullish",value:function(){return this.nullable().optional()}},{key:"array",value:function(){return ee.create(this,this._def)}},{key:"promise",value:function(){return me.create(this,this._def)}},{key:"or",value:function(e){return re.create([this,e],this._def)}},{key:"and",value:function(e){return se.create(this,e,this._def)}},{key:"transform",value:function(e){return new ye(_objectSpread(_objectSpread({},M(this._def)),{},{schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}}))}},{key:"default",value:function(e){var t="function"==typeof e?e:function(){return e};return new xe(_objectSpread(_objectSpread({},M(this._def)),{},{innerType:this,defaultValue:t,typeName:Ee.ZodDefault}))}},{key:"brand",value:function(){return new Be(_objectSpread({typeName:Ee.ZodBranded,type:this},M(this._def)))}},{key:"catch",value:function(e){var t="function"==typeof e?e:function(){return e};return new _e(_objectSpread(_objectSpread({},M(this._def)),{},{innerType:this,catchValue:t,typeName:Ee.ZodCatch}))}},{key:"describe",value:function(e){return new(0,this.constructor)(_objectSpread(_objectSpread({},this._def),{},{description:e}))}},{key:"pipe",value:function(e){return Te.create(this,e)}},{key:"isOptional",value:function(){return this.safeParse(void 0).success}},{key:"isNullable",value:function(){return this.safeParse(null).success}}]),e}(),U=/^c[^\s-]{8,}$/i,F=/^[a-z][a-z0-9]*$/,O=/[0-9A-HJKMNP-TV-Z]{26}/,P=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,D=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,L=/^((?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])|(?:[#\*0-9\u200D\u20E3\uFE0F]|\uD83C[\uDDE6-\uDDFF\uDFFB-\uDFFF]|\uD83E[\uDDB0-\uDDB3]|\uDB40[\uDC20-\uDC7F]))+$/,N=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Q=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,H=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._regex=function(t,n,r){return e.refinement((function(e){return t.test(e)}),_objectSpread({validation:n,code:d.invalid_string},b.errToObj(r)))},e.nonempty=function(t){return e.min(1,b.errToObj(t))},e.trim=function(){return new n(_objectSpread(_objectSpread({},e._def),{},{checks:[].concat(_toConsumableArray(e._def.checks),[{kind:"trim"}])}))},e.toLowerCase=function(){return new n(_objectSpread(_objectSpread({},e._def),{},{checks:[].concat(_toConsumableArray(e._def.checks),[{kind:"toLowerCase"}])}))},e.toUpperCase=function(){return new n(_objectSpread(_objectSpread({},e._def),{},{checks:[].concat(_toConsumableArray(e._def.checks),[{kind:"toUpperCase"}])}))},e}return _createClass(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==A.string){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.string,received:t.parsedType}),x}var n,r,i,a,o,s=new w,u=_createForOfIteratorHelper(this._def.checks);try{for(u.s();!(r=u.n()).done;){var c=r.value;if("min"===c.kind)e.data.length<c.value&&(y(n=this._getOrReturnCtx(e,n),{code:d.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),s.dirty());else if("max"===c.kind)e.data.length>c.value&&(y(n=this._getOrReturnCtx(e,n),{code:d.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),s.dirty());else if("length"===c.kind){var f=e.data.length>c.value,h=e.data.length<c.value;(f||h)&&(n=this._getOrReturnCtx(e,n),f?y(n,{code:d.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):h&&y(n,{code:d.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),s.dirty())}else if("email"===c.kind)D.test(e.data)||(y(n=this._getOrReturnCtx(e,n),{validation:"email",code:d.invalid_string,message:c.message}),s.dirty());else if("emoji"===c.kind)L.test(e.data)||(y(n=this._getOrReturnCtx(e,n),{validation:"emoji",code:d.invalid_string,message:c.message}),s.dirty());else if("uuid"===c.kind)P.test(e.data)||(y(n=this._getOrReturnCtx(e,n),{validation:"uuid",code:d.invalid_string,message:c.message}),s.dirty());else if("cuid"===c.kind)U.test(e.data)||(y(n=this._getOrReturnCtx(e,n),{validation:"cuid",code:d.invalid_string,message:c.message}),s.dirty());else if("cuid2"===c.kind)F.test(e.data)||(y(n=this._getOrReturnCtx(e,n),{validation:"cuid2",code:d.invalid_string,message:c.message}),s.dirty());else if("ulid"===c.kind)O.test(e.data)||(y(n=this._getOrReturnCtx(e,n),{validation:"ulid",code:d.invalid_string,message:c.message}),s.dirty());else if("url"===c.kind)try{new URL(e.data)}catch(i){y(n=this._getOrReturnCtx(e,n),{validation:"url",code:d.invalid_string,message:c.message}),s.dirty()}else"regex"===c.kind?(c.regex.lastIndex=0,c.regex.test(e.data)||(y(n=this._getOrReturnCtx(e,n),{validation:"regex",code:d.invalid_string,message:c.message}),s.dirty())):"trim"===c.kind?e.data=e.data.trim():"includes"===c.kind?e.data.includes(c.value,c.position)||(y(n=this._getOrReturnCtx(e,n),{code:d.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),s.dirty()):"toLowerCase"===c.kind?e.data=e.data.toLowerCase():"toUpperCase"===c.kind?e.data=e.data.toUpperCase():"startsWith"===c.kind?e.data.startsWith(c.value)||(y(n=this._getOrReturnCtx(e,n),{code:d.invalid_string,validation:{startsWith:c.value},message:c.message}),s.dirty()):"endsWith"===c.kind?e.data.endsWith(c.value)||(y(n=this._getOrReturnCtx(e,n),{code:d.invalid_string,validation:{endsWith:c.value},message:c.message}),s.dirty()):"datetime"===c.kind?((o=c).precision?o.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{".concat(o.precision,"}(([+-]\\d{2}(:?\\d{2})?)|Z)$")):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{".concat(o.precision,"}Z$")):0===o.precision?o.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):o.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(y(n=this._getOrReturnCtx(e,n),{code:d.invalid_string,validation:"datetime",message:c.message}),s.dirty()):"ip"===c.kind?(i=e.data,("v4"!==(a=c.version)&&a||!N.test(i))&&("v6"!==a&&a||!Q.test(i))&&(y(n=this._getOrReturnCtx(e,n),{validation:"ip",code:d.invalid_string,message:c.message}),s.dirty())):l.assertNever(c)}}catch(p){u.e(p)}finally{u.f()}return{status:s.value,value:e.data}}},{key:"_addCheck",value:function(e){return new n(_objectSpread(_objectSpread({},this._def),{},{checks:[].concat(_toConsumableArray(this._def.checks),[e])}))}},{key:"email",value:function(e){return this._addCheck(_objectSpread({kind:"email"},b.errToObj(e)))}},{key:"url",value:function(e){return this._addCheck(_objectSpread({kind:"url"},b.errToObj(e)))}},{key:"emoji",value:function(e){return this._addCheck(_objectSpread({kind:"emoji"},b.errToObj(e)))}},{key:"uuid",value:function(e){return this._addCheck(_objectSpread({kind:"uuid"},b.errToObj(e)))}},{key:"cuid",value:function(e){return this._addCheck(_objectSpread({kind:"cuid"},b.errToObj(e)))}},{key:"cuid2",value:function(e){return this._addCheck(_objectSpread({kind:"cuid2"},b.errToObj(e)))}},{key:"ulid",value:function(e){return this._addCheck(_objectSpread({kind:"ulid"},b.errToObj(e)))}},{key:"ip",value:function(e){return this._addCheck(_objectSpread({kind:"ip"},b.errToObj(e)))}},{key:"datetime",value:function(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck(_objectSpread({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t},b.errToObj(null==e?void 0:e.message)))}},{key:"regex",value:function(e,t){return this._addCheck(_objectSpread({kind:"regex",regex:e},b.errToObj(t)))}},{key:"includes",value:function(e,t){return this._addCheck(_objectSpread({kind:"includes",value:e,position:null==t?void 0:t.position},b.errToObj(null==t?void 0:t.message)))}},{key:"startsWith",value:function(e,t){return this._addCheck(_objectSpread({kind:"startsWith",value:e},b.errToObj(t)))}},{key:"endsWith",value:function(e,t){return this._addCheck(_objectSpread({kind:"endsWith",value:e},b.errToObj(t)))}},{key:"min",value:function(e,t){return this._addCheck(_objectSpread({kind:"min",value:e},b.errToObj(t)))}},{key:"max",value:function(e,t){return this._addCheck(_objectSpread({kind:"max",value:e},b.errToObj(t)))}},{key:"length",value:function(e,t){return this._addCheck(_objectSpread({kind:"length",value:e},b.errToObj(t)))}},{key:"isDatetime",get:function(){return!!this._def.checks.find((function(e){return"datetime"===e.kind}))}},{key:"isEmail",get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))}},{key:"isURL",get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))}},{key:"isEmoji",get:function(){return!!this._def.checks.find((function(e){return"emoji"===e.kind}))}},{key:"isUUID",get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))}},{key:"isCUID",get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))}},{key:"isCUID2",get:function(){return!!this._def.checks.find((function(e){return"cuid2"===e.kind}))}},{key:"isULID",get:function(){return!!this._def.checks.find((function(e){return"ulid"===e.kind}))}},{key:"isIP",get:function(){return!!this._def.checks.find((function(e){return"ip"===e.kind}))}},{key:"minLength",get:function(){var e,t=null,n=_createForOfIteratorHelper(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"maxLength",get:function(){var e,t=null,n=_createForOfIteratorHelper(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(i){n.e(i)}finally{n.f()}return t}}]),n}(R);function j(e,t){var n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}H.create=function(e){var t;return new H(_objectSpread({checks:[],typeName:Ee.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},M(e)))};var z=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).min=e.gte,e.max=e.lte,e.step=e.multipleOf,e}return _createClass(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==A.number){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.number,received:t.parsedType}),x}var n,r,i=new w,a=_createForOfIteratorHelper(this._def.checks);try{for(a.s();!(r=a.n()).done;){var o=r.value;"int"===o.kind?l.isInteger(e.data)||(y(n=this._getOrReturnCtx(e,n),{code:d.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):"min"===o.kind?(o.inclusive?e.data<o.value:e.data<=o.value)&&(y(n=this._getOrReturnCtx(e,n),{code:d.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):"max"===o.kind?(o.inclusive?e.data>o.value:e.data>=o.value)&&(y(n=this._getOrReturnCtx(e,n),{code:d.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):"multipleOf"===o.kind?0!==j(e.data,o.value)&&(y(n=this._getOrReturnCtx(e,n),{code:d.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):"finite"===o.kind?Number.isFinite(e.data)||(y(n=this._getOrReturnCtx(e,n),{code:d.not_finite,message:o.message}),i.dirty()):l.assertNever(o)}}catch(s){a.e(s)}finally{a.f()}return{status:i.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,b.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,b.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,b.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,b.toString(t))}},{key:"setLimit",value:function(e,t,r,i){return new n(_objectSpread(_objectSpread({},this._def),{},{checks:[].concat(_toConsumableArray(this._def.checks),[{kind:e,value:t,inclusive:r,message:b.toString(i)}])}))}},{key:"_addCheck",value:function(e){return new n(_objectSpread(_objectSpread({},this._def),{},{checks:[].concat(_toConsumableArray(this._def.checks),[e])}))}},{key:"int",value:function(e){return this._addCheck({kind:"int",message:b.toString(e)})}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:b.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:b.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:b.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:b.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:b.toString(t)})}},{key:"finite",value:function(e){return this._addCheck({kind:"finite",message:b.toString(e)})}},{key:"safe",value:function(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:b.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:b.toString(e)})}},{key:"minValue",get:function(){var e,t=null,n=_createForOfIteratorHelper(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=_createForOfIteratorHelper(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"isInt",get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind||"multipleOf"===e.kind&&l.isInteger(e.value)}))}},{key:"isFinite",get:function(){var e,t=null,n=null,r=_createForOfIteratorHelper(this._def.checks);try{for(r.s();!(e=r.n()).done;){var i=e.value;if("finite"===i.kind||"int"===i.kind||"multipleOf"===i.kind)return!0;"min"===i.kind?(null===n||i.value>n)&&(n=i.value):"max"===i.kind&&(null===t||i.value<t)&&(t=i.value)}}catch(a){r.e(a)}finally{r.f()}return Number.isFinite(n)&&Number.isFinite(t)}}]),n}(R);z.create=function(e){return new z(_objectSpread({checks:[],typeName:Ee.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1},M(e)))};var G=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).min=e.gte,e.max=e.lte,e}return _createClass(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==A.bigint){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.bigint,received:t.parsedType}),x}var n,r,i=new w,a=_createForOfIteratorHelper(this._def.checks);try{for(a.s();!(r=a.n()).done;){var o=r.value;"min"===o.kind?(o.inclusive?e.data<o.value:e.data<=o.value)&&(y(n=this._getOrReturnCtx(e,n),{code:d.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):"max"===o.kind?(o.inclusive?e.data>o.value:e.data>=o.value)&&(y(n=this._getOrReturnCtx(e,n),{code:d.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):"multipleOf"===o.kind?e.data%o.value!==BigInt(0)&&(y(n=this._getOrReturnCtx(e,n),{code:d.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):l.assertNever(o)}}catch(s){a.e(s)}finally{a.f()}return{status:i.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,b.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,b.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,b.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,b.toString(t))}},{key:"setLimit",value:function(e,t,r,i){return new n(_objectSpread(_objectSpread({},this._def),{},{checks:[].concat(_toConsumableArray(this._def.checks),[{kind:e,value:t,inclusive:r,message:b.toString(i)}])}))}},{key:"_addCheck",value:function(e){return new n(_objectSpread(_objectSpread({},this._def),{},{checks:[].concat(_toConsumableArray(this._def.checks),[e])}))}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:b.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:b.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:b.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:b.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:b.toString(t)})}},{key:"minValue",get:function(){var e,t=null,n=_createForOfIteratorHelper(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=_createForOfIteratorHelper(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(i){n.e(i)}finally{n.f()}return t}}]),n}(R);G.create=function(e){var t;return new G(_objectSpread({checks:[],typeName:Ee.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},M(e)))};var V=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==A.boolean){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.boolean,received:t.parsedType}),x}return C(e.data)}}]),n}(R);V.create=function(e){return new V(_objectSpread({typeName:Ee.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1},M(e)))};var W=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==A.date){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.date,received:t.parsedType}),x}if(isNaN(e.data.getTime()))return y(this._getOrReturnCtx(e),{code:d.invalid_date}),x;var n,r,i=new w,a=_createForOfIteratorHelper(this._def.checks);try{for(a.s();!(r=a.n()).done;){var o=r.value;"min"===o.kind?e.data.getTime()<o.value&&(y(n=this._getOrReturnCtx(e,n),{code:d.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):"max"===o.kind?e.data.getTime()>o.value&&(y(n=this._getOrReturnCtx(e,n),{code:d.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):l.assertNever(o)}}catch(s){a.e(s)}finally{a.f()}return{status:i.value,value:new Date(e.data.getTime())}}},{key:"_addCheck",value:function(e){return new n(_objectSpread(_objectSpread({},this._def),{},{checks:[].concat(_toConsumableArray(this._def.checks),[e])}))}},{key:"min",value:function(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:b.toString(t)})}},{key:"max",value:function(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:b.toString(t)})}},{key:"minDate",get:function(){var e,t=null,n=_createForOfIteratorHelper(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(i){n.e(i)}finally{n.f()}return null!=t?new Date(t):null}},{key:"maxDate",get:function(){var e,t=null,n=_createForOfIteratorHelper(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(i){n.e(i)}finally{n.f()}return null!=t?new Date(t):null}}]),n}(R);W.create=function(e){return new W(_objectSpread({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Ee.ZodDate},M(e)))};var K=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){if(this._getType(e)!==A.symbol){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.symbol,received:t.parsedType}),x}return C(e.data)}}]),n}(R);K.create=function(e){return new K(_objectSpread({typeName:Ee.ZodSymbol},M(e)))};var X=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){if(this._getType(e)!==A.undefined){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.undefined,received:t.parsedType}),x}return C(e.data)}}]),n}(R);X.create=function(e){return new X(_objectSpread({typeName:Ee.ZodUndefined},M(e)))};var q=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){if(this._getType(e)!==A.null){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.null,received:t.parsedType}),x}return C(e.data)}}]),n}(R);q.create=function(e){return new q(_objectSpread({typeName:Ee.ZodNull},M(e)))};var Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._any=!0,e}return _createClass(n,[{key:"_parse",value:function(e){return C(e.data)}}]),n}(R);Y.create=function(e){return new Y(_objectSpread({typeName:Ee.ZodAny},M(e)))};var Z=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._unknown=!0,e}return _createClass(n,[{key:"_parse",value:function(e){return C(e.data)}}]),n}(R);Z.create=function(e){return new Z(_objectSpread({typeName:Ee.ZodUnknown},M(e)))};var J=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.never,received:t.parsedType}),x}}]),n}(R);J.create=function(e){return new J(_objectSpread({typeName:Ee.ZodNever},M(e)))};var $=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){if(this._getType(e)!==A.undefined){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.void,received:t.parsedType}),x}return C(e.data)}}]),n}(R);$.create=function(e){return new $(_objectSpread({typeName:Ee.ZodVoid},M(e)))};var ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.ctx,r=t.status,i=this._def;if(n.parsedType!==A.array)return y(n,{code:d.invalid_type,expected:A.array,received:n.parsedType}),x;if(null!==i.exactLength){var a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(y(n,{code:a?d.too_big:d.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&n.data.length<i.minLength.value&&(y(n,{code:d.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&n.data.length>i.maxLength.value&&(y(n,{code:d.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all(_toConsumableArray(n.data).map((function(e,t){return i.type._parseAsync(new I(n,e,n.path,t))}))).then((function(e){return w.mergeArray(r,e)}));var s=_toConsumableArray(n.data).map((function(e,t){return i.type._parseSync(new I(n,e,n.path,t))}));return w.mergeArray(r,s)}},{key:"element",get:function(){return this._def.type}},{key:"min",value:function(e,t){return new n(_objectSpread(_objectSpread({},this._def),{},{minLength:{value:e,message:b.toString(t)}}))}},{key:"max",value:function(e,t){return new n(_objectSpread(_objectSpread({},this._def),{},{maxLength:{value:e,message:b.toString(t)}}))}},{key:"length",value:function(e,t){return new n(_objectSpread(_objectSpread({},this._def),{},{exactLength:{value:e,message:b.toString(t)}}))}},{key:"nonempty",value:function(e){return this.min(1,e)}}]),n}(R);function te(e){if(e instanceof ne){var t={};for(var n in e.shape){var r=e.shape[n];t[n]=be.create(te(r))}return new ne(_objectSpread(_objectSpread({},e._def),{},{shape:function(){return t}}))}return e instanceof ee?new ee(_objectSpread(_objectSpread({},e._def),{},{type:te(e.element)})):e instanceof be?be.create(te(e.unwrap())):e instanceof we?we.create(te(e.unwrap())):e instanceof ue?ue.create(e.items.map((function(e){return te(e)}))):e}ee.create=function(e,t){return new ee(_objectSpread({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray},M(t)))};var ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._cached=null,e.nonstrict=e.passthrough,e.augment=e.extend,e}return _createClass(n,[{key:"_getCached",value:function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=l.objectKeys(e);return this._cached={shape:e,keys:t}}},{key:"_parse",value:function(e){if(this._getType(e)!==A.object){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.object,received:t.parsedType}),x}var n=this._processInputParams(e),r=n.status,i=n.ctx,a=this._getCached(),o=a.shape,s=a.keys,u=[];if(!(this._def.catchall instanceof J&&"strip"===this._def.unknownKeys))for(var l in i.data)s.includes(l)||u.push(l);var c,f=[],h=_createForOfIteratorHelper(s);try{for(h.s();!(c=h.n()).done;){var p=c.value,v=o[p],g=i.data[p];f.push({key:{status:"valid",value:p},value:v._parse(new I(i,g,i.path,p)),alwaysSet:p in i.data})}}catch(M){h.e(M)}finally{h.f()}if(this._def.catchall instanceof J){var m=this._def.unknownKeys;if("passthrough"===m){var b,_=_createForOfIteratorHelper(u);try{for(_.s();!(b=_.n()).done;){var C=b.value;f.push({key:{status:"valid",value:C},value:{status:"valid",value:i.data[C]}})}}catch(M){_.e(M)}finally{_.f()}}else if("strict"===m)u.length>0&&(y(i,{code:d.unrecognized_keys,keys:u}),r.dirty());else if("strip"!==m)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var E,S=this._def.catchall,B=_createForOfIteratorHelper(u);try{for(B.s();!(E=B.n()).done;){var T=E.value,k=i.data[T];f.push({key:{status:"valid",value:T},value:S._parse(new I(i,k,i.path,T)),alwaysSet:T in i.data})}}catch(M){B.e(M)}finally{B.f()}}return i.common.async?Promise.resolve().then(_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=_createForOfIteratorHelper(f),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=19;break}return i=r.value,e.next=8,i.key;case 8:return a=e.sent,e.t0=t,e.t1=a,e.next=13,i.value;case 13:e.t2=e.sent,e.t3=i.alwaysSet,e.t4={key:e.t1,value:e.t2,alwaysSet:e.t3},e.t0.push.call(e.t0,e.t4);case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t5=e.catch(2),n.e(e.t5);case 24:return e.prev=24,n.f(),e.finish(24);case 27:return e.abrupt("return",t);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27]])})))).then((function(e){return w.mergeObjectSync(r,e)})):w.mergeObjectSync(r,f)}},{key:"shape",get:function(){return this._def.shape()}},{key:"strict",value:function(e){var t=this;return b.errToObj,new n(_objectSpread(_objectSpread({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:function(n,r){var i,a,o,s,u=null!==(o=null===(a=(i=t._def).errorMap)||void 0===a?void 0:a.call(i,n,r).message)&&void 0!==o?o:r.defaultError;return"unrecognized_keys"===n.code?{message:null!==(s=b.errToObj(e).message)&&void 0!==s?s:u}:{message:u}}}:{}))}},{key:"strip",value:function(){return new n(_objectSpread(_objectSpread({},this._def),{},{unknownKeys:"strip"}))}},{key:"passthrough",value:function(){return new n(_objectSpread(_objectSpread({},this._def),{},{unknownKeys:"passthrough"}))}},{key:"extend",value:function(e){var t=this;return new n(_objectSpread(_objectSpread({},this._def),{},{shape:function(){return _objectSpread(_objectSpread({},t._def.shape()),e)}}))}},{key:"merge",value:function(e){var t=this;return new n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return _objectSpread(_objectSpread({},t._def.shape()),e._def.shape())},typeName:Ee.ZodObject})}},{key:"setKey",value:function(e,t){return this.augment(_defineProperty({},e,t))}},{key:"catchall",value:function(e){return new n(_objectSpread(_objectSpread({},this._def),{},{catchall:e}))}},{key:"pick",value:function(e){var t=this,r={};return l.objectKeys(e).forEach((function(n){e[n]&&t.shape[n]&&(r[n]=t.shape[n])})),new n(_objectSpread(_objectSpread({},this._def),{},{shape:function(){return r}}))}},{key:"omit",value:function(e){var t=this,r={};return l.objectKeys(this.shape).forEach((function(n){e[n]||(r[n]=t.shape[n])})),new n(_objectSpread(_objectSpread({},this._def),{},{shape:function(){return r}}))}},{key:"deepPartial",value:function(){return te(this)}},{key:"partial",value:function(e){var t=this,r={};return l.objectKeys(this.shape).forEach((function(n){var i=t.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()})),new n(_objectSpread(_objectSpread({},this._def),{},{shape:function(){return r}}))}},{key:"required",value:function(e){var t=this,r={};return l.objectKeys(this.shape).forEach((function(n){if(e&&!e[n])r[n]=t.shape[n];else{for(var i=t.shape[n];i instanceof be;)i=i._def.innerType;r[n]=i}})),new n(_objectSpread(_objectSpread({},this._def),{},{shape:function(){return r}}))}},{key:"keyof",value:function(){return pe(l.objectKeys(this.shape))}}]),n}(R);ne.create=function(e,t){return new ne(_objectSpread({shape:function(){return e},unknownKeys:"strip",catchall:J.create(),typeName:Ee.ZodObject},M(t)))},ne.strictCreate=function(e,t){return new ne(_objectSpread({shape:function(){return e},unknownKeys:"strict",catchall:J.create(),typeName:Ee.ZodObject},M(t)))},ne.lazycreate=function(e,t){return new ne(_objectSpread({shape:e,unknownKeys:"strip",catchall:J.create(),typeName:Ee.ZodObject},M(t)))};var re=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=this._def.options;if(t.common.async)return Promise.all(n.map(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(n){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_objectSpread(_objectSpread({},t),{},{common:_objectSpread(_objectSpread({},t.common),{},{issues:[]}),parent:null}),e.next=3,n._parseAsync({data:t.data,path:t.path,parent:r});case 3:return e.t0=e.sent,e.t1=r,e.abrupt("return",{result:e.t0,ctx:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("valid"===i.result.status)return i.result}}catch(c){r.e(c)}finally{r.f()}var a,o=_createForOfIteratorHelper(e);try{for(o.s();!(a=o.n()).done;){var s,u=a.value;if("dirty"===u.result.status)return(s=t.common.issues).push.apply(s,_toConsumableArray(u.ctx.common.issues)),u.result}}catch(c){o.e(c)}finally{o.f()}var l=e.map((function(e){return new h(e.ctx.common.issues)}));return y(t,{code:d.invalid_union,unionErrors:l}),x}));var r,i,a,o=[],s=_createForOfIteratorHelper(n);try{for(s.s();!(a=s.n()).done;){var u=a.value,l=_objectSpread(_objectSpread({},t),{},{common:_objectSpread(_objectSpread({},t.common),{},{issues:[]}),parent:null}),c=u._parseSync({data:t.data,path:t.path,parent:l});if("valid"===c.status)return c;"dirty"!==c.status||i||(i={result:c,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}}catch(f){s.e(f)}finally{s.f()}if(i)return(r=t.common.issues).push.apply(r,_toConsumableArray(i.ctx.common.issues)),i.result;var A=o.map((function(e){return new h(e)}));return y(t,{code:d.invalid_union,unionErrors:A}),x}},{key:"options",get:function(){return this._def.options}}]),n}(R);re.create=function(e,t){return new re(_objectSpread({options:e,typeName:Ee.ZodUnion},M(t)))};var ie=function e(t){return t instanceof de?e(t.schema):t instanceof ye?e(t.innerType()):t instanceof he?[t.value]:t instanceof ve?t.options:t instanceof ge?Object.keys(t.enum):t instanceof xe?e(t._def.innerType):t instanceof X?[void 0]:t instanceof q?[null]:null},ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==A.object)return y(t,{code:d.invalid_type,expected:A.object,received:t.parsedType}),x;var n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(y(t,{code:d.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),x)}},{key:"discriminator",get:function(){return this._def.discriminator}},{key:"options",get:function(){return this._def.options}},{key:"optionsMap",get:function(){return this._def.optionsMap}}],[{key:"create",value:function(e,t,r){var i,a=new Map,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=ie(s.shape[e]);if(!u)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));var l,c=_createForOfIteratorHelper(u);try{for(c.s();!(l=c.n()).done;){var A=l.value;if(a.has(A))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(A)));a.set(A,s)}}catch(f){c.e(f)}finally{c.f()}}}catch(f){o.e(f)}finally{o.f()}return new n(_objectSpread({typeName:Ee.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a},M(r)))}}]),n}(R);function oe(e,t){var n=f(e),r=f(t);if(e===t)return{valid:!0,data:e};if(n===A.object&&r===A.object){var i,a=l.objectKeys(t),o=l.objectKeys(e).filter((function(e){return-1!==a.indexOf(e)})),s=_objectSpread(_objectSpread({},e),t),u=_createForOfIteratorHelper(o);try{for(u.s();!(i=u.n()).done;){var c=i.value,d=oe(e[c],t[c]);if(!d.valid)return{valid:!1};s[c]=d.data}}catch(g){u.e(g)}finally{u.f()}return{valid:!0,data:s}}if(n===A.array&&r===A.array){if(e.length!==t.length)return{valid:!1};for(var h=[],p=0;p<e.length;p++){var v=oe(e[p],t[p]);if(!v.valid)return{valid:!1};h.push(v.data)}return{valid:!0,data:h}}return n===A.date&&r===A.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var se=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx,i=function(e,t){if(E(e)||E(t))return x;var i=oe(e.value,t.value);return i.valid?((S(e)||S(t))&&n.dirty(),{status:n.value,value:i.data}):(y(r,{code:d.invalid_intersection_types}),x)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return i(n,r)})):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}]),n}(R);se.create=function(e,t,n){return new se(_objectSpread({left:e,right:t,typeName:Ee.ZodIntersection},M(n)))};var ue=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,i=n.ctx;if(i.parsedType!==A.array)return y(i,{code:d.invalid_type,expected:A.array,received:i.parsedType}),x;if(i.data.length<this._def.items.length)return y(i,{code:d.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),x;!this._def.rest&&i.data.length>this._def.items.length&&(y(i,{code:d.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());var a=_toConsumableArray(i.data).map((function(e,n){var r=t._def.items[n]||t._def.rest;return r?r._parse(new I(i,e,i.path,n)):null})).filter((function(e){return!!e}));return i.common.async?Promise.all(a).then((function(e){return w.mergeArray(r,e)})):w.mergeArray(r,a)}},{key:"items",get:function(){return this._def.items}},{key:"rest",value:function(e){return new n(_objectSpread(_objectSpread({},this._def),{},{rest:e}))}}]),n}(R);ue.create=function(e,t){if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ue(_objectSpread({items:e,typeName:Ee.ZodTuple,rest:null},M(t)))};var le=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==A.object)return y(r,{code:d.invalid_type,expected:A.object,received:r.parsedType}),x;var i=[],a=this._def.keyType,o=this._def.valueType;for(var s in r.data)i.push({key:a._parse(new I(r,s,r.path,s)),value:o._parse(new I(r,r.data[s],r.path,s))});return r.common.async?w.mergeObjectAsync(n,i):w.mergeObjectSync(n,i)}},{key:"element",get:function(){return this._def.valueType}}],[{key:"create",value:function(e,t,r){return new n(t instanceof R?_objectSpread({keyType:e,valueType:t,typeName:Ee.ZodRecord},M(r)):_objectSpread({keyType:H.create(),valueType:e,typeName:Ee.ZodRecord},M(t)))}}]),n}(R),ce=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==A.map)return y(r,{code:d.invalid_type,expected:A.map,received:r.parsedType}),x;var i=this._def.keyType,a=this._def.valueType,o=_toConsumableArray(r.data.entries()).map((function(e,t){var n=_slicedToArray(e,2),o=n[0],s=n[1];return{key:i._parse(new I(r,o,r.path,[t,"key"])),value:a._parse(new I(r,s,r.path,[t,"value"]))}}));if(r.common.async){var s=new Map;return Promise.resolve().then(_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,i,a,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_createForOfIteratorHelper(o),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=16;break}return i=r.value,e.next=7,i.key;case 7:return a=e.sent,e.next=10,i.value;case 10:if(u=e.sent,"aborted"!==a.status&&"aborted"!==u.status){e.next=13;break}return e.abrupt("return",x);case 13:"dirty"!==a.status&&"dirty"!==u.status||n.dirty(),s.set(a.value,u.value);case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),t.e(e.t0);case 21:return e.prev=21,t.f(),e.finish(21);case 24:return e.abrupt("return",{status:n.value,value:s});case 25:case"end":return e.stop()}}),e,null,[[1,18,21,24]])}))))}var u,l=new Map,c=_createForOfIteratorHelper(o);try{for(c.s();!(u=c.n()).done;){var f=u.value,h=f.key,p=f.value;if("aborted"===h.status||"aborted"===p.status)return x;"dirty"!==h.status&&"dirty"!==p.status||n.dirty(),l.set(h.value,p.value)}}catch(v){c.e(v)}finally{c.f()}return{status:n.value,value:l}}}]),n}(R);ce.create=function(e,t,n){return new ce(_objectSpread({valueType:t,keyType:e,typeName:Ee.ZodMap},M(n)))};var Ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==A.set)return y(r,{code:d.invalid_type,expected:A.set,received:r.parsedType}),x;var i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(y(r,{code:d.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(y(r,{code:d.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());var a=this._def.valueType;function o(e){var t,r=new Set,i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if("aborted"===a.status)return x;"dirty"===a.status&&n.dirty(),r.add(a.value)}}catch(o){i.e(o)}finally{i.f()}return{status:n.value,value:r}}var s=_toConsumableArray(r.data.values()).map((function(e,t){return a._parse(new I(r,e,r.path,t))}));return r.common.async?Promise.all(s).then((function(e){return o(e)})):o(s)}},{key:"min",value:function(e,t){return new n(_objectSpread(_objectSpread({},this._def),{},{minSize:{value:e,message:b.toString(t)}}))}},{key:"max",value:function(e,t){return new n(_objectSpread(_objectSpread({},this._def),{},{maxSize:{value:e,message:b.toString(t)}}))}},{key:"size",value:function(e,t){return this.min(e,t).max(e,t)}},{key:"nonempty",value:function(e){return this.min(1,e)}}]),n}(R);Ae.create=function(e,t){return new Ae(_objectSpread({valueType:e,minSize:null,maxSize:null,typeName:Ee.ZodSet},M(t)))};var fe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).validate=e.implement,e}return _createClass(n,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==A.function)return y(n,{code:d.invalid_type,expected:A.function,received:n.parsedType}),x;function r(e,t){return m({data:e,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,g(),p].filter((function(e){return!!e})),issueData:{code:d.invalid_arguments,argumentsError:t}})}function i(e,t){return m({data:e,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,g(),p].filter((function(e){return!!e})),issueData:{code:d.invalid_return_type,returnTypeError:t}})}var a={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof me?C(_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,s,u,l,c,A,f=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=f.length,s=new Array(n),u=0;u<n;u++)s[u]=f[u];return l=new h([]),e.next=4,t._def.args.parseAsync(s,a).catch((function(e){throw l.addIssue(r(s,e)),l}));case 4:return c=e.sent,e.next=7,o.apply(void 0,_toConsumableArray(c));case 7:return A=e.sent,e.next=10,t._def.returns._def.type.parseAsync(A,a).catch((function(e){throw l.addIssue(i(A,e)),l}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))):C((function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];var u=t._def.args.safeParse(n,a);if(!u.success)throw new h([r(n,u.error)]);var l=o.apply(void 0,_toConsumableArray(u.data)),c=t._def.returns.safeParse(l,a);if(!c.success)throw new h([i(l,c.error)]);return c.data}))}},{key:"parameters",value:function(){return this._def.args}},{key:"returnType",value:function(){return this._def.returns}},{key:"args",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new n(_objectSpread(_objectSpread({},this._def),{},{args:ue.create(t).rest(Z.create())}))}},{key:"returns",value:function(e){return new n(_objectSpread(_objectSpread({},this._def),{},{returns:e}))}},{key:"implement",value:function(e){return this.parse(e)}},{key:"strictImplement",value:function(e){return this.parse(e)}}],[{key:"create",value:function(e,t,r){return new n(_objectSpread({args:e||ue.create([]).rest(Z.create()),returns:t||Z.create(),typeName:Ee.ZodFunction},M(r)))}}]),n}(R),de=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"schema",get:function(){return this._def.getter()}},{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}]),n}(R);de.create=function(e,t){return new de(_objectSpread({getter:e,typeName:Ee.ZodLazy},M(t)))};var he=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){if(e.data!==this._def.value){var t=this._getOrReturnCtx(e);return y(t,{received:t.data,code:d.invalid_literal,expected:this._def.value}),x}return{status:"valid",value:e.data}}},{key:"value",get:function(){return this._def.value}}]),n}(R);function pe(e,t){return new ve(_objectSpread({values:e,typeName:Ee.ZodEnum},M(t)))}he.create=function(e,t){return new he(_objectSpread({value:e,typeName:Ee.ZodLiteral},M(t)))};var ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){if("string"!=typeof e.data){var t=this._getOrReturnCtx(e),n=this._def.values;return y(t,{expected:l.joinValues(n),received:t.parsedType,code:d.invalid_type}),x}if(-1===this._def.values.indexOf(e.data)){var r=this._getOrReturnCtx(e),i=this._def.values;return y(r,{received:r.data,code:d.invalid_enum_value,options:i}),x}return C(e.data)}},{key:"options",get:function(){return this._def.values}},{key:"enum",get:function(){var e,t={},n=_createForOfIteratorHelper(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"Values",get:function(){var e,t={},n=_createForOfIteratorHelper(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"Enum",get:function(){var e,t={},n=_createForOfIteratorHelper(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"extract",value:function(e){return n.create(e)}},{key:"exclude",value:function(e){return n.create(this.options.filter((function(t){return!e.includes(t)})))}}]),n}(R);ve.create=pe;var ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=l.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==A.string&&n.parsedType!==A.number){var r=l.objectValues(t);return y(n,{expected:l.joinValues(r),received:n.parsedType,code:d.invalid_type}),x}if(-1===t.indexOf(e.data)){var i=l.objectValues(t);return y(n,{received:n.data,code:d.invalid_enum_value,options:i}),x}return C(e.data)}},{key:"enum",get:function(){return this._def.values}}]),n}(R);ge.create=function(e,t){return new ge(_objectSpread({values:e,typeName:Ee.ZodNativeEnum},M(t)))};var me=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"unwrap",value:function(){return this._def.type}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==A.promise&&!1===n.common.async)return y(n,{code:d.invalid_type,expected:A.promise,received:n.parsedType}),x;var r=n.parsedType===A.promise?n.data:Promise.resolve(n.data);return C(r.then((function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.common.contextualErrorMap})})))}}]),n}(R);me.create=function(e,t){return new me(_objectSpread({type:e,typeName:Ee.ZodPromise},M(t)))};var ye=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"innerType",value:function(){return this._def.schema}},{key:"sourceType",value:function(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,i=n.ctx,a=this._def.effect||null;if("preprocess"===a.type){var o=a.transform(i.data);return i.common.async?Promise.resolve(o).then((function(e){return t._def.schema._parseAsync({data:e,path:i.path,parent:i})})):this._def.schema._parseSync({data:o,path:i.path,parent:i})}var s={addIssue:function(e){y(i,e),e.fatal?r.abort():r.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),"refinement"===a.type){var u=function(e){var t=a.refinement(e,s);if(i.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===i.common.async){var c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===c.status?x:("dirty"===c.status&&r.dirty(),u(c.value),{status:r.value,value:c.value})}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((function(e){return"aborted"===e.status?x:("dirty"===e.status&&r.dirty(),u(e.value).then((function(){return{status:r.value,value:e.value}})))}))}if("transform"===a.type){if(!1===i.common.async){var A=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!B(A))return A;var f=a.transform(A.value,s);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:f}}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((function(e){return B(e)?Promise.resolve(a.transform(e.value,s)).then((function(e){return{status:r.value,value:e}})):e}))}l.assertNever(a)}}]),n}(R);ye.create=function(e,t,n){return new ye(_objectSpread({schema:e,typeName:Ee.ZodEffects,effect:t},M(n)))},ye.createWithPreprocess=function(e,t,n){return new ye(_objectSpread({schema:t,effect:{type:"preprocess",transform:e},typeName:Ee.ZodEffects},M(n)))};var be=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){return this._getType(e)===A.undefined?C(void 0):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}]),n}(R);be.create=function(e,t){return new be(_objectSpread({innerType:e,typeName:Ee.ZodOptional},M(t)))};var we=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){return this._getType(e)===A.null?C(null):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}]),n}(R);we.create=function(e,t){return new we(_objectSpread({innerType:e,typeName:Ee.ZodNullable},M(t)))};var xe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return t.parsedType===A.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}},{key:"removeDefault",value:function(){return this._def.innerType}}]),n}(R);xe.create=function(e,t){return new xe(_objectSpread({innerType:e,typeName:Ee.ZodDefault,defaultValue:"function"==typeof t.default?t.default:function(){return t.default}},M(t)))};var _e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx,r=_objectSpread(_objectSpread({},n),{},{common:_objectSpread(_objectSpread({},n.common),{},{issues:[]})}),i=this._def.innerType._parse({data:r.data,path:r.path,parent:_objectSpread({},r)});return T(i)?i.then((function(e){return{status:"valid",value:"valid"===e.status?e.value:t._def.catchValue({get error(){return new h(r.common.issues)},input:r.data})}})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new h(r.common.issues)},input:r.data})}}},{key:"removeCatch",value:function(){return this._def.innerType}}]),n}(R);_e.create=function(e,t){return new _e(_objectSpread({innerType:e,typeName:Ee.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:function(){return t.catch}},M(t)))};var Ce=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){if(this._getType(e)!==A.nan){var t=this._getOrReturnCtx(e);return y(t,{code:d.invalid_type,expected:A.nan,received:t.parsedType}),x}return{status:"valid",value:e.data}}}]),n}(R);Ce.create=function(e){return new Ce(_objectSpread({typeName:Ee.ZodNaN},M(e)))};var Ee,Se=Symbol("zod_brand"),Be=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}},{key:"unwrap",value:function(){return this._def.type}}]),n}(R),Te=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,i=n.ctx;if(i.common.async)return _asyncToGenerator(_regeneratorRuntime().mark((function e(){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._def.in._parseAsync({data:i.data,path:i.path,parent:i});case 2:return n=e.sent,e.abrupt("return","aborted"===n.status?x:"dirty"===n.status?(r.dirty(),_(n.value)):t._def.out._parseAsync({data:n.value,path:i.path,parent:i}));case 4:case"end":return e.stop()}}),e)})))();var a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===a.status?x:"dirty"===a.status?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}],[{key:"create",value:function(e,t){return new n({in:e,out:t,typeName:Ee.ZodPipeline})}}]),n}(R),Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?Y.create().superRefine((function(r,i){var a,o;if(!e(r)){var s="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,u=null===(o=null!==(a=s.fatal)&&void 0!==a?a:n)||void 0===o||o,l="string"==typeof s?{message:s}:s;i.addIssue(_objectSpread(_objectSpread({code:"custom"},l),{},{fatal:u}))}})):Y.create()},ke={object:ne.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(Ee||(Ee={}));var Me=H.create,Re=z.create,Ue=Ce.create,Fe=G.create,Oe=V.create,Pe=W.create,De=K.create,Le=X.create,Ne=q.create,Qe=Y.create,He=Z.create,je=J.create,ze=$.create,Ge=ee.create,Ve=ne.create,We=ne.strictCreate,Ke=re.create,Xe=ae.create,qe=se.create,Ye=ue.create,Ze=le.create,Je=ce.create,$e=Ae.create,et=fe.create,tt=de.create,nt=he.create,rt=ve.create,it=ge.create,at=me.create,ot=ye.create,st=be.create,ut=we.create,lt=ye.createWithPreprocess,ct=Te.create,At={string:function(e){return H.create(_objectSpread(_objectSpread({},e),{},{coerce:!0}))},number:function(e){return z.create(_objectSpread(_objectSpread({},e),{},{coerce:!0}))},boolean:function(e){return V.create(_objectSpread(_objectSpread({},e),{},{coerce:!0}))},bigint:function(e){return G.create(_objectSpread(_objectSpread({},e),{},{coerce:!0}))},date:function(e){return W.create(_objectSpread(_objectSpread({},e),{},{coerce:!0}))}},ft=x,dt=Object.freeze({__proto__:null,defaultErrorMap:p,setErrorMap:function(e){v=e},getErrorMap:g,makeIssue:m,EMPTY_PATH:[],addIssueToContext:y,ParseStatus:w,INVALID:x,DIRTY:_,OK:C,isAborted:E,isDirty:S,isValid:B,isAsync:T,get util(){return l},get objectUtil(){return c},ZodParsedType:A,getParsedType:f,ZodType:R,ZodString:H,ZodNumber:z,ZodBigInt:G,ZodBoolean:V,ZodDate:W,ZodSymbol:K,ZodUndefined:X,ZodNull:q,ZodAny:Y,ZodUnknown:Z,ZodNever:J,ZodVoid:$,ZodArray:ee,ZodObject:ne,ZodUnion:re,ZodDiscriminatedUnion:ae,ZodIntersection:se,ZodTuple:ue,ZodRecord:le,ZodMap:ce,ZodSet:Ae,ZodFunction:fe,ZodLazy:de,ZodLiteral:he,ZodEnum:ve,ZodNativeEnum:ge,ZodPromise:me,ZodEffects:ye,ZodTransformer:ye,ZodOptional:be,ZodNullable:we,ZodDefault:xe,ZodCatch:_e,ZodNaN:Ce,BRAND:Se,ZodBranded:Be,ZodPipeline:Te,custom:Ie,Schema:R,ZodSchema:R,late:ke,get ZodFirstPartyTypeKind(){return Ee},coerce:At,any:Qe,array:Ge,bigint:Fe,boolean:Oe,date:Pe,discriminatedUnion:Xe,effect:ot,enum:rt,function:et,instanceof:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"Input not instance of ".concat(e.name)};return Ie((function(t){return t instanceof e}),t)},intersection:qe,lazy:tt,literal:nt,map:Je,nan:Ue,nativeEnum:it,never:je,null:Ne,nullable:ut,number:Re,object:Ve,oboolean:function(){return Oe().optional()},onumber:function(){return Re().optional()},optional:st,ostring:function(){return Me().optional()},pipeline:ct,preprocess:lt,promise:at,record:Ze,set:$e,strictObject:We,string:Me,symbol:De,transformer:ot,tuple:Ye,undefined:Le,union:Ke,unknown:He,void:ze,NEVER:ft,ZodIssueCode:d,quotelessJson:function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")},ZodError:h}),ht=dt.object({publicPath:dt.string().optional().describe("The public path to the wasm files and the onnx model.").transform((function(e){return e?o(e):e})),debug:dt.boolean().default(!1).describe("Whether to enable debug logging."),proxyToWorker:dt.boolean().default(!0).describe("Whether to proxy inference to a web worker."),fetchArgs:dt.object({}).default({}).describe("Arguments to pass to fetch when loading the model."),progress:dt.function().args(dt.string(),dt.number(),dt.number()).returns(dt.undefined()).describe("Progress callback.").optional(),model:dt.enum(["small","medium"]).default("medium")}).default({}),pt=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vt=__nested_webpack_require_1493429__(793),gt=new Map([["small",{url:__nested_webpack_require_1493429__(60),size:44342436,mime:"application/octet-stream"}],["medium",{url:__nested_webpack_require_1493429__(920),size:88188479,mime:"application/octet-stream"}],["ort-wasm-simd-threaded.jsep.wasm",{url:__nested_webpack_require_1493429__(111),size:18215132,mime:"application/wasm"}],["ort-wasm-simd.jsep.wasm",{url:__nested_webpack_require_1493429__(48),size:16836274,mime:"application/wasm"}],["ort-wasm-simd-threaded.wasm",{url:__nested_webpack_require_1493429__(965),size:10281838,mime:"application/wasm"}],["ort-wasm-simd.wasm",{url:__nested_webpack_require_1493429__(884),size:10335238,mime:"application/wasm"}],["ort-wasm-threaded.wasm",{url:__nested_webpack_require_1493429__(342),size:9413659,mime:"application/wasm"}],["ort-wasm.wasm",{url:__nested_webpack_require_1493429__(393),size:9487920,mime:"application/wasm"}]]);function mt(n,r){return e(this,void 0,void 0,(function(){var e,i,a,o,s;return t(this,(function(t){switch(t.label){case 0:return e=gt.get(n),i=e.url,r.publicPath&&(i=new URL(i.split("/").pop(),r.publicPath).toString()),[4,fetch(i,r.fetchArgs)];case 1:return a=t.sent(),r.progress?[4,yt(a,e,r,n)]:[3,3];case 2:return o=t.sent(),[3,5];case 3:return[4,a.blob()];case 4:o=[t.sent()],t.label=5;case 5:if((s=new Blob(o,{type:e.mime})).size!==e.size)throw new Error("Failed to fetch ".concat(n," with size ").concat(e.size," but got ").concat(s.size));return[2,s]}}))}))}function yt(n,r,i,a){var o;return e(this,void 0,void 0,(function(){var e,s,u,l,c,A,f;return t(this,(function(t){switch(t.label){case 0:e=n.body.getReader(),s=null!==(o=r.size)&&void 0!==o?o:0,u=0,l=[],t.label=1;case 1:return[4,e.read()];case 2:return c=t.sent(),A=c.done,f=c.value,A?[3,3]:(l.push(f),u+=f.length,i.progress&&i.progress("fetch:".concat(a),u,s),[3,1]);case 3:return[2,l]}}))}))}var bt=__nested_webpack_require_1493429__(486),wt=function(n,i){var a;return e(this,void 0,void 0,(function(){var e,o,l,c;return t(this,(function(t){switch(t.label){case 0:return[4,_t(i)];case 1:return e=t.sent(),o=e.config,l=e.imports,c=e.session,o.debug&&(o.progress=null!==(a=o.progress)&&void 0!==a?a:function(e,t,n){console.debug("Downloading ".concat(e,": ").concat(t," of ").concat(n))},crossOriginIsolated||console.debug("Cross-Origin-Isolated is not enabled. Performance will be degraded. Please see  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer.")),[4,s(n)];case 2:if(!((n=t.sent())instanceof ImageData))throw new Error("Image not an ImageData | ArrayBuffer | Uint8Array | Blob | URL | string");return[4,u(n,o,l,c)];case 3:return[4,r(t.sent())];case 4:return[2,t.sent()]}}))}))};function xt(n,r){return e(this,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return n.debug&&console.debug("Loading model..."),[4,mt(n.model,n)];case 1:return[4,t.sent().arrayBuffer()];case 2:return e=t.sent(),[4,r.createSession(e)];case 3:return[2,t.sent()]}}))}))}var _t=(0,bt.memoize)((function(n){return e(this,void 0,void 0,(function(){var r,i;return t(this,(function(a){switch(a.label){case 0:return n=function(e){var t=ht.parse(null!=e?e:{});return t.debug&&console.log("Config:",t),t}(n),r=function(n){var r=this;return{createSession:function(i){return e(r,void 0,void 0,(function(){var e,r,a,o,s,u,l,c,A,f,d,h,p,v,g,m,y,b,w;return t(this,(function(t){switch(t.label){case 0:return y={},[4,pt()];case 1:return y.simd=t.sent(),[4,function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))];case 2:return y.threads=t.sent(),y.SharedArrayBuffer="undefined"!=typeof SharedArrayBuffer,y.numThreads=null!==(w=navigator.hardwareConcurrency)&&void 0!==w?w:4,y.webgpu=void 0!==navigator.gpu,e=y,n.debug&&(console.debug("Capabilities:",e),vt.env.debug=!0,vt.env.logLevel="verbose"),vt.env.wasm.numThreads=e.numThreads,vt.env.wasm.simd=e.simd,vt.env.wasm.proxy=n.proxyToWorker,r=vt.env.wasm,b={},a="ort-wasm-simd-threaded.wasm",s=(o=URL).createObjectURL,[4,mt("ort-wasm-simd-threaded.wasm",n)];case 3:return b[a]=s.apply(o,[t.sent()]),u="ort-wasm-simd.wasm",c=(l=URL).createObjectURL,[4,mt("ort-wasm-simd.wasm",n)];case 4:return b[u]=c.apply(l,[t.sent()]),A="ort-wasm-threaded.wasm",d=(f=URL).createObjectURL,[4,mt("ort-wasm-threaded.wasm",n)];case 5:return b[A]=d.apply(f,[t.sent()]),h="ort-wasm.wasm",v=(p=URL).createObjectURL,[4,mt("ort-wasm.wasm",n)];case 6:return r.wasmPaths=(b[h]=v.apply(p,[t.sent()]),b),n.debug&&console.debug("ort.env.wasm:",vt.env.wasm),g={executionProviders:["wasm"],graphOptimizationLevel:"all",executionMode:"parallel",enableCpuMemArena:!0},[4,vt.InferenceSession.create(i,g).catch((function(e){throw new Error("Failed to create session: ".concat(e,". Please check if the publicPath is set correctly."))}))];case 7:return m=t.sent(),URL.revokeObjectURL(vt.env.wasm.wasmPaths["ort-wasm-simd-threaded.wasm"]),URL.revokeObjectURL(vt.env.wasm.wasmPaths["ort-wasm-simd.wasm"]),URL.revokeObjectURL(vt.env.wasm.wasmPaths["ort-wasm-threaded.wasm"]),URL.revokeObjectURL(vt.env.wasm.wasmPaths["ort-wasm.wasm"]),[2,m]}}))}))},runSession:function(n,i,a){return e(r,void 0,void 0,(function(){var e,r,o,s,u,l,c,A,f,d,h;return t(this,(function(t){switch(t.label){case 0:for(e={},r=0,o=i;r<o.length;r++)s=o[r],f=s[0],h=s[1],e[f]=new vt.Tensor("float32",new Float32Array(h.data),h.shape);return[4,n.run(e,{})];case 1:for(u=t.sent(),l=[],c=0,A=a;c<A.length;c++)f=A[c],d=u[f],h={data:d.data,shape:d.dims,dataType:"float32"},l.push(h);return[2,l]}}))}))}}}(n),[4,xt(n,r)];case 1:return i=a.sent(),[2,{config:n,imports:r,session:i}]}}))}))}),(function(e){return JSON.stringify(e)}))}(),__nested_webpack_exports__}()},module.exports=t()},781:function(e,t){"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0}},6123:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},5599:function(e){e.exports=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return u(e)||l(e)||c(e)||f()}function u(e){if(Array.isArray(e))return A(e)}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e,t){if(e){if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function h(e){var t=d(e,"string");return"symbol"===typeof t?t:String(t)}var p="undefined"!==typeof window&&"undefined"!==typeof window.document,v=p?window:{},g=!(!p||!v.document.documentElement)&&"ontouchstart"in v.document.documentElement,m=!!p&&"PointerEvent"in v,y="cropper",b="all",w="crop",x="move",_="zoom",C="e",E="w",S="s",B="n",T="ne",I="nw",k="se",M="sw",R="".concat(y,"-crop"),U="".concat(y,"-disabled"),F="".concat(y,"-hidden"),O="".concat(y,"-hide"),P="".concat(y,"-invisible"),D="".concat(y,"-modal"),L="".concat(y,"-move"),N="".concat(y,"Action"),Q="".concat(y,"Preview"),H="crop",j="move",z="none",G="crop",V="cropend",W="cropmove",K="cropstart",X="dblclick",q=g?"touchstart":"mousedown",Y=g?"touchmove":"mousemove",Z=g?"touchend touchcancel":"mouseup",J=m?"pointerdown":q,$=m?"pointermove":Y,ee=m?"pointerup pointercancel":Z,te="ready",ne="resize",re="wheel",ie="zoom",ae="image/jpeg",oe=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,se=/^data:/,ue=/^data:image\/jpeg;base64,/,le=/^img|canvas$/i,ce=200,Ae=100,fe={viewMode:0,dragMode:H,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ce,minContainerHeight:Ae,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},de='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',he=Number.isNaN||v.isNaN;function pe(e){return"number"===typeof e&&!he(e)}var ve=function(e){return e>0&&e<1/0};function ge(e){return"undefined"===typeof e}function me(e){return"object"===n(e)&&null!==e}var ye=Object.prototype.hasOwnProperty;function be(e){if(!me(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&ye.call(n,"isPrototypeOf")}catch(r){return!1}}function we(e){return"function"===typeof e}var xe=Array.prototype.slice;function _e(e){return Array.from?Array.from(e):xe.call(e)}function Ce(e,t){return e&&we(t)&&(Array.isArray(e)||pe(e.length)?_e(e).forEach((function(n,r){t.call(e,n,r,e)})):me(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var Ee=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return me(e)&&n.length>0&&n.forEach((function(t){me(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},Se=/\.\d*(?:0|9){12}\d*$/;function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Se.test(e)?Math.round(e*t)/t:e}var Te=/^width|height|left|top|marginLeft|marginTop$/;function Ie(e,t){var n=e.style;Ce(t,(function(e,t){Te.test(t)&&pe(e)&&(e="".concat(e,"px")),n[t]=e}))}function ke(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function Me(e,t){if(t)if(pe(e.length))Ce(e,(function(e){Me(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function Re(e,t){t&&(pe(e.length)?Ce(e,(function(e){Re(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function Ue(e,t,n){t&&(pe(e.length)?Ce(e,(function(e){Ue(e,t,n)})):n?Me(e,t):Re(e,t))}var Fe=/([a-z\d])([A-Z])/g;function Oe(e){return e.replace(Fe,"$1-$2").toLowerCase()}function Pe(e,t){return me(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Oe(t)))}function De(e,t,n){me(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(Oe(t)),n)}function Le(e,t){if(me(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Oe(t)))}var Ne=/\s\s*/,Qe=function(){var e=!1;if(p){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});v.addEventListener("test",n,r),v.removeEventListener("test",n,r)}return e}();function He(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n;t.trim().split(Ne).forEach((function(t){if(!Qe){var a=e.listeners;a&&a[t]&&a[t][n]&&(i=a[t][n],delete a[t][n],0===Object.keys(a[t]).length&&delete a[t],0===Object.keys(a).length&&delete e.listeners)}e.removeEventListener(t,i,r)}))}function je(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n;t.trim().split(Ne).forEach((function(t){if(r.once&&!Qe){var a=e.listeners,o=void 0===a?{}:a;i=function(){delete o[t][n],e.removeEventListener(t,i,r);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];n.apply(e,s)},o[t]||(o[t]={}),o[t][n]&&e.removeEventListener(t,o[t][n],r),o[t][n]=i,e.listeners=o}e.addEventListener(t,i,r)}))}function ze(e,t,n){var r;return we(Event)&&we(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}function Ge(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Ve=v.location,We=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ke(e){var t=e.match(We);return null!==t&&(t[1]!==Ve.protocol||t[2]!==Ve.hostname||t[3]!==Ve.port)}function Xe(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function qe(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,i=e.translateX,a=e.translateY,o=[];pe(i)&&0!==i&&o.push("translateX(".concat(i,"px)")),pe(a)&&0!==a&&o.push("translateY(".concat(a,"px)")),pe(t)&&0!==t&&o.push("rotate(".concat(t,"deg)")),pe(n)&&1!==n&&o.push("scaleX(".concat(n,")")),pe(r)&&1!==r&&o.push("scaleY(".concat(r,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Ye(e){var n=t({},e),r=0;return Ce(e,(function(e,t){delete n[t],Ce(n,(function(t){var n=Math.abs(e.startX-t.startX),i=Math.abs(e.startY-t.startY),a=Math.abs(e.endX-t.endX),o=Math.abs(e.endY-t.endY),s=Math.sqrt(n*n+i*i),u=(Math.sqrt(a*a+o*o)-s)/s;Math.abs(u)>Math.abs(r)&&(r=u)}))})),r}function Ze(e,n){var r=e.pageX,i=e.pageY,a={endX:r,endY:i};return n?a:t({startX:r,startY:i},a)}function Je(e){var t=0,n=0,r=0;return Ce(e,(function(e){var i=e.startX,a=e.startY;t+=i,n+=a,r+=1})),{pageX:t/=r,pageY:n/=r}}function $e(e){var t=e.aspectRatio,n=e.height,r=e.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=ve(r),o=ve(n);if(a&&o){var s=n*t;"contain"===i&&s>r||"cover"===i&&s<r?n=r/t:r=n*t}else a?n=r/t:o&&(r=n*t);return{width:r,height:n}}function et(e){var t=e.width,n=e.height,r=e.degree;if(90===(r=Math.abs(r)%180))return{width:n,height:t};var i=r%90*Math.PI/180,a=Math.sin(i),o=Math.cos(i),s=t*o+n*a,u=t*a+n*o;return r>90?{width:u,height:s}:{width:s,height:u}}function tt(e,t,n,r){var i=t.aspectRatio,a=t.naturalWidth,o=t.naturalHeight,u=t.rotate,l=void 0===u?0:u,c=t.scaleX,A=void 0===c?1:c,f=t.scaleY,d=void 0===f?1:f,h=n.aspectRatio,p=n.naturalWidth,v=n.naturalHeight,g=r.fillColor,m=void 0===g?"transparent":g,y=r.imageSmoothingEnabled,b=void 0===y||y,w=r.imageSmoothingQuality,x=void 0===w?"low":w,_=r.maxWidth,C=void 0===_?1/0:_,E=r.maxHeight,S=void 0===E?1/0:E,B=r.minWidth,T=void 0===B?0:B,I=r.minHeight,k=void 0===I?0:I,M=document.createElement("canvas"),R=M.getContext("2d"),U=$e({aspectRatio:h,width:C,height:S}),F=$e({aspectRatio:h,width:T,height:k},"cover"),O=Math.min(U.width,Math.max(F.width,p)),P=Math.min(U.height,Math.max(F.height,v)),D=$e({aspectRatio:i,width:C,height:S}),L=$e({aspectRatio:i,width:T,height:k},"cover"),N=Math.min(D.width,Math.max(L.width,a)),Q=Math.min(D.height,Math.max(L.height,o)),H=[-N/2,-Q/2,N,Q];return M.width=Be(O),M.height=Be(P),R.fillStyle=m,R.fillRect(0,0,O,P),R.save(),R.translate(O/2,P/2),R.rotate(l*Math.PI/180),R.scale(A,d),R.imageSmoothingEnabled=b,R.imageSmoothingQuality=x,R.drawImage.apply(R,[e].concat(s(H.map((function(e){return Math.floor(Be(e))}))))),R.restore(),M}var nt=String.fromCharCode;function rt(e,t,n){var r="";n+=t;for(var i=t;i<n;i+=1)r+=nt(e.getUint8(i));return r}var it=/^data:.*,/;function at(e){var t=e.replace(it,""),n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r);return Ce(i,(function(e,t){i[t]=n.charCodeAt(t)})),r}function ot(e,t){for(var n=[],r=8192,i=new Uint8Array(e);i.length>0;)n.push(nt.apply(null,_e(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}function st(e){var t,n=new DataView(e);try{var r,i,a;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var o=n.byteLength,s=2;s+1<o;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){i=s;break}s+=1}if(i){var u=i+10;if("Exif"===rt(n,i+4,4)){var l=n.getUint16(u);if(((r=18761===l)||19789===l)&&42===n.getUint16(u+2,r)){var c=n.getUint32(u+4,r);c>=8&&(a=u+c)}}}if(a){var A,f,d=n.getUint16(a,r);for(f=0;f<d;f+=1)if(A=a+12*f+2,274===n.getUint16(A,r)){A+=8,t=n.getUint16(A,r),n.setUint16(A,1,r);break}}}catch(h){t=1}return t}function ut(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:r}}var lt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,r=this.cropper,i=Number(t.minContainerWidth),a=Number(t.minContainerHeight);Me(r,F),Re(e,F);var o={width:Math.max(n.offsetWidth,i>=0?i:ce),height:Math.max(n.offsetHeight,a>=0?a:Ae)};this.containerData=o,Ie(r,{width:o.width,height:o.height}),Me(e,F),Re(r,F)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,r=Math.abs(t.rotate)%180===90,i=r?t.naturalHeight:t.naturalWidth,a=r?t.naturalWidth:t.naturalHeight,o=i/a,s=e.width,u=e.height;e.height*o>e.width?3===n?s=e.height*o:u=e.width/o:3===n?u=e.width/o:s=e.height*o;var l={aspectRatio:o,naturalWidth:i,naturalHeight:a,width:s,height:u};this.canvasData=l,this.limited=1===n||2===n,this.limitCanvas(!0,!0),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),l.left=(e.width-l.width)/2,l.top=(e.height-l.height)/2,l.oldLeft=l.left,l.oldTop=l.top,this.initialCanvasData=Ee({},l)},limitCanvas:function(e,t){var n=this.options,r=this.containerData,i=this.canvasData,a=this.cropBoxData,o=n.viewMode,s=i.aspectRatio,u=this.cropped&&a;if(e){var l=Number(n.minCanvasWidth)||0,c=Number(n.minCanvasHeight)||0;o>1?(l=Math.max(l,r.width),c=Math.max(c,r.height),3===o&&(c*s>l?l=c*s:c=l/s)):o>0&&(l?l=Math.max(l,u?a.width:0):c?c=Math.max(c,u?a.height:0):u&&(l=a.width,(c=a.height)*s>l?l=c*s:c=l/s));var A=$e({aspectRatio:s,width:l,height:c});l=A.width,c=A.height,i.minWidth=l,i.minHeight=c,i.maxWidth=1/0,i.maxHeight=1/0}if(t)if(o>(u?0:1)){var f=r.width-i.width,d=r.height-i.height;i.minLeft=Math.min(0,f),i.minTop=Math.min(0,d),i.maxLeft=Math.max(0,f),i.maxTop=Math.max(0,d),u&&this.limited&&(i.minLeft=Math.min(a.left,a.left+(a.width-i.width)),i.minTop=Math.min(a.top,a.top+(a.height-i.height)),i.maxLeft=a.left,i.maxTop=a.top,2===o&&(i.width>=r.width&&(i.minLeft=Math.min(0,f),i.maxLeft=Math.max(0,f)),i.height>=r.height&&(i.minTop=Math.min(0,d),i.maxTop=Math.max(0,d))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=r.width,i.maxTop=r.height},renderCanvas:function(e,t){var n=this.canvasData,r=this.imageData;if(t){var i=et({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),a=i.width,o=i.height,s=n.width*(a/n.naturalWidth),u=n.height*(o/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(u-n.height)/2,n.width=s,n.height=u,n.aspectRatio=a/o,n.naturalWidth=a,n.naturalHeight=o,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,Ie(this.canvas,Ee({width:n.width,height:n.height},qe({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,r=n.naturalWidth*(t.width/t.naturalWidth),i=n.naturalHeight*(t.height/t.naturalHeight);Ee(n,{width:r,height:i,left:(t.width-r)/2,top:(t.height-i)/2}),Ie(this.image,Ee({width:n.width,height:n.height},qe(Ee({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,r=Number(e.autoCropArea)||.8,i={width:t.width,height:t.height};n&&(t.height*n>t.width?i.height=i.width/n:i.width=i.height*n),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*r),i.height=Math.max(i.minHeight,i.height*r),i.left=t.left+(t.width-i.width)/2,i.top=t.top+(t.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=Ee({},i)},limitCropBox:function(e,t){var n=this.options,r=this.containerData,i=this.canvasData,a=this.cropBoxData,o=this.limited,s=n.aspectRatio;if(e){var u=Number(n.minCropBoxWidth)||0,l=Number(n.minCropBoxHeight)||0,c=o?Math.min(r.width,i.width,i.width+i.left,r.width-i.left):r.width,A=o?Math.min(r.height,i.height,i.height+i.top,r.height-i.top):r.height;u=Math.min(u,r.width),l=Math.min(l,r.height),s&&(u&&l?l*s>u?l=u/s:u=l*s:u?l=u/s:l&&(u=l*s),A*s>c?A=c/s:c=A*s),a.minWidth=Math.min(u,c),a.minHeight=Math.min(l,A),a.maxWidth=c,a.maxHeight=A}t&&(o?(a.minLeft=Math.max(0,i.left),a.minTop=Math.max(0,i.top),a.maxLeft=Math.min(r.width,i.left+i.width)-a.width,a.maxTop=Math.min(r.height,i.top+i.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=r.width-a.width,a.maxTop=r.height-a.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&De(this.face,N,n.width>=t.width&&n.height>=t.height?x:b),Ie(this.cropBox,Ee({width:n.width,height:n.height},qe({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ze(this.element,G,this.getData())}},ct={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,r=t?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",a=document.createElement("img");if(t&&(a.crossOrigin=t),a.src=r,a.alt=i,this.viewBox.appendChild(a),this.viewBoxImage=a,n){var o=n;"string"===typeof n?o=e.ownerDocument.querySelectorAll(n):n.querySelector&&(o=[n]),this.previews=o,Ce(o,(function(e){var n=document.createElement("img");De(e,Q,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=r,n.alt=i,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){Ce(this.previews,(function(e){var t=Pe(e,Q);Ie(e,{width:t.width,height:t.height}),e.innerHTML=t.html,Le(e,Q)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,r=n.width,i=n.height,a=e.width,o=e.height,s=n.left-t.left-e.left,u=n.top-t.top-e.top;this.cropped&&!this.disabled&&(Ie(this.viewBoxImage,Ee({width:a,height:o},qe(Ee({translateX:-s,translateY:-u},e)))),Ce(this.previews,(function(t){var n=Pe(t,Q),l=n.width,c=n.height,A=l,f=c,d=1;r&&(f=i*(d=l/r)),i&&f>c&&(A=r*(d=c/i),f=c),Ie(t,{width:A,height:f}),Ie(t.getElementsByTagName("img")[0],Ee({width:a*d,height:o*d},qe(Ee({translateX:-s*d,translateY:-u*d},e))))})))}},At={bind:function(){var e=this.element,t=this.options,n=this.cropper;we(t.cropstart)&&je(e,K,t.cropstart),we(t.cropmove)&&je(e,W,t.cropmove),we(t.cropend)&&je(e,V,t.cropend),we(t.crop)&&je(e,G,t.crop),we(t.zoom)&&je(e,ie,t.zoom),je(n,J,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&je(n,re,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&je(n,X,this.onDblclick=this.dblclick.bind(this)),je(e.ownerDocument,$,this.onCropMove=this.cropMove.bind(this)),je(e.ownerDocument,ee,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&je(window,ne,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;we(t.cropstart)&&He(e,K,t.cropstart),we(t.cropmove)&&He(e,W,t.cropmove),we(t.cropend)&&He(e,V,t.cropend),we(t.crop)&&He(e,G,t.crop),we(t.zoom)&&He(e,ie,t.zoom),He(n,J,this.onCropStart),t.zoomable&&t.zoomOnWheel&&He(n,re,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&He(n,X,this.onDblclick),He(e.ownerDocument,$,this.onCropMove),He(e.ownerDocument,ee,this.onCropEnd),t.responsive&&He(window,ne,this.onResize)}},ft={resize:function(){if(!this.disabled){var e,t,n=this.options,r=this.container,i=this.containerData,a=r.offsetWidth/i.width,o=r.offsetHeight/i.height,s=Math.abs(a-1)>Math.abs(o-1)?a:o;1!==s&&(n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(Ce(e,(function(t,n){e[n]=t*s}))),this.setCropBoxData(Ce(t,(function(e,n){t[n]=e*s})))))}},dblclick:function(){this.disabled||this.options.dragMode===z||this.setDragMode(ke(this.dragBox,R)?j:H)},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(pe(t)&&1!==t||pe(n)&&0!==n||e.ctrlKey))){var r,i=this.options,a=this.pointers;e.changedTouches?Ce(e.changedTouches,(function(e){a[e.identifier]=Ze(e)})):a[e.pointerId||0]=Ze(e),r=Object.keys(a).length>1&&i.zoomable&&i.zoomOnTouch?_:Pe(e.target,N),oe.test(r)&&!1!==ze(this.element,K,{originalEvent:e,action:r})&&(e.preventDefault(),this.action=r,this.cropping=!1,r===w&&(this.cropping=!0,Me(this.dragBox,D)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==ze(this.element,W,{originalEvent:e,action:t})&&(e.changedTouches?Ce(e.changedTouches,(function(e){Ee(n[e.identifier]||{},Ze(e,!0))})):Ee(n[e.pointerId||0]||{},Ze(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?Ce(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Ue(this.dragBox,D,this.cropped&&this.options.modal)),ze(this.element,V,{originalEvent:e,action:t}))}}},dt={change:function(e){var t,n=this.options,r=this.canvasData,i=this.containerData,a=this.cropBoxData,o=this.pointers,s=this.action,u=n.aspectRatio,l=a.left,c=a.top,A=a.width,f=a.height,d=l+A,h=c+f,p=0,v=0,g=i.width,m=i.height,y=!0;!u&&e.shiftKey&&(u=A&&f?A/f:1),this.limited&&(p=a.minLeft,v=a.minTop,g=p+Math.min(i.width,r.width,r.left+r.width),m=v+Math.min(i.height,r.height,r.top+r.height));var R=o[Object.keys(o)[0]],U={x:R.endX-R.startX,y:R.endY-R.startY},O=function(e){switch(e){case C:d+U.x>g&&(U.x=g-d);break;case E:l+U.x<p&&(U.x=p-l);break;case B:c+U.y<v&&(U.y=v-c);break;case S:h+U.y>m&&(U.y=m-h)}};switch(s){case b:l+=U.x,c+=U.y;break;case C:if(U.x>=0&&(d>=g||u&&(c<=v||h>=m))){y=!1;break}O(C),(A+=U.x)<0&&(s=E,l-=A=-A),u&&(f=A/u,c+=(a.height-f)/2);break;case B:if(U.y<=0&&(c<=v||u&&(l<=p||d>=g))){y=!1;break}O(B),f-=U.y,c+=U.y,f<0&&(s=S,c-=f=-f),u&&(A=f*u,l+=(a.width-A)/2);break;case E:if(U.x<=0&&(l<=p||u&&(c<=v||h>=m))){y=!1;break}O(E),A-=U.x,l+=U.x,A<0&&(s=C,l-=A=-A),u&&(f=A/u,c+=(a.height-f)/2);break;case S:if(U.y>=0&&(h>=m||u&&(l<=p||d>=g))){y=!1;break}O(S),(f+=U.y)<0&&(s=B,c-=f=-f),u&&(A=f*u,l+=(a.width-A)/2);break;case T:if(u){if(U.y<=0&&(c<=v||d>=g)){y=!1;break}O(B),f-=U.y,c+=U.y,A=f*u}else O(B),O(C),U.x>=0?d<g?A+=U.x:U.y<=0&&c<=v&&(y=!1):A+=U.x,U.y<=0?c>v&&(f-=U.y,c+=U.y):(f-=U.y,c+=U.y);A<0&&f<0?(s=M,c-=f=-f,l-=A=-A):A<0?(s=I,l-=A=-A):f<0&&(s=k,c-=f=-f);break;case I:if(u){if(U.y<=0&&(c<=v||l<=p)){y=!1;break}O(B),f-=U.y,c+=U.y,A=f*u,l+=a.width-A}else O(B),O(E),U.x<=0?l>p?(A-=U.x,l+=U.x):U.y<=0&&c<=v&&(y=!1):(A-=U.x,l+=U.x),U.y<=0?c>v&&(f-=U.y,c+=U.y):(f-=U.y,c+=U.y);A<0&&f<0?(s=k,c-=f=-f,l-=A=-A):A<0?(s=T,l-=A=-A):f<0&&(s=M,c-=f=-f);break;case M:if(u){if(U.x<=0&&(l<=p||h>=m)){y=!1;break}O(E),A-=U.x,l+=U.x,f=A/u}else O(S),O(E),U.x<=0?l>p?(A-=U.x,l+=U.x):U.y>=0&&h>=m&&(y=!1):(A-=U.x,l+=U.x),U.y>=0?h<m&&(f+=U.y):f+=U.y;A<0&&f<0?(s=T,c-=f=-f,l-=A=-A):A<0?(s=k,l-=A=-A):f<0&&(s=I,c-=f=-f);break;case k:if(u){if(U.x>=0&&(d>=g||h>=m)){y=!1;break}O(C),f=(A+=U.x)/u}else O(S),O(C),U.x>=0?d<g?A+=U.x:U.y>=0&&h>=m&&(y=!1):A+=U.x,U.y>=0?h<m&&(f+=U.y):f+=U.y;A<0&&f<0?(s=I,c-=f=-f,l-=A=-A):A<0?(s=M,l-=A=-A):f<0&&(s=T,c-=f=-f);break;case x:this.move(U.x,U.y),y=!1;break;case _:this.zoom(Ye(o),e),y=!1;break;case w:if(!U.x||!U.y){y=!1;break}t=Ge(this.cropper),l=R.startX-t.left,c=R.startY-t.top,A=a.minWidth,f=a.minHeight,U.x>0?s=U.y>0?k:T:U.x<0&&(l-=A,s=U.y>0?M:I),U.y<0&&(c-=f),this.cropped||(Re(this.cropBox,F),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}y&&(a.width=A,a.height=f,a.left=l,a.top=c,this.action=s,this.renderCropBox()),Ce(o,(function(e){e.startX=e.endX,e.startY=e.endY}))}},ht={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Me(this.dragBox,D),Re(this.cropBox,F),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ee({},this.initialImageData),this.canvasData=Ee({},this.initialCanvasData),this.cropBoxData=Ee({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ee(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Re(this.dragBox,D),Me(this.cropBox,F)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Ce(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Re(this.cropper,U)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Me(this.cropper,U)),this},destroy:function(){var e=this.element;return e[y]?(e[y]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=n.left,i=n.top;return this.moveTo(ge(e)?e:r+Number(e),ge(t)?t:i+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(pe(e)&&(n.left=e,r=!0),pe(t)&&(n.top=t,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var r=this.options,i=this.canvasData,a=i.width,o=i.height,s=i.naturalWidth,u=i.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&r.zoomable){var l=s*e,c=u*e;if(!1===ze(this.element,ie,{ratio:e,oldRatio:a/s,originalEvent:n}))return this;if(n){var A=this.pointers,f=Ge(this.cropper),d=A&&Object.keys(A).length?Je(A):{pageX:n.pageX,pageY:n.pageY};i.left-=(l-a)*((d.pageX-f.left-i.left)/a),i.top-=(c-o)*((d.pageY-f.top-i.top)/o)}else be(t)&&pe(t.x)&&pe(t.y)?(i.left-=(l-a)*((t.x-i.left)/a),i.top-=(c-o)*((t.y-i.top)/o)):(i.left-=(l-a)/2,i.top-=(c-o)/2);i.width=l,i.height=c,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return pe(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,pe(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(pe(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(pe(e)&&(n.scaleX=e,r=!0),pe(t)&&(n.scaleY=t,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,r=this.imageData,i=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){e={x:a.left-i.left,y:a.top-i.top,width:a.width,height:a.height};var o=r.width/r.naturalWidth;if(Ce(e,(function(t,n){e[n]=t/o})),t){var s=Math.round(e.y+e.height),u=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=u-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=r.rotate||0),n.scalable&&(e.scaleX=r.scaleX||1,e.scaleY=r.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,r=this.canvasData,i={};if(this.ready&&!this.disabled&&be(e)){var a=!1;t.rotatable&&pe(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,a=!0),t.scalable&&(pe(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,a=!0),pe(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var o=n.width/n.naturalWidth;pe(e.x)&&(i.left=e.x*o+r.left),pe(e.y)&&(i.top=e.y*o+r.top),pe(e.width)&&(i.width=e.width*o),pe(e.height)&&(i.height=e.height*o),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?Ee({},this.containerData):{}},getImageData:function(){return this.sized?Ee({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&Ce(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&be(e)&&(pe(e.left)&&(t.left=e.left),pe(e.top)&&(t.top=e.top),pe(e.width)?(t.width=e.width,t.height=e.width/n):pe(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,r=this.cropBoxData,i=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&be(e)&&(pe(e.left)&&(r.left=e.left),pe(e.top)&&(r.top=e.top),pe(e.width)&&e.width!==r.width&&(t=!0,r.width=e.width),pe(e.height)&&e.height!==r.height&&(n=!0,r.height=e.height),i&&(t?r.height=r.width/i:n&&(r.width=r.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=tt(this.image,this.imageData,t,e);if(!this.cropped)return n;var r=this.getData(e.rounded),i=r.x,a=r.y,o=r.width,u=r.height,l=n.width/Math.floor(t.naturalWidth);1!==l&&(i*=l,a*=l,o*=l,u*=l);var c=o/u,A=$e({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=$e({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),d=$e({aspectRatio:c,width:e.width||(1!==l?n.width:o),height:e.height||(1!==l?n.height:u)}),h=d.width,p=d.height;h=Math.min(A.width,Math.max(f.width,h)),p=Math.min(A.height,Math.max(f.height,p));var v=document.createElement("canvas"),g=v.getContext("2d");v.width=Be(h),v.height=Be(p),g.fillStyle=e.fillColor||"transparent",g.fillRect(0,0,h,p);var m=e.imageSmoothingEnabled,y=void 0===m||m,b=e.imageSmoothingQuality;g.imageSmoothingEnabled=y,b&&(g.imageSmoothingQuality=b);var w,x,_,C,E,S,B=n.width,T=n.height,I=i,k=a;I<=-o||I>B?(I=0,w=0,_=0,E=0):I<=0?(_=-I,I=0,E=w=Math.min(B,o+I)):I<=B&&(_=0,E=w=Math.min(o,B-I)),w<=0||k<=-u||k>T?(k=0,x=0,C=0,S=0):k<=0?(C=-k,k=0,S=x=Math.min(T,u+k)):k<=T&&(C=0,S=x=Math.min(u,T-k));var M=[I,k,w,x];if(E>0&&S>0){var R=h/o;M.push(_*R,C*R,E*R,S*R)}return g.drawImage.apply(g,[n].concat(s(M.map((function(e){return Math.floor(Be(e))}))))),v},setAspectRatio:function(e){var t=this.options;return this.disabled||ge(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var i=e===H,a=t.movable&&e===j;e=i||a?e:z,t.dragMode=e,De(n,N,e),Ue(n,R,i),Ue(n,L,a),t.cropBoxMovable||(De(r,N,e),Ue(r,R,i),Ue(r,L,a))}return this}},pt=v.Cropper,vt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),!t||!le.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Ee({},fe,be(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return a(e,[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t[y]){if(t[y]=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(se.test(e))ue.test(e)?this.read(at(e)):this.clone();else{var i=new XMLHttpRequest,a=this.clone.bind(this);this.reloading=!0,this.xhr=i,i.onabort=a,i.onerror=a,i.ontimeout=a,i.onprogress=function(){i.getResponseHeader("content-type")!==ae&&i.abort()},i.onload=function(){t.read(i.response)},i.onloadend=function(){t.reloading=!1,t.xhr=null},r.checkCrossOrigin&&Ke(e)&&n.crossOrigin&&(e=Xe(e)),i.open("GET",e,!0),i.responseType="arraybuffer",i.withCredentials="use-credentials"===n.crossOrigin,i.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,r=st(e),i=0,a=1,o=1;if(r>1){this.url=ot(e,ae);var s=ut(r);i=s.rotate,a=s.scaleX,o=s.scaleY}t.rotatable&&(n.rotate=i),t.scalable&&(n.scaleX=a,n.scaleY=o),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,r=t;this.options.checkCrossOrigin&&Ke(t)&&(n||(n="anonymous"),r=Xe(t)),this.crossOrigin=n,this.crossOriginUrl=r;var i=document.createElement("img");n&&(i.crossOrigin=n),i.src=r||t,i.alt=e.alt||"The image to crop",this.image=i,i.onload=this.start.bind(this),i.onerror=this.stop.bind(this),Me(i,O),e.parentNode.insertBefore(i,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=v.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(v.navigator.userAgent),r=function(t,n){Ee(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.initialImageData=Ee({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var i=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=i,i.onload=function(){r(i.width,i.height),n||a.removeChild(i)},i.src=t.src,n||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(i))}else r(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,r=e.parentNode,i=document.createElement("div");i.innerHTML=de;var a=i.querySelector(".".concat(y,"-container")),o=a.querySelector(".".concat(y,"-canvas")),s=a.querySelector(".".concat(y,"-drag-box")),u=a.querySelector(".".concat(y,"-crop-box")),l=u.querySelector(".".concat(y,"-face"));this.container=r,this.cropper=a,this.canvas=o,this.dragBox=s,this.cropBox=u,this.viewBox=a.querySelector(".".concat(y,"-view-box")),this.face=l,o.appendChild(n),Me(e,F),r.insertBefore(a,e.nextSibling),Re(n,O),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,Me(u,F),t.guides||Me(u.getElementsByClassName("".concat(y,"-dashed")),F),t.center||Me(u.getElementsByClassName("".concat(y,"-center")),F),t.background&&Me(a,"".concat(y,"-bg")),t.highlight||Me(l,P),t.cropBoxMovable&&(Me(l,L),De(l,N,b)),t.cropBoxResizable||(Me(u.getElementsByClassName("".concat(y,"-line")),F),Me(u.getElementsByClassName("".concat(y,"-point")),F)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),we(t.ready)&&je(e,te,t.ready,{once:!0}),ze(e,te)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),Re(this.element,F)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=pt,e}},{key:"setDefaults",value:function(e){Ee(fe,be(e)&&e)}}]),e}();return Ee(vt.prototype,lt,ct,At,ft,dt,ht),vt}()},8961:function(e){function t(e,t,n){var r,i,a,o,s;function u(){var l=Date.now()-o;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,o=Date.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},l}t.debounce=t,e.exports=t},1153:function(e,t,n){var r=n(3039),i=n(7242).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},1030:function(e,t,n){var r=n(1153),i=n(7242),a=i.each,o=i.isFunction,s=i.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}u.prototype={constructor:u,register:function(e,t,n){var i=this.queries,u=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,u)),o(t)&&(t={match:t}),s(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=u},3039:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},7242:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},3838:function(e,t,n){var r=n(1030);e.exports=new r},1905:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function o(e){try{u(r.next(e))}catch(Dt){a(Dt)}}function s(e){try{u(r.throw(e))}catch(Dt){a(Dt)}}function u(e){e.done?n(e.value):i(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(Dt){a=[6,Dt],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var o=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},u=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,r,i)},l=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"===typeof Uint8Array?[]:new Uint8Array(256),d=0;d<A.length;d++)f[A.charCodeAt(d)]=d;for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"===typeof Uint8Array?[]:new Uint8Array(256),v=0;v<h.length;v++)p[h.charCodeAt(v)]=v;for(var g=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<s;t+=4)n=p[e.charCodeAt(t)],r=p[e.charCodeAt(t+1)],i=p[e.charCodeAt(t+2)],a=p[e.charCodeAt(t+3)],c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&a;return l},m=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},b=5,w=11,x=2,_=65536>>b,C=(1<<b)-1,E=_+(1024>>b)+32,S=65536>>w,B=(1<<w-b)-1,T=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},I=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},k=function(e,t){var n=g(e),r=Array.isArray(n)?y(n):new Uint32Array(n),i=Array.isArray(n)?m(n):new Uint16Array(n),a=24,o=T(i,a/2,r[4]/2),s=2===r[5]?T(i,(a+r[4])/2):I(r,Math.ceil((a+r[4])/4));return new M(r[0],r[1],r[2],r[3],o,s)},M=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>b])<<x)+(e&C),this.data[t];if(e<=65535)return t=((t=this.index[_+(e-55296>>b)])<<x)+(e&C),this.data[t];if(e<this.highStart)return t=E-S+(e>>w),t=this.index[t],t+=e>>b&B,t=((t=this.index[t])<<x)+(e&C),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U="undefined"===typeof Uint8Array?[]:new Uint8Array(256),F=0;F<R.length;F++)U[R.charCodeAt(F)]=F;var O=50,P=1,D=2,L=3,N=4,Q=5,H=7,j=8,z=9,G=10,V=11,W=12,K=13,X=14,q=15,Y=16,Z=17,J=18,$=19,ee=20,te=21,ne=22,re=23,ie=24,ae=25,oe=26,se=27,ue=28,le=29,ce=30,Ae=31,fe=32,de=33,he=34,pe=35,ve=36,ge=37,me=38,ye=39,be=40,we=41,xe=42,_e=43,Ce=[9001,65288],Ee="!",Se="\xd7",Be="\xf7",Te=k("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Ie=[ce,ve],ke=[P,D,L,Q],Me=[G,j],Re=[se,oe],Ue=ke.concat(Me),Fe=[me,ye,be,he,pe],Oe=[q,K],Pe=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,a){var o=Te.get(e);if(o>O?(i.push(!0),o-=O):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(a),n.push(Y);if(o===N||o===V){if(0===a)return r.push(a),n.push(ce);var s=n[a-1];return-1===Ue.indexOf(s)?(r.push(r[a-1]),n.push(s)):(r.push(a),n.push(ce))}return r.push(a),o===Ae?n.push("strict"===t?te:ge):o===xe||o===le?n.push(ce):o===_e?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(ge):n.push(ce):void n.push(o)})),[r,n,i]},De=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var a=n;a<=r.length;){if((u=r[++a])===t)return!0;if(u!==G)break}if(i===G)for(a=n;a>0;){var o=r[--a];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var s=n;s<=r.length;){var u;if((u=r[++s])===t)return!0;if(u!==G)break}if(o!==G)break}return!1},Le=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==G)return r;n--}return 0},Ne=function(e,t,n,r,i){if(0===n[r])return Se;var a=r-1;if(Array.isArray(i)&&!0===i[a])return Se;var o=a-1,s=a+1,u=t[a],l=o>=0?t[o]:0,c=t[s];if(u===D&&c===L)return Se;if(-1!==ke.indexOf(u))return Ee;if(-1!==ke.indexOf(c))return Se;if(-1!==Me.indexOf(c))return Se;if(Le(a,t)===j)return Be;if(Te.get(e[a])===V)return Se;if((u===fe||u===de)&&Te.get(e[s])===V)return Se;if(u===H||c===H)return Se;if(u===z)return Se;if(-1===[G,K,q].indexOf(u)&&c===z)return Se;if(-1!==[Z,J,$,ie,ue].indexOf(c))return Se;if(Le(a,t)===ne)return Se;if(De(re,ne,a,t))return Se;if(De([Z,J],te,a,t))return Se;if(De(W,W,a,t))return Se;if(u===G)return Be;if(u===re||c===re)return Se;if(c===Y||u===Y)return Be;if(-1!==[K,q,te].indexOf(c)||u===X)return Se;if(l===ve&&-1!==Oe.indexOf(u))return Se;if(u===ue&&c===ve)return Se;if(c===ee)return Se;if(-1!==Ie.indexOf(c)&&u===ae||-1!==Ie.indexOf(u)&&c===ae)return Se;if(u===se&&-1!==[ge,fe,de].indexOf(c)||-1!==[ge,fe,de].indexOf(u)&&c===oe)return Se;if(-1!==Ie.indexOf(u)&&-1!==Re.indexOf(c)||-1!==Re.indexOf(u)&&-1!==Ie.indexOf(c))return Se;if(-1!==[se,oe].indexOf(u)&&(c===ae||-1!==[ne,q].indexOf(c)&&t[s+1]===ae)||-1!==[ne,q].indexOf(u)&&c===ae||u===ae&&-1!==[ae,ue,ie].indexOf(c))return Se;if(-1!==[ae,ue,ie,Z,J].indexOf(c))for(var A=a;A>=0;){if((f=t[A])===ae)return Se;if(-1===[ue,ie].indexOf(f))break;A--}if(-1!==[se,oe].indexOf(c))for(A=-1!==[Z,J].indexOf(u)?o:a;A>=0;){var f;if((f=t[A])===ae)return Se;if(-1===[ue,ie].indexOf(f))break;A--}if(me===u&&-1!==[me,ye,he,pe].indexOf(c)||-1!==[ye,he].indexOf(u)&&-1!==[ye,be].indexOf(c)||-1!==[be,pe].indexOf(u)&&c===be)return Se;if(-1!==Fe.indexOf(u)&&-1!==[ee,oe].indexOf(c)||-1!==Fe.indexOf(c)&&u===se)return Se;if(-1!==Ie.indexOf(u)&&-1!==Ie.indexOf(c))return Se;if(u===ie&&-1!==Ie.indexOf(c))return Se;if(-1!==Ie.concat(ae).indexOf(u)&&c===ne&&-1===Ce.indexOf(e[s])||-1!==Ie.concat(ae).indexOf(c)&&u===J)return Se;if(u===we&&c===we){for(var d=n[a],h=1;d>0&&t[--d]===we;)h++;if(h%2!==0)return Se}return u===fe&&c===de?Se:Be},Qe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Pe(e,t.lineBreak),r=n[0],i=n[1],a=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[ae,ce,xe].indexOf(e)?ge:e})));var o="keep-all"===t.wordBreak?a.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,i,o]},He=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Ee,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),je=function(e,t){var n=l(e),r=Qe(n,t),i=r[0],a=r[1],o=r[2],s=n.length,u=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var e=Se;c<s&&(e=Ne(n,a,i,++c,o))===Se;);if(e!==Se||c===s){var t=new He(n,e,u,c);return u=c,{value:t,done:!1}}return{done:!0,value:null}}}},ze=1,Ge=2,Ve=4,We=8,Ke=10,Xe=47,qe=92,Ye=9,Ze=32,Je=34,$e=61,et=35,tt=36,nt=37,rt=39,it=40,at=41,ot=95,st=45,ut=33,lt=60,ct=62,At=64,ft=91,dt=93,ht=61,pt=123,vt=63,gt=125,mt=124,yt=126,bt=128,wt=65533,xt=42,_t=43,Ct=44,Et=58,St=59,Bt=46,Tt=0,It=8,kt=11,Mt=14,Rt=31,Ut=127,Ft=-1,Ot=48,Pt=97,Dt=101,Lt=102,Nt=117,Qt=122,Ht=65,jt=69,zt=70,Gt=85,Vt=90,Wt=function(e){return e>=Ot&&e<=57},Kt=function(e){return e>=55296&&e<=57343},Xt=function(e){return Wt(e)||e>=Ht&&e<=zt||e>=Pt&&e<=Lt},qt=function(e){return e>=Pt&&e<=Qt},Yt=function(e){return e>=Ht&&e<=Vt},Zt=function(e){return qt(e)||Yt(e)},Jt=function(e){return e>=bt},$t=function(e){return e===Ke||e===Ye||e===Ze},en=function(e){return Zt(e)||Jt(e)||e===ot},tn=function(e){return en(e)||Wt(e)||e===st},nn=function(e){return e>=Tt&&e<=It||e===kt||e>=Mt&&e<=Rt||e===Ut},rn=function(e,t){return e===qe&&t!==Ke},an=function(e,t,n){return e===st?en(t)||rn(t,n):!!en(e)||!(e!==qe||!rn(e,t))},on=function(e,t,n){return e===_t||e===st?!!Wt(t)||t===Bt&&Wt(n):Wt(e===Bt?t:e)},sn=function(e){var t=0,n=1;e[t]!==_t&&e[t]!==st||(e[t]===st&&(n=-1),t++);for(var r=[];Wt(e[t]);)r.push(e[t++]);var i=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===Bt&&t++;for(var a=[];Wt(e[t]);)a.push(e[t++]);var o=a.length,s=o?parseInt(c.apply(void 0,a),10):0;e[t]!==jt&&e[t]!==Dt||t++;var u=1;e[t]!==_t&&e[t]!==st||(e[t]===st&&(u=-1),t++);for(var l=[];Wt(e[t]);)l.push(e[t++]);var A=l.length?parseInt(c.apply(void 0,l),10):0;return n*(i+s*Math.pow(10,-o))*Math.pow(10,u*A)},un={type:2},ln={type:3},cn={type:4},An={type:13},fn={type:8},dn={type:21},hn={type:9},pn={type:10},vn={type:11},gn={type:12},mn={type:14},yn={type:23},bn={type:1},wn={type:25},xn={type:24},_n={type:26},Cn={type:27},En={type:28},Sn={type:29},Bn={type:31},Tn={type:32},In=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Tn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Je:return this.consumeStringToken(Je);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var i=an(t,n,r)?Ge:ze;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),An;break;case rt:return this.consumeStringToken(rt);case it:return un;case at:return ln;case xt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),mn;break;case _t:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ct:return cn;case st:var a=e,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(on(a,o,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(an(a,o,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===st&&s===ct)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case Bt:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Xe:if(this.peekCodePoint(0)===xt)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===xt&&(u=this.consumeCodePoint())===Xe)return this.consumeToken();if(u===Ft)return this.consumeToken()}break;case Et:return _n;case St:return Cn;case lt:if(this.peekCodePoint(0)===ut&&this.peekCodePoint(1)===st&&this.peekCodePoint(2)===st)return this.consumeCodePoint(),this.consumeCodePoint(),wn;break;case At:var l=this.peekCodePoint(0),A=this.peekCodePoint(1),f=this.peekCodePoint(2);if(an(l,A,f))return{type:7,value:this.consumeName()};break;case ft:return En;case qe:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case dt:return Sn;case ht:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),fn;break;case pt:return vn;case gt:return gn;case Nt:case Gt:var d=this.peekCodePoint(0),h=this.peekCodePoint(1);return d!==_t||!Xt(h)&&h!==vt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case mt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),hn;if(this.peekCodePoint(0)===mt)return this.consumeCodePoint(),dn;break;case yt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),pn;break;case Ft:return Tn}return $t(e)?(this.consumeWhiteSpace(),Bn):Wt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Xt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===vt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map((function(e){return e===vt?Ot:e}))),16),end:parseInt(c.apply(void 0,e.map((function(e){return e===vt?zt:e}))),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===st&&Xt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];Xt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ft)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Je){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ft||this.peekCodePoint(0)===at)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var r=this.consumeCodePoint();if(r===Ft||r===at)return{type:22,value:c.apply(void 0,e)};if($t(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ft||this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(r===Je||r===rt||r===it||nn(r))return this.consumeBadUrlRemnants(),yn;if(r===qe){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===at||e===Ft)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Ft||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===Ke)return this._value.splice(0,n),bn;if(r===qe){var i=this._value[n+1];i!==Ft&&void 0!==i&&(i===Ke?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,i)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Ve,n=this.peekCodePoint(0);for(n!==_t&&n!==st||e.push(this.consumeCodePoint());Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Bt&&Wt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===jt||n===Dt)&&((r===_t||r===st)&&Wt(i)||Wt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[sn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);return an(r,i,a)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Xt(e)){for(var t=c(e);Xt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Kt(n)||n>1114111?wt:n}return e===Ft?wt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),kn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new In;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Nn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?Tn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Mn=function(e){return 15===e.type},Rn=function(e){return 17===e.type},Un=function(e){return 20===e.type},Fn=function(e){return 0===e.type},On=function(e,t){return Un(e)&&e.value===t},Pn=function(e){return 31!==e.type},Dn=function(e){return 31!==e.type&&4!==e.type},Ln=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Nn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Qn=function(e){return 17===e.type||15===e.type},Hn=function(e){return 16===e.type||Qn(e)},jn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},zn={type:17,number:0,flags:Ve},Gn={type:16,number:50,flags:Ve},Vn={type:16,number:100,flags:Ve},Wn=function(e,t,n){var r=e[0],i=e[1];return[Kn(r,t),Kn("undefined"!==typeof i?i:r,n)]},Kn=function(e,t){if(16===e.type)return e.number/100*t;if(Mn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Xn="deg",qn="grad",Yn="rad",Zn="turn",Jn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Xn:return Math.PI*t.number/180;case qn:return Math.PI/200*t.number;case Yn:return t.number;case Zn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===Xn||e.unit===qn||e.unit===Yn||e.unit===Zn)},er=function(e){switch(e.filter(Un).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[zn,zn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[zn,Vn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vn,Vn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vn,zn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=cr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return ar(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);var o=t.value.substring(3,4);return ar(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),ar(parseInt(r,16),parseInt(i,16),parseInt(a,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8),ar(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}if(20===t.type){var s=fr[t.value.toUpperCase()];if("undefined"!==typeof s)return s}return fr.TRANSPARENT}},rr=function(e){return 0===(255&e)},ir=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},ar=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r)<<0)>>>0},or=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},sr=function(e,t){var n=t.filter(Dn);if(3===n.length){var r=n.map(or),i=r[0],a=r[1],o=r[2];return ar(i,a,o,1)}if(4===n.length){var s=n.map(or),u=(i=s[0],a=s[1],o=s[2],s[3]);return ar(i,a,o,u)}return 0};function ur(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var lr=function(e,t){var n=t.filter(Dn),r=n[0],i=n[1],a=n[2],o=n[3],s=(17===r.type?tr(r.number):Jn.parse(e,r))/(2*Math.PI),u=Hn(i)?i.number/100:0,l=Hn(a)?a.number/100:0,c="undefined"!==typeof o&&Hn(o)?Kn(o,1):1;if(0===u)return ar(255*l,255*l,255*l,1);var A=l<=.5?l*(u+1):l+u-l*u,f=2*l-A,d=ur(f,A,s+1/3),h=ur(f,A,s),p=ur(f,A,s-1/3);return ar(255*d,255*h,255*p,c)},cr={hsl:lr,hsla:lr,rgb:sr,rgba:sr},Ar=function(e,t){return nr.parse(e,kn.create(t).parseComponentValue())},fr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Un(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},hr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Hn(r)?{color:n,stop:r}:{color:n,stop:null}},vr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=zn),null===r.stop&&(r.stop=Vn);for(var i=[],a=0,o=0;o<e.length;o++){var s=e[o].stop;if(null!==s){var u=Kn(s,t);u>a?i.push(u):i.push(a),a=u}else i.push(null)}var l=null;for(o=0;o<i.length;o++){var c=i[o];if(null===c)null===l&&(l=o);else if(null!==l){for(var A=o-l,f=(c-i[l-1])/(A+1),d=1;d<=A;d++)i[l+d-1]=f*d;l=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}}))},gr=function(e,t,n){var r=t/2,i=n/2,a=Kn(e[0],t)-r,o=i-Kn(e[1],n);return(Math.atan2(o,a)+2*Math.PI)%(2*Math.PI)},mr=function(e,t,n){var r="number"===typeof e?e:gr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,o=n/2,s=i/2,u=Math.sin(r-Math.PI/2)*s,l=Math.cos(r-Math.PI/2)*s;return[i,a-l,a+l,o-u,o+u]},yr=function(e,t){return Math.sqrt(e*e+t*t)},br=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var a=t[0],o=t[1],s=yr(n-a,r-o);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},wr=function(e,t,n,r,i){var a=0,o=0;switch(e.size){case 0:0===e.shape?a=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(a=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)a=o=Math.min(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),u=br(r,i,t,n,!0),l=u[0],c=u[1];o=s*(a=yr(l-t,(c-n)/s))}break;case 1:0===e.shape?a=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(a=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)a=o=Math.max(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var A=br(r,i,t,n,!1);l=A[0],c=A[1],o=s*(a=yr(l-t,(c-n)/s))}}return Array.isArray(e.size)&&(a=Kn(e.size[0],r),o=2===e.size.length?Kn(e.size[1],i):a),[a,o]},xr=function(e,t){var n=tr(180),r=[];return Ln(t).forEach((function(t,i){if(0===i){var a=t[0];if(20===a.type&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(n=er(t));if($n(a))return void(n=(Jn.parse(e,a)+tr(270))%tr(360))}var o=pr(e,t);r.push(o)})),{angle:n,stops:r,type:1}},_r="closest-side",Cr="farthest-side",Er="closest-corner",Sr="farthest-corner",Br="circle",Tr="ellipse",Ir="cover",kr="contain",Mr=function(e,t){var n=0,r=3,i=[],a=[];return Ln(t).forEach((function(t,o){var s=!0;if(0===o?s=t.reduce((function(e,t){if(Un(t))switch(t.value){case"center":return a.push(Gn),!1;case"top":case"left":return a.push(zn),!1;case"right":case"bottom":return a.push(Vn),!1}else if(Hn(t)||Qn(t))return a.push(t),!1;return e}),s):1===o&&(s=t.reduce((function(e,t){if(Un(t))switch(t.value){case Br:return n=0,!1;case Tr:return n=1,!1;case kr:case _r:return r=0,!1;case Cr:return r=1,!1;case Er:return r=2,!1;case Ir:case Sr:return r=3,!1}else if(Qn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)),s){var u=pr(e,t);i.push(u)}})),{size:r,shape:n,stops:i,position:a,type:2}},Rr=function(e){return 1===e.type},Ur=function(e){return 2===e.type},Fr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Dr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Or(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Dr[e.name])}var Pr,Dr={"linear-gradient":function(e,t){var n=tr(180),r=[];return Ln(t).forEach((function(t,i){if(0===i){var a=t[0];if(20===a.type&&"to"===a.value)return void(n=er(t));if($n(a))return void(n=Jn.parse(e,a))}var o=pr(e,t);r.push(o)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":xr,"-ms-linear-gradient":xr,"-o-linear-gradient":xr,"-webkit-linear-gradient":xr,"radial-gradient":function(e,t){var n=0,r=3,i=[],a=[];return Ln(t).forEach((function(t,o){var s=!0;if(0===o){var u=!1;s=t.reduce((function(e,t){if(u)if(Un(t))switch(t.value){case"center":return a.push(Gn),e;case"top":case"left":return a.push(zn),e;case"right":case"bottom":return a.push(Vn),e}else(Hn(t)||Qn(t))&&a.push(t);else if(Un(t))switch(t.value){case Br:return n=0,!1;case Tr:return n=1,!1;case"at":return u=!0,!1;case _r:return r=0,!1;case Ir:case Cr:return r=1,!1;case kr:case Er:return r=2,!1;case Sr:return r=3,!1}else if(Qn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)}if(s){var l=pr(e,t);i.push(l)}})),{size:r,shape:n,stops:i,position:a,type:2}},"-moz-radial-gradient":Mr,"-ms-radial-gradient":Mr,"-o-radial-gradient":Mr,"-webkit-radial-gradient":Mr,"-webkit-gradient":function(e,t){var n=tr(180),r=[],i=1,a=0,o=3,s=[];return Ln(t).forEach((function(t,n){var a=t[0];if(0===n){if(Un(a)&&"linear"===a.value)return void(i=1);if(Un(a)&&"radial"===a.value)return void(i=2)}if(18===a.type)if("from"===a.name){var o=nr.parse(e,a.values[0]);r.push({stop:zn,color:o})}else if("to"===a.name)o=nr.parse(e,a.values[0]),r.push({stop:Vn,color:o});else if("color-stop"===a.name){var s=a.values.filter(Dn);if(2===s.length){o=nr.parse(e,s[1]);var u=s[0];Rn(u)&&r.push({stop:{type:16,number:100*u.number,flags:u.flags},color:o})}}})),1===i?{angle:(n+tr(180))%tr(360),stops:r,type:i}:{size:o,shape:a,stops:r,position:s,type:i}}},Lr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Dn(e)&&Or(e)})).map((function(t){return Fr.parse(e,t)}))}},Nr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Un(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Qr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(Hn)})).map(jn)}},Hr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(Un).map((function(e){return e.value})).join(" ")})).map(jr)}},jr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Pr||(Pr={}));var zr,Gr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(Vr)}))}},Vr=function(e){return Un(e)||Hn(e)},Wr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Kr=Wr("top"),Xr=Wr("right"),qr=Wr("bottom"),Yr=Wr("left"),Zr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return jn(t.filter(Hn))}}},Jr=Zr("top-left"),$r=Zr("top-right"),ei=Zr("bottom-right"),ti=Zr("bottom-left"),ni=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ri=ni("top"),ii=ni("right"),ai=ni("bottom"),oi=ni("left"),si=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Mn(t)?t.number:0}}},ui=si("top"),li=si("right"),ci=si("bottom"),Ai=si("left"),fi={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},di={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},hi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Un).reduce((function(e,t){return e|pi(t.value)}),0)}},pi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},vi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(zr||(zr={}));var mi,yi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?zr.STRICT:zr.NORMAL}},bi={name:"line-height",initialValue:"normal",prefix:!1,type:4},wi=function(e,t){return Un(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Hn(e)?Kn(e,t):t},xi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Fr.parse(e,t)}},_i={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Ci={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ei=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Si=Ei("top"),Bi=Ei("right"),Ti=Ei("bottom"),Ii=Ei("left"),ki={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Un).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Mi={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Ri=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ui=Ri("top"),Fi=Ri("right"),Oi=Ri("bottom"),Pi=Ri("left"),Di={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Li={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ni={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&On(t[0],"none")?[]:Ln(t).map((function(t){for(var n={color:fr.TRANSPARENT,offsetX:zn,offsetY:zn,blur:zn},r=0,i=0;i<t.length;i++){var a=t[i];Qn(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:n.blur=a,r++):n.color=nr.parse(e,a)}return n}))}},Qi={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Hi={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=ji[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},ji={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],16===t.length?[n,r,i,a,o,s]:null}},zi={type:16,number:50,flags:Ve},Gi=[zi,zi],Vi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Hn);return 2!==n.length?Gi:[n[0],n[1]]}},Wi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(mi||(mi={}));for(var Ki={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return mi.BREAK_ALL;case"keep-all":return mi.KEEP_ALL;default:return mi.NORMAL}}},Xi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Rn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},qi={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Yi={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Rn(t)?t.number:1}},Zi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ji={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Un).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},$i={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},ea={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ta={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Rn(t)?t.number:Un(t)&&"bold"===t.value?700:400}},na={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Un).map((function(e){return e.value}))}},ra={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ia=function(e,t){return 0!==(e&t)},aa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},oa={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(Pn),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(20===o.type){var u=s&&Rn(s)?s.number:1;r.push({counter:o.value,increment:u})}}return r}},sa={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Pn),i=0;i<r.length;i++){var a=r[i],o=r[i+1];if(Un(a)&&"none"!==a.value){var s=o&&Rn(o)?o.number:0;n.push({counter:a.value,reset:s})}}return n}},ua={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Mn).map((function(t){return qi.parse(e,t)}))}},la={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(Fn);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;r.push({open:o,close:s})}return r}},ca=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},Aa={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&On(t[0],"none")?[]:Ln(t).map((function(t){for(var n={color:255,offsetX:zn,offsetY:zn,blur:zn,spread:zn,inset:!1},r=0,i=0;i<t.length;i++){var a=t[i];On(a,"inset")?n.inset=!0:Qn(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:2===r?n.blur=a:n.spread=a,r++):n.color=nr.parse(e,a)}return n}))}},fa={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Un).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},da={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ha={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Mn(t)?t.number:0}},pa=function(){function e(e,t){var n,r;this.animationDuration=ma(e,ua,t.animationDuration),this.backgroundClip=ma(e,dr,t.backgroundClip),this.backgroundColor=ma(e,hr,t.backgroundColor),this.backgroundImage=ma(e,Lr,t.backgroundImage),this.backgroundOrigin=ma(e,Nr,t.backgroundOrigin),this.backgroundPosition=ma(e,Qr,t.backgroundPosition),this.backgroundRepeat=ma(e,Hr,t.backgroundRepeat),this.backgroundSize=ma(e,Gr,t.backgroundSize),this.borderTopColor=ma(e,Kr,t.borderTopColor),this.borderRightColor=ma(e,Xr,t.borderRightColor),this.borderBottomColor=ma(e,qr,t.borderBottomColor),this.borderLeftColor=ma(e,Yr,t.borderLeftColor),this.borderTopLeftRadius=ma(e,Jr,t.borderTopLeftRadius),this.borderTopRightRadius=ma(e,$r,t.borderTopRightRadius),this.borderBottomRightRadius=ma(e,ei,t.borderBottomRightRadius),this.borderBottomLeftRadius=ma(e,ti,t.borderBottomLeftRadius),this.borderTopStyle=ma(e,ri,t.borderTopStyle),this.borderRightStyle=ma(e,ii,t.borderRightStyle),this.borderBottomStyle=ma(e,ai,t.borderBottomStyle),this.borderLeftStyle=ma(e,oi,t.borderLeftStyle),this.borderTopWidth=ma(e,ui,t.borderTopWidth),this.borderRightWidth=ma(e,li,t.borderRightWidth),this.borderBottomWidth=ma(e,ci,t.borderBottomWidth),this.borderLeftWidth=ma(e,Ai,t.borderLeftWidth),this.boxShadow=ma(e,Aa,t.boxShadow),this.color=ma(e,fi,t.color),this.direction=ma(e,di,t.direction),this.display=ma(e,hi,t.display),this.float=ma(e,vi,t.cssFloat),this.fontFamily=ma(e,$i,t.fontFamily),this.fontSize=ma(e,ea,t.fontSize),this.fontStyle=ma(e,ra,t.fontStyle),this.fontVariant=ma(e,na,t.fontVariant),this.fontWeight=ma(e,ta,t.fontWeight),this.letterSpacing=ma(e,gi,t.letterSpacing),this.lineBreak=ma(e,yi,t.lineBreak),this.lineHeight=ma(e,bi,t.lineHeight),this.listStyleImage=ma(e,xi,t.listStyleImage),this.listStylePosition=ma(e,_i,t.listStylePosition),this.listStyleType=ma(e,Ci,t.listStyleType),this.marginTop=ma(e,Si,t.marginTop),this.marginRight=ma(e,Bi,t.marginRight),this.marginBottom=ma(e,Ti,t.marginBottom),this.marginLeft=ma(e,Ii,t.marginLeft),this.opacity=ma(e,Yi,t.opacity);var i=ma(e,ki,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ma(e,Mi,t.overflowWrap),this.paddingTop=ma(e,Ui,t.paddingTop),this.paddingRight=ma(e,Fi,t.paddingRight),this.paddingBottom=ma(e,Oi,t.paddingBottom),this.paddingLeft=ma(e,Pi,t.paddingLeft),this.paintOrder=ma(e,fa,t.paintOrder),this.position=ma(e,Li,t.position),this.textAlign=ma(e,Di,t.textAlign),this.textDecorationColor=ma(e,Zi,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=ma(e,Ji,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=ma(e,Ni,t.textShadow),this.textTransform=ma(e,Qi,t.textTransform),this.transform=ma(e,Hi,t.transform),this.transformOrigin=ma(e,Vi,t.transformOrigin),this.visibility=ma(e,Wi,t.visibility),this.webkitTextStrokeColor=ma(e,da,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=ma(e,ha,t.webkitTextStrokeWidth),this.wordBreak=ma(e,Ki,t.wordBreak),this.zIndex=ma(e,Xi,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return ia(this.display,4)||ia(this.display,33554432)||ia(this.display,268435456)||ia(this.display,536870912)||ia(this.display,67108864)||ia(this.display,134217728)},e}(),va=function(){function e(e,t){this.content=ma(e,aa,t.content),this.quotes=ma(e,la,t.quotes)}return e}(),ga=function(){function e(e,t){this.counterIncrement=ma(e,oa,t.counterIncrement),this.counterReset=ma(e,sa,t.counterReset)}return e}(),ma=function(e,t,n){var r=new In,i=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(i);var a=new kn(r.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Un(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Jn.parse(e,a.parseComponentValue());case"color":return nr.parse(e,a.parseComponentValue());case"image":return Fr.parse(e,a.parseComponentValue());case"length":var s=a.parseComponentValue();return Qn(s)?s:zn;case"length-percentage":var u=a.parseComponentValue();return Hn(u)?u:zn;case"time":return qi.parse(e,a.parseComponentValue())}}},ya="data-html2canvas-debug",ba=function(e){switch(e.getAttribute(ya)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},wa=function(e,t){var n=ba(e);return 1===n||t===n},xa=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,wa(t,3),this.styles=new pa(e,window.getComputedStyle(t,null)),cs(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=s(this.context,t),wa(t,4)&&(this.flags|=16)}return e}(),_a="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ea="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Sa=0;Sa<Ca.length;Sa++)Ea[Ca.charCodeAt(Sa)]=Sa;for(var Ba=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<s;t+=4)n=Ea[e.charCodeAt(t)],r=Ea[e.charCodeAt(t+1)],i=Ea[e.charCodeAt(t+2)],a=Ea[e.charCodeAt(t+3)],c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&a;return l},Ta=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Ia=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},ka=5,Ma=11,Ra=2,Ua=65536>>ka,Fa=(1<<ka)-1,Oa=Ua+(1024>>ka)+32,Pa=65536>>Ma,Da=(1<<Ma-ka)-1,La=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Na=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Qa=function(e,t){var n=Ba(e),r=Array.isArray(n)?Ia(n):new Uint32Array(n),i=Array.isArray(n)?Ta(n):new Uint16Array(n),a=24,o=La(i,a/2,r[4]/2),s=2===r[5]?La(i,(a+r[4])/2):Na(r,Math.ceil((a+r[4])/4));return new Ha(r[0],r[1],r[2],r[3],o,s)},Ha=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>ka])<<Ra)+(e&Fa),this.data[t];if(e<=65535)return t=((t=this.index[Ua+(e-55296>>ka)])<<Ra)+(e&Fa),this.data[t];if(e<this.highStart)return t=Oa-Pa+(e>>Ma),t=this.index[t],t+=e>>ka&Da,t=((t=this.index[t])<<Ra)+(e&Fa),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",za="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ga=0;Ga<ja.length;Ga++)za[ja.charCodeAt(Ga)]=Ga;var Va,Wa=1,Ka=2,Xa=3,qa=4,Ya=5,Za=7,Ja=8,$a=9,eo=10,to=11,no=12,ro=13,io=14,ao=15,oo=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},so=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},uo=Qa(_a),lo="\xd7",co="\xf7",Ao=function(e){return uo.get(e)},fo=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],o=t[n];if(a===Ka&&o===Xa)return lo;if(a===Ka||a===Xa||a===qa)return co;if(o===Ka||o===Xa||o===qa)return co;if(a===Ja&&-1!==[Ja,$a,to,no].indexOf(o))return lo;if((a===to||a===$a)&&(o===$a||o===eo))return lo;if((a===no||a===eo)&&o===eo)return lo;if(o===ro||o===Ya)return lo;if(o===Za)return lo;if(a===Wa)return lo;if(a===ro&&o===io){for(;i===Ya;)i=t[--r];if(i===io)return lo}if(a===ao&&o===ao){for(var s=0;i===ao;)s++,i=t[--r];if(s%2===0)return lo}return co},ho=function(e){var t=oo(e),n=t.length,r=0,i=0,a=t.map(Ao);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=lo;r<n&&(e=fo(t,a,++r))===lo;);if(e!==lo||r===n){var o=so.apply(null,t.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},po=function(e){for(var t,n=ho(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},vo=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(r),a===t)return!0}}return!1},go=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=l(r.data).map((function(e){return c(e)})),a=0,o={},s=i.every((function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var i=n.getBoundingClientRect();a+=e.length;var s=i.x>o.x||i.y>o.y;return o=i,0===t||s}));return e.body.removeChild(t),s},mo=function(){return"undefined"!==typeof(new Image).crossOrigin},yo=function(){return"string"===typeof(new XMLHttpRequest).responseType},bo=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Dt){return!1}return!0},wo=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},xo=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var o=_o(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Co(o).then((function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var o=e.createElement("div");return o.style.backgroundImage="url("+a+")",o.style.height=n+"px",wo(i)?Co(_o(n,n,0,0,o)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),wo(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},_o=function(e,t,n,r,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},Co=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Eo={get SUPPORT_RANGE_BOUNDS(){var e=vo(document);return Object.defineProperty(Eo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Eo.SUPPORT_RANGE_BOUNDS&&go(document);return Object.defineProperty(Eo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=bo(document);return Object.defineProperty(Eo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?xo(document):Promise.resolve(!1);return Object.defineProperty(Eo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=mo();return Object.defineProperty(Eo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=yo();return Object.defineProperty(Eo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Eo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Eo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},So=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Bo=function(e,t,n,r){var i=Ro(t,n),a=[],s=0;return i.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Eo.SUPPORT_RANGE_BOUNDS){var i=Io(r,s,t.length).getClientRects();if(i.length>1){var u=ko(t),l=0;u.forEach((function(t){a.push(new So(t,o.fromDOMRectList(e,Io(r,l+s,t.length).getClientRects()))),l+=t.length}))}else a.push(new So(t,o.fromDOMRectList(e,i)))}else{var c=r.splitText(t.length);a.push(new So(t,To(e,r))),r=c}else Eo.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));s+=t.length})),a},To=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var a=s(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return o.EMPTY},Io=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},ko=function(e){if(Eo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return po(e)},Mo=function(e,t){if(Eo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Fo(e,t)},Ro=function(e,t){return 0!==t.letterSpacing?ko(e):Mo(e,t)},Uo=[32,160,4961,65792,65793,4153,4241],Fo=function(e,t){for(var n,r=je(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],a=function(){if(n.value){var e=n.value.slice(),t=l(e),r="";t.forEach((function(e){-1===Uo.indexOf(e)?r+=c(e):(r.length&&i.push(r),i.push(c(e)),r="")})),r.length&&i.push(r)}};!(n=r.next()).done;)a();return i},Oo=function(){function e(e,t,n){this.text=Po(t.data,n.textTransform),this.textBounds=Bo(e,this.text,n,t)}return e}(),Po=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Do,Lo);case 2:return e.toUpperCase();default:return e}},Do=/(^|\s|:|-|\(|\))([a-z])/g,Lo=function(e,t,n){return e.length>0?t+n.toUpperCase():e},No=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(xa),Qo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(xa),Ho=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,a=s(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(xa),jo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xa),zo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(xa),Go=[{type:15,flags:0,unit:"px",number:3}],Vo=[{type:16,flags:0,number:50}],Wo=function(e){return e.width>e.height?new o(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new o(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Ko=function(e){var t=e.type===Yo?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Xo="checkbox",qo="radio",Yo="password",Zo=707406591,Jo=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Ko(n),r.type!==Xo&&r.type!==qo||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Wo(r.bounds)),r.type){case Xo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Go;break;case qo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Vo}return r}return t(n,e),n}(xa),$o=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(xa),es=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xa),ts=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=as(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Ar(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):fr.TRANSPARENT,a=n.contentWindow.document.body?Ar(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):fr.TRANSPARENT;r.backgroundColor=rr(i)?rr(a)?r.styles.backgroundColor:a:i}}catch(Dt){}return r}return t(n,e),n}(xa),ns=["OL","UL","MENU"],rs=function e(t,n,r,i){for(var a=n.firstChild,o=void 0;a;a=o)if(o=a.nextSibling,us(a)&&a.data.trim().length>0)r.textNodes.push(new Oo(t,a,r.styles));else if(ls(a))if(Ss(a)&&a.assignedNodes)a.assignedNodes().forEach((function(n){return e(t,n,r,i)}));else{var s=is(t,a);s.styles.isVisible()&&(os(a,s,i)?s.flags|=4:ss(s.styles)&&(s.flags|=2),-1!==ns.indexOf(a.tagName)&&(s.flags|=8),r.elements.push(s),a.slot,a.shadowRoot?e(t,a.shadowRoot,s,i):Cs(a)||vs(a)||Es(a)||e(t,a,s,i))}},is=function(e,t){return bs(t)?new No(e,t):ms(t)?new Qo(e,t):vs(t)?new Ho(e,t):fs(t)?new jo(e,t):ds(t)?new zo(e,t):hs(t)?new Jo(e,t):Es(t)?new $o(e,t):Cs(t)?new es(e,t):ws(t)?new ts(e,t):new xa(e,t)},as=function(e,t){var n=is(e,t);return n.flags|=4,rs(e,t,n,n),n},os=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||gs(e)&&n.styles.isTransparent()},ss=function(e){return e.isPositioned()||e.isFloating()},us=function(e){return e.nodeType===Node.TEXT_NODE},ls=function(e){return e.nodeType===Node.ELEMENT_NODE},cs=function(e){return ls(e)&&"undefined"!==typeof e.style&&!As(e)},As=function(e){return"object"===typeof e.className},fs=function(e){return"LI"===e.tagName},ds=function(e){return"OL"===e.tagName},hs=function(e){return"INPUT"===e.tagName},ps=function(e){return"HTML"===e.tagName},vs=function(e){return"svg"===e.tagName},gs=function(e){return"BODY"===e.tagName},ms=function(e){return"CANVAS"===e.tagName},ys=function(e){return"VIDEO"===e.tagName},bs=function(e){return"IMG"===e.tagName},ws=function(e){return"IFRAME"===e.tagName},xs=function(e){return"STYLE"===e.tagName},_s=function(e){return"SCRIPT"===e.tagName},Cs=function(e){return"TEXTAREA"===e.tagName},Es=function(e){return"SELECT"===e.tagName},Ss=function(e){return"SLOT"===e.tagName},Bs=function(e){return e.tagName.indexOf("-")>0},Ts=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var a=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];a.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),a},e}(),Is={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ks={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Ms={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Rs={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Us=function(e,t,n,r,i,a){return e<t||e>n?Ws(e,i,a.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+a},Fs=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Os=function(e,t,n,r,i){var a=n-t+1;return(e<0?"-":"")+(Fs(Math.abs(e),a,r,(function(e){return c(Math.floor(e%a)+t)}))+i)},Ps=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Fs(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Ds=1,Ls=2,Ns=4,Qs=8,Hs=function(e,t,n,r,i,a){if(e<-9999||e>9999)return Ws(e,4,i.length>0);var o=Math.abs(e),s=i;if(0===o)return t[0]+s;for(var u=0;o>0&&u<=4;u++){var l=o%10;0===l&&ia(a,Ds)&&""!==s?s=t[l]+s:l>1||1===l&&0===u||1===l&&1===u&&ia(a,Ls)||1===l&&1===u&&ia(a,Ns)&&e>100||1===l&&u>1&&ia(a,Qs)?s=t[l]+(u>0?n[u-1]:"")+s:1===l&&u>0&&(s=n[u-1]+s),o=Math.floor(o/10)}return(e<0?r:"")+s},js="\u5341\u767e\u5343\u842c",zs="\u62fe\u4f70\u4edf\u842c",Gs="\u30de\u30a4\u30ca\u30b9",Vs="\ub9c8\uc774\ub108\uc2a4",Ws=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",a=n?", ":"",o=n?" ":"";switch(t){case 0:return"\u2022"+o;case 1:return"\u25e6"+o;case 2:return"\u25fe"+o;case 5:var s=Os(e,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return Ps(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case 6:return Us(e,1,3999,Is,3,r).toLowerCase();case 7:return Us(e,1,3999,Is,3,r);case 8:return Os(e,945,969,!1,r);case 9:return Os(e,97,122,!1,r);case 10:return Os(e,65,90,!1,r);case 11:return Os(e,1632,1641,!0,r);case 12:case 49:return Us(e,1,9999,ks,3,r);case 35:return Us(e,1,9999,ks,3,r).toLowerCase();case 13:return Os(e,2534,2543,!0,r);case 14:case 30:return Os(e,6112,6121,!0,r);case 15:return Ps(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case 16:return Ps(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case 17:case 48:return Hs(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",js,"\u8ca0",i,Ls|Ns|Qs);case 47:return Hs(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",zs,"\u8ca0",i,Ds|Ls|Ns|Qs);case 42:return Hs(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",js,"\u8d1f",i,Ls|Ns|Qs);case 41:return Hs(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",zs,"\u8d1f",i,Ds|Ls|Ns|Qs);case 26:return Hs(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Gs,i,0);case 25:return Hs(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Gs,i,Ds|Ls|Ns);case 31:return Hs(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Vs,a,Ds|Ls|Ns);case 33:return Hs(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Vs,a,0);case 32:return Hs(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Vs,a,Ds|Ls|Ns);case 18:return Os(e,2406,2415,!0,r);case 20:return Us(e,1,19999,Rs,3,r);case 21:return Os(e,2790,2799,!0,r);case 22:return Os(e,2662,2671,!0,r);case 22:return Us(e,1,10999,Ms,3,r);case 23:return Ps(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Ps(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Os(e,3302,3311,!0,r);case 28:return Ps(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case 29:return Ps(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case 34:return Os(e,3792,3801,!0,r);case 37:return Os(e,6160,6169,!0,r);case 38:return Os(e,4160,4169,!0,r);case 39:return Os(e,2918,2927,!0,r);case 40:return Os(e,1776,1785,!0,r);case 43:return Os(e,3046,3055,!0,r);case 44:return Os(e,3174,3183,!0,r);case 45:return Os(e,3664,3673,!0,r);case 46:return Os(e,3872,3881,!0,r);default:return Os(e,48,57,!0,r)}},Ks="data-html2canvas-ignore",Xs=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Ts,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,a=Ys(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,u=a.contentWindow,l=u.document,c=$s(a).then((function(){return r(n,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(iu),u&&(u.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||u.scrollY===t.top&&u.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(u.scrollX-t.left,u.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Js(l)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(l,n)})).then((function(){return a}))]:[2,a]}}))}))}));return l.open(),l.write(nu(document.doctype)+"<html></html>"),ru(this.referenceElement.ownerDocument,o,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(e){if(wa(e,2),ms(e))return this.createCanvasClone(e);if(ys(e))return this.createVideoClone(e);if(xs(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return bs(t)&&(bs(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Bs(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tu(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Dt){if(this.context.logger.error("Unable to access cssRules property",Dt),"SecurityError"!==Dt.name)throw Dt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Dt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var s=o.getContextAttributes();!1===(null===s||void 0===s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch(Dt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Dt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){ls(t)&&(_s(t)||t.hasAttribute(Ks)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ls(t)&&xs(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(ls(i)&&Ss(i)&&"function"===typeof i.assignedNodes){var a=i.assignedNodes();a.length&&a.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(us(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ls(e)&&(cs(e)||As(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&cs(r)&&(this.clonedReferenceElement=r),gs(r)&&cu(r);var s=this.counters.parse(new ga(this.context,i)),u=this.resolvePseudoContent(e,r,a,Va.BEFORE);Bs(e)&&(t=!0),ys(e)||this.cloneChildNodes(e,r,t),u&&r.insertBefore(u,r.firstChild);var l=this.resolvePseudoContent(e,r,o,Va.AFTER);return l&&r.appendChild(l),this.counters.pop(s),(i&&(this.options.copyStyles||As(e))&&!ws(e)||t)&&tu(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Cs(e)||Es(e))&&(Cs(r)||Es(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var a=n.content,o=t.ownerDocument;if(o&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==n.display){this.counters.parse(new ga(this.context,n));var s=new va(this.context,n),u=o.createElement("html2canvaspseudoelement");tu(n,u),s.content.forEach((function(t){if(0===t.type)u.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",u.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Un);r.length&&u.appendChild(o.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var a=t.values.filter(Dn),l=a[0],c=a[1];if(l&&Un(l)){var A=i.counters.getCounterValue(l.value),f=c&&Un(c)?Ci.parse(i.context,c.value):3;u.appendChild(o.createTextNode(Ws(A,f,!1)))}}else if("counters"===t.name){var d=t.values.filter(Dn),h=(l=d[0],d[1]);if(c=d[2],l&&Un(l)){var p=i.counters.getCounterValues(l.value),v=c&&Un(c)?Ci.parse(i.context,c.value):3,g=h&&0===h.type?h.value:"",m=p.map((function(e){return Ws(e,v,!1)})).join(g);u.appendChild(o.createTextNode(m))}}}else if(20===t.type)switch(t.value){case"open-quote":u.appendChild(o.createTextNode(ca(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(ca(s.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(t.value))}})),u.className=su+" "+uu;var l=r===Va.BEFORE?" "+su:" "+uu;return As(t)?t.className.baseValue+=l:t.className+=l,u}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Va||(Va={}));var qs,Ys=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Ks,"true"),e.body.appendChild(n),n},Zs=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Js=function(e){return Promise.all([].slice.call(e.images,0).map(Zs))},$s=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},eu=["all","d","content"],tu=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===eu.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nu=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},ru=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},iu=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},au=":before",ou=":after",su="___html2canvas___pseudoelement_before",uu="___html2canvas___pseudoelement_after",lu='{\n    content: "" !important;\n    display: none !important;\n}',cu=function(e){Au(e,"."+su+au+lu+"\n         ."+uu+ou+lu)},Au=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},fu=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),du=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:bu(e)||gu(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,o=this;return i(this,(function(i){switch(i.label){case 0:return t=fu.isSameOrigin(e),n=!mu(e)&&!0===this._options.useCORS&&Eo.SUPPORT_CORS_IMAGES&&!t,r=!mu(e)&&!t&&!bu(e)&&"string"===typeof this._options.proxy&&Eo.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||mu(e)||bu(e)||r||n?(a=e,r?[4,this.proxy(a)]:[3,2]):[2];case 1:a=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(yu(a)||n)&&(r.crossOrigin="anonymous"),r.src=a,!0===r.complete&&setTimeout((function(){return e(r)}),500),o._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,a){var o=Eo.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===o)i(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return a(e)}),!1),e.readAsDataURL(s.response)}else a("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=a;var u=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),t._options.imageTimeout){var l=t._options.imageTimeout;s.timeout=l,s.ontimeout=function(){return a("Timed out ("+l+"ms) proxying "+r)}}s.send()}))},e}(),hu=/^data:image\/svg\+xml/i,pu=/^data:image\/.*;base64,/i,vu=/^data:image\/.*/i,gu=function(e){return Eo.SUPPORT_SVG_DRAWING||!wu(e)},mu=function(e){return vu.test(e)},yu=function(e){return pu.test(e)},bu=function(e){return"blob"===e.substr(0,4)},wu=function(e){return"svg"===e.substr(-3).toLowerCase()||hu.test(e)},xu=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),_u=function(e,t,n){return new xu(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Cu=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=_u(this.start,this.startControl,t),i=_u(this.startControl,this.endControl,t),a=_u(this.endControl,this.end,t),o=_u(r,i,t),s=_u(i,a,t),u=_u(o,s,t);return n?new e(this.start,r,o,u):new e(u,s,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Eu=function(e){return 1===e.type},Su=function(){function e(e){var t=e.styles,n=e.bounds,r=Wn(t.borderTopLeftRadius,n.width,n.height),i=r[0],a=r[1],o=Wn(t.borderTopRightRadius,n.width,n.height),s=o[0],u=o[1],l=Wn(t.borderBottomRightRadius,n.width,n.height),c=l[0],A=l[1],f=Wn(t.borderBottomLeftRadius,n.width,n.height),d=f[0],h=f[1],p=[];p.push((i+s)/n.width),p.push((d+c)/n.width),p.push((a+h)/n.height),p.push((u+A)/n.height);var v=Math.max.apply(Math,p);v>1&&(i/=v,a/=v,s/=v,u/=v,c/=v,A/=v,d/=v,h/=v);var g=n.width-s,m=n.height-A,y=n.width-c,b=n.height-h,w=t.borderTopWidth,x=t.borderRightWidth,_=t.borderBottomWidth,C=t.borderLeftWidth,E=Kn(t.paddingTop,e.bounds.width),S=Kn(t.paddingRight,e.bounds.width),B=Kn(t.paddingBottom,e.bounds.width),T=Kn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?Bu(n.left+C/3,n.top+w/3,i-C/3,a-w/3,qs.TOP_LEFT):new xu(n.left+C/3,n.top+w/3),this.topRightBorderDoubleOuterBox=i>0||a>0?Bu(n.left+g,n.top+w/3,s-x/3,u-w/3,qs.TOP_RIGHT):new xu(n.left+n.width-x/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=c>0||A>0?Bu(n.left+y,n.top+m,c-x/3,A-_/3,qs.BOTTOM_RIGHT):new xu(n.left+n.width-x/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=d>0||h>0?Bu(n.left+C/3,n.top+b,d-C/3,h-_/3,qs.BOTTOM_LEFT):new xu(n.left+C/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?Bu(n.left+2*C/3,n.top+2*w/3,i-2*C/3,a-2*w/3,qs.TOP_LEFT):new xu(n.left+2*C/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=i>0||a>0?Bu(n.left+g,n.top+2*w/3,s-2*x/3,u-2*w/3,qs.TOP_RIGHT):new xu(n.left+n.width-2*x/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=c>0||A>0?Bu(n.left+y,n.top+m,c-2*x/3,A-2*_/3,qs.BOTTOM_RIGHT):new xu(n.left+n.width-2*x/3,n.top+n.height-2*_/3),this.bottomLeftBorderDoubleInnerBox=d>0||h>0?Bu(n.left+2*C/3,n.top+b,d-2*C/3,h-2*_/3,qs.BOTTOM_LEFT):new xu(n.left+2*C/3,n.top+n.height-2*_/3),this.topLeftBorderStroke=i>0||a>0?Bu(n.left+C/2,n.top+w/2,i-C/2,a-w/2,qs.TOP_LEFT):new xu(n.left+C/2,n.top+w/2),this.topRightBorderStroke=i>0||a>0?Bu(n.left+g,n.top+w/2,s-x/2,u-w/2,qs.TOP_RIGHT):new xu(n.left+n.width-x/2,n.top+w/2),this.bottomRightBorderStroke=c>0||A>0?Bu(n.left+y,n.top+m,c-x/2,A-_/2,qs.BOTTOM_RIGHT):new xu(n.left+n.width-x/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=d>0||h>0?Bu(n.left+C/2,n.top+b,d-C/2,h-_/2,qs.BOTTOM_LEFT):new xu(n.left+C/2,n.top+n.height-_/2),this.topLeftBorderBox=i>0||a>0?Bu(n.left,n.top,i,a,qs.TOP_LEFT):new xu(n.left,n.top),this.topRightBorderBox=s>0||u>0?Bu(n.left+g,n.top,s,u,qs.TOP_RIGHT):new xu(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||A>0?Bu(n.left+y,n.top+m,c,A,qs.BOTTOM_RIGHT):new xu(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||h>0?Bu(n.left,n.top+b,d,h,qs.BOTTOM_LEFT):new xu(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?Bu(n.left+C,n.top+w,Math.max(0,i-C),Math.max(0,a-w),qs.TOP_LEFT):new xu(n.left+C,n.top+w),this.topRightPaddingBox=s>0||u>0?Bu(n.left+Math.min(g,n.width-x),n.top+w,g>n.width+x?0:Math.max(0,s-x),Math.max(0,u-w),qs.TOP_RIGHT):new xu(n.left+n.width-x,n.top+w),this.bottomRightPaddingBox=c>0||A>0?Bu(n.left+Math.min(y,n.width-C),n.top+Math.min(m,n.height-_),Math.max(0,c-x),Math.max(0,A-_),qs.BOTTOM_RIGHT):new xu(n.left+n.width-x,n.top+n.height-_),this.bottomLeftPaddingBox=d>0||h>0?Bu(n.left+C,n.top+Math.min(b,n.height-_),Math.max(0,d-C),Math.max(0,h-_),qs.BOTTOM_LEFT):new xu(n.left+C,n.top+n.height-_),this.topLeftContentBox=i>0||a>0?Bu(n.left+C+T,n.top+w+E,Math.max(0,i-(C+T)),Math.max(0,a-(w+E)),qs.TOP_LEFT):new xu(n.left+C+T,n.top+w+E),this.topRightContentBox=s>0||u>0?Bu(n.left+Math.min(g,n.width+C+T),n.top+w+E,g>n.width+C+T?0:s-C+T,u-(w+E),qs.TOP_RIGHT):new xu(n.left+n.width-(x+S),n.top+w+E),this.bottomRightContentBox=c>0||A>0?Bu(n.left+Math.min(y,n.width-(C+T)),n.top+Math.min(m,n.height+w+E),Math.max(0,c-(x+S)),A-(_+B),qs.BOTTOM_RIGHT):new xu(n.left+n.width-(x+S),n.top+n.height-(_+B)),this.bottomLeftContentBox=d>0||h>0?Bu(n.left+C+T,n.top+b,Math.max(0,d-(C+T)),h-(_+B),qs.BOTTOM_LEFT):new xu(n.left+C+T,n.top+n.height-(_+B))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(qs||(qs={}));var Bu=function(e,t,n,r,i){var a=(Math.sqrt(2)-1)/3*4,o=n*a,s=r*a,u=e+n,l=t+r;switch(i){case qs.TOP_LEFT:return new Cu(new xu(e,l),new xu(e,l-s),new xu(u-o,t),new xu(u,t));case qs.TOP_RIGHT:return new Cu(new xu(e,t),new xu(e+o,t),new xu(u,l-s),new xu(u,l));case qs.BOTTOM_RIGHT:return new Cu(new xu(u,t),new xu(u,t+s),new xu(e+o,l),new xu(e,l));case qs.BOTTOM_LEFT:default:return new Cu(new xu(u,l),new xu(u-o,l),new xu(e,t+s),new xu(e,t))}},Tu=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Iu=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},ku=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Mu=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Ru=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Uu=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Fu=function(e){return 0===e.type},Ou=function(e){return 1===e.type},Pu=function(e){return 2===e.type},Du=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Lu=function(e,t,n,r,i){return e.map((function(e,a){switch(a){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e}))},Nu=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Qu=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Su(this.container),this.container.styles.opacity<1&&this.effects.push(new Uu(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Mu(n,r,i))}if(0!==this.container.styles.overflowX){var a=Tu(this.curves),o=ku(this.curves);Du(a,o)?this.effects.push(new Ru(a,6)):(this.effects.push(new Ru(a,2)),this.effects.push(new Ru(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(e){return!Ou(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var a=Tu(n.curves),o=ku(n.curves);Du(a,o)||r.unshift(new Ru(o,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(t){return ia(t.target,e)}))},e}(),Hu=function e(t,n,r,i){t.container.elements.forEach((function(a){var o=ia(a.flags,4),s=ia(a.flags,2),u=new Qu(a,t);ia(a.styles.display,2048)&&i.push(u);var l=ia(a.flags,8)?[]:i;if(o||s){var c=o||a.styles.isPositioned()?r:n,A=new Nu(u);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var d=0;c.negativeZIndex.some((function(e,t){return f>e.element.container.styles.zIndex.order?(d=t,!1):d>0})),c.negativeZIndex.splice(d,0,A)}else if(f>0){var h=0;c.positiveZIndex.some((function(e,t){return f>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0})),c.positiveZIndex.splice(h,0,A)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else a.styles.isFloating()?c.nonPositionedFloats.push(A):c.nonPositionedInlineLevel.push(A);e(u,A,o?A:r,l)}else a.styles.isInlineLevel()?n.inlineLevel.push(u):n.nonInlineLevel.push(u),e(u,n,r,l);ia(a.flags,8)&&ju(a,l)}))},ju=function(e,t){for(var n=e instanceof zo?e.start:1,r=e instanceof zo&&e.reversed,i=0;i<t.length;i++){var a=t[i];a.container instanceof jo&&"number"===typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=Ws(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},zu=function(e){var t=new Qu(e,null),n=new Nu(t),r=[];return Hu(t,n,n,r),ju(t.container,r),n},Gu=function(e,t){switch(t){case 0:return qu(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return qu(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return qu(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return qu(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Vu=function(e,t){switch(t){case 0:return qu(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return qu(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return qu(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return qu(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Wu=function(e,t){switch(t){case 0:return qu(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return qu(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return qu(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return qu(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Ku=function(e,t){switch(t){case 0:return Xu(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Xu(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Xu(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Xu(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Xu=function(e,t){var n=[];return Eu(e)?n.push(e.subdivide(.5,!1)):n.push(e),Eu(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},qu=function(e,t,n,r){var i=[];return Eu(e)?i.push(e.subdivide(.5,!1)):i.push(e),Eu(n)?i.push(n.subdivide(.5,!0)):i.push(n),Eu(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Eu(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Yu=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Zu=function(e){var t=e.styles,n=e.bounds,r=Kn(t.paddingLeft,n.width),i=Kn(t.paddingRight,n.width),a=Kn(t.paddingTop,n.width),o=Kn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},Ju=function(e,t){return 0===e?t.bounds:2===e?Zu(t):Yu(t)},$u=function(e,t){return 0===e?t.bounds:2===e?Zu(t):Yu(t)},el=function(e,t,n){var r=Ju(il(e.styles.backgroundOrigin,t),e),i=$u(il(e.styles.backgroundClip,t),e),a=rl(il(e.styles.backgroundSize,t),n,r),o=a[0],s=a[1],u=Wn(il(e.styles.backgroundPosition,t),r.width-o,r.height-s);return[al(il(e.styles.backgroundRepeat,t),u,a,r,i),Math.round(r.left+u[0]),Math.round(r.top+u[1]),o,s]},tl=function(e){return Un(e)&&e.value===Pr.AUTO},nl=function(e){return"number"===typeof e},rl=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(Hn(o)&&s&&Hn(s))return[Kn(o,n.width),Kn(s,n.height)];var u=nl(a);if(Un(o)&&(o.value===Pr.CONTAIN||o.value===Pr.COVER))return nl(a)?n.width/n.height<a!==(o.value===Pr.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var l=nl(r),c=nl(i),A=l||c;if(tl(o)&&(!s||tl(s)))return l&&c?[r,i]:u||A?A&&u?[l?r:i*a,c?i:r/a]:[l?r:n.width,c?i:n.height]:[n.width,n.height];if(u){var f=0,d=0;return Hn(o)?f=Kn(o,n.width):Hn(s)&&(d=Kn(s,n.height)),tl(o)?f=d*a:s&&!tl(s)||(d=f/a),[f,d]}var h=null,p=null;if(Hn(o)?h=Kn(o,n.width):s&&Hn(s)&&(p=Kn(s,n.height)),null===h||s&&!tl(s)||(p=l&&c?h/r*i:n.height),null!==p&&tl(o)&&(h=l&&c?p/i*r:n.width),null!==h&&null!==p)return[h,p];throw new Error("Unable to calculate background-size for element")},il=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},al=function(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],u=n[1];switch(e){case 2:return[new xu(Math.round(r.left),Math.round(r.top+o)),new xu(Math.round(r.left+r.width),Math.round(r.top+o)),new xu(Math.round(r.left+r.width),Math.round(u+r.top+o)),new xu(Math.round(r.left),Math.round(u+r.top+o))];case 3:return[new xu(Math.round(r.left+a),Math.round(r.top)),new xu(Math.round(r.left+a+s),Math.round(r.top)),new xu(Math.round(r.left+a+s),Math.round(r.height+r.top)),new xu(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new xu(Math.round(r.left+a),Math.round(r.top+o)),new xu(Math.round(r.left+a+s),Math.round(r.top+o)),new xu(Math.round(r.left+a+s),Math.round(r.top+o+u)),new xu(Math.round(r.left+a),Math.round(r.top+o+u))];default:return[new xu(Math.round(i.left),Math.round(i.top)),new xu(Math.round(i.left+i.width),Math.round(i.top)),new xu(Math.round(i.left+i.width),Math.round(i.height+i.top)),new xu(Math.round(i.left),Math.round(i.height+i.top))]}},ol="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",sl="Hidden Text",ul=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),r.src=ol,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(sl)),n.appendChild(i),n.appendChild(r);var o=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(sl)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),ll=function(){function e(e,t){this.context=e,this.options=t}return e}(),cl=1e4,Al=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new ul(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),Pu(e)&&(this.ctx.globalAlpha=e.opacity),Fu(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Ou(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return ia(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):ko(e.text).reduce((function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=vl(e.fontFamily).join(", "),r=Mn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,a,o,s,u,l,c,A=this;return i(this,(function(i){return n=this.createFontStyle(t),r=n[0],a=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(a,o),u=s.baseline,l=s.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(n){switch(n){case 0:A.ctx.fillStyle=ir(t.color),A.renderTextWithLetterSpacing(e,t.letterSpacing,u);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){A.ctx.shadowColor=ir(n.color),A.ctx.shadowOffsetX=n.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=n.offsetY.number*A.options.scale,A.ctx.shadowBlur=n.blur.number,A.renderTextWithLetterSpacing(e,t.letterSpacing,u)})),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),t.textDecorationLine.length&&(A.ctx.fillStyle=ir(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+u),e.bounds.width,1);break;case 2:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:A.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(A.ctx.strokeStyle=ir(t.webkitTextStrokeColor),A.ctx.lineWidth=t.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+u)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Zu(e),i=ku(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,a,s,u,l,c,A,f,d,h,p,v,g,m,y,b,w;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,a=t.styles,s=0,u=t.textNodes,i.label=1;case 1:return s<u.length?(l=u[s],[4,this.renderTextNode(l,a)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof No))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return m=i.sent(),this.renderReplacedElement(t,r,m),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Qo&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Ho))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return m=i.sent(),this.renderReplacedElement(t,r,m),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ts&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=i.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof Jo&&(A=Math.min(t.bounds.width,t.bounds.height),t.type===Xo?t.checked&&(this.ctx.save(),this.path([new xu(t.bounds.left+.39363*A,t.bounds.top+.79*A),new xu(t.bounds.left+.16*A,t.bounds.top+.5549*A),new xu(t.bounds.left+.27347*A,t.bounds.top+.44071*A),new xu(t.bounds.left+.39694*A,t.bounds.top+.5649*A),new xu(t.bounds.left+.72983*A,t.bounds.top+.23*A),new xu(t.bounds.left+.84*A,t.bounds.top+.34085*A),new xu(t.bounds.left+.39363*A,t.bounds.top+.79*A)]),this.ctx.fillStyle=ir(Zo),this.ctx.fill(),this.ctx.restore()):t.type===qo&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+A/2,t.bounds.top+A/2,A/4,0,2*Math.PI,!0),this.ctx.fillStyle=ir(Zo),this.ctx.fill(),this.ctx.restore())),fl(t)&&t.value.length){switch(f=this.createFontStyle(a),b=f[0],d=f[1],h=this.fontMetrics.getMetrics(b,d).baseline,this.ctx.font=b,this.ctx.fillStyle=ir(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=hl(t.styles.textAlign),w=Zu(t),p=0,t.styles.textAlign){case 1:p+=w.width/2;break;case 2:p+=w.width}v=w.add(p,0,0,-w.height/2+1),this.ctx.save(),this.path([new xu(w.left,w.top),new xu(w.left+w.width,w.top),new xu(w.left+w.width,w.top+w.height),new xu(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new So(t.value,v),a.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ia(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(g=t.styles.listStyleImage).type)return[3,18];m=void 0,y=g.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return m=i.sent(),this.ctx.drawImage(m,t.bounds.left-(m.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(b=this.createFontStyle(a)[0],this.ctx.font=b,this.ctx.fillStyle=ir(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new o(t.bounds.left,t.bounds.top+Kn(t.styles.paddingTop,t.bounds.width),t.bounds.width,wi(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new So(e.listValue,w),a.letterSpacing,wi(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,o,s,u,l,c,A,f,d,h,p,v;return i(this,(function(i){switch(i.label){case 0:return ia(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(v=n[t],[4,this.renderStack(v)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,a=e.nonInlineLevel,i.label=7;case 7:return r<a.length?(v=a[r],[4,this.renderNode(v)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:o=0,s=e.nonPositionedFloats,i.label=11;case 11:return o<s.length?(v=s[o],[4,this.renderStack(v)]):[3,14];case 12:i.sent(),i.label=13;case 13:return o++,[3,11];case 14:u=0,l=e.nonPositionedInlineLevel,i.label=15;case 15:return u<l.length?(v=l[u],[4,this.renderStack(v)]):[3,18];case 16:i.sent(),i.label=17;case 17:return u++,[3,15];case 18:c=0,A=e.inlineLevel,i.label=19;case 19:return c<A.length?(v=A[c],[4,this.renderNode(v)]):[3,22];case 20:i.sent(),i.label=21;case 21:return c++,[3,19];case 22:f=0,d=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return f<d.length?(v=d[f],[4,this.renderStack(v)]):[3,26];case 24:i.sent(),i.label=25;case 25:return f++,[3,23];case 26:h=0,p=e.positiveZIndex,i.label=27;case 27:return h<p.length?(v=p[h],[4,this.renderStack(v)]):[3,30];case 28:i.sent(),i.label=29;case 29:return h++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=Eu(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),Eu(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,o,s;return i(this,(function(u){switch(u.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var a,o,s,u,l,c,A,f,d,h,p,v,g,m,y,b,w,x,_,C,E,S,B,T,I,k,M,R,U,F,O;return i(this,(function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];a=void 0,o=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return a=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+o),[3,4];case 4:return a&&(s=el(e,t,[a.width,a.height,a.width/a.height]),b=s[0],S=s[1],B=s[2],_=s[3],C=s[4],m=r.ctx.createPattern(r.resizeImage(a,_,C),"repeat"),r.renderRepeat(b,m,S,B)),[3,6];case 5:Rr(n)?(u=el(e,t,[null,null,null]),b=u[0],S=u[1],B=u[2],_=u[3],C=u[4],l=mr(n.angle,_,C),c=l[0],A=l[1],f=l[2],d=l[3],h=l[4],(p=document.createElement("canvas")).width=_,p.height=C,v=p.getContext("2d"),g=v.createLinearGradient(A,d,f,h),vr(n.stops,c).forEach((function(e){return g.addColorStop(e.stop,ir(e.color))})),v.fillStyle=g,v.fillRect(0,0,_,C),_>0&&C>0&&(m=r.ctx.createPattern(p,"repeat"),r.renderRepeat(b,m,S,B))):Ur(n)&&(y=el(e,t,[null,null,null]),b=y[0],w=y[1],x=y[2],_=y[3],C=y[4],E=0===n.position.length?[Gn]:n.position,S=Kn(E[0],_),B=Kn(E[E.length-1],C),T=wr(n,S,B,_,C),I=T[0],k=T[1],I>0&&k>0&&(M=r.ctx.createRadialGradient(w+S,x+B,0,w+S,x+B,I),vr(n.stops,2*I).forEach((function(e){return M.addColorStop(e.stop,ir(e.color))})),r.path(b),r.ctx.fillStyle=M,I!==k?(R=e.bounds.left+.5*e.bounds.width,U=e.bounds.top+.5*e.bounds.height,O=1/(F=k/I),r.ctx.save(),r.ctx.translate(R,U),r.ctx.transform(1,0,0,F,0,0),r.ctx.translate(-R,-U),r.ctx.fillRect(w,O*(x-U)+U,_,C*O),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},r=this,a=0,o=e.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(s=o[a],[5,n(s)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(Gu(n,t)),this.ctx.fillStyle=ir(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,a){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,a)]:[3,2];case 1:return i.sent(),[2];case 2:return r=Vu(a,n),this.path(r),this.ctx.fillStyle=ir(e),this.ctx.fill(),o=Wu(a,n),this.path(o),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,o,s,u,l,c=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=dl(il(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=ir(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var n=Tu(e.curves),r=t.inset?0:cl,i=Lu(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(i)):(c.mask(n),c.ctx.clip(),c.path(i)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=ir(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?ir(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),i.label=2;case 2:o=0,s=0,u=r,i.label=3;case 3:return s<u.length?0!==(l=u[s]).style&&!rr(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,o,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,o,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,o,e.curves)];case 10:i.sent(),i.label=11;case 11:o++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,a,o){return r(this,void 0,void 0,(function(){var r,s,u,l,c,A,f,d,h,p,v,g,m,y,b,w;return i(this,(function(i){return this.ctx.save(),r=Ku(a,n),s=Gu(a,n),2===o&&(this.path(s),this.ctx.clip()),Eu(s[0])?(u=s[0].start.x,l=s[0].start.y):(u=s[0].x,l=s[0].y),Eu(s[1])?(c=s[1].end.x,A=s[1].end.y):(c=s[1].x,A=s[1].y),f=0===n||2===n?Math.abs(u-c):Math.abs(l-A),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(s.slice(0,2)),d=t<3?3*t:2*t,h=t<3?2*t:t,3===o&&(d=t,h=t),p=!0,f<=2*d?p=!1:f<=2*d+h?(d*=v=f/(2*d+h),h*=v):(g=Math.floor((f+h)/(d+h)),m=(f-g*d)/(g-1),h=(y=(f-(g+1)*d)/g)<=0||Math.abs(h-m)<Math.abs(h-y)?m:y),p&&(3===o?this.ctx.setLineDash([0,d+h]):this.ctx.setLineDash([d,h])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ir(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(Eu(s[0])&&(b=s[3],w=s[0],this.ctx.beginPath(),this.formatPath([new xu(b.end.x,b.end.y),new xu(w.start.x,w.start.y)]),this.ctx.stroke()),Eu(s[1])&&(b=s[1],w=s[2],this.ctx.beginPath(),this.formatPath([new xu(b.end.x,b.end.y),new xu(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=zu(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(ll),fl=function(e){return e instanceof es||e instanceof $o||e instanceof Jo&&e.type!==qo&&e.type!==Xo},dl=function(e,t){switch(e){case 0:return Tu(t);case 2:return Iu(t);default:return ku(t)}},hl=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},pl=["-apple-system","system-ui"],vl=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===pl.indexOf(e)})):e},gl=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=_o(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,ml(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(ll),ml=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},yl=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,a([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),bl=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yl({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new du(this,t)}return e.instanceCount=1,e}(),wl=function(e,t){return void 0===t&&(t={}),xl(e,t)};"undefined"!==typeof window&&fu.setContext(window);var xl=function(e,t){return r(void 0,void 0,void 0,(function(){var r,a,l,c,A,f,d,h,p,v,g,m,y,b,w,x,_,C,E,S,B,T,I,k,M,R,U,F,O,P,D,L,N,Q,H,j,z,G;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(a=r.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(T=t.allowTaint)&&void 0!==T&&T,imageTimeout:null!==(I=t.imageTimeout)&&void 0!==I?I:15e3,proxy:t.proxy,useCORS:null!==(k=t.useCORS)&&void 0!==k&&k},c=n({logging:null===(M=t.logging)||void 0===M||M,cache:t.cache},l),A={windowWidth:null!==(R=t.windowWidth)&&void 0!==R?R:a.innerWidth,windowHeight:null!==(U=t.windowHeight)&&void 0!==U?U:a.innerHeight,scrollX:null!==(F=t.scrollX)&&void 0!==F?F:a.pageXOffset,scrollY:null!==(O=t.scrollY)&&void 0!==O?O:a.pageYOffset},f=new o(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),d=new bl(c,f),h=null!==(P=t.foreignObjectRendering)&&void 0!==P&&P,p={allowTaint:null!==(D=t.allowTaint)&&void 0!==D&&D,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:h,copyStyles:h},d.logger.debug("Starting document clone with size "+f.width+"x"+f.height+" scrolled to "+-f.left+","+-f.top),v=new Xs(d,e,p),(g=v.clonedReferenceElement)?[4,v.toIFrame(r,f)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=i.sent(),y=gs(g)||ps(g)?u(g.ownerDocument):s(d,g),b=y.width,w=y.height,x=y.left,_=y.top,C=_l(d,g,t.backgroundColor),E={canvas:t.canvas,backgroundColor:C,scale:null!==(N=null!==(L=t.scale)&&void 0!==L?L:a.devicePixelRatio)&&void 0!==N?N:1,x:(null!==(Q=t.x)&&void 0!==Q?Q:0)+x,y:(null!==(H=t.y)&&void 0!==H?H:0)+_,width:null!==(j=t.width)&&void 0!==j?j:Math.ceil(b),height:null!==(z=t.height)&&void 0!==z?z:Math.ceil(w)},h?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new gl(d,E).render(g)]):[3,3];case 2:return S=i.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+x+","+_+" with size "+b+"x"+w+" using computed rendering"),d.logger.debug("Starting DOM parsing"),B=as(d,g),C===B.styles.backgroundColor&&(B.styles.backgroundColor=fr.TRANSPARENT),d.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),[4,new Al(d,E).render(B)];case 4:S=i.sent(),i.label=5;case 5:return(null===(G=t.removeContainer)||void 0===G||G)&&(Xs.destroy(m)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,S]}}))}))},_l=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?Ar(e,getComputedStyle(r.documentElement).backgroundColor):fr.TRANSPARENT,a=r.body?Ar(e,getComputedStyle(r.body).backgroundColor):fr.TRANSPARENT,o="string"===typeof n?Ar(e,n):null===n?fr.TRANSPARENT:4294967295;return t===r.documentElement?rr(i)?rr(a)?o:a:i:o};return wl}()},5696:function(e,t,n){var r=n(4337),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},936:function(e,t,n){var r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,A="object"==typeof self&&self&&self.Object===Object&&self,f=c||A||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,v=function(){return f.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==i}(e))return r;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,i,a,o,s,u,l=0,c=!1,A=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function y(e){var n=e-u;return void 0===u||n>=t||n<0||A&&e-l>=a}function b(){var e=v();if(y(e))return w(e);s=setTimeout(b,function(e){var n=t-(e-u);return A?p(n,a-(e-l)):n}(e))}function w(e){return s=void 0,f&&r?d(e):(r=i=void 0,o)}function x(){var e=v(),n=y(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return function(e){return l=e,s=setTimeout(b,t),c?d(e):o}(u);if(A)return s=setTimeout(b,t),d(u)}return void 0===s&&(s=setTimeout(b,t)),o}return t=m(t)||0,g(n)&&(c=!!n.leading,a=(A="maxWait"in n)?h(m(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),x.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},x.flush=function(){return void 0===s?o:w(v())},x}},9277:function(e,t){!function(e){"use strict";function t(){}function n(e,n){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===n||n,this.encoder=new t}function r(){}function i(){}t.prototype.s2u=function(e){for(var t=this.s2uTable,n="",r=0;r<e.length;){var i=e[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<e.length&&(i=i<<8|e[r++]),void 0===t[i])return console.error("unknown char code "+i+"."),n;n+=String.fromCharCode(t[i])}return n},t.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657},n.prototype={constructor:n,getInt8:function(){var e=this.dv.getInt8(this.offset);return this.offset+=1,e},getInt8Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt8());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getUint8Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getUint8());return t},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getInt16Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt16());return t},getUint16:function(){var e=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},getUint16Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getUint16());return t},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getUint32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getUint32());return t},getFloat32:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},getFloat32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t},getIndex:function(e,t){switch(e){case 1:return!0===t?this.getUint8():this.getInt8();case 2:return!0===t?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+e+" exception."}},getIndexArray:function(e,t,n){for(var r=[],i=0;i<t;i++)r.push(this.getIndex(e,n));return r},getChars:function(e){for(var t="";e>0;){var n=this.getUint8();if(e--,0===n)break;t+=String.fromCharCode(n)}for(;e>0;)this.getUint8(),e--;return t},getSjisStringsAsUnicode:function(e){for(var t=[];e>0;){var n=this.getUint8();if(e--,0===n)break;t.push(n)}for(;e>0;)this.getUint8(),e--;return this.encoder.s2u(new Uint8Array(t))},getUnicodeStrings:function(e){for(var t="";e>0;){var n=this.getUint16();if(e-=2,0===n)break;t+=String.fromCharCode(n)}for(;e>0;)this.getUint8(),e--;return t},getTextBuffer:function(){var e=this.getUint32();return this.getUnicodeStrings(e)}},r.prototype={constructor:r,leftToRightVector3:function(e){e[2]=-e[2]},leftToRightQuaternion:function(e){e[0]=-e[0],e[1]=-e[1]},leftToRightEuler:function(e){e[0]=-e[0],e[1]=-e[1]},leftToRightIndexOrder:function(e){var t=e[2];e[2]=e[0],e[0]=t},leftToRightVector3Range:function(e,t){var n=-t[2];t[2]=-e[2],e[2]=n},leftToRightEulerRange:function(e,t){var n=-t[0],r=-t[1];t[0]=-e[0],t[1]=-e[1],e[0]=n,e[1]=r}},i.prototype.parsePmd=function(e,t){var r={},i=new n(e);r.metadata={},r.metadata.format="pmd",r.metadata.coordinateSystem="left";var a=function(){var e=function(){var e={};return e.position=i.getFloat32Array(3),e.normal=i.getFloat32Array(3),e.uv=i.getFloat32Array(2),e.skinIndices=i.getUint16Array(2),e.skinWeights=[i.getUint8()/100],e.skinWeights.push(1-e.skinWeights[0]),e.edgeFlag=i.getUint8(),e},t=r.metadata;t.vertexCount=i.getUint32(),r.vertices=[];for(var n=0;n<t.vertexCount;n++)r.vertices.push(e())},o=function(){var e=function(){var e={};return e.indices=i.getUint16Array(3),e},t=r.metadata;t.faceCount=i.getUint32()/3,r.faces=[];for(var n=0;n<t.faceCount;n++)r.faces.push(e())},s=function(){var e=function(){var e={};return e.diffuse=i.getFloat32Array(4),e.shininess=i.getFloat32(),e.specular=i.getFloat32Array(3),e.ambient=i.getFloat32Array(3),e.toonIndex=i.getInt8(),e.edgeFlag=i.getUint8(),e.faceCount=i.getUint32()/3,e.fileName=i.getSjisStringsAsUnicode(20),e},t=r.metadata;t.materialCount=i.getUint32(),r.materials=[];for(var n=0;n<t.materialCount;n++)r.materials.push(e())},u=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(20),e.parentIndex=i.getInt16(),e.tailIndex=i.getInt16(),e.type=i.getUint8(),e.ikIndex=i.getInt16(),e.position=i.getFloat32Array(3),e},t=r.metadata;t.boneCount=i.getUint16(),r.bones=[];for(var n=0;n<t.boneCount;n++)r.bones.push(e())},l=function(){var e=function(){var e={};e.target=i.getUint16(),e.effector=i.getUint16(),e.linkCount=i.getUint8(),e.iteration=i.getUint16(),e.maxAngle=i.getFloat32(),e.links=[];for(var t=0;t<e.linkCount;t++){var n={};n.index=i.getUint16(),e.links.push(n)}return e},t=r.metadata;t.ikCount=i.getUint16(),r.iks=[];for(var n=0;n<t.ikCount;n++)r.iks.push(e())},c=function(){var e=function(){var e={};e.name=i.getSjisStringsAsUnicode(20),e.elementCount=i.getUint32(),e.type=i.getUint8(),e.elements=[];for(var t=0;t<e.elementCount;t++)e.elements.push({index:i.getUint32(),position:i.getFloat32Array(3)});return e},t=r.metadata;t.morphCount=i.getUint16(),r.morphs=[];for(var n=0;n<t.morphCount;n++)r.morphs.push(e())},A=function(){var e=function(){var e={};return e.index=i.getUint16(),e},t=r.metadata;t.morphFrameCount=i.getUint8(),r.morphFrames=[];for(var n=0;n<t.morphFrameCount;n++)r.morphFrames.push(e())},f=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(50),e},t=r.metadata;t.boneFrameNameCount=i.getUint8(),r.boneFrameNames=[];for(var n=0;n<t.boneFrameNameCount;n++)r.boneFrameNames.push(e())},d=function(){var e=function(){var e={};return e.boneIndex=i.getInt16(),e.frameIndex=i.getUint8(),e},t=r.metadata;t.boneFrameCount=i.getUint32(),r.boneFrames=[];for(var n=0;n<t.boneFrameCount;n++)r.boneFrames.push(e())},h=function(){var e=r.metadata;e.englishCompatibility=i.getUint8(),e.englishCompatibility>0&&(e.englishModelName=i.getSjisStringsAsUnicode(20),e.englishComment=i.getSjisStringsAsUnicode(256))},p=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(20),e},t=r.metadata;if(0!==t.englishCompatibility){r.englishBoneNames=[];for(var n=0;n<t.boneCount;n++)r.englishBoneNames.push(e())}},v=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(20),e},t=r.metadata;if(0!==t.englishCompatibility){r.englishMorphNames=[];for(var n=0;n<t.morphCount-1;n++)r.englishMorphNames.push(e())}},g=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(50),e},t=r.metadata;if(0!==t.englishCompatibility){r.englishBoneFrameNames=[];for(var n=0;n<t.boneFrameNameCount;n++)r.englishBoneFrameNames.push(e())}},m=function(){var e=function(){var e={};return e.fileName=i.getSjisStringsAsUnicode(100),e};r.toonTextures=[];for(var t=0;t<10;t++)r.toonTextures.push(e())},y=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(20),e.boneIndex=i.getInt16(),e.groupIndex=i.getUint8(),e.groupTarget=i.getUint16(),e.shapeType=i.getUint8(),e.width=i.getFloat32(),e.height=i.getFloat32(),e.depth=i.getFloat32(),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(3),e.weight=i.getFloat32(),e.positionDamping=i.getFloat32(),e.rotationDamping=i.getFloat32(),e.restitution=i.getFloat32(),e.friction=i.getFloat32(),e.type=i.getUint8(),e},t=r.metadata;t.rigidBodyCount=i.getUint32(),r.rigidBodies=[];for(var n=0;n<t.rigidBodyCount;n++)r.rigidBodies.push(e())},b=function(){var e=function(){var e={};return e.name=i.getSjisStringsAsUnicode(20),e.rigidBodyIndex1=i.getUint32(),e.rigidBodyIndex2=i.getUint32(),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(3),e.translationLimitation1=i.getFloat32Array(3),e.translationLimitation2=i.getFloat32Array(3),e.rotationLimitation1=i.getFloat32Array(3),e.rotationLimitation2=i.getFloat32Array(3),e.springPosition=i.getFloat32Array(3),e.springRotation=i.getFloat32Array(3),e},t=r.metadata;t.constraintCount=i.getUint32(),r.constraints=[];for(var n=0;n<t.constraintCount;n++)r.constraints.push(e())};return function(){var e=r.metadata;if(e.magic=i.getChars(3),"Pmd"!==e.magic)throw"PMD file magic is not Pmd, but "+e.magic;e.version=i.getFloat32(),e.modelName=i.getSjisStringsAsUnicode(20),e.comment=i.getSjisStringsAsUnicode(256)}(),a(),o(),s(),u(),l(),c(),A(),f(),d(),h(),p(),v(),g(),m(),y(),b(),!0===t&&this.leftToRightModel(r),r},i.prototype.parsePmx=function(e,t){var r={},i=new n(e);r.metadata={},r.metadata.format="pmx",r.metadata.coordinateSystem="left";var a=function(){var e=function(){var e={};e.position=i.getFloat32Array(3),e.normal=i.getFloat32Array(3),e.uv=i.getFloat32Array(2),e.auvs=[];for(var n=0;n<r.metadata.additionalUvNum;n++)e.auvs.push(i.getFloat32Array(4));e.type=i.getUint8();var a=t.boneIndexSize;if(0===e.type)e.skinIndices=i.getIndexArray(a,1),e.skinWeights=[1];else if(1===e.type)e.skinIndices=i.getIndexArray(a,2),e.skinWeights=i.getFloat32Array(1),e.skinWeights.push(1-e.skinWeights[0]);else if(2===e.type)e.skinIndices=i.getIndexArray(a,4),e.skinWeights=i.getFloat32Array(4);else{if(3!==e.type)throw"unsupport bone type "+e.type+" exception.";e.skinIndices=i.getIndexArray(a,2),e.skinWeights=i.getFloat32Array(1),e.skinWeights.push(1-e.skinWeights[0]),e.skinC=i.getFloat32Array(3),e.skinR0=i.getFloat32Array(3),e.skinR1=i.getFloat32Array(3),e.type=1}return e.edgeRatio=i.getFloat32(),e},t=r.metadata;t.vertexCount=i.getUint32(),r.vertices=[];for(var n=0;n<t.vertexCount;n++)r.vertices.push(e())},o=function(){var e=function(){var e={};return e.indices=i.getIndexArray(t.vertexIndexSize,3,!0),e},t=r.metadata;t.faceCount=i.getUint32()/3,r.faces=[];for(var n=0;n<t.faceCount;n++)r.faces.push(e())},s=function(){var e=function(){return i.getTextBuffer()},t=r.metadata;t.textureCount=i.getUint32(),r.textures=[];for(var n=0;n<t.textureCount;n++)r.textures.push(e())},u=function(){var e=function(){var e={};if(e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.diffuse=i.getFloat32Array(4),e.specular=i.getFloat32Array(3),e.shininess=i.getFloat32(),e.ambient=i.getFloat32Array(3),e.flag=i.getUint8(),e.edgeColor=i.getFloat32Array(4),e.edgeSize=i.getFloat32(),e.textureIndex=i.getIndex(r.metadata.textureIndexSize),e.envTextureIndex=i.getIndex(r.metadata.textureIndexSize),e.envFlag=i.getUint8(),e.toonFlag=i.getUint8(),0===e.toonFlag)e.toonIndex=i.getIndex(r.metadata.textureIndexSize);else{if(1!==e.toonFlag)throw"unknown toon flag "+e.toonFlag+" exception.";e.toonIndex=i.getInt8()}return e.comment=i.getTextBuffer(),e.faceCount=i.getUint32()/3,e},t=r.metadata;t.materialCount=i.getUint32(),r.materials=[];for(var n=0;n<t.materialCount;n++)r.materials.push(e())},l=function(){var e=function(){var e={};if(e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.position=i.getFloat32Array(3),e.parentIndex=i.getIndex(r.metadata.boneIndexSize),e.transformationClass=i.getUint32(),e.flag=i.getUint16(),1&e.flag?e.connectIndex=i.getIndex(r.metadata.boneIndexSize):e.offsetPosition=i.getFloat32Array(3),256&e.flag||512&e.flag){var t={};t.isLocal=0!==(128&e.flag),t.affectRotation=0!==(256&e.flag),t.affectPosition=0!==(512&e.flag),t.parentIndex=i.getIndex(r.metadata.boneIndexSize),t.ratio=i.getFloat32(),e.grant=t}if(1024&e.flag&&(e.fixAxis=i.getFloat32Array(3)),2048&e.flag&&(e.localXVector=i.getFloat32Array(3),e.localZVector=i.getFloat32Array(3)),8192&e.flag&&(e.key=i.getUint32()),32&e.flag){var n={};n.effector=i.getIndex(r.metadata.boneIndexSize),n.target=null,n.iteration=i.getUint32(),n.maxAngle=i.getFloat32(),n.linkCount=i.getUint32(),n.links=[];for(var a=0;a<n.linkCount;a++){var o={};o.index=i.getIndex(r.metadata.boneIndexSize),o.angleLimitation=i.getUint8(),1===o.angleLimitation&&(o.lowerLimitationAngle=i.getFloat32Array(3),o.upperLimitationAngle=i.getFloat32Array(3)),n.links.push(o)}e.ik=n}return e},t=r.metadata;t.boneCount=i.getUint32(),r.bones=[];for(var n=0;n<t.boneCount;n++)r.bones.push(e())},c=function(){var e=function(){var e={};e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.panel=i.getUint8(),e.type=i.getUint8(),e.elementCount=i.getUint32(),e.elements=[];for(var t=0;t<e.elementCount;t++)if(0===e.type)(n={}).index=i.getIndex(r.metadata.morphIndexSize),n.ratio=i.getFloat32(),e.elements.push(n);else if(1===e.type)(n={}).index=i.getIndex(r.metadata.vertexIndexSize,!0),n.position=i.getFloat32Array(3),e.elements.push(n);else if(2===e.type)(n={}).index=i.getIndex(r.metadata.boneIndexSize),n.position=i.getFloat32Array(3),n.rotation=i.getFloat32Array(4),e.elements.push(n);else if(3===e.type)(n={}).index=i.getIndex(r.metadata.vertexIndexSize,!0),n.uv=i.getFloat32Array(4),e.elements.push(n);else if(4===e.type);else if(5===e.type);else if(6===e.type);else if(7===e.type);else if(8===e.type){var n;(n={}).index=i.getIndex(r.metadata.materialIndexSize),n.type=i.getUint8(),n.diffuse=i.getFloat32Array(4),n.specular=i.getFloat32Array(3),n.shininess=i.getFloat32(),n.ambient=i.getFloat32Array(3),n.edgeColor=i.getFloat32Array(4),n.edgeSize=i.getFloat32(),n.textureColor=i.getFloat32Array(4),n.sphereTextureColor=i.getFloat32Array(4),n.toonColor=i.getFloat32Array(4),e.elements.push(n)}return e},t=r.metadata;t.morphCount=i.getUint32(),r.morphs=[];for(var n=0;n<t.morphCount;n++)r.morphs.push(e())},A=function(){var e=function(){var e={};e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.type=i.getUint8(),e.elementCount=i.getUint32(),e.elements=[];for(var t=0;t<e.elementCount;t++){var n={};n.target=i.getUint8(),n.index=0===n.target?i.getIndex(r.metadata.boneIndexSize):i.getIndex(r.metadata.morphIndexSize),e.elements.push(n)}return e},t=r.metadata;t.frameCount=i.getUint32(),r.frames=[];for(var n=0;n<t.frameCount;n++)r.frames.push(e())},f=function(){var e=function(){var e={};return e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.boneIndex=i.getIndex(r.metadata.boneIndexSize),e.groupIndex=i.getUint8(),e.groupTarget=i.getUint16(),e.shapeType=i.getUint8(),e.width=i.getFloat32(),e.height=i.getFloat32(),e.depth=i.getFloat32(),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(3),e.weight=i.getFloat32(),e.positionDamping=i.getFloat32(),e.rotationDamping=i.getFloat32(),e.restitution=i.getFloat32(),e.friction=i.getFloat32(),e.type=i.getUint8(),e},t=r.metadata;t.rigidBodyCount=i.getUint32(),r.rigidBodies=[];for(var n=0;n<t.rigidBodyCount;n++)r.rigidBodies.push(e())},d=function(){var e=function(){var e={};return e.name=i.getTextBuffer(),e.englishName=i.getTextBuffer(),e.type=i.getUint8(),e.rigidBodyIndex1=i.getIndex(r.metadata.rigidBodyIndexSize),e.rigidBodyIndex2=i.getIndex(r.metadata.rigidBodyIndexSize),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(3),e.translationLimitation1=i.getFloat32Array(3),e.translationLimitation2=i.getFloat32Array(3),e.rotationLimitation1=i.getFloat32Array(3),e.rotationLimitation2=i.getFloat32Array(3),e.springPosition=i.getFloat32Array(3),e.springRotation=i.getFloat32Array(3),e},t=r.metadata;t.constraintCount=i.getUint32(),r.constraints=[];for(var n=0;n<t.constraintCount;n++)r.constraints.push(e())};return function(){var e=r.metadata;if(e.magic=i.getChars(4),"PMX "!==e.magic)throw"PMX file magic is not PMX , but "+e.magic;if(e.version=i.getFloat32(),2!==e.version&&2.1!==e.version)throw"PMX version "+e.version+" is not supported.";e.headerSize=i.getUint8(),e.encoding=i.getUint8(),e.additionalUvNum=i.getUint8(),e.vertexIndexSize=i.getUint8(),e.textureIndexSize=i.getUint8(),e.materialIndexSize=i.getUint8(),e.boneIndexSize=i.getUint8(),e.morphIndexSize=i.getUint8(),e.rigidBodyIndexSize=i.getUint8(),e.modelName=i.getTextBuffer(),e.englishModelName=i.getTextBuffer(),e.comment=i.getTextBuffer(),e.englishComment=i.getTextBuffer()}(),a(),o(),s(),u(),l(),c(),A(),f(),d(),!0===t&&this.leftToRightModel(r),r},i.prototype.parseVmd=function(e,t){var r={},i=new n(e);r.metadata={},r.metadata.coordinateSystem="left";var a=function(){var e=function(){var e={};return e.boneName=i.getSjisStringsAsUnicode(15),e.frameNum=i.getUint32(),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(4),e.interpolation=i.getUint8Array(64),e},t=r.metadata;t.motionCount=i.getUint32(),r.motions=[];for(var n=0;n<t.motionCount;n++)r.motions.push(e())},o=function(){var e=function(){var e={};return e.morphName=i.getSjisStringsAsUnicode(15),e.frameNum=i.getUint32(),e.weight=i.getFloat32(),e},t=r.metadata;t.morphCount=i.getUint32(),r.morphs=[];for(var n=0;n<t.morphCount;n++)r.morphs.push(e())},s=function(){var e=function(){var e={};return e.frameNum=i.getUint32(),e.distance=i.getFloat32(),e.position=i.getFloat32Array(3),e.rotation=i.getFloat32Array(3),e.interpolation=i.getUint8Array(24),e.fov=i.getUint32(),e.perspective=i.getUint8(),e},t=r.metadata;t.cameraCount=i.getUint32(),r.cameras=[];for(var n=0;n<t.cameraCount;n++)r.cameras.push(e())};return function(){var e=r.metadata;if(e.magic=i.getChars(30),"Vocaloid Motion Data 0002"!==e.magic)throw"VMD file magic is not Vocaloid Motion Data 0002, but "+e.magic;e.name=i.getSjisStringsAsUnicode(20)}(),a(),o(),s(),!0===t&&this.leftToRightVmd(r),r},i.prototype.parseVpd=function(e,t){var n={metadata:{}};n.metadata.coordinateSystem="left",n.bones=[];var r=/\/\/\w*(\r|\n|\r\n)/g,i=/\r|\n|\r\n/,a=e.replace(r,"").split(i);function o(){throw"the file seems not vpd file."}function s(){"Vocaloid Pose Data file"!==a[0]&&o()}function u(){a.length<4&&o(),n.metadata.parentFile=a[2],n.metadata.boneCount=parseInt(a[3])}function l(){for(var e=/^\s*(Bone[0-9]+)\s*\{\s*(.*)$/,t=/^\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*;/,r=/^\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*;/,i=/^\s*}/,s=n.bones,u=null,l=null,c=null,A=4;A<a.length;A++){var f,d=a[A];null!==(f=d.match(e))&&(null!==u&&o(),u=f[2]),null!==(f=d.match(t))&&(null!==l&&o(),l=[parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])]),null!==(f=d.match(r))&&(null!==c&&o(),c=[parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]),parseFloat(f[4])]),null!==(f=d.match(i))&&(null!==u&&null!==l&&null!==c||o(),s.push({name:u,translation:l,quaternion:c}),u=null,l=null,c=null)}null===u&&null===l&&null===c||o()}return s(),u(),l(),!0===t&&this.leftToRightVpd(n),n},i.prototype.mergeVmds=function(e){var t={metadata:{}};t.metadata.name=e[0].metadata.name,t.metadata.coordinateSystem=e[0].metadata.coordinateSystem,t.metadata.motionCount=0,t.metadata.morphCount=0,t.metadata.cameraCount=0,t.motions=[],t.morphs=[],t.cameras=[];for(var n=0;n<e.length;n++){var r=e[n];t.metadata.motionCount+=r.metadata.motionCount,t.metadata.morphCount+=r.metadata.morphCount,t.metadata.cameraCount+=r.metadata.cameraCount;for(var i=0;i<r.metadata.motionCount;i++)t.motions.push(r.motions[i]);for(i=0;i<r.metadata.morphCount;i++)t.morphs.push(r.morphs[i]);for(i=0;i<r.metadata.cameraCount;i++)t.cameras.push(r.cameras[i])}return t},i.prototype.leftToRightModel=function(e){if("right"!==e.metadata.coordinateSystem){e.metadata.coordinateSystem="right";for(var t=new r,n=0;n<e.metadata.vertexCount;n++)t.leftToRightVector3(e.vertices[n].position),t.leftToRightVector3(e.vertices[n].normal);for(n=0;n<e.metadata.faceCount;n++)t.leftToRightIndexOrder(e.faces[n].indices);for(n=0;n<e.metadata.boneCount;n++)t.leftToRightVector3(e.bones[n].position);for(n=0;n<e.metadata.morphCount;n++){var i=e.morphs[n];if("pmx"!==e.metadata.format||1===i.type)for(var a=0;a<i.elements.length;a++)t.leftToRightVector3(i.elements[a].position)}for(n=0;n<e.metadata.rigidBodyCount;n++)t.leftToRightVector3(e.rigidBodies[n].position),t.leftToRightEuler(e.rigidBodies[n].rotation);for(n=0;n<e.metadata.constraintCount;n++)t.leftToRightVector3(e.constraints[n].position),t.leftToRightEuler(e.constraints[n].rotation),t.leftToRightVector3Range(e.constraints[n].translationLimitation1,e.constraints[n].translationLimitation2),t.leftToRightEulerRange(e.constraints[n].rotationLimitation1,e.constraints[n].rotationLimitation2)}},i.prototype.leftToRightVmd=function(e){if("right"!==e.metadata.coordinateSystem){e.metadata.coordinateSystem="right";for(var t=new r,n=0;n<e.metadata.motionCount;n++)t.leftToRightVector3(e.motions[n].position),t.leftToRightQuaternion(e.motions[n].rotation);for(n=0;n<e.metadata.cameraCount;n++)t.leftToRightVector3(e.cameras[n].position),t.leftToRightEuler(e.cameras[n].rotation)}},i.prototype.leftToRightVpd=function(e){if("right"!==e.metadata.coordinateSystem){e.metadata.coordinateSystem="right";for(var t=new r,n=0;n<e.bones.length;n++)t.leftToRightVector3(e.bones[n].translation),t.leftToRightQuaternion(e.bones[n].quaternion)}};var a={CharsetEncoder:t,Parser:i};e.MMDParser=a,e.CharsetEncoder=t,e.Parser=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1729:function(e,t,n){"use strict";var r=n(9165);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},5192:function(e,t,n){e.exports=n(1729)()},9165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},534:function(e,t,n){"use strict";var r=n(7313),i=n(7108);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!A.call(h,e)||!A.call(d,e)&&(f.test(e)?h[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,m);v[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,m);v[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,m);v[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),B=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var U=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var P,D=Object.assign;function L(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var N=!1;function Q(e,t){if(!e||N)return"";N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{N=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function H(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=Q(e.type,!1);case 11:return e=Q(e.type.render,!1);case 1:return e=Q(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case B:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,Ae=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ce=null;function Ee(e){if(e=yi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ce?Ce.push(e):Ce=[e]:_e=e}function Be(){if(_e){var e=_e,t=Ce;if(Ce=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ie(){}var ke=!1;function Me(e,t,n){if(ke)return e(t,n);ke=!0;try{return Te(e,t,n)}finally{ke=!1,(null!==_e||null!==Ce)&&(Ie(),Be())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ue=!1;if(c)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ce){Ue=!1}function Oe(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Pe=!1,De=null,Le=!1,Ne=null,Qe={onError:function(e){Pe=!0,De=e}};function He(e,t,n,r,i,a,o,s,u){Pe=!1,De=null,Oe.apply(Qe,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(je(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Ze=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function At(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=At(s):0!==(a&=o)&&(r=At(a))}else 0!==(o=n&~i)?r=At(o):0!==a&&(r=At(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,Ct,Et,St=!1,Bt=[],Tt=null,It=null,kt=null,Mt=new Map,Rt=new Map,Ut=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Pt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=mi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Nt(e,t,n){Lt(e)&&n.delete(t)}function Qt(){St=!1,null!==Tt&&Lt(Tt)&&(Tt=null),null!==It&&Lt(It)&&(It=null),null!==kt&&Lt(kt)&&(kt=null),Mt.forEach(Nt),Rt.forEach(Nt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qt)))}function jt(e){function t(t){return Ht(t,e)}if(0<Bt.length){Ht(Bt[0],e);for(var n=1;n<Bt.length;n++){var r=Bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ht(Tt,e),null!==It&&Ht(It,e),null!==kt&&Ht(kt,e),Mt.forEach(t),Rt.forEach(t),n=0;n<Ut.length;n++)(r=Ut[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ut.length&&null===(n=Ut[0]).blockedOn;)Dt(n),null===n.blockedOn&&Ut.shift()}var zt=b.ReactCurrentBatchConfig,Gt=!0;function Vt(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Wt(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Kt(e,t,n,r){if(Gt){var i=qt(e,t,n,r);if(null===i)Gr(e,t,r,Xt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Pt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Pt(It,e,t,n,r,i),!0;case"mouseover":return kt=Pt(kt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Mt.set(a,Pt(Mt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Pt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&wt(a),null===(a=qt(e,t,n,r))&&Gr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Xt=null;function qt(e,t,n,r){if(Xt=null,null!==(e=mi(e=we(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),An=D({},ln,{view:0,detail:0}),fn=an(An),dn=D({},An,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(dn),pn=an(D({},dn,{dataTransfer:0})),vn=an(D({},An,{relatedTarget:0})),gn=an(D({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=D({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(mn),bn=an(D({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Cn}var Sn=D({},An,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Bn=an(Sn),Tn=an(D({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(D({},An,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),kn=an(D({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=D({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Mn),Un=[9,13,27,32],Fn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Pn=c&&"TextEvent"in window&&!On,Dn=c&&(!Fn||On&&8<On&&11>=On),Ln=String.fromCharCode(32),Nn=!1;function Qn(e,t){switch(e){case"keyup":return-1!==Un.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Vn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Xn(e){Lr(e,0)}function qn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Jn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&qn(Kn)){var t=[];Vn(t,Kn,e,we(e)),Me(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Kn)}function ar(e,t){if("click"===e)return qn(t)}function or(e,t){if("input"===e||"change"===e)return qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!A.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function Ar(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ar(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ar(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,mr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==X(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Cr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return _r[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Er("animationend"),Br=Er("animationiteration"),Tr=Er("animationstart"),Ir=Er("transitionend"),kr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){kr.set(e,t),u(t,[e])}for(var Ur=0;Ur<Mr.length;Ur++){var Fr=Mr[Ur];Rr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Br,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(He.apply(this,arguments),Pe){if(!Pe)throw Error(a(198));var c=De;Pe=!1,De=null,Le||(Le=!0,Ne=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Dr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Dr(i,s,l),a=u}}}if(Le)throw e=Ne,Le=!1,Ne=null,e}function Nr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Qr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Hr]){e[Hr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Qr(t,!1,e),Qr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Qr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Vt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=mi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=a,i=we(n),o=[];e:{var s=kr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Bn;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Sr:case Br:case Tr:u=gn;break;case Ir:u=kn;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),A=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,h=r;null!==h;){var p=(d=h).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==f&&(null!=(p=Re(h,f))&&c.push(Vr(h,p,d)))),A)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!mi(l)&&!l[hi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?mi(l):null)&&(l!==(A=je(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=hn,p="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,p="onPointerLeave",f="onPointerEnter",h="pointer"),A=null==u?s:bi(u),d=null==l?s:bi(l),(s=new c(p,h+"leave",u,n,i)).target=A,s.relatedTarget=d,p=null,mi(i)===r&&((c=new c(f,h+"enter",l,n,i)).target=d,c.relatedTarget=A,p=c),A=p,u&&l)e:{for(f=l,h=0,d=c=u;d;d=Kr(d))h++;for(d=0,p=f;p;p=Kr(p))d++;for(;0<h-d;)c=Kr(c),h--;for(;0<d-h;)f=Kr(f),d--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=Kr(c),f=Kr(f)}c=null}else c=null;null!==u&&Xr(o,s,u,c,!1),null!==l&&null!==A&&Xr(o,A,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Yn;else if(Gn(s))if(Zn)v=or;else{v=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?Vn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,mr=null);break;case"focusout":mr=gr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(o,n,i)}var m;if(Fn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jn?Qn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Dn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==y?"onCompositionEnd"===y&&jn&&(m=en()):(Jt="value"in(Zt=i)?Zt.value:Zt.textContent,jn=!0)),0<(g=Wr(r,y)).length&&(y=new bn(y,e,null,n,i),o.push({event:y,listeners:g}),m?y.data=m:null!==(m=Hn(n))&&(y.data=m))),(m=Pn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Nn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Fn&&Qn(e,t)?(e=en(),$t=Jt=Zt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m))}Lr(o,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Vr(e,a,i)),null!=(a=Re(e,t))&&r.push(Vr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,a))&&o.unshift(Vr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Vr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),fi="__reactFiber$"+Ai,di="__reactProps$"+Ai,hi="__reactContainer$"+Ai,pi="__reactEvents$"+Ai,vi="__reactListeners$"+Ai,gi="__reactHandles$"+Ai;function mi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ci(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Bi={},Ti=Ci(Bi),Ii=Ci(!1),ki=Bi;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Bi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ui(){Ei(Ii),Ei(Ti)}function Fi(e,t,n){if(Ti.current!==Bi)throw Error(a(168));Si(Ti,t),Si(Ii,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return D({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bi,ki=Ti.current,Si(Ti,e),Si(Ii,Ii.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ii),Ei(Ti),Si(Ti,e)):Ei(Ii),Si(Ii,n)}var Li=null,Ni=!1,Qi=!1;function Hi(e){null===Li?Li=[e]:Li.push(e)}function ji(){if(!Qi&&null!==Li){Qi=!0;var e=0,t=yt;try{var n=Li;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Ni=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ke($e,ji),i}finally{yt=t,Qi=!1}}return null}var zi=[],Gi=0,Vi=null,Wi=0,Ki=[],Xi=0,qi=null,Yi=1,Zi="";function Ji(e,t){zi[Gi++]=Wi,zi[Gi++]=Vi,Vi=e,Wi=t}function $i(e,t,n){Ki[Xi++]=Yi,Ki[Xi++]=Zi,Ki[Xi++]=qi,qi=e;var r=Yi;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Zi=a+e}else Yi=1<<a|n<<i|r,Zi=e}function ea(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function ta(e){for(;e===Vi;)Vi=zi[--Gi],zi[Gi]=null,Wi=zi[--Gi],zi[Gi]=null;for(;e===qi;)qi=Ki[--Xi],Ki[Xi]=null,Zi=Ki[--Xi],Ki[Xi]=null,Yi=Ki[--Xi],Ki[Xi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qi?{id:Yi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function Aa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function ha(e){null===aa?aa=[e]:aa.push(e)}var pa=b.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ci(null),ma=null,ya=null,ba=null;function wa(){ba=ya=ma=null}function xa(e){var t=ga.current;Ei(ga),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ma=e,ba=ya=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ya){if(null===ma)throw Error(a(308));ya=e,ma.dependencies={lanes:0,firstContext:e}}else ya=ya.next=e;return t}var Sa=null;function Ba(e){null===Sa?Sa=[e]:Sa.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ba(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ka=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ia(e,n)}return null===(i=r.interleaved)?(t.next=t,Ba(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ia(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Pa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Da(e,t,n,r){var i=e.updateQueue;ka=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var A=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,p=s;switch(f=t,d=n,p.tag){case 1:if("function"===typeof(h=p.payload)){A=h.call(d,A,f);break e}A=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=p.payload)?h.call(d,A,f):h)||void 0===f)break e;A=D({},A,f);break e;case 2:ka=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=A):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=A),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Du|=o,e.lanes=o,e.memoizedState=A}}function La(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Na=(new r.Component).refs;function Qa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ha={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Ua(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(rl(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Ua(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(rl(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Ua(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fa(e,i,r))&&(rl(t,e,r,n),Oa(t,e,r))}};function ja(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Bi,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?ki:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Bi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ha.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Na,Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?ki:Ti.current,i.context=Mi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Qa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ha.enqueueReplaceState(i,i.state,null),Da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Na&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ll(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===_?A(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Xa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function A(e,t,n,r,a){return null===t||7!==t.tag?((t=Pl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Nl(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Pl(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:A(e,t,n,r,null);Ka(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return A(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function p(i,a,s,u){for(var l=null,c=null,A=a,p=a=0,v=null;null!==A&&p<s.length;p++){A.index>p?(v=A,A=null):v=A.sibling;var g=d(i,A,s[p],u);if(null===g){null===A&&(A=v);break}e&&A&&null===g.alternate&&t(i,A),a=o(g,a,p),null===c?l=g:c.sibling=g,c=g,A=v}if(p===s.length)return n(i,A),ia&&Ji(i,p),l;if(null===A){for(;p<s.length;p++)null!==(A=f(i,s[p],u))&&(a=o(A,a,p),null===c?l=A:c.sibling=A,c=A);return ia&&Ji(i,p),l}for(A=r(i,A);p<s.length;p++)null!==(v=h(A,i,p,s[p],u))&&(e&&null!==v.alternate&&A.delete(null===v.key?p:v.key),a=o(v,a,p),null===c?l=v:c.sibling=v,c=v);return e&&A.forEach((function(e){return t(i,e)})),ia&&Ji(i,p),l}function v(i,s,u,l){var c=O(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var A=c=null,p=s,v=s=0,g=null,m=u.next();null!==p&&!m.done;v++,m=u.next()){p.index>v?(g=p,p=null):g=p.sibling;var y=d(i,p,m.value,l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),s=o(y,s,v),null===A?c=y:A.sibling=y,A=y,p=g}if(m.done)return n(i,p),ia&&Ji(i,v),c;if(null===p){for(;!m.done;v++,m=u.next())null!==(m=f(i,m.value,l))&&(s=o(m,s,v),null===A?c=m:A.sibling=m,A=m);return ia&&Ji(i,v),c}for(p=r(i,p);!m.done;v++,m=u.next())null!==(m=h(p,i,v,m.value,l))&&(e&&null!==m.alternate&&p.delete(null===m.key?v:m.key),s=o(m,s,v),null===A?c=m:A.sibling=m,A=m);return e&&p.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===_){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Xa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Wa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===_?((a=Pl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ol(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Nl(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return p(r,a,o,u);if(O(o))return v(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ll(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=qa(!0),Za=qa(!1),Ja={},$a=Ci(Ja),eo=Ci(Ja),to=Ci(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si($a,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($a),Si($a,t)}function io(){Ei($a),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si($a,n))}function oo(e){eo.current===e&&(Ei($a),Ei(eo))}var so=Ci(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var Ao=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,ho=0,po=null,vo=null,go=null,mo=!1,yo=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(ho=o,po=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ao.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),yo){o=0;do{if(yo=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=vo=null,t.updateQueue=null,Ao.current=ls,e=n(r,i)}while(yo)}if(Ao.current=os,t=null!==vo&&null!==vo.next,ho=0,go=vo=po=null,mo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?po.memoizedState=go=e:go=go.next=e,go}function Bo(){if(null===vo){var e=po.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?po.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?po.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=Bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var A=c.lane;if((ho&A)===A)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:A,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,po.lanes|=A,Du|=A}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,po.lanes|=o,Du|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=Bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mo(){}function Ro(e,t){var n=po,r=Bo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Go(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,No(9,Fo.bind(null,n,r,i,t),void 0,null),null===ku)throw Error(a(349));0!==(30&ho)||Uo(n,t,i)}return i}function Uo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fo(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Do(e)}function Oo(e,t,n){return n((function(){Po(t)&&Do(e)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Do(e){var t=Ia(e,1);null!==t&&rl(t,e,1,-1)}function Lo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,po,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Qo(){return Bo().memoizedState}function Ho(e,t,n,r){var i=So();po.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function jo(e,t,n,r){var i=Bo();r=void 0===r?null:r;var a=void 0;if(null!==vo){var o=vo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}po.flags|=e,i.memoizedState=No(1|t,n,a,r)}function zo(e,t){return Ho(8390656,8,e,t)}function Go(e,t){return jo(2048,8,e,t)}function Vo(e,t){return jo(4,2,e,t)}function Wo(e,t){return jo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,Ko.bind(null,t,e),n)}function qo(){}function Yo(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zo(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&ho)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=pt(),po.lanes|=n,Du|=n,e.baseState=!0),t)}function $o(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{yt=n,fo.transition=r}}function es(){return Bo().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ba(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ta(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===po||null!==t&&t===po}function is(e,t){yo=mo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ho(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,po,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Lo,useDebugValue:qo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Lo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=po,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ku)throw Error(a(349));0!==(30&ho)||Uo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,No(9,Fo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=ku.identifierPrefix;if(ia){var n=Zi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Go,useImperativeHandle:Xo,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Zo,useReducer:Io,useRef:Qo,useState:function(){return Io(To)},useDebugValue:qo,useDeferredValue:function(e){return Jo(Bo(),vo.memoizedState,e)},useTransition:function(){return[Io(To)[0],Bo().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Go,useImperativeHandle:Xo,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Zo,useReducer:ko,useRef:Qo,useState:function(){return ko(To)},useDebugValue:qo,useDeferredValue:function(e){var t=Bo();return null===vo?t.memoizedState=e:Jo(t,vo.memoizedState,e)},useTransition:function(){return[ko(To)[0],Bo().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function As(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ua(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vu||(Vu=!0,Wu=r),fs(0,t)},n}function ps(e,t,n){(n=Ua(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ua(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Za(t,null,n,r):Ya(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ul(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,(e=Fl(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Vs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Bs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Fu,Uu),Uu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Fu,Uu),Uu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Fu,Uu),Uu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Fu,Uu),Uu|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bs(e,t,n,r,i){var a=Ri(n)?ki:Ti.current;return a=Mi(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function Ts(e,t,n,r,i){if(Ri(n)){var a=!0;Pi(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Gs(e,t),za(t,n,r),Va(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ea(l):l=Mi(t,l=Ri(n)?ki:Ti.current);var c=n.getDerivedStateFromProps,A="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;A||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ga(t,o,r,l),ka=!1;var f=t.memoizedState;o.state=f,Da(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ii.current||ka?("function"===typeof c&&(Qa(t,n,c,r),u=t.memoizedState),(s=ka||ja(t,n,s,r,f,u,l))?(A||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:va(t.type,s),o.props=l,A=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Mi(t,u=Ri(n)?ki:Ti.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==A||f!==u)&&Ga(t,o,r,u),ka=!1,f=t.memoizedState,o.state=f,Da(t,r,o,i);var h=t.memoizedState;s!==A||f!==h||Ii.current||ka?("function"===typeof d&&(Qa(t,n,d,r),h=t.memoizedState),(l=ka||ja(t,n,l,r,f,h,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,a,i)}function Is(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),Vs(e,t,a);r=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function ks(e){var t=e.stateNode;t.pendingContext?Fi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(0,t.context,!1),ro(e,t.containerInfo)}function Ms(e,t,n,r,i){return da(),ha(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Us,Fs,Os,Ps={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Dl(u,i,0,null),e=Pl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ps,e):Ns(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Qs(e,t,s,r=As(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Dl({mode:"visible",children:r.children},i,0,null),(o=Pl(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ps,o);if(0===(1&t.mode))return Qs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Qs(e,t,s,r=As(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=ku)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ia(e,i),rl(r,e,i,-1))}return vl(),Qs(e,t,s,r=As(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Xi++]=Yi,Ki[Xi++]=Zi,Ki[Xi++]=qi,Yi=e.id,Zi=e.overflow,qi=t),t=Ns(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Fl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Fl(r,s):(s=Pl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ds(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ps,i}return e=(s=e.child).sibling,i=Fl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ns(e,t){return(t=Dl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Qs(e,t,n,r){return null!==r&&ha(r),Ya(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function js(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,n,t);else if(19===e.tag)Hs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,a);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Du|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ri(t.type)&&Ui(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ii),Ei(Ti),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Aa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Us(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Fs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no($a.current),Aa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Nr(Or[i],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":Y(r,o),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Nr("invalid",r);break;case"textarea":ie(r,o),Nr("invalid",r)}for(var u in me(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Nr("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=ye(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),i=r;break;case"iframe":case"object":case"embed":Nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Nr(Or[i],e);i=r;break;case"source":Nr("error",e),i=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),i=r;break;case"details":Nr("toggle",e),i=r;break;case"input":Y(e,r),i=q(e,r),Nr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Nr("invalid",e)}for(o in me(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&Ae(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Nr("scroll",e):null!=c&&y(e,o,c,u))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),Aa(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=Aa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Us(e,t),null===e&&jr(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>zu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Ze()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Uu)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Ui(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ii),Ei(Ti),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Us=function(){},Fs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=q(e,i),r=q(e,r),o=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in me(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Nr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Zs=!1,Js="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){El(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[pi],delete t[vi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var Au=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Zs||eu(n,t);case 6:var r=Au,i=fu;Au=null,du(e,t,n),fu=i,null!==(Au=r)&&(fu?(e=Au,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Au.removeChild(n.stateNode));break;case 18:null!==Au&&(fu?(e=Au,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),jt(e)):ui(Au,n.stateNode));break;case 4:r=Au,i=fu,Au=n.stateNode.containerInfo,fu=!0,du(e,t,n),Au=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Zs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){El(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,du(e,t,n),Zs=r):du(e,t,n);break;default:du(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:Au=u.stateNode,fu=!1;break e;case 3:case 4:Au=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===Au)throw Error(a(160));hu(o,s,i),Au=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){El(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),mu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(v){El(e,e.return,v)}try{ru(5,e,e.return)}catch(v){El(e,e.return,v)}}break;case 1:vu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(vu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){El(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Z(i,o),ye(u,s);var c=ye(u,o);for(s=0;s<l.length;s+=2){var A=l[s],f=l[s+1];"style"===A?ve(i,f):"dangerouslySetInnerHTML"===A?Ae(i,f):"children"===A?fe(i,f):y(i,A,f,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(i,!!o.multiple,h,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){El(e,e.return,v)}}break;case 6:if(vu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){El(e,e.return,v)}}break;case 3:if(vu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(v){El(e,e.return,v)}break;case 4:default:vu(t,e),mu(e);break;case 13:vu(t,e),mu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(ju=Ze())),4&r&&pu(e);break;case 22:if(A=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(c=Zs)||A,vu(t,e),Zs=c):vu(t,e),mu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!A&&0!==(1&e.mode))for($s=e,A=e.child;null!==A;){for(f=$s=A;null!==$s;){switch(h=(d=$s).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var p=d.stateNode;if("function"===typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){El(r,n,v)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(f);continue}}null!==h?(h.return=d,$s=h):xu(f)}A=A.sibling}e:for(A=null,f=e;;){if(5===f.tag){if(null===A){A=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=pe("display",s))}catch(v){El(e,e.return,v)}}}else if(6===f.tag){if(null===A)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){El(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;A===f&&(A=null),f=f.return}A===f&&(A=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),mu(e),4&r&&pu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){El(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){$s=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Zs;s=Ys;var l=Zs;if(Ys=o,(Zs=u)&&!l)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,$s=u):_u(i);for(;null!==a;)$s=a,bu(a,t,n),a=a.sibling;$s=i,Ys=s,Zs=l}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):wu(e)}}function wu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&La(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}La(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var A=c.memoizedState;if(null!==A){var f=A.dehydrated;null!==f&&jt(f)}}}break;default:throw Error(a(163))}Zs||512&t.flags&&au(t)}catch(d){El(t,t.return,d)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function xu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function _u(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){El(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){El(t,i,u)}}var a=t.return;try{au(t)}catch(u){El(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){El(t,o,u)}}}catch(u){El(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Cu,Eu=Math.ceil,Su=b.ReactCurrentDispatcher,Bu=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Iu=0,ku=null,Mu=null,Ru=0,Uu=0,Fu=Ci(0),Ou=0,Pu=null,Du=0,Lu=0,Nu=0,Qu=null,Hu=null,ju=0,zu=1/0,Gu=null,Vu=!1,Wu=null,Ku=null,Xu=!1,qu=null,Yu=0,Zu=0,Ju=null,$u=-1,el=0;function tl(){return 0!==(6&Iu)?Ze():-1!==$u?$u:$u=Ze()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Ru?Ru&-Ru:null!==pa.transition?(0===el&&(el=pt()),el):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Zu)throw Zu=0,Ju=null,Error(a(185));gt(e,n,r),0!==(2&Iu)&&e===ku||(e===ku&&(0===(2&Iu)&&(Lu|=n),4===Ou&&ul(e,Ru)),il(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(zu=Ze()+500,Ni&&ji()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===ku?Ru:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Ni=!0,Hi(e)}(ll.bind(null,e)):Hi(ll.bind(null,e)),oi((function(){0===(6&Iu)&&ji()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=kl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if($u=-1,el=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=ft(e,e===ku?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Iu;Iu|=2;var o=pl();for(ku===e&&Ru===t||(Gu=null,zu=Ze()+500,dl(e,t));;)try{yl();break}catch(u){hl(e,u)}wa(),Su.current=o,Iu=i,null!==Mu?t=0:(ku=null,Ru=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=ol(e,i))),1===t)throw n=Pu,dl(e,0),ul(e,r),il(e,Ze()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(o=ht(e))&&(r=o,t=ol(e,o))),1===t))throw n=Pu,dl(e,0),ul(e,r),il(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xl(e,Hu,Gu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=ju+500-Ze())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xl.bind(null,e,Hu,Gu),t);break}xl(e,Hu,Gu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xl.bind(null,e,Hu,Gu),r);break}xl(e,Hu,Gu);break;default:throw Error(a(329))}}}return il(e,Ze()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Qu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Hu,Hu=n,null!==t&&sl(t)),e}function sl(e){null===Hu?Hu=e:Hu.push.apply(Hu,e)}function ul(e,t){for(t&=~Nu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Iu))throw Error(a(327));_l();var t=ft(e,0);if(0===(1&t))return il(e,Ze()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Pu,dl(e,0),ul(e,t),il(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,Hu,Gu),il(e,Ze()),null}function cl(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(zu=Ze()+500,Ni&&ji())}}function Al(e){null!==qu&&0===qu.tag&&0===(6&Iu)&&_l();var t=Iu;Iu|=1;var n=Tu.transition,r=yt;try{if(Tu.transition=null,yt=1,e)return e()}finally{yt=r,Tu.transition=n,0===(6&(Iu=t))&&ji()}}function fl(){Uu=Fu.current,Ei(Fu)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Mu)for(n=Mu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ui();break;case 3:io(),Ei(Ii),Ei(Ti),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:fl()}n=n.return}if(ku=e,Mu=e=Fl(e.current,null),Ru=Uu=t,Ou=0,Pu=null,Nu=Lu=Du=0,Hu=Qu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function hl(e,t){for(;;){var n=Mu;try{if(wa(),Ao.current=os,mo){for(var r=po.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}mo=!1}if(ho=0,go=vo=po=null,yo=!1,bo=0,Bu.current=null,null===n||null===n.return){Ou=1,Pu=t,Mu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ru,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,A=u,f=A.tag;if(0===(1&A.mode)&&(0===f||11===f||15===f)){var d=A.alternate;d?(A.updateQueue=d.updateQueue,A.memoizedState=d.memoizedState,A.lanes=d.lanes):(A.updateQueue=null,A.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,ms(h,s,u,0,t),1&h.mode&&vs(o,c,t),l=c;var p=(t=h).updateQueue;if(null===p){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}if(0===(1&t)){vs(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ms(g,s,u,0,t),ha(cs(l,u));break e}}o=l=cs(l,u),4!==Ou&&(Ou=2),null===Qu?Qu=[o]:Qu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Pa(o,hs(0,l,t));break e;case 1:u=l;var m=o.type,y=o.stateNode;if(0===(128&o.flags)&&("function"===typeof m.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Ku||!Ku.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Pa(o,ps(o,u,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(b){t=b,Mu===n&&null!==n&&(Mu=n=n.return);continue}break}}function pl(){var e=Su.current;return Su.current=os,null===e?os:e}function vl(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===ku||0===(268435455&Du)&&0===(268435455&Lu)||ul(ku,Ru)}function gl(e,t){var n=Iu;Iu|=2;var r=pl();for(ku===e&&Ru===t||(Gu=null,dl(e,t));;)try{ml();break}catch(i){hl(e,i)}if(wa(),Iu=n,Su.current=r,null!==Mu)throw Error(a(261));return ku=null,Ru=0,Ou}function ml(){for(;null!==Mu;)bl(Mu)}function yl(){for(;null!==Mu&&!qe();)bl(Mu)}function bl(e){var t=Cu(e.alternate,e,Uu);e.memoizedProps=e.pendingProps,null===t?wl(e):Mu=t,Bu.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Uu)))return void(Mu=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Mu=n);if(null===e)return Ou=6,void(Mu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Mu=t);Mu=t=e}while(null!==t);0===Ou&&(Ou=5)}function xl(e,t,n){var r=yt,i=Tu.transition;try{Tu.transition=null,yt=1,function(e,t,n,r){do{_l()}while(null!==qu);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===ku&&(Mu=ku=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xu||(Xu=!0,kl(tt,(function(){return _l(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=yt;yt=1;var u=Iu;Iu|=4,Bu.current=null,function(e,t){if(ei=Gt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,A=0,f=e,d=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++A===r&&(l=s),null!==(h=f.nextSibling))break;d=(f=d).parentNode}f=h}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var v=p.memoizedProps,g=p.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:va(t.type,v),g);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){El(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}p=nu,nu=!1}(e,n),gu(n,e),hr(ti),Gt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Ye(),Iu=u,yt=s,Tu.transition=o}else e.current=n;if(Xu&&(Xu=!1,qu=e,Yu=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vu)throw Vu=!1,e=Wu,Wu=null,e;0!==(1&Yu)&&0!==e.tag&&_l(),o=e.pendingLanes,0!==(1&o)?e===Ju?Zu++:(Zu=0,Ju=e):Zu=0,ji()}(e,t,n,r)}finally{Tu.transition=i,yt=r}return null}function _l(){if(null!==qu){var e=bt(Yu),t=Tu.transition,n=yt;try{if(Tu.transition=null,yt=16>e?16:e,null===qu)var r=!1;else{if(e=qu,qu=null,Yu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($s=c;null!==$s;){var A=$s;switch(A.tag){case 0:case 11:case 15:ru(8,A,o)}var f=A.child;if(null!==f)f.return=A,$s=f;else for(;null!==$s;){var d=(A=$s).sibling,h=A.return;if(ou(A),A===c){$s=null;break}if(null!==d){d.return=h,$s=d;break}$s=h}}}var p=o.alternate;if(null!==p){var v=p.child;if(null!==v){p.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var m=o.sibling;if(null!==m){m.return=o.return,$s=m;break e}$s=o.return}}var y=e.current;for($s=y;null!==$s;){var b=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,$s=b;else e:for(s=y;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){El(u,u.return,x)}if(u===s){$s=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,$s=w;break e}$s=u.return}}if(Iu=i,ji(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{yt=n,Tu.transition=t}}return!1}function Cl(e,t,n){e=Fa(e,t=hs(0,t=cs(n,t),1),1),t=tl(),null!==e&&(gt(e,1,t),il(e,t))}function El(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Fa(t,e=ps(t,e=cs(n,e),1),1),e=tl(),null!==t&&(gt(t,1,e),il(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,ku===e&&(Ru&n)===n&&(4===Ou||3===Ou&&(130023424&Ru)===Ru&&500>Ze()-ju?dl(e,0):Nu|=n),il(e,t)}function Bl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Ia(e,t))&&(gt(e,t,n),il(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Bl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Bl(e,n)}function kl(e,t){return Ke(e,t)}function Ml(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Ml(e,t,n,r)}function Ul(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ul(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Pl(n.children,i,o,t);case C:s=8,i|=8;break;case E:return(e=Rl(12,n,t,2|i)).elementType=E,e.lanes=o,e;case I:return(e=Rl(13,n,t,i)).elementType=I,e.lanes=o,e;case k:return(e=Rl(19,n,t,i)).elementType=k,e.lanes=o,e;case U:return Dl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case B:s=9;break e;case T:s=11;break e;case M:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Dl(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=U,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Nl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hl(e,t,n,r,i,a,o,s,u){return e=new Ql(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function jl(e){if(!e)return Bi;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function zl(e,t,n,r,i,a,o,s,u){return(e=Hl(n,r,!0,e,0,a,0,s,u)).context=jl(null),n=e.current,(a=Ua(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,i),e.current.lanes=i,gt(e,i,r),il(e,r),e}function Gl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=jl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ua(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fa(i,t,o))&&(rl(e,i,o,a),Oa(e,i,o)),o}function Vl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:ks(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Pi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Si(so,1&so.current),null!==(e=Vs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Vs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Mi(t,Ti.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Pi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ma(t),i.updater=Ha,t.stateNode=i,i._reactInternals=t,Va(t,r,e,n),t=Is(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ul(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===M)return 14}return 2}(r),e=va(r,e),i){case 0:t=Bs(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,va(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bs(e,t,r,i=t.elementType===r?i:va(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:va(r,i),n);case 3:e:{if(ks(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Da(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ms(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Za(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Vs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Ls(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:va(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ii.current){t=Vs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Ua(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var A=(c=c.shared).pending;null===A?l.next=l:(l.next=A.next,A.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=va(r=t.type,t.pendingProps),_s(e,t,r,i=va(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),Gs(e,t),t.tag=1,Ri(r)?(e=!0,Pi(t)):e=!1,Ca(t,n),za(t,r,i),Va(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Vl(o);s.call(e)}}Gl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Vl(o);a.call(e)}}var o=zl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=o,e[hi]=o.current,jr(8===e.nodeType?e.parentNode:e),Al(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Vl(u);s.call(e)}}var u=Hl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=u,e[hi]=u.current,jr(8===e.nodeType?e.parentNode:e),Al((function(){Gl(t,u,n,r)})),u}(n,t,e,i,r);return Vl(o)}Yl.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gl(e,t,null,null)},Yl.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Al((function(){Gl(null,e,null,null)})),t[hi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ut.length&&0!==t&&t<Ut[n].priority;n++);Ut.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=At(t.pendingLanes);0!==n&&(mt(t,1|n),il(t,Ze()),0===(6&Iu)&&(zu=Ze()+500,ji()))}break;case 13:Al((function(){var t=Ia(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Kl(e,1)}},xt=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)rl(t,e,134217728,tl());Kl(e,134217728)}},_t=function(e){if(13===e.tag){var t=nl(e),n=Ia(e,t);if(null!==n)rl(n,e,t,tl());Kl(e,t)}},Ct=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cl,Ie=Al;var tc={usingClientEntryPoint:!1,Events:[yi,bi,wi,Se,Be,cl]},nc={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zl(e))throw Error(a(299));var n=!1,r="",i=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hl(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,jr(8===e.nodeType?e.parentNode:e),new ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return Al(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,i,0,o,s),e[hi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(Al((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1739:function(e,t,n){"use strict";var r=n(1168);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},1467:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],A=1,f=null,d=3,h=!1,p=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(v=!1,b(e),!p)if(null!==r(l))p=!0,U(x);else{var t=r(c);null!==t&&F(w,t.startTime-e)}}function x(e,n){p=!1,v&&(v=!1,m(S),S=-1),h=!0;var a=d;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!I());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var A=r(c);null!==A&&F(w,A.startTime-n),u=!1}return u}finally{f=null,d=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,C=!1,E=null,S=-1,B=5,T=-1;function I(){return!(t.unstable_now()-T<B)}function k(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?_():(C=!1,E=null)}}else C=!1}if("function"===typeof y)_=function(){y(k)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,R=M.port2;M.port1.onmessage=k,_=function(){R.postMessage(null)}}else _=function(){g(k,0)};function U(e){E=e,C||(C=!0,_())}function F(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,U(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:A++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(v?(m(S),S=-1):v=!0,F(w,a-o))):(e.sortIndex=s,n(l,e),p||h||(p=!0,U(x))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},7108:function(e,t,n){"use strict";e.exports=n(1467)},7730:function(e,t,n){var r,i,a;i=[t,n(6840)],r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}e.default=n.default},void 0===(a="function"===typeof r?r.apply(t,i):r)||(e.exports=a)},6840:function(e,t,n){var r,i,a;i=[t,n(7313),n(5192)],r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=d;var r=a(t),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=!1;function d(e){f=e}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){d(!0)}}))}catch(g){}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return f?e:e.capture}function p(e){if("touches"in e){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.screenX,y:e.screenY}}var v=function(e){function t(){var e;u(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a._handleSwipeStart=a._handleSwipeStart.bind(a),a._handleSwipeMove=a._handleSwipeMove.bind(a),a._handleSwipeEnd=a._handleSwipeEnd.bind(a),a._onMouseDown=a._onMouseDown.bind(a),a._onMouseMove=a._onMouseMove.bind(a),a._onMouseUp=a._onMouseUp.bind(a),a._setSwiperRef=a._setSwiperRef.bind(a),a}return A(t,e),l(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,h({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,h({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=p(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=p(e),n=t.x,r=t.y,i=n-this.moveStart.x,a=r-this.moveStart.y;this.moving=!0,this.props.onSwipeMove({x:i,y:a},e)&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:i,deltaY:a}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.tagName,e.className),n=e.style,i=e.children,a=(e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance,s(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]));return r.default.createElement(this.props.tagName,o({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:t,style:n},a),i)}}]),t}(t.Component);v.displayName="ReactSwipe",v.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},v.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=v},void 0===(a="function"===typeof r?r.apply(t,i):r)||(e.exports=a)},2354:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},8106:function(e,t,n){e.exports=function(e){var t={},r=n(7313),i=n(2224),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var b=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function x(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=w&&e[w]||e["@@iterator"])?e:null}function _(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case l:return"Portal";case f:return"Profiler";case A:return"StrictMode";case v:return"Suspense";case g:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case h:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case m:return null!==(t=e.displayName||null)?t:_(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return _(e(t))}catch(n){}}return null}function C(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function S(e){if(E(e)!==e)throw Error(o(188))}function B(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return S(i),e;if(a===r)return S(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function T(e){return null!==(e=B(e))?I(e):null}function I(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=I(e);if(null!==t)return t;e=e.sibling}return null}function k(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=k(e);if(null!==t)return t}e=e.sibling}return null}var M,R=Array.isArray,U=e.getPublicInstance,F=e.getRootHostContext,O=e.getChildHostContext,P=e.prepareForCommit,D=e.resetAfterCommit,L=e.createInstance,N=e.appendInitialChild,Q=e.finalizeInitialChildren,H=e.prepareUpdate,j=e.shouldSetTextContent,z=e.createTextInstance,G=e.scheduleTimeout,V=e.cancelTimeout,W=e.noTimeout,K=e.isPrimaryRenderer,X=e.supportsMutation,q=e.supportsPersistence,Y=e.supportsHydration,Z=e.getInstanceFromNode,J=e.preparePortalMount,$=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,ue=e.matchAccessibilityRole,le=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,Ae=e.appendChild,fe=e.appendChildToContainer,de=e.commitTextUpdate,he=e.commitMount,pe=e.commitUpdate,ve=e.insertBefore,ge=e.insertInContainerBefore,me=e.removeChild,ye=e.removeChildFromContainer,be=e.resetTextContent,we=e.hideInstance,xe=e.hideTextInstance,_e=e.unhideInstance,Ce=e.unhideTextInstance,Ee=e.clearContainer,Se=e.cloneInstance,Be=e.createContainerChildSet,Te=e.appendChildToContainerChildSet,Ie=e.finalizeContainerChildren,ke=e.replaceContainerChildren,Me=e.cloneHiddenInstance,Re=e.cloneHiddenTextInstance,Ue=e.canHydrateInstance,Fe=e.canHydrateTextInstance,Oe=e.canHydrateSuspenseInstance,Pe=e.isSuspenseInstancePending,De=e.isSuspenseInstanceFallback,Le=e.registerSuspenseInstanceRetry,Ne=e.getNextHydratableSibling,Qe=e.getFirstHydratableChild,He=e.getFirstHydratableChildWithinContainer,je=e.getFirstHydratableChildWithinSuspenseInstance,ze=e.hydrateInstance,Ge=e.hydrateTextInstance,Ve=e.hydrateSuspenseInstance,We=e.getNextHydratableInstanceAfterSuspenseInstance,Ke=e.commitHydratedContainer,Xe=e.commitHydratedSuspenseInstance,qe=e.clearSuspenseBoundary,Ye=e.clearSuspenseBoundaryFromContainer,Ze=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function ut(e,t){at++,it[at]=e.current,e.current=t}var lt={},ct=ot(lt),At=ot(!1),ft=lt;function dt(e,t){var n=e.type.contextTypes;if(!n)return lt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ht(e){return null!==(e=e.childContextTypes)&&void 0!==e}function pt(){st(At),st(ct)}function vt(e,t,n){if(ct.current!==lt)throw Error(o(168));ut(ct,t),ut(At,n)}function gt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,C(e)||"Unknown",i));return a({},n,r)}function mt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lt,ft=ct.current,ut(ct,e),ut(At,At.current),!0}function yt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gt(e,t,ft),r.__reactInternalMemoizedMergedChildContext=e,st(At),st(ct),ut(ct,e)):st(At),ut(At,n)}var bt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(wt(e)/xt|0)|0},wt=Math.log,xt=Math.LN2;var _t=64,Ct=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function St(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Et(s):0!==(a&=o)&&(r=Et(a))}else 0!==(o=n&~i)?r=Et(o):0!==a&&(r=Et(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-bt(t)),r|=e[n],t&=~i;return r}function Bt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function It(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-bt(t)]=n}function Mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rt=0;function Ut(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ft=i.unstable_scheduleCallback,Ot=i.unstable_cancelCallback,Pt=i.unstable_shouldYield,Dt=i.unstable_requestPaint,Lt=i.unstable_now,Nt=i.unstable_ImmediatePriority,Qt=i.unstable_UserBlockingPriority,Ht=i.unstable_NormalPriority,jt=i.unstable_IdlePriority,zt=null,Gt=null;var Vt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Wt=null,Kt=!1,Xt=!1;function qt(e){null===Wt?Wt=[e]:Wt.push(e)}function Yt(){if(!Xt&&null!==Wt){Xt=!0;var e=0,t=Rt;try{var n=Wt;for(Rt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Wt=null,Kt=!1}catch(i){throw null!==Wt&&(Wt=Wt.slice(e+1)),Ft(Nt,Yt),i}finally{Rt=t,Xt=!1}}return null}var Zt=s.ReactCurrentBatchConfig;function Jt(e,t){if(Vt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function $t(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){K?(ut(tn,t._currentValue),t._currentValue=n):(ut(tn,t._currentValue2),t._currentValue2=n)}function un(e){var t=tn.current;st(tn),K?e._currentValue=t:e._currentValue2=t}function ln(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Pi=!0),e.firstContext=null)}function An(e){var t=K?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var fn=null,dn=!1;function hn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xa&&0!==(1&e.mode)&&0===(2&Ka)?(null===(e=n.interleaved)?(t.next=t,null===fn?fn=[n]:fn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function mn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Mt(e,n)}}function yn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bn(e,t,n,r){var i=e.updateQueue;dn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var A=e.alternate;null!==A&&((u=(A=A.updateQueue).lastBaseUpdate)!==s&&(null===u?A.firstBaseUpdate=c:u.next=c,A.lastBaseUpdate=l))}if(null!==o){var f=i.baseState;for(s=0,A=c=l=null,u=o;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==A&&(A=A.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=a({},f,d);break e;case 2:dn=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===A?(c=A=h,l=f):A=A.next=h,s|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===A&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=A,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=f}}function wn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var xn=(new r.Component).refs;function _n(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Cn={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wo(),i=xo(e),a=vn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=_o(e,i,r))&&mn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wo(),i=xo(e),a=vn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=_o(e,i,r))&&mn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wo(),r=xo(e),i=vn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),gn(e,i),null!==(t=_o(e,r,n))&&mn(t,e,r)}};function En(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jt(n,r)||!Jt(i,a))}function Sn(e,t,n){var r=!1,i=lt,a=t.contextType;return"object"===typeof a&&null!==a?a=An(a):(i=ht(t)?ft:ct.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?dt(e,i):lt),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Cn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Bn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cn.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=xn,hn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=An(a):(a=ht(t)?ft:ct.current,i.context=dt(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(_n(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Cn.enqueueReplaceState(i,i.state,null),bn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var In=[],kn=0,Mn=null,Rn=0,Un=[],Fn=0,On=null,Pn=1,Dn="";function Ln(e,t){In[kn++]=Rn,In[kn++]=Mn,Mn=e,Rn=t}function Nn(e,t,n){Un[Fn++]=Pn,Un[Fn++]=Dn,Un[Fn++]=On,On=e;var r=Pn;e=Dn;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var a=32-bt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pn=1<<32-bt(t)+i|n<<i|r,Dn=a+e}else Pn=1<<a|n<<i|r,Dn=e}function Qn(e){null!==e.return&&(Ln(e,1),Nn(e,1,0))}function Hn(e){for(;e===Mn;)Mn=In[--kn],In[kn]=null,Rn=In[--kn],In[kn]=null;for(;e===On;)On=Un[--Fn],Un[Fn]=null,Dn=Un[--Fn],Un[Fn]=null,Pn=Un[--Fn],Un[Fn]=null}var jn=null,zn=null,Gn=!1,Vn=!1,Wn=null;function Kn(e,t){var n=Jo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Xn(e,t){switch(e.tag){case 5:return null!==(t=Ue(t,e.type,e.pendingProps))&&(e.stateNode=t,jn=e,zn=Qe(t),!0);case 6:return null!==(t=Fe(t,e.pendingProps))&&(e.stateNode=t,jn=e,zn=null,!0);case 13:if(null!==(t=Oe(t))){var n=null!==On?{id:Pn,overflow:Dn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Jo(18,null,null,0)).stateNode=t,n.return=e,e.child=n,jn=e,zn=null,!0}return!1;default:return!1}}function qn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Yn(e){if(Gn){var t=zn;if(t){var n=t;if(!Xn(e,t)){if(qn(e))throw Error(o(418));t=Ne(n);var r=jn;t&&Xn(e,t)?Kn(r,n):(e.flags=-4097&e.flags|2,Gn=!1,jn=e)}}else{if(qn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Gn=!1,jn=e}}}function Zn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jn=e}function Jn(e){if(!Y||e!==jn)return!1;if(!Gn)return Zn(e),Gn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ze(e.type)&&!j(e.type,e.memoizedProps))){var t=zn;if(t){if(qn(e)){for(e=zn;e;)e=Ne(e);throw Error(o(418))}for(;t;)Kn(e,t),t=Ne(t)}}if(Zn(e),13===e.tag){if(!Y)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));zn=We(e)}else zn=jn?Ne(e.stateNode):null;return!0}function $n(){Y&&(zn=jn=null,Vn=Gn=!1)}function er(e){null===Wn?Wn=[e]:Wn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===xn&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function A(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){var a=n.type;return a===c?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===y&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=ns(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case u:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case l:return(t=as(t,e.mode,n)).return=e,t;case y:return p(e,(0,t._init)(t._payload),n)}if(R(t)||x(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:A(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?f(e,t,n,r):null;case l:return n.key===i?d(e,t,n,r):null;case y:return v(e,t,(i=n._init)(n._payload),r)}if(R(n)||x(n))return null!==i?null:h(e,t,n,r,null);nr(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return A(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case y:return g(e,t,n,(0,r._init)(r._payload),i)}if(R(r)||x(r))return h(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function m(i,o,s,u){for(var l=null,c=null,A=o,f=o=0,d=null;null!==A&&f<s.length;f++){A.index>f?(d=A,A=null):d=A.sibling;var h=v(i,A,s[f],u);if(null===h){null===A&&(A=d);break}e&&A&&null===h.alternate&&t(i,A),o=a(h,o,f),null===c?l=h:c.sibling=h,c=h,A=d}if(f===s.length)return n(i,A),Gn&&Ln(i,f),l;if(null===A){for(;f<s.length;f++)null!==(A=p(i,s[f],u))&&(o=a(A,o,f),null===c?l=A:c.sibling=A,c=A);return Gn&&Ln(i,f),l}for(A=r(i,A);f<s.length;f++)null!==(d=g(A,i,f,s[f],u))&&(e&&null!==d.alternate&&A.delete(null===d.key?f:d.key),o=a(d,o,f),null===c?l=d:c.sibling=d,c=d);return e&&A.forEach((function(e){return t(i,e)})),Gn&&Ln(i,f),l}function b(i,s,u,l){var c=x(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var A=c=null,f=s,d=s=0,h=null,m=u.next();null!==f&&!m.done;d++,m=u.next()){f.index>d?(h=f,f=null):h=f.sibling;var y=v(i,f,m.value,l);if(null===y){null===f&&(f=h);break}e&&f&&null===y.alternate&&t(i,f),s=a(y,s,d),null===A?c=y:A.sibling=y,A=y,f=h}if(m.done)return n(i,f),Gn&&Ln(i,d),c;if(null===f){for(;!m.done;d++,m=u.next())null!==(m=p(i,m.value,l))&&(s=a(m,s,d),null===A?c=m:A.sibling=m,A=m);return Gn&&Ln(i,d),c}for(f=r(i,f);!m.done;d++,m=u.next())null!==(m=g(f,i,d,m.value,l))&&(e&&null!==m.alternate&&f.delete(null===m.key?d:m.key),s=a(m,s,d),null===A?c=m:A.sibling=m,A=m);return e&&f.forEach((function(e){return t(i,e)})),Gn&&Ln(i,d),c}return function e(r,a,o,A){if("object"===typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case u:e:{for(var f=o.key,d=a;null!==d;){if(d.key===f){if((f=o.type)===c){if(7===d.tag){n(r,d.sibling),(a=i(d,o.props.children)).return=r,r=a;break e}}else if(d.elementType===f||"object"===typeof f&&null!==f&&f.$$typeof===y&&rr(f)===d.type){n(r,d.sibling),(a=i(d,o.props)).ref=tr(r,d,o),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}o.type===c?((a=ns(o.props.children,r.mode,A,o.key)).return=r,r=a):((A=ts(o.type,o.key,o.props,null,r.mode,A)).ref=tr(r,a,o),A.return=r,r=A)}return s(r);case l:e:{for(d=o.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=as(o,r.mode,A)).return=r,r=a}return s(r);case y:return e(r,a,(d=o._init)(o._payload),A)}if(R(o))return m(r,a,o,A);if(x(o))return b(r,a,o,A);nr(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=is(o,r.mode,A)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},ur=ot(sr),lr=ot(sr),cr=ot(sr);function Ar(e){if(e===sr)throw Error(o(174));return e}function fr(e,t){ut(cr,t),ut(lr,e),ut(ur,sr),e=F(t),st(ur),ut(ur,e)}function dr(){st(ur),st(lr),st(cr)}function hr(e){var t=Ar(cr.current),n=Ar(ur.current);n!==(t=O(n,e.type,t))&&(ut(lr,e),ut(ur,t))}function pr(e){lr.current===e&&(st(ur),st(lr))}var vr=ot(0);function gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pe(n)||De(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mr=[];function yr(){for(var e=0;e<mr.length;e++){var t=mr[e];K?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}mr.length=0}var br=s.ReactCurrentDispatcher,wr=s.ReactCurrentBatchConfig,xr=0,_r=null,Cr=null,Er=null,Sr=!1,Br=!1,Tr=0,Ir=0;function kr(){throw Error(o(321))}function Mr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Rr(e,t,n,r,i,a){if(xr=a,_r=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,br.current=null===e||null===e.memoizedState?hi:pi,e=n(r,i),Br){a=0;do{if(Br=!1,Tr=0,25<=a)throw Error(o(301));a+=1,Er=Cr=null,t.updateQueue=null,br.current=vi,e=n(r,i)}while(Br)}if(br.current=di,t=null!==Cr&&null!==Cr.next,xr=0,Er=Cr=_r=null,Sr=!1,t)throw Error(o(300));return e}function Ur(){var e=0!==Tr;return Tr=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Er?_r.memoizedState=Er=e:Er=Er.next=e,Er}function Or(){if(null===Cr){var e=_r.alternate;e=null!==e?e.memoizedState:null}else e=Cr.next;var t=null===Er?_r.memoizedState:Er.next;if(null!==t)Er=t,Cr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Cr=e).memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},null===Er?_r.memoizedState=Er=e:Er=Er.next=e}return Er}function Pr(e,t){return"function"===typeof t?t(e):t}function Dr(e){var t=Or(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Cr,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var A=c.lane;if((xr&A)===A)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:A,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,_r.lanes|=A,to|=A}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,Vt(r,t.memoizedState)||(Pi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,_r.lanes|=a,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Lr(e){var t=Or(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Vt(a,t.memoizedState)||(Pi=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Nr(){}function Qr(e,t){var n=_r,r=Or(),i=t(),a=!Vt(r.memoizedState,i);if(a&&(r.memoizedState=i,Pi=!0),r=r.queue,Zr(zr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Er&&1&Er.memoizedState.tag){if(n.flags|=2048,Wr(9,jr.bind(null,n,r,i,t),void 0,null),null===Xa)throw Error(o(349));0!==(30&xr)||Hr(n,t,i)}return i}function Hr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_r.updateQueue)?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jr(e,t,n,r){t.value=n,t.getSnapshot=r,Gr(t)&&_o(e,1,-1)}function zr(e,t,n){return n((function(){Gr(t)&&_o(e,1,-1)}))}function Gr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch(r){return!0}}function Vr(e){var t=Fr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:e},t.queue=e,e=e.dispatch=ui.bind(null,_r,e),[t.memoizedState,e]}function Wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=_r.updateQueue)?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Kr(){return Or().memoizedState}function Xr(e,t,n,r){var i=Fr();_r.flags|=e,i.memoizedState=Wr(1|t,n,void 0,void 0===r?null:r)}function qr(e,t,n,r){var i=Or();r=void 0===r?null:r;var a=void 0;if(null!==Cr){var o=Cr.memoizedState;if(a=o.destroy,null!==r&&Mr(r,o.deps))return void(i.memoizedState=Wr(t,n,a,r))}_r.flags|=e,i.memoizedState=Wr(1|t,n,a,r)}function Yr(e,t){return Xr(8390656,8,e,t)}function Zr(e,t){return qr(2048,8,e,t)}function Jr(e,t){return qr(4,2,e,t)}function $r(e,t){return qr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Or();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Mr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Or();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Mr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=Rt;Rt=0!==n&&4>n?n:4,e(!0);var r=wr.transition;wr.transition={};try{e(!1),t()}finally{Rt=n,wr.transition=r}}function oi(){return Or().memoizedState}function si(e,t,n){var r=xo(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},li(e)?ci(t,n):(Ai(e,t,n),null!==(e=_o(e,r,n=wo()))&&fi(e,t,r))}function ui(e,t,n){var r=xo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(li(e))ci(t,i);else{Ai(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Vt(s,o))return}catch(u){}null!==(e=_o(e,r,n=wo()))&&fi(e,t,r)}}function li(e){var t=e.alternate;return e===_r||null!==t&&t===_r}function ci(e,t){Br=Sr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ai(e,t,n){null!==Xa&&0!==(1&e.mode)&&0===(2&Ka)?(null===(e=t.interleaved)?(n.next=n,null===fn?fn=[t]:fn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function fi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Mt(e,n)}}var di={readContext:An,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},hi={readContext:An,useCallback:function(e,t){return Fr().memoizedState=[e,void 0===t?null:t],e},useContext:An,useEffect:Yr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Xr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xr(4,2,e,t)},useMemo:function(e,t){var n=Fr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,_r,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fr().memoizedState=e},useState:Vr,useDebugValue:ni,useDeferredValue:function(e){var t=Vr(e),n=t[0],r=t[1];return Yr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){var e=Vr(!1),t=e[0];return e=ai.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_r,i=Fr();if(Gn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Xa)throw Error(o(349));0!==(30&xr)||Hr(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Yr(zr.bind(null,r,a,e),[e]),r.flags|=2048,Wr(9,jr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Fr(),t=Xa.identifierPrefix;if(Gn){var n=Dn;t=":"+t+"R"+(n=(Pn&~(1<<32-bt(Pn)-1)).toString(32)+n),0<(n=Tr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ir++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pi={readContext:An,useCallback:ri,useContext:An,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:$r,useMemo:ii,useReducer:Dr,useRef:Kr,useState:function(){return Dr(Pr)},useDebugValue:ni,useDeferredValue:function(e){var t=Dr(Pr),n=t[0],r=t[1];return Zr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Dr(Pr)[0],Or().memoizedState]},useMutableSource:Nr,useSyncExternalStore:Qr,useId:oi,unstable_isNewReconciler:!1},vi={readContext:An,useCallback:ri,useContext:An,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:$r,useMemo:ii,useReducer:Lr,useRef:Kr,useState:function(){return Lr(Pr)},useDebugValue:ni,useDeferredValue:function(e){var t=Lr(Pr),n=t[0],r=t[1];return Zr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Lr(Pr)[0],Or().memoizedState]},useMutableSource:Nr,useSyncExternalStore:Qr,useId:oi,unstable_isNewReconciler:!1};function gi(e,t){try{var n="",r=t;do{n+=$t(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function mi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var yi,bi,wi,xi,_i="function"===typeof WeakMap?WeakMap:Map;function Ci(e,t,n){(n=vn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,Ao=r),mi(0,t)},n}function Ei(e,t,n){(n=vn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){mi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){mi(0,t),"function"!==typeof r&&(null===fo?fo=new Set([this]):fo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Si(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new _i;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wo.bind(null,e,t,n),t.then(e,e))}function Bi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ti(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=vn(-1,1)).tag=2,gn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ii(e){e.flags|=4}function ki(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(X)yi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)N(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},bi=function(){},wi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=Ar(ur.current);n=H(a,n,e,r,i,o),(t.updateQueue=n)&&Ii(t)}},xi=function(e,t,n,r){n!==r&&Ii(t)};else if(q){yi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Me(a,i.type,i.memoizedProps,i)),N(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Re(a,i.memoizedProps,i)),N(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),yi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Mi=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=Me(o,a.type,a.memoizedProps,a)),Te(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Re(o,a.memoizedProps,a)),Te(t,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};bi=function(e,t){var n=t.stateNode;if(!ki(e,t)){e=n.containerInfo;var r=Be(e);Mi(r,t,!1,!1),n.pendingChildren=r,Ii(t),Ie(e,r)}},wi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=ki(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,u=Ar(ur.current),l=null;o!==r&&(l=H(s,n,o,r,i,u)),e&&null===l?t.stateNode=a:(a=Se(a,l,n,o,r,t,e,s),Q(a,n,r,i,u)&&Ii(t),t.stateNode=a,e?Ii(t):yi(a,t,!1,!1))}},xi=function(e,t,n,r){n!==r?(e=Ar(cr.current),n=Ar(ur.current),t.stateNode=z(r,e,n,t),Ii(t)):t.stateNode=e.stateNode}}else bi=function(){},wi=function(){},xi=function(){};function Ri(e,t){if(!Gn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ui(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fi(e,t,n){var r=t.pendingProps;switch(Hn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ui(t),null;case 1:case 17:return ht(t.type)&&pt(),Ui(t),null;case 3:return r=t.stateNode,dr(),st(At),st(ct),yr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Jn(t)?Ii(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Wn&&(To(Wn),Wn=null))),bi(e,t),Ui(t),null;case 5:pr(t),n=Ar(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)wi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ui(t),null}if(e=Ar(ur.current),Jn(t)){if(!Y)throw Error(o(175));e=ze(t.stateNode,t.type,t.memoizedProps,n,e,t,!Vn),t.updateQueue=e,null!==e&&Ii(t)}else{var a=L(i,r,n,e,t);yi(a,t,!1,!1),t.stateNode=a,Q(a,i,r,n,e)&&Ii(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ui(t),null;case 6:if(e&&null!=t.stateNode)xi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=Ar(cr.current),n=Ar(ur.current),Jn(t)){if(!Y)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=Ge(e,r,t,!Vn))&&null!==(i=jn))switch(a=0!==(1&i.mode),i.tag){case 3:Je(i.stateNode.containerInfo,e,r,a);break;case 5:$e(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Ii(t)}else t.stateNode=z(r,e,n,t)}return Ui(t),null;case 13:if(st(vr),r=t.memoizedState,Gn&&null!==zn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=zn;e;)e=Ne(e);return $n(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Jn(t),null===e){if(!r)throw Error(o(318));if(!Y)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));Ve(e,t)}else $n(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ui(t),null}return null!==Wn&&(To(Wn),Wn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Jn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&vr.current)?0===$a&&($a=3):Po())),null!==t.updateQueue&&(t.flags|=4),Ui(t),null);case 4:return dr(),bi(e,t),null===e&&J(t.stateNode.containerInfo),Ui(t),null;case 10:return un(t.type._context),Ui(t),null;case 19:if(st(vr),null===(i=t.memoizedState))return Ui(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Ri(i,!1);else{if(0!==$a||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=gr(e))){for(t.flags|=128,Ri(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return ut(vr,1&vr.current|2),t.child}e=e.sibling}null!==i.tail&&Lt()>so&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=gr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ri(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Gn)return Ui(t),null}else 2*Lt()-i.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Lt(),t.sibling=null,e=vr.current,ut(vr,r?1&e|2:1&e),t):(Ui(t),null);case 22:case 23:return Ro(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Za)&&(Ui(t),X&&6&t.subtreeFlags&&(t.flags|=8192)):Ui(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Oi=s.ReactCurrentOwner,Pi=!1;function Di(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function Li(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Rr(e,t,n,r,a,i),n=Ur(),null===e||Pi?(Gn&&n&&Qn(t),t.flags|=1,Di(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Ni(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||$o(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Qi(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Jt)(o,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=es(a,r)).ref=t.ref,e.return=t,t.child=e}function Qi(e,t,n,r,i){if(null!==e&&Jt(e.memoizedProps,r)&&e.ref===t.ref){if(Pi=!1,0===(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!==(131072&e.flags)&&(Pi=!0)}return zi(e,t,n,r,i)}function Hi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},ut(Ja,Za),Za|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ut(Ja,Za),Za|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,ut(Ja,Za),Za|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ut(Ja,Za),Za|=r;return Di(e,t,i,n),t.child}function ji(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zi(e,t,n,r,i){var a=ht(n)?ft:ct.current;return a=dt(t,a),cn(t,i),n=Rr(e,t,n,r,a,i),r=Ur(),null===e||Pi?(Gn&&r&&Qn(t),t.flags|=1,Di(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Gi(e,t,n,r,i){if(ht(n)){var a=!0;mt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Sn(t,n,r),Tn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=An(l):l=dt(t,l=ht(n)?ft:ct.current);var c=n.getDerivedStateFromProps,A="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;A||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Bn(t,o,r,l),dn=!1;var f=t.memoizedState;o.state=f,bn(t,r,o,i),u=t.memoizedState,s!==r||f!==u||At.current||dn?("function"===typeof c&&(_n(t,n,c,r),u=t.memoizedState),(s=dn||En(t,n,s,r,f,u,l))?(A||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,pn(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:en(t.type,s),o.props=l,A=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=An(u):u=dt(t,u=ht(n)?ft:ct.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==A||f!==u)&&Bn(t,o,r,u),dn=!1,f=t.memoizedState,o.state=f,bn(t,r,o,i);var h=t.memoizedState;s!==A||f!==h||At.current||dn?("function"===typeof d&&(_n(t,n,d,r),h=t.memoizedState),(l=dn||En(t,n,l,r,f,h,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Vi(e,t,n,r,a,i)}function Vi(e,t,n,r,i,a){ji(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&yt(t,n,!1),ia(e,t,a);r=t.stateNode,Oi.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):Di(e,t,s,a),t.memoizedState=r.state,i&&yt(t,n,!0),t.child}function Wi(e){var t=e.stateNode;t.pendingContext?vt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vt(0,t.context,!1),fr(e,t.containerInfo)}function Ki(e,t,n,r,i){return $n(),er(i),t.flags|=256,Di(e,t,n,r),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function qi(e){return{baseLanes:e,cachePool:null}}function Yi(e,t,n){var r,i=t.pendingProps,a=vr.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ut(vr,1&a),null===e)return Yn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:De(e)?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=rs(a,i,0,null),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=qi(n),t.memoizedState=Xi,e):Zi(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=rs({mode:"visible",children:i.children},a,0,null),(s=ns(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=qi(n),t.memoizedState=Xi,s);if(0===(1&t.mode))t=ea(e,t,n,null);else if(De(r))t=ea(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),Pi||i){if(null!==(i=Xa)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,_o(e,i,-1))}Po(),t=ea(e,t,n,Error(o(421)))}else Pe(r)?(t.flags|=128,t.child=e.child,t=Xo.bind(null,e),Le(r,t),t=null):(n=a.treeContext,Y&&(zn=je(r),jn=t,Gn=!0,Wn=null,Vn=!1,null!==n&&(Un[Fn++]=Pn,Un[Fn++]=Dn,Un[Fn++]=On,Pn=n.id,Dn=n.overflow,On=t)),(t=Zi(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?qi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?qi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}function Zi(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ji(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function $i(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=es(o,r):(r=ns(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ln(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Di(e,t,r.children,n),0!==(2&(r=vr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(vr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===gr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===gr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(Hn(t),t.tag){case 1:return ht(t.type)&&pt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return dr(),st(At),st(ct),yr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return pr(t),null;case 13:if(st(vr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));$n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(vr),null;case 4:return dr(),null;case 10:return un(t.type._context),null;case 22:case 23:return Ro(),null;default:return null}}var oa=!1,sa=!1,ua="function"===typeof WeakSet?WeakSet:Set,la=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Vo(e,t,r)}else n.current=null}function Aa(e,t,n){try{n()}catch(r){Vo(e,t,r)}}var fa=!1;function da(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Aa(t,n,a)}i=i.next}while(i!==r)}}function ha(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pa(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=U(n);else e=n;"function"===typeof t?t(e):t.current=e}}function va(e,t,n){if(Gt&&"function"===typeof Gt.onCommitFiberUnmount)try{Gt.onCommitFiberUnmount(zt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Aa(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vo(t,n,o)}break;case 5:ca(t,n);break;case 4:X?Ca(e,t,n):q&&q&&(t=t.stateNode.containerInfo,n=Be(t),ke(t,n))}}function ga(e,t,n){for(var r=t;;)if(va(e,r,n),null===r.child||X&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ma(e){var t=e.alternate;null!==t&&(e.alternate=null,ma(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ya(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ya(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function wa(e){if(X){e:{for(var t=e.return;null!==t;){if(ya(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(be(t),n.flags&=-33),_a(e,n=ba(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,xa(e,n=ba(e),t);break;default:throw Error(o(161))}}}function xa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(xa(e,t,n),e=e.sibling;null!==e;)xa(e,t,n),e=e.sibling}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):Ae(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Ca(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)ga(e,a,n),i?ye(r,a.stateNode):me(r,a.stateNode);else if(18===a.tag)i?Ye(r,a.stateNode):qe(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(va(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Ea(e,t){if(X){switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),ha(3,t),void da(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&pe(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void de(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Y&&null!==e&&e.memoizedState.isDehydrated&&Ke(t.stateNode.containerInfo));case 13:case 19:return void Sa(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),ha(3,t),void da(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Sa(t);case 3:Y&&null!==e&&e.memoizedState.isDehydrated&&Ke(t.stateNode.containerInfo)}e:if(q){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,ke(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Sa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ua),t.forEach((function(t){var r=qo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ba(e,t,n){la=e,Ta(e,t,n)}function Ta(e,t,n){for(var r=0!==(1&e.mode);null!==la;){var i=la,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||sa;s=oa;var l=sa;if(oa=o,(sa=u)&&!l)for(la=i;null!==la;)u=(o=la).child,22===o.tag&&null!==o.memoizedState?Ma(i):null!==u?(u.return=o,la=u):Ma(i);for(;null!==a;)la=a,Ta(a,t,n),a=a.sibling;la=i,oa=s,sa=l}Ia(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,la=a):Ia(e)}}function Ia(e){for(;null!==la;){var t=la;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sa||ha(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&wn(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=U(t.child.stateNode);break;case 1:n=t.child.stateNode}wn(t,s,n)}break;case 5:var u=t.stateNode;null===n&&4&t.flags&&he(u,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Y&&null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var A=c.dehydrated;null!==A&&Xe(A)}}}break;default:throw Error(o(163))}sa||512&t.flags&&pa(t)}catch(f){Vo(t,t.return,f)}}if(t===e){la=null;break}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}function ka(e){for(;null!==la;){var t=la;if(t===e){la=null;break}var n=t.sibling;if(null!==n){n.return=t.return,la=n;break}la=t.return}}function Ma(e){for(;null!==la;){var t=la;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ha(4,t)}catch(u){Vo(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Vo(t,i,u)}}var a=t.return;try{pa(t)}catch(u){Vo(t,a,u)}break;case 5:var o=t.return;try{pa(t)}catch(u){Vo(t,o,u)}}}catch(u){Vo(t,t.return,u)}if(t===e){la=null;break}var s=t.sibling;if(null!==s){s.return=t.return,la=s;break}la=t.return}}var Ra=0,Ua=1,Fa=2,Oa=3,Pa=4;if("function"===typeof Symbol&&Symbol.for){var Da=Symbol.for;Ra=Da("selector.component"),Ua=Da("selector.has_pseudo_class"),Fa=Da("selector.role"),Oa=Da("selector.test_id"),Pa=Da("selector.text")}function La(e){var t=Z(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function Na(e,t){switch(t.$$typeof){case Ra:if(e.type===t.value)return!0;break;case Ua:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&Na(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Fa:if(5===e.tag&&ue(e.stateNode,t.value))return!0;break;case Pa:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case Oa:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Qa(e){switch(e.$$typeof){case Ra:return"<"+(_(e.value)||"Unknown")+">";case Ua:return":has("+(Qa(e)||"")+")";case Fa:return'[role="'+e.value+'"]';case Pa:return'"'+e.value+'"';case Oa:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Ha(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&Na(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function ja(e,t){if(!re)throw Error(o(363));e=Ha(e=La(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var za=Math.ceil,Ga=s.ReactCurrentDispatcher,Va=s.ReactCurrentOwner,Wa=s.ReactCurrentBatchConfig,Ka=0,Xa=null,qa=null,Ya=0,Za=0,Ja=ot(0),$a=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,so=1/0;function uo(){so=Lt()+500}var lo,co=!1,Ao=null,fo=null,ho=!1,po=null,vo=0,go=0,mo=null,yo=-1,bo=0;function wo(){return 0!==(6&Ka)?Lt():-1!==yo?yo:yo=Lt()}function xo(e){return 0===(1&e.mode)?1:0!==(2&Ka)&&0!==Ya?Ya&-Ya:null!==Zt.transition?(0===bo&&(e=_t,0===(4194240&(_t<<=1))&&(_t=64),bo=e),bo):0!==(e=Rt)?e:$()}function _o(e,t,n){if(50<go)throw go=0,mo=null,Error(o(185));var r=Co(e,t);return null===r?null:(kt(r,t,n),0!==(2&Ka)&&r===Xa||(r===Xa&&(0===(2&Ka)&&(no|=t),4===$a&&Io(r,Ya)),Eo(r,n),1===t&&0===Ka&&0===(1&e.mode)&&(uo(),Kt&&Yt())),r)}function Co(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Eo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-bt(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=Bt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=St(e,e===Xa?Ya:0);if(0===r)null!==n&&Ot(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ot(n),1===t)0===e.tag?function(e){Kt=!0,qt(e)}(ko.bind(null,e)):qt(ko.bind(null,e)),te?ne((function(){0===Ka&&Yt()})):Ft(Nt,Yt),n=null;else{switch(Ut(r)){case 1:n=Nt;break;case 4:n=Qt;break;case 16:default:n=Ht;break;case 536870912:n=jt}n=Yo(n,So.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function So(e,t){if(yo=-1,bo=0,0!==(6&Ka))throw Error(o(327));var n=e.callbackNode;if(zo()&&e.callbackNode!==n)return null;var r=St(e,e===Xa?Ya:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Do(e,r);else{t=r;var i=Ka;Ka|=2;var a=Oo();for(Xa===e&&Ya===t||(uo(),Uo(e,t));;)try{No();break}catch(u){Fo(e,u)}on(),Ga.current=a,Ka=i,null!==qa?t=0:(Xa=null,Ya=0,t=$a)}if(0!==t){if(2===t&&(0!==(i=Tt(e))&&(r=i,t=Bo(e,i))),1===t)throw n=eo,Uo(e,0),Io(e,r),Eo(e,Lt()),n;if(6===t)Io(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Vt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Do(e,r))&&(0!==(a=Tt(e))&&(r=a,t=Bo(e,a))),1===t))throw n=eo,Uo(e,0),Io(e,r),Eo(e,Lt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:jo(e,ao);break;case 3:if(Io(e,r),(130023424&r)===r&&10<(t=oo+500-Lt())){if(0!==St(e,0))break;if(((i=e.suspendedLanes)&r)!==r){wo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=G(jo.bind(null,e,ao),t);break}jo(e,ao);break;case 4:if(Io(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-bt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Lt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*za(r/1960))-r)){e.timeoutHandle=G(jo.bind(null,e,ao),r);break}jo(e,ao);break;default:throw Error(o(329))}}}return Eo(e,Lt()),e.callbackNode===n?So.bind(null,e):null}function Bo(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Uo(e,t).flags|=256),2!==(e=Do(e,t))&&(t=ao,ao=n,null!==t&&To(t)),e}function To(e){null===ao?ao=e:ao.push.apply(ao,e)}function Io(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function ko(e){if(0!==(6&Ka))throw Error(o(327));zo();var t=St(e,0);if(0===(1&t))return Eo(e,Lt()),null;var n=Do(e,t);if(0!==e.tag&&2===n){var r=Tt(e);0!==r&&(t=r,n=Bo(e,r))}if(1===n)throw n=eo,Uo(e,0),Io(e,t),Eo(e,Lt()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,ao),Eo(e,Lt()),null}function Mo(e){null!==po&&0===po.tag&&0===(6&Ka)&&zo();var t=Ka;Ka|=1;var n=Wa.transition,r=Rt;try{if(Wa.transition=null,Rt=1,e)return e()}finally{Rt=r,Wa.transition=n,0===(6&(Ka=t))&&Yt()}}function Ro(){Za=Ja.current,st(Ja)}function Uo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==W&&(e.timeoutHandle=W,V(n)),null!==qa)for(n=qa.return;null!==n;){var r=n;switch(Hn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&pt();break;case 3:dr(),st(At),st(ct),yr();break;case 5:pr(r);break;case 4:dr();break;case 13:case 19:st(vr);break;case 10:un(r.type._context);break;case 22:case 23:Ro()}n=n.return}if(Xa=e,qa=e=es(e.current,null),Ya=Za=t,$a=0,eo=null,ro=no=to=0,ao=io=null,null!==fn){for(t=0;t<fn.length;t++)if(null!==(r=(n=fn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}fn=null}return e}function Fo(e,t){for(;;){var n=qa;try{if(on(),br.current=di,Sr){for(var r=_r.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Sr=!1}if(xr=0,Er=Cr=_r=null,Br=!1,Tr=0,Va.current=null,null===n||null===n.return){$a=1,eo=t,qa=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Ya,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,A=u,f=A.tag;if(0===(1&A.mode)&&(0===f||11===f||15===f)){var d=A.alternate;d?(A.updateQueue=d.updateQueue,A.memoizedState=d.memoizedState,A.lanes=d.lanes):(A.updateQueue=null,A.memoizedState=null)}var h=Bi(s);if(null!==h){h.flags&=-257,Ti(h,s,u,0,t),1&h.mode&&Si(a,c,t),l=c;var p=(t=h).updateQueue;if(null===p){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}if(0===(1&t)){Si(a,c,t),Po();break e}l=Error(o(426))}else if(Gn&&1&u.mode){var g=Bi(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Ti(g,s,u,0,t),er(l);break e}}a=l,4!==$a&&($a=2),null===io?io=[a]:io.push(a),l=gi(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,yn(u,Ci(0,l,t));break e;case 1:a=l;var m=u.type,y=u.stateNode;if(0===(128&u.flags)&&("function"===typeof m.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===fo||!fo.has(y)))){u.flags|=65536,t&=-t,u.lanes|=t,yn(u,Ei(u,a,t));break e}}u=u.return}while(null!==u)}Ho(n)}catch(b){t=b,qa===n&&null!==n&&(qa=n=n.return);continue}break}}function Oo(){var e=Ga.current;return Ga.current=di,null===e?di:e}function Po(){0!==$a&&3!==$a&&2!==$a||($a=4),null===Xa||0===(268435455&to)&&0===(268435455&no)||Io(Xa,Ya)}function Do(e,t){var n=Ka;Ka|=2;var r=Oo();for(Xa===e&&Ya===t||Uo(e,t);;)try{Lo();break}catch(i){Fo(e,i)}if(on(),Ka=n,Ga.current=r,null!==qa)throw Error(o(261));return Xa=null,Ya=0,$a}function Lo(){for(;null!==qa;)Qo(qa)}function No(){for(;null!==qa&&!Pt();)Qo(qa)}function Qo(e){var t=lo(e.alternate,e,Za);e.memoizedProps=e.pendingProps,null===t?Ho(e):qa=t,Va.current=null}function Ho(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Fi(n,t,Za)))return void(qa=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void(qa=n);if(null===e)return $a=6,void(qa=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(qa=t);qa=t=e}while(null!==t);0===$a&&($a=5)}function jo(e,t){var n=Rt,r=Wa.transition;try{Wa.transition=null,Rt=1,function(e,t,n){do{zo()}while(null!==po);if(0!==(6&Ka))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Xa&&(qa=Xa=null,Ya=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||ho||(ho=!0,Yo(Ht,(function(){return zo(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=Wa.transition,Wa.transition=null;var s=Rt;Rt=1;var u=Ka;Ka|=4,Va.current=null,function(e,t){for(P(e.containerInfo),la=t;null!==la;)if(t=(e=la).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,la=t;else for(;null!==la;){e=la;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:X&&Ee(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(u){Vo(e,e.return,u)}if(null!==(t=e.sibling)){t.return=e.return,la=t;break}la=e.return}n=fa,fa=!1}(e,r),function(e,t){for(la=t;null!==la;){var n=(t=la).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;X?Ca(a,i,t):ga(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(w){Vo(i,t,w)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,la=n;else for(;null!==la;){t=la;try{var s=t.flags;if(32&s&&X&&be(t.stateNode),512&s){var u=t.alternate;if(null!==u){var l=u.ref;null!==l&&("function"===typeof l?l(null):l.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=Lt())}break;case 22:var A=null!==t.memoizedState,f=t.alternate,d=null!==f&&null!==f.memoizedState;if(n=t,X)e:if(r=n,i=A,a=null,X)for(var h=r;;){if(5===h.tag){if(null===a){a=h;var p=h.stateNode;i?we(p):_e(h.stateNode,h.memoizedProps)}}else if(6===h.tag){if(null===a){var v=h.stateNode;i?xe(v):Ce(v,h.memoizedProps)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===r)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===r)break;for(;null===h.sibling;){if(null===h.return||h.return===r)break e;a===h&&(a=null),h=h.return}a===h&&(a=null),h.sibling.return=h.return,h=h.sibling}if(A&&!d&&0!==(1&n.mode)){la=n;for(var g=n.child;null!==g;){for(n=la=g;null!==la;){var m=(r=la).child;switch(r.tag){case 0:case 11:case 14:case 15:da(4,r,r.return);break;case 1:ca(r,r.return);var y=r.stateNode;if("function"===typeof y.componentWillUnmount){var b=r.return;try{y.props=r.memoizedProps,y.state=r.memoizedState,y.componentWillUnmount()}catch(w){Vo(r,b,w)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){ka(n);continue}}null!==m?(m.return=r,la=m):ka(n)}g=g.sibling}}}switch(4102&s){case 2:wa(t),t.flags&=-3;break;case 6:wa(t),t.flags&=-3,Ea(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ea(t.alternate,t);break;case 4:Ea(t.alternate,t)}}catch(w){Vo(t,t.return,w)}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}}(e,r),D(e.containerInfo),e.current=r,Ba(r,e,i),Dt(),Ka=u,Rt=s,Wa.transition=a}else e.current=r;if(ho&&(ho=!1,po=e,vo=i),a=e.pendingLanes,0===a&&(fo=null),function(e){if(Gt&&"function"===typeof Gt.onCommitFiberRoot)try{Gt.onCommitFiberRoot(zt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Eo(e,Lt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=Ao,Ao=null,e;0!==(1&vo)&&0!==e.tag&&zo(),a=e.pendingLanes,0!==(1&a)?e===mo?go++:(go=0,mo=e):go=0,Yt()}(e,t,n)}finally{Wa.transition=r,Rt=n}return null}function zo(){if(null!==po){var e=Ut(vo),t=Wa.transition,n=Rt;try{if(Wa.transition=null,Rt=16>e?16:e,null===po)var r=!1;else{if(e=po,po=null,vo=0,0!==(6&Ka))throw Error(o(331));var i=Ka;for(Ka|=4,la=e.current;null!==la;){var a=la,s=a.child;if(0!==(16&la.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(la=c;null!==la;){var A=la;switch(A.tag){case 0:case 11:case 15:da(8,A,a)}var f=A.child;if(null!==f)f.return=A,la=f;else for(;null!==la;){var d=(A=la).sibling,h=A.return;if(ma(A),A===c){la=null;break}if(null!==d){d.return=h,la=d;break}la=h}}}var p=a.alternate;if(null!==p){var v=p.child;if(null!==v){p.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}la=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,la=s;else e:for(;null!==la;){if(0!==(2048&(a=la).flags))switch(a.tag){case 0:case 11:case 15:da(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,la=m;break e}la=a.return}}var y=e.current;for(la=y;null!==la;){var b=(s=la).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,la=b;else e:for(s=y;null!==la;){if(0!==(2048&(u=la).flags))try{switch(u.tag){case 0:case 11:case 15:ha(9,u)}}catch(x){Vo(u,u.return,x)}if(u===s){la=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,la=w;break e}la=u.return}}if(Ka=i,Yt(),Gt&&"function"===typeof Gt.onPostCommitFiberRoot)try{Gt.onPostCommitFiberRoot(zt,e)}catch(x){}r=!0}return r}finally{Rt=n,Wa.transition=t}}return!1}function Go(e,t,n){gn(e,t=Ci(0,t=gi(n,t),1)),t=wo(),null!==(e=Co(e,1))&&(kt(e,1,t),Eo(e,t))}function Vo(e,t,n){if(3===e.tag)Go(e,e,n);else for(;null!==t;){if(3===t.tag){Go(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===fo||!fo.has(r))){gn(t,e=Ei(t,e=gi(n,e),1)),e=wo(),null!==(t=Co(t,1))&&(kt(t,1,e),Eo(t,e));break}}t=t.return}}function Wo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=wo(),e.pingedLanes|=e.suspendedLanes&n,Xa===e&&(Ya&n)===n&&(4===$a||3===$a&&(130023424&Ya)===Ya&&500>Lt()-oo?Uo(e,0):ro|=n),Eo(e,t)}function Ko(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Ct,0===(130023424&(Ct<<=1))&&(Ct=4194304)));var n=wo();null!==(e=Co(e,t))&&(kt(e,t,n),Eo(e,n))}function Xo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ko(e,n)}function qo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ko(e,n)}function Yo(e,t){return Ft(e,t)}function Zo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jo(e,t,n,r){return new Zo(e,t,n,r)}function $o(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=Jo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)$o(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case c:return ns(n.children,i,a,t);case A:s=8,i|=8;break;case f:return(e=Jo(12,n,t,2|i)).elementType=f,e.lanes=a,e;case v:return(e=Jo(13,n,t,i)).elementType=v,e.lanes=a,e;case g:return(e=Jo(19,n,t,i)).elementType=g,e.lanes=a,e;case b:return rs(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case d:s=10;break e;case h:s=9;break e;case p:s=11;break e;case m:s=14;break e;case y:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Jo(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ns(e,t,n,r){return(e=Jo(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=Jo(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=Jo(6,e,null,t)).lanes=n,e}function as(e,t,n){return(t=Jo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=W,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=It(0),this.expirationTimes=It(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=It(0),this.identifierPrefix=r,this.onRecoverableError=i,Y&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,a,o,s,u){return e=new os(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Jo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},hn(a),e}function us(e){if(!e)return lt;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ht(n))return gt(e,n,t)}return t}function ls(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=T(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function As(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function fs(e){return null===(e=T(e))?null:e.stateNode}function ds(){return null}return lo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||At.current)Pi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Pi=!1,function(e,t,n){switch(t.tag){case 3:Wi(t),$n();break;case 5:hr(t);break;case 1:ht(t.type)&&mt(t);break;case 4:fr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ut(vr,1&vr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Yi(e,t,n):(ut(vr,1&vr.current),null!==(e=ia(e,t,n))?e.sibling:null);ut(vr,1&vr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(vr,vr.current),r)break;return null;case 22:case 23:return t.lanes=0,Hi(e,t,n)}return ia(e,t,n)}(e,t,n);Pi=0!==(131072&e.flags)}else Pi=!1,Gn&&0!==(1048576&t.flags)&&Nn(t,Rn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=dt(t,ct.current);cn(t,n),i=Rr(null,t,r,e,i,n);var a=Ur();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(a=!0,mt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,hn(t),i.updater=Cn,t.stateNode=i,i._reactInternals=t,Tn(t,r,e,n),t=Vi(null,t,r,!0,a,n)):(t.tag=0,Gn&&a&&Qn(t),Di(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return $o(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===p)return 11;if(e===m)return 14}return 2}(r),e=en(r,e),i){case 0:t=zi(null,t,r,e,n);break e;case 1:t=Gi(null,t,r,e,n);break e;case 11:t=Li(null,t,r,e,n);break e;case 14:t=Ni(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,zi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Gi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Wi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,pn(e,t),bn(t,r,null,n);var s=t.memoizedState;if(r=s.element,Y&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ki(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=Ki(e,t,r,n,i=Error(o(424)));break e}for(Y&&(zn=He(t.stateNode.containerInfo),jn=t,Gn=!0,Wn=null,Vn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if($n(),r===i){t=ia(e,t,n);break e}Di(e,t,r,n)}t=t.child}return t;case 5:return hr(t),null===e&&Yn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,j(r,i)?s=null:null!==a&&j(r,a)&&(t.flags|=32),ji(e,t),Di(e,t,s,n),t.child;case 6:return null===e&&Yn(t),null;case 13:return Yi(e,t,n);case 4:return fr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Di(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Li(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Di(e,t,t.pendingProps,n),t.child;case 8:case 12:return Di(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,sn(0,r,s=i.value),null!==a)if(Vt(a.value,s)){if(a.children===i.children&&!At.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=vn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var A=(c=c.shared).pending;null===A?l.next=l:(l.next=A.next,A.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ln(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ln(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Di(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=An(i)),t.flags|=1,Di(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Ni(e,t,r,i=en(r.type,i),n);case 15:return Qi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ht(r)?(e=!0,mt(t)):e=!1,cn(t,n),Sn(t,r,i),Tn(t,r,i,n),Vi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return Hi(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(_o(e,134217728,wo()),As(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=wo(),n=xo(e);_o(e,n,t),As(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(Mt(t,1|n),Eo(t,Lt()),0===(6&Ka)&&(uo(),Yt()))}break;case 13:var r=wo();Mo((function(){return _o(e,1,r)})),As(e,1)}},t.batchedUpdates=function(e,t){var n=Ka;Ka|=1;try{return e(t)}finally{0===(Ka=n)&&(uo(),Kt&&Yt())}},t.createComponentSelector=function(e){return{$$typeof:Ra,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return ss(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ua,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,u){return(e=ss(n,r,!0,e,0,a,0,s,u)).context=us(null),n=e.current,(a=vn(r=wo(),i=xo(n))).callback=void 0!==t&&null!==t?t:null,gn(n,a),e.current.lanes=i,kt(e,i,r),Eo(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Fa,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Oa,value:e}},t.createTextSelector=function(e){return{$$typeof:Pa,value:e}},t.deferredUpdates=function(e){var t=Rt,n=Wa.transition;try{return Wa.transition=null,Rt=16,e()}finally{Rt=t,Wa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=Rt,o=Wa.transition;try{return Wa.transition=null,Rt=1,e(t,n,r,i)}finally{Rt=a,Wa.transition=o,0===Ka&&uo()}},t.findAllNodes=ja,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=ja(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,u=t-1;0<=u;u--)if(t!==u){var l=e[u],c=l.x,A=c+l.width,f=l.y,d=f+l.height;if(r>=c&&a>=f&&i<=A&&s<=d){e.splice(t,1);break}if(!(r!==c||n.width!==l.width||d<a||f>s)){f>a&&(l.height+=f-a,l.y=a),d<s&&(l.height=s-f),e.splice(t,1);break}if(!(a!==f||n.height!==l.height||A<r||c>i)){c>r&&(l.width+=c-r,l.x=r),A<i&&(l.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=ls,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=B(e))?k(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ls(e)},t.flushControlled=function(e){var t=Ka;Ka|=1;var n=Wa.transition,r=Rt;try{Wa.transition=null,Rt=1,e()}finally{Rt=r,Wa.transition=n,0===(Ka=t)&&(uo(),Yt())}},t.flushPassiveEffects=zo,t.flushSync=Mo,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=Ha(e=La(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Rt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[La(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],u=t[s];if((5!==a.tag||!se(a))&&(Na(a,u)&&(r.push(Qa(u)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Qa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?U(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:fs,findFiberByHostInstance:e.findFiberByHostInstance||ds,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{zt=t.inject(e),Gt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=ja(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=wo(),o=xo(i);return n=us(n),null===t.context?t.context=n:t.pendingContext=n,(t=vn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),null!==(e=_o(i,o,a))&&mn(e,i,o),o},t}},223:function(e,t,n){"use strict";e.exports=n(2354)},5914:function(e,t,n){"use strict";e.exports=n(8106)},9400:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=0===e?e:e+t;return"translate3d"+("("+("horizontal"===n?[r,0,0]:[0,r,0]).join(",")+")")}},9781:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fadeAnimationHandler=t.slideStopSwipingHandler=t.slideSwipeAnimationHandler=t.slideAnimationHandler=void 0;var r,i=n(7313),a=(r=n(9400))&&r.__esModule?r:{default:r},o=n(9850);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.slideAnimationHandler=function(e,t){var n={},r=t.selectedItem,s=r,l=i.Children.count(e.children)-1;if(e.infiniteLoop&&(r<0||r>l))return s<0?e.centerMode&&e.centerSlidePercentage&&"horizontal"===e.axis?n.itemListStyle=(0,o.setPosition)(-(l+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):n.itemListStyle=(0,o.setPosition)(100*-(l+2),e.axis):s>l&&(n.itemListStyle=(0,o.setPosition)(0,e.axis)),n;var c=(0,o.getPosition)(r,e),A=(0,a.default)(c,"%",e.axis),f=e.transitionTime+"ms";return n.itemListStyle={WebkitTransform:A,msTransform:A,OTransform:A,transform:A},t.swiping||(n.itemListStyle=u(u({},n.itemListStyle),{},{WebkitTransitionDuration:f,MozTransitionDuration:f,OTransitionDuration:f,transitionDuration:f,msTransitionDuration:f})),n};t.slideSwipeAnimationHandler=function(e,t,n,r){var a={},s="horizontal"===t.axis,u=i.Children.count(t.children),l=(0,o.getPosition)(n.selectedItem,t),c=t.infiniteLoop?(0,o.getPosition)(u-1,t)-100:(0,o.getPosition)(u-1,t),A=s?e.x:e.y,f=A;0===l&&A>0&&(f=0),l===c&&A<0&&(f=0);var d=l+100/(n.itemSize/f),h=Math.abs(A)>t.swipeScrollTolerance;return t.infiniteLoop&&h&&(0===n.selectedItem&&d>-100?d-=100*u:n.selectedItem===u-1&&d<100*-u&&(d+=100*u)),(!t.preventMovementUntilSwipeScrollTolerance||h||n.swipeMovementStarted)&&(n.swipeMovementStarted||r({swipeMovementStarted:!0}),a.itemListStyle=(0,o.setPosition)(d,t.axis)),h&&!n.cancelClick&&r({cancelClick:!0}),a};t.slideStopSwipingHandler=function(e,t){var n=(0,o.getPosition)(t.selectedItem,e);return{itemListStyle:(0,o.setPosition)(n,e.axis)}};t.fadeAnimationHandler=function(e,t){var n=e.transitionTime+"ms",r="ease-in-out",i={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return t.swiping||(i=u(u({},i),{},{WebkitTransitionDuration:n,MozTransitionDuration:n,OTransitionDuration:n,transitionDuration:n,msTransitionDuration:n})),{slideStyle:i,selectedStyle:u(u({},i),{},{opacity:1,position:"relative"}),prevStyle:u({},i)}}},2081:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(7313)),i=A(n(7730)),a=A(n(1868)),o=A(n(956)),s=A(n(9054)),u=A(n(9367)),l=n(9850),c=n(9781);function A(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;return b(e)}(this,n)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(d,e);var t,n,A,f=y(d);function d(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),x(b(t=f.call(this,e)),"thumbsRef",void 0),x(b(t),"carouselWrapperRef",void 0),x(b(t),"listRef",void 0),x(b(t),"itemsRef",void 0),x(b(t),"timer",void 0),x(b(t),"animationHandler",void 0),x(b(t),"setThumbsRef",(function(e){t.thumbsRef=e})),x(b(t),"setCarouselWrapperRef",(function(e){t.carouselWrapperRef=e})),x(b(t),"setListRef",(function(e){t.listRef=e})),x(b(t),"setItemsRef",(function(e,n){t.itemsRef||(t.itemsRef=[]),t.itemsRef[n]=e})),x(b(t),"autoPlay",(function(){r.Children.count(t.props.children)<=1||(t.clearAutoPlay(),t.props.autoPlay&&(t.timer=setTimeout((function(){t.increment()}),t.props.interval)))})),x(b(t),"clearAutoPlay",(function(){t.timer&&clearTimeout(t.timer)})),x(b(t),"resetAutoPlay",(function(){t.clearAutoPlay(),t.autoPlay()})),x(b(t),"stopOnHover",(function(){t.setState({isMouseEntered:!0},t.clearAutoPlay)})),x(b(t),"startOnLeave",(function(){t.setState({isMouseEntered:!1},t.autoPlay)})),x(b(t),"isFocusWithinTheCarousel",(function(){return!!t.carouselWrapperRef&&!((0,s.default)().activeElement!==t.carouselWrapperRef&&!t.carouselWrapperRef.contains((0,s.default)().activeElement))})),x(b(t),"navigateWithKeyboard",(function(e){if(t.isFocusWithinTheCarousel()){var n="horizontal"===t.props.axis,r=n?37:38;(n?39:40)===e.keyCode?t.increment():r===e.keyCode&&t.decrement()}})),x(b(t),"updateSizes",(function(){if(t.state.initialized&&t.itemsRef&&0!==t.itemsRef.length){var e="horizontal"===t.props.axis,n=t.itemsRef[0];if(n){var r=e?n.clientWidth:n.clientHeight;t.setState({itemSize:r}),t.thumbsRef&&t.thumbsRef.updateSizes()}}})),x(b(t),"setMountState",(function(){t.setState({hasMount:!0}),t.updateSizes()})),x(b(t),"handleClickItem",(function(e,n){0!==r.Children.count(t.props.children)&&(t.state.cancelClick?t.setState({cancelClick:!1}):(t.props.onClickItem(e,n),e!==t.state.selectedItem&&t.setState({selectedItem:e})))})),x(b(t),"handleOnChange",(function(e,n){r.Children.count(t.props.children)<=1||t.props.onChange(e,n)})),x(b(t),"handleClickThumb",(function(e,n){t.props.onClickThumb(e,n),t.moveTo(e)})),x(b(t),"onSwipeStart",(function(e){t.setState({swiping:!0}),t.props.onSwipeStart(e)})),x(b(t),"onSwipeEnd",(function(e){t.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),t.props.onSwipeEnd(e),t.clearAutoPlay(),t.state.autoPlay&&t.autoPlay()})),x(b(t),"onSwipeMove",(function(e,n){t.props.onSwipeMove(n);var r=t.props.swipeAnimationHandler(e,t.props,t.state,t.setState.bind(b(t)));return t.setState(v({},r)),!!Object.keys(r).length})),x(b(t),"decrement",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem-("number"===typeof e?e:1))})),x(b(t),"increment",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem+("number"===typeof e?e:1))})),x(b(t),"moveTo",(function(e){if("number"===typeof e){var n=r.Children.count(t.props.children)-1;e<0&&(e=t.props.infiniteLoop?n:0),e>n&&(e=t.props.infiniteLoop?0:n),t.selectItem({selectedItem:e}),t.state.autoPlay&&!1===t.state.isMouseEntered&&t.resetAutoPlay()}})),x(b(t),"onClickNext",(function(){t.increment(1)})),x(b(t),"onClickPrev",(function(){t.decrement(1)})),x(b(t),"onSwipeForward",(function(){t.increment(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),x(b(t),"onSwipeBackwards",(function(){t.decrement(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),x(b(t),"changeItem",(function(e){return function(n){(0,l.isKeyboardEvent)(n)&&"Enter"!==n.key||t.moveTo(e)}})),x(b(t),"selectItem",(function(e){t.setState(v({previousItem:t.state.selectedItem},e),(function(){t.setState(t.animationHandler(t.props,t.state))})),t.handleOnChange(e.selectedItem,r.Children.toArray(t.props.children)[e.selectedItem])})),x(b(t),"getInitialImage",(function(){var e=t.props.selectedItem,n=t.itemsRef&&t.itemsRef[e];return(n&&n.getElementsByTagName("img")||[])[0]})),x(b(t),"getVariableItemHeight",(function(e){var n=t.itemsRef&&t.itemsRef[e];if(t.state.hasMount&&n&&n.children.length){var r=n.children[0].getElementsByTagName("img")||[];if(r.length>0){var i=r[0];if(!i.complete){i.addEventListener("load",(function e(){t.forceUpdate(),i.removeEventListener("load",e)}))}}var a=(r[0]||n.children[0]).clientHeight;return a>0?a:null}return null}));var n={initialized:!1,previousItem:e.selectedItem,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return t.animationHandler="function"===typeof e.animationHandler&&e.animationHandler||"fade"===e.animationHandler&&c.fadeAnimationHandler||c.slideAnimationHandler,t.state=v(v({},n),t.animationHandler(e,n)),t}return t=d,(n=[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),!e.autoFocus&&this.props.autoFocus&&this.forceFocus(),t.swiping&&!this.state.swiping&&this.setState(v({},this.props.stopSwipingHandler(this.props,this.state))),e.selectedItem===this.props.selectedItem&&e.centerMode===this.props.centerMode||(this.updateSizes(),this.moveTo(this.props.selectedItem)),e.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var e=this;this.bindEvents(),this.state.autoPlay&&r.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},(function(){var t=e.getInitialImage();t&&!t.complete?t.addEventListener("load",e.setMountState):e.setMountState()}))}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,u.default)().addEventListener("resize",this.updateSizes),(0,u.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,s.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,u.default)().removeEventListener("resize",this.updateSizes),(0,u.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,s.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var e;null===(e=this.carouselWrapperRef)||void 0===e||e.focus()}},{key:"renderItems",value:function(e){var t=this;return this.props.children?r.Children.map(this.props.children,(function(n,i){var o=i===t.state.selectedItem,s=i===t.state.previousItem,u=o&&t.state.selectedStyle||s&&t.state.prevStyle||t.state.slideStyle||{};t.props.centerMode&&"horizontal"===t.props.axis&&(u=v(v({},u),{},{minWidth:t.props.centerSlidePercentage+"%"})),t.state.swiping&&t.state.swipeMovementStarted&&(u=v(v({},u),{},{pointerEvents:"none"}));var l={ref:function(e){return t.setItemsRef(e,i)},key:"itemKey"+i+(e?"clone":""),className:a.default.ITEM(!0,i===t.state.selectedItem,i===t.state.previousItem),onClick:t.handleClickItem.bind(t,i,n),style:u};return r.default.createElement("li",l,t.props.renderItem(n,{isSelected:i===t.state.selectedItem,isPrevious:i===t.state.previousItem}))})):[]}},{key:"renderControls",value:function(){var e=this,t=this.props,n=t.showIndicators,i=t.labels,a=t.renderIndicator,o=t.children;return n?r.default.createElement("ul",{className:"control-dots"},r.Children.map(o,(function(t,n){return a&&a(e.changeItem(n),n===e.state.selectedItem,n,i.item)}))):null}},{key:"renderStatus",value:function(){return this.props.showStatus?r.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,r.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&this.props.children&&0!==r.Children.count(this.props.children)?r.default.createElement(o.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children)):null}},{key:"render",value:function(){var e=this;if(!this.props.children||0===r.Children.count(this.props.children))return null;var t=this.props.swipeable&&r.Children.count(this.props.children)>1,n="horizontal"===this.props.axis,o=this.props.showArrows&&r.Children.count(this.props.children)>1,s=o&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=o&&(this.state.selectedItem<r.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,l=this.renderItems(!0),c=l.shift(),A=l.pop(),f={className:a.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},d={};if(n){if(f.onSwipeLeft=this.onSwipeForward,f.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var p=this.getVariableItemHeight(this.state.selectedItem);d.height=p||"auto"}}else f.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,f.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,f.style=v(v({},f.style),{},{height:this.state.itemSize}),d.height=this.state.itemSize;return r.default.createElement("div",{"aria-label":this.props.ariaLabel,className:a.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},r.default.createElement("div",{className:a.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,s,this.props.labels.leftArrow),r.default.createElement("div",{className:a.default.WRAPPER(!0,this.props.axis),style:d},t?r.default.createElement(i.default,h({tagName:"ul",innerRef:this.setListRef},f,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&A,this.renderItems(),this.props.infiniteLoop&&c):r.default.createElement("ul",{className:a.default.SLIDER(!0,this.state.swiping),ref:function(t){return e.setListRef(t)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&A,this.renderItems(),this.props.infiniteLoop&&c)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}])&&g(t.prototype,n),A&&g(t,A),d}(r.default.Component);t.default=_,x(_,"displayName","Carousel"),x(_,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:a.default.ARROW_PREV(!t),onClick:e})},renderArrowNext:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:a.default.ARROW_NEXT(!t),onClick:e})},renderIndicator:function(e,t,n,i){return r.default.createElement("li",{className:a.default.DOT(t),onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(n+1)})},renderItem:function(e){return e},renderThumbs:function(e){var t=r.Children.map(e,(function(e){var t=e;if("img"!==e.type&&(t=r.Children.toArray(e.props.children).find((function(e){return"img"===e.type}))),t)return t}));return 0===t.filter((function(e){return e})).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):t},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:c.slideSwipeAnimationHandler,stopSwipingHandler:c.slideStopSwipingHandler})},9406:function(){},9850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=t.isKeyboardEvent=t.defaultStatusFormatter=t.noop=void 0;var r,i=n(7313),a=(r=n(9400))&&r.__esModule?r:{default:r};t.noop=function(){};t.defaultStatusFormatter=function(e,t){return"".concat(e," of ").concat(t)};t.isKeyboardEvent=function(e){return!!e&&e.hasOwnProperty("key")};t.getPosition=function(e,t){if(t.infiniteLoop&&++e,0===e)return 0;var n=i.Children.count(t.children);if(t.centerMode&&"horizontal"===t.axis){var r=-e*t.centerSlidePercentage,a=n-1;return e&&(e!==a||t.infiniteLoop)?r+=(100-t.centerSlidePercentage)/2:e===a&&(r+=100-t.centerSlidePercentage),r}return 100*-e};t.setPosition=function(e,t){var n={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(r){n[r]=(0,a.default)(e,"%",t)})),n}},956:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==A(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(7313)),i=l(n(1868)),a=n(1806),o=l(n(9400)),s=l(n(7730)),u=l(n(9367));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function A(e){return A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"===typeof t))return t;return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(A,e);var t,n,l,c=p(A);function A(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),m(v(t=c.call(this,e)),"itemsWrapperRef",void 0),m(v(t),"itemsListRef",void 0),m(v(t),"thumbsRef",void 0),m(v(t),"setItemsWrapperRef",(function(e){t.itemsWrapperRef=e})),m(v(t),"setItemsListRef",(function(e){t.itemsListRef=e})),m(v(t),"setThumbsRef",(function(e,n){t.thumbsRef||(t.thumbsRef=[]),t.thumbsRef[n]=e})),m(v(t),"updateSizes",(function(){if(t.props.children&&t.itemsWrapperRef&&t.thumbsRef){var e=r.Children.count(t.props.children),n=t.itemsWrapperRef.clientWidth,i=t.props.thumbWidth?t.props.thumbWidth:(0,a.outerWidth)(t.thumbsRef[0]),o=Math.floor(n/i),s=o<e,u=s?e-o:0;t.setState((function(e,n){return{itemSize:i,visibleItems:o,firstItem:s?t.getFirstItem(n.selectedItem):0,lastPosition:u,showArrows:s}}))}})),m(v(t),"handleClickItem",(function(e,n,r){if(!function(e){return e.hasOwnProperty("key")}(r)||"Enter"===r.key){var i=t.props.onSelectItem;"function"===typeof i&&i(e,n)}})),m(v(t),"onSwipeStart",(function(){t.setState({swiping:!0})})),m(v(t),"onSwipeEnd",(function(){t.setState({swiping:!1})})),m(v(t),"onSwipeMove",(function(e){var n=e.x;if(!t.state.itemSize||!t.itemsWrapperRef||!t.state.visibleItems)return!1;var i=r.Children.count(t.props.children),a=-100*t.state.firstItem/t.state.visibleItems;0===a&&n>0&&(n=0),a===100*-Math.max(i-t.state.visibleItems,0)/t.state.visibleItems&&n<0&&(n=0);var s=a+100/(t.itemsWrapperRef.clientWidth/n);return t.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(e){t.itemsListRef.style[e]=(0,o.default)(s,"%",t.props.axis)})),!0})),m(v(t),"slideRight",(function(e){t.moveTo(t.state.firstItem-("number"===typeof e?e:1))})),m(v(t),"slideLeft",(function(e){t.moveTo(t.state.firstItem+("number"===typeof e?e:1))})),m(v(t),"moveTo",(function(e){e=(e=e<0?0:e)>=t.state.lastPosition?t.state.lastPosition:e,t.setState({firstItem:e})})),t.state={selectedItem:e.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},t}return t=A,(n=[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(e){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,u.default)().addEventListener("resize",this.updateSizes),(0,u.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,u.default)().removeEventListener("resize",this.updateSizes),(0,u.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.props.children.map((function(t,n){var a=i.default.ITEM(!1,n===e.state.selectedItem),o={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:a,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n]),"aria-label":"".concat(e.props.labels.item," ").concat(n+1),style:{width:e.props.thumbWidth}};return r.default.createElement("li",f({},o,{role:"button",tabIndex:0}),t)}))}},{key:"render",value:function(){var e=this;if(!this.props.children)return null;var t,n=r.Children.count(this.props.children)>1,a=this.state.showArrows&&this.state.firstItem>0,u=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l=-this.state.firstItem*(this.state.itemSize||0),c=(0,o.default)(l,"px",this.props.axis),A=this.props.transitionTime+"ms";return t={WebkitTransform:c,MozTransform:c,MsTransform:c,OTransform:c,transform:c,msTransform:c,WebkitTransitionDuration:A,MozTransitionDuration:A,MsTransitionDuration:A,OTransitionDuration:A,transitionDuration:A,msTransitionDuration:A},r.default.createElement("div",{className:i.default.CAROUSEL(!1)},r.default.createElement("div",{className:i.default.WRAPPER(!1),ref:this.setItemsWrapperRef},r.default.createElement("button",{type:"button",className:i.default.ARROW_PREV(!a),onClick:function(){return e.slideRight()},"aria-label":this.props.labels.leftArrow}),n?r.default.createElement(s.default,{tagName:"ul",className:i.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:t,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):r.default.createElement("ul",{className:i.default.SLIDER(!1,this.state.swiping),ref:function(t){return e.setItemsListRef(t)},style:t},this.renderItems()),r.default.createElement("button",{type:"button",className:i.default.ARROW_NEXT(!u),onClick:function(){return e.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}])&&d(t.prototype,n),l&&d(t,l),A}(r.Component);t.default=y,m(y,"displayName","Thumbs"),m(y,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},1868:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(6123))&&r.__esModule?r:{default:r};var a={ROOT:function(e){return(0,i.default)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,i.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,i.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,i.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t,n){return(0,i.default)({thumb:!e,slide:e,selected:t,previous:n})},ARROW_PREV:function(e){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,i.default)({dot:!0,selected:e})}};t.default=a},1806:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=void 0;t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},2655:function(e,t,n){"use strict";Object.defineProperty(t,"lr",{enumerable:!0,get:function(){return r.default}});var r=o(n(2081)),i=n(9406),a=o(n(956));function o(e){return e&&e.__esModule?e:{default:e}}},9054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return document}},9367:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return window}},7039:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=s(n(7313)),a=s(n(6123)),o=n(5226);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var y=function(e){p(n,e);var t=g(n);function n(){return f(this,n),t.apply(this,arguments)}return h(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,c(c({},n),r)):i.default.createElement("button",u({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent);t.PrevArrow=y;var b=function(e){p(n,e);var t=g(n);function n(){return f(this,n),t.apply(this,arguments)}return h(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,c(c({},n),r)):i.default.createElement("button",u({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent);t.NextArrow=b},5070:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(7313))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=a},6423:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=s(n(7313)),a=s(n(6123)),o=n(5226);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(d,e);var t,n,r,s=f(d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),s.apply(this,arguments)}return t=d,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,c=t.infinite,A=t.slidesToScroll,f=t.slidesToShow,d=t.slideCount,h=t.currentSlide,p=(e={slideCount:d,slidesToScroll:A,slidesToShow:f,infinite:c}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,v={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},g=[],m=0;m<p;m++){var y=(m+1)*A-1,b=c?y:(0,o.clamp)(y,0,d-1),w=b-(A-1),x=c?w:(0,o.clamp)(w,0,d-1),_=(0,a.default)({"slick-active":c?h>=x&&h<=b:h===x}),C={message:"dots",index:m,slidesToScroll:A,currentSlide:h},E=this.clickHandler.bind(this,C);g=g.concat(i.default.createElement("li",{key:m,className:_},i.default.cloneElement(this.props.customPaging(m),{onClick:E})))}return i.default.cloneElement(this.props.appendDots(g),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},v))}}],n&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.PureComponent);t.Dots=h},4021:function(e,t,n){"use strict";var r;t.Z=void 0;var i=((r=n(7212))&&r.__esModule?r:{default:r}).default;t.Z=i},3898:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},1684:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=f(n(7313)),i=f(n(3898)),a=f(n(936)),o=f(n(6123)),s=n(5226),u=n(4004),l=n(6423),c=n(7039),A=f(n(1355));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(x,e);var t,n,f,v=b(x);function x(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,x),_(w(t=v.call(this,e)),"listRefHandler",(function(e){return t.list=e})),_(w(t),"trackRefHandler",(function(e){return t.track=e})),_(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),_(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=g({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new A.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),_(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),_(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=g(g({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(i,a,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),_(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,a.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),_(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=g(g({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),_(w(t),"updateState",(function(e,n,i){var a=(0,s.initializedState)(e);e=g(g(g({},e),a),{},{slideIndex:a.currentSlide});var o=(0,s.getTrackLeft)(e);e=g(g({},e),{},{left:o});var u=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(a.trackStyle=u),t.setState(a,i)})),_(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],a=(0,s.getPreClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,s.getPostClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var u=0;u<a;u++)n+=i[i.length-1-u],e+=i[i.length-1-u];for(var l=0;l<o;l++)e+=i[l];for(var c=0;c<t.state.currentSlide;c++)n+=i[c];var A={width:e+"px",left:-n+"px"};if(t.props.centerMode){var f="".concat(i[t.state.currentSlide],"px");A.left="calc(".concat(A.left," + (100% - ").concat(f,") / 2 ) ")}return{trackStyle:A}}var d=r.default.Children.count(t.props.children),h=g(g(g({},t.props),t.state),{},{slideCount:d}),p=(0,s.getPreClones)(h)+(0,s.getPostClones)(h)+d,v=100/t.props.slidesToShow*p,m=100/p,y=-m*((0,s.getPreClones)(h)+t.state.currentSlide)*v/100;return t.props.centerMode&&(y+=(100-m*v/100)/2),{slideWidth:m+"%",trackStyle:{width:v+"%",left:y+"%"}}})),_(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),_(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=g(g({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,s.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),_(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,u=r.speed,l=r.afterChange,c=t.state.currentSlide,A=(0,s.slideHandler)(g(g(g({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),f=A.state,d=A.nextState;if(f){a&&a(c,f.currentSlide);var h=f.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&h.length>0&&o(h),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),l&&l(c),delete t.animationEndCallback),t.setState(f,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),d&&(t.animationEndCallback=setTimeout((function(){var e=d.animating,n=p(d,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),l&&l(f.currentSlide),delete t.animationEndCallback}))}),u))}))}})),_(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=g(g({},t.props),t.state),i=(0,s.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),_(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),_(w(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),_(w(t),"selectHandler",(function(e){t.changeSlide(e)})),_(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),_(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),_(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),_(w(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),_(w(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),_(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),_(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),_(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),_(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),_(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(g(g({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),_(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),_(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),_(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),_(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),_(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),_(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),_(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),_(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),_(w(t),"render",(function(){var e,n,i,a=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),A=g(g({},t.props),t.state),f=(0,s.extractObject)(A,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),d=t.props.pauseOnHover;if(f=g(g({},f),{},{onMouseEnter:d?t.onTrackOver:null,onMouseLeave:d?t.onTrackLeave:null,onMouseOver:d?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var p=(0,s.extractObject)(A,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),v=t.props.pauseOnDotsHover;p=g(g({},p),{},{clickHandler:t.changeSlide,onMouseEnter:v?t.onDotsLeave:null,onMouseOver:v?t.onDotsOver:null,onMouseLeave:v?t.onDotsLeave:null}),e=r.default.createElement(l.Dots,p)}var m=(0,s.extractObject)(A,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);m.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(c.PrevArrow,m),i=r.default.createElement(c.NextArrow,m));var y=null;t.props.vertical&&(y={height:t.state.listHeight});var b=null;!1===t.props.vertical?!0===t.props.centerMode&&(b={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(b={padding:t.props.centerPadding+" 0px"});var w=g(g({},y),b),x=t.props.touchMove,_={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:x?t.swipeStart:null,onMouseMove:t.state.dragging&&x?t.swipeMove:null,onMouseUp:x?t.swipeEnd:null,onMouseLeave:t.state.dragging&&x?t.swipeEnd:null,onTouchStart:x?t.swipeStart:null,onTouchMove:t.state.dragging&&x?t.swipeMove:null,onTouchEnd:x?t.touchEnd:null,onTouchCancel:t.state.dragging&&x?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},C={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(_={className:"slick-list"},C={className:a}),r.default.createElement("div",C,t.props.unslick?"":n,r.default.createElement("div",h({ref:t.listRefHandler},_),r.default.createElement(u.Track,h({ref:t.trackRefHandler},f),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=g(g({},i.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=g(g({},t.state),n),t}return t=x,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==d(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&m(t.prototype,n),f&&m(t,f),Object.defineProperty(t,"prototype",{writable:!1}),x}(r.default.Component);t.InnerSlider=C},7212:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(7313)),a=n(1684),o=l(n(5696)),s=l(n(5070)),u=n(5226);function l(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,u.canUseDOM)()&&n(3838),b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(A,e);var t,n,r,l=p(A);function A(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),m(v(t=l.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),m(v(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),m(v(t),"slickNext",(function(){return t.innerSlider.slickNext()})),m(v(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),m(v(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),m(v(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=A,(n=[{key:"media",value:function(e,t){y.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,u.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,u.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){y.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":f(f(f({},s.default),this.props),t[0].settings):f(f({},s.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=i.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var o=[],u=null,l=0;l<r.length;l+=e.rows*e.slidesPerRow){for(var A=[],d=l;d<l+e.rows*e.slidesPerRow;d+=e.slidesPerRow){for(var h=[],p=d;p<d+e.slidesPerRow&&(e.variableWidth&&r[p].props.style&&(u=r[p].props.style.width),!(p>=r.length));p+=1)h.push(i.default.cloneElement(r[p],{key:100*l+10*d+p,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));A.push(i.default.createElement("div",{key:10*l+d},h))}e.variableWidth?o.push(i.default.createElement("div",{key:l,style:{width:u}},A)):o.push(i.default.createElement("div",{key:l},A))}if("unslick"===e){var v="regular slider "+(this.props.className||"");return i.default.createElement("div",{className:v},r)}return o.length<=e.slidesToShow&&(e.unslick=!0),i.default.createElement(a.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},e),o)}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),A}(i.default.Component);t.default=b},4004:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=s(n(7313)),a=s(n(6123)),o=n(5226);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,n)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},m=function(e,t){return e.key||t},y=function(e){var t,n=[],r=[],s=[],u=i.default.Children.count(e.children),l=(0,o.lazyStartIndex)(e),c=(0,o.lazyEndIndex)(e);return i.default.Children.forEach(e.children,(function(A,f){var d,h={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?A:i.default.createElement("div",null);var v=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(p(p({},e),{},{index:f})),y=d.props.className||"",b=g(p(p({},e),{},{index:f}));if(n.push(i.default.cloneElement(d,{key:"original"+m(d,f),"data-index":f,className:(0,a.default)(b,y),tabIndex:"-1","aria-hidden":!b["slick-active"],style:p(p({outline:"none"},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&!1===e.fade){var w=u-f;w<=(0,o.getPreClones)(e)&&u!==e.slidesToShow&&((t=-w)>=l&&(d=A),b=g(p(p({},e),{},{index:t})),r.push(i.default.cloneElement(d,{key:"precloned"+m(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(b,y),"aria-hidden":!b["slick-active"],style:p(p({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}}))),u!==e.slidesToShow&&((t=u+f)<c&&(d=A),b=g(p(p({},e),{},{index:t})),s.push(i.default.cloneElement(d,{key:"postcloned"+m(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(b,y),"aria-hidden":!b["slick-active"],style:p(p({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})))}})),e.rtl?r.concat(n,s).reverse():r.concat(n,s)},b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(o,e);var t,n,r,a=A(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(f(e=a.call.apply(a,[this].concat(n))),"node",null),v(f(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=y(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return i.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.default.PureComponent);t.Track=b},5226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=u,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,i=(r=n(7313))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var l=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=l;var c=function(e){for(var t=[],n=A(e),r=f(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=c;t.getRequiredLazySlides=function(e){for(var t=[],n=A(e),r=f(e),i=n;i<r;i++)t.push(i);return t};var A=function(e){return e.currentSlide-d(e)};t.lazyStartIndex=A;var f=function(e){return e.currentSlide+h(e)};t.lazyEndIndex=f;var d=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=d;var h=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=h;var p=function(e){return e&&e.offsetWidth||0};t.getWidth=p;var v=function(e){return e&&e.offsetHeight||0};t.getHeight=v;var g=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=g;var m=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=m;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,a=Math.ceil(p(r)),s=e.trackRef&&e.trackRef.node,u=Math.ceil(p(s));if(e.vertical)t=a;else{var l=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(l*=a/100),t=Math.ceil((a-l)/e.slidesToShow)}var A=r&&v(r.querySelector('[data-index="0"]')),f=A*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var h=e.lazyLoadedList||[],g=c(o(o({},e),{},{currentSlide:d,lazyLoadedList:h})),m={slideCount:n,slideWidth:t,listWidth:a,trackWidth:u,currentSlide:d,slideHeight:A,listHeight:f,lazyLoadedList:h=h.concat(g)};return null===e.autoplaying&&e.autoplay&&(m.autoplaying="playing"),m};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,s=e.slideCount,l=e.lazyLoad,A=e.currentSlide,f=e.centerMode,d=e.slidesToScroll,h=e.slidesToShow,p=e.useCSS,v=e.lazyLoadedList;if(t&&n)return{};var g,y,b,w=a,x={},S={},B=i?a:u(a,0,s-1);if(r){if(!i&&(a<0||a>=s))return{};a<0?w=a+s:a>=s&&(w=a-s),l&&v.indexOf(w)<0&&(v=v.concat(w)),x={animating:!0,currentSlide:w,lazyLoadedList:v,targetSlide:w},S={animating:!1,targetSlide:w}}else g=w,w<0?(g=w+s,i?s%d!==0&&(g=s-s%d):g=0):!m(e)&&w>A?w=g=A:f&&w>=s?(w=i?s:s-1,g=i?0:s-1):w>=s&&(g=w-s,i?s%d!==0&&(g=0):g=s-h),!i&&w+h>=s&&(g=s-h),y=E(o(o({},e),{},{slideIndex:w})),b=E(o(o({},e),{},{slideIndex:g})),i||(y===b&&(w=g),y=b),l&&(v=v.concat(c(o(o({},e),{},{currentSlide:w})))),p?(x={animating:!0,currentSlide:g,trackStyle:C(o(o({},e),{},{left:y})),lazyLoadedList:v,targetSlide:B},S={animating:!1,currentSlide:g,trackStyle:_(o(o({},e),{},{left:b})),swipeLeft:null,targetSlide:B}):x={currentSlide:g,trackStyle:_(o(o({},e),{},{left:b})),lazyLoadedList:v,targetSlide:B};return{state:x,nextState:S}};t.changeSlide=function(e,t){var n,r,i,a,s=e.slidesToScroll,u=e.slidesToShow,l=e.slideCount,c=e.currentSlide,A=e.targetSlide,f=e.lazyLoad,d=e.infinite;if(n=l%s!==0?0:(l-c)%s,"previous"===t.message)a=c-(i=0===n?s:u-n),f&&!d&&(a=-1===(r=c-i)?l-1:r),d||(a=A-s);else if("next"===t.message)a=c+(i=0===n?s:n),f&&!d&&(a=(c+s)%l+n),d||(a=A+s);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,d){var h=I(o(o({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===h?a-=l:a<t.currentSlide&&"right"===h&&(a+=l)}}else"index"===t.message&&(a=Number(t.index));return a};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&l(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,s=t.verticalSwiping,u=t.rtl,c=t.currentSlide,A=t.edgeFriction,f=t.edgeDragged,d=t.onEdge,h=t.swiped,p=t.swiping,v=t.slideCount,y=t.slidesToScroll,b=t.infinite,w=t.touchObject,x=t.swipeEvent,C=t.listHeight,S=t.listWidth;if(!n){if(r)return l(e);i&&a&&s&&l(e);var B,T={},I=E(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var k=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!s&&!p&&k>10)return{scrolling:!0};s&&(w.swipeLength=k);var M=(u?-1:1)*(w.curX>w.startX?1:-1);s&&(M=w.curY>w.startY?1:-1);var R=Math.ceil(v/y),U=g(t.touchObject,s),F=w.swipeLength;return b||(0===c&&("right"===U||"down"===U)||c+1>=R&&("left"===U||"up"===U)||!m(t)&&("left"===U||"up"===U))&&(F=w.swipeLength*A,!1===f&&d&&(d(U),T.edgeDragged=!0)),!h&&x&&(x(U),T.swiped=!0),B=i?I+F*(C/S)*M:u?I-F*M:I+F*M,s&&(B=I+F*M),T=o(o({},T),{},{touchObject:w,swipeLeft:B,trackStyle:_(o(o({},t),{},{left:B}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?T:(w.swipeLength>10&&(T.swiping=!0,l(e)),T)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,s=t.touchThreshold,u=t.verticalSwiping,c=t.listHeight,A=t.swipeToSlide,f=t.scrolling,d=t.onSwipe,h=t.targetSlide,p=t.currentSlide,v=t.infinite;if(!n)return r&&l(e),{};var m=u?c/s:a/s,y=g(i,u),x={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f)return x;if(!i.swipeLength)return x;if(i.swipeLength>m){var _,S;l(e),d&&d(y);var B=v?p:h;switch(y){case"left":case"up":S=B+w(t),_=A?b(t,S):S,x.currentDirection=0;break;case"right":case"down":S=B-w(t),_=A?b(t,S):S,x.currentDirection=1;break;default:_=B}x.triggerSlideHandler=_}else{var T=E(t);x.trackStyle=C(o(o({},t),{},{left:T}))}return x};var y=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=y;var b=function(e,t){var n=y(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=b;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+v(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+p(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll};t.getSlideCount=w;var x=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=x;var _=function(e){var t,n;x(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=T(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:a,transform:s,msTransform:u})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=_;var C=function(e){x(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=_(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=C;var E=function(e){if(e.unslick)return 0;x(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,s=e.slideCount,u=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,A=e.listWidth,f=e.variableWidth,d=e.slideHeight,h=e.fade,p=e.vertical;if(h||1===e.slideCount)return 0;var v=0;if(a?(v=-S(e),s%l!==0&&r+l>s&&(v=-(r>s?u-(r-s):s%l)),o&&(v+=parseInt(u/2))):(s%l!==0&&r+l>s&&(v=u-s%l),o&&(v=parseInt(u/2))),t=p?r*d*-1+v*d:r*c*-1+v*c,!0===f){var g,m=i&&i.node;if(g=r+S(e),t=(n=m&&m.childNodes[g])?-1*n.offsetLeft:0,!0===o){g=a?r+S(e):r,n=m&&m.children[g],t=0;for(var y=0;y<g;y++)t-=m&&m.children[y]&&m.children[y].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(A-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var S=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=S;var B=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=B;var T=function(e){return 1===e.slideCount?1:S(e)+e.slideCount+B(e)};t.getTotalSlides=T;var I=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+k(e)?"left":"right":e.targetSlide<e.currentSlide-M(e)?"right":"left"};t.siblingDirection=I;var k=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1};t.slidesOnRight=k;var M=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0};t.slidesOnLeft=M;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},5918:function(e,t,n){"use strict";var r=n(7313),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},306:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var b=y.prototype=new m;b.constructor=y,p(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var B=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(B,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(B,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+T(s=e[l],l);u+=I(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=I(s=s.value,t,i,c=a+T(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function k(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},U={transition:null},F={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:U,ReactCurrentOwner:_};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=y,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:A,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=U.transition;U.transition={};try{e()}finally{U.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},1355:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function s(){o(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},A=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},f=m(0,0,0,0);function d(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function p(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=A(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=d(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=d(r.width),u=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=h(r,"left","right")+a),Math.round(u+o)!==n&&(u-=h(r,"top","bottom")+o)),!function(e){return e===A(e).document.documentElement}(e)){var l=Math.round(s+a)-t,c=Math.round(u+o)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return m(i.left,i.top,s,u)}var v="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof A(e).SVGGraphicsElement}:function(e){return e instanceof A(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return i?v(e)?function(e){var t=e.getBBox();return m(0,0,t.width,t.height)}(e):p(e):f}function m(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return c(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);c(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),x="undefined"!==typeof WeakMap?new WeakMap:new r,_=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new w(t,n,this);x.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){_.prototype[e]=function(){var t;return(t=x.get(this))[e].apply(t,arguments)}}));var C="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:_;t.default=C},3095:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],A=1,f=null,d=3,h=!1,p=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(v=!1,b(e),!p)if(null!==r(l))p=!0,U(x);else{var t=r(c);null!==t&&F(w,t.startTime-e)}}function x(e,n){p=!1,v&&(v=!1,m(S),S=-1),h=!0;var a=d;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!I());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var A=r(c);null!==A&&F(w,A.startTime-n),u=!1}return u}finally{f=null,d=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,C=!1,E=null,S=-1,B=5,T=-1;function I(){return!(t.unstable_now()-T<B)}function k(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?_():(C=!1,E=null)}}else C=!1}if("function"===typeof y)_=function(){y(k)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,R=M.port2;M.port1.onmessage=k,_=function(){R.postMessage(null)}}else _=function(){g(k,0)};function U(e){E=e,C||(C=!0,_())}function F(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,U(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:A++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(v?(m(S),S=-1):v=!0,F(w,a-o))):(e.sortIndex=s,n(l,e),p||h||(p=!0,U(x))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)},9767:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var l=a[u];if(!s(l))return!1;var c=e[l],A=t[l];if(!1===(i=n?n.call(r,c,A,l):void 0)||void 0===i&&c!==A)return!1}return!0}},4337:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},2117:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerStyleSheet:function(){return Zt},StyleSheetConsumer:function(){return xt},StyleSheetContext:function(){return wt},StyleSheetManager:function(){return Et},ThemeConsumer:function(){return Pt},ThemeContext:function(){return Ot},ThemeProvider:function(){return Lt},__PRIVATE__:function(){return Jt},createGlobalStyle:function(){return Xt},css:function(){return zt},default:function(){return Wt},isStyledComponent:function(){return Ge},keyframes:function(){return qt},styled:function(){return Wt},useTheme:function(){return Dt},version:function(){return le},withTheme:function(){return Yt}});var r=n(5330),i=n(7313),a=n(9767),o=n.n(a),s="-ms-",u="-moz-",l="-webkit-",c="comm",A="rule",f="decl",d="@import",h="@keyframes",p="@layer",v=Math.abs,g=String.fromCharCode,m=Object.assign;function y(e){return e.trim()}function b(e,t){return(e=t.exec(e))?e[0]:e}function w(e,t,n){return e.replace(t,n)}function x(e,t){return e.indexOf(t)}function _(e,t){return 0|e.charCodeAt(t)}function C(e,t,n){return e.slice(t,n)}function E(e){return e.length}function S(e){return e.length}function B(e,t){return t.push(e),e}function T(e,t){return e.filter((function(e){return!b(e,t)}))}var I=1,k=1,M=0,R=0,U=0,F="";function O(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:I,column:k,length:o,return:"",siblings:s}}function P(e,t){return m(O("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function D(e){for(;e.root;)e=P(e.root,{children:[e]});B(e,e.siblings)}function L(){return U=R>0?_(F,--R):0,k--,10===U&&(k=1,I--),U}function N(){return U=R<M?_(F,R++):0,k++,10===U&&(k=1,I++),U}function Q(){return _(F,R)}function H(){return R}function j(e,t){return C(F,e,t)}function z(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function G(e){return I=k=1,M=E(F=e),R=0,[]}function V(e){return F="",e}function W(e){return y(j(R-1,q(91===e?e+2:40===e?e+1:e)))}function K(e){for(;(U=Q())&&U<33;)N();return z(e)>2||z(U)>3?"":" "}function X(e,t){for(;--t&&N()&&!(U<48||U>102||U>57&&U<65||U>70&&U<97););return j(e,H()+(t<6&&32==Q()&&32==N()))}function q(e){for(;N();)switch(U){case e:return R;case 34:case 39:34!==e&&39!==e&&q(U);break;case 40:41===e&&q(e);break;case 92:N()}return R}function Y(e,t){for(;N()&&e+U!==57&&(e+U!==84||47!==Q()););return"/*"+j(t,R-1)+"*"+g(47===e?e:N())}function Z(e){for(;!z(Q());)N();return j(e,R)}function J(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function $(e,t,n,r){switch(e.type){case p:if(e.children.length)break;case d:case f:return e.return=e.return||e.value;case c:return"";case h:return e.return=e.value+"{"+J(e.children,r)+"}";case A:if(!E(e.value=e.props.join(",")))return""}return E(n=J(e.children,r))?e.return=e.value+"{"+n+"}":""}function ee(e,t,n){switch(function(e,t){return 45^_(e,0)?(((t<<2^_(e,0))<<2^_(e,1))<<2^_(e,2))<<2^_(e,3):0}(e,t)){case 5103:return l+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return l+e+e;case 4789:return u+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return l+e+u+e+s+e+e;case 5936:switch(_(e,t+11)){case 114:return l+e+s+w(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return l+e+s+w(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return l+e+s+w(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return l+e+s+e+e;case 6165:return l+e+s+"flex-"+e+e;case 5187:return l+e+w(e,/(\w+).+(:[^]+)/,l+"box-$1$2"+s+"flex-$1$2")+e;case 5443:return l+e+s+"flex-item-"+w(e,/flex-|-self/g,"")+(b(e,/flex-|baseline/)?"":s+"grid-row-"+w(e,/flex-|-self/g,""))+e;case 4675:return l+e+s+"flex-line-pack"+w(e,/align-content|flex-|-self/g,"")+e;case 5548:return l+e+s+w(e,"shrink","negative")+e;case 5292:return l+e+s+w(e,"basis","preferred-size")+e;case 6060:return l+"box-"+w(e,"-grow","")+l+e+s+w(e,"grow","positive")+e;case 4554:return l+w(e,/([^-])(transform)/g,"$1"+l+"$2")+e;case 6187:return w(w(w(e,/(zoom-|grab)/,l+"$1"),/(image-set)/,l+"$1"),e,"")+e;case 5495:case 3959:return w(e,/(image-set\([^]*)/,l+"$1$`$1");case 4968:return w(w(e,/(.+:)(flex-)?(.*)/,l+"box-pack:$3"+s+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+l+e+e;case 4200:if(!b(e,/flex-|baseline/))return s+"grid-column-align"+C(e,t)+e;break;case 2592:case 3360:return s+w(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,b(e.props,/grid-\w+-end/)}))?~x(e+(n=n[t].value),"span")?e:s+w(e,"-start","")+e+s+"grid-row-span:"+(~x(n,"span")?b(n,/\d+/):+b(n,/\d+/)-+b(e,/\d+/))+";":s+w(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return b(e.props,/grid-\w+-start/)}))?e:s+w(w(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return w(e,/(.+)-inline(.+)/,l+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(E(e)-1-t>6)switch(_(e,t+1)){case 109:if(45!==_(e,t+4))break;case 102:return w(e,/(.+:)(.+)-([^]+)/,"$1"+l+"$2-$3$1"+u+(108==_(e,t+3)?"$3":"$2-$3"))+e;case 115:return~x(e,"stretch")?ee(w(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return w(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,a,o,u){return s+n+":"+r+u+(i?s+n+"-span:"+(a?o:+o-+r)+u:"")+e}));case 4949:if(121===_(e,t+6))return w(e,":",":"+l)+e;break;case 6444:switch(_(e,45===_(e,14)?18:11)){case 120:return w(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+l+(45===_(e,14)?"inline-":"")+"box$3$1"+l+"$2$3$1"+s+"$2box$3")+e;case 100:return w(e,":",":"+s)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return w(e,"scroll-","scroll-snap-")+e}return e}function te(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case f:return void(e.return=ee(e.value,e.length,n));case h:return J([P(e,{value:w(e.value,"@","@"+l)})],r);case A:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(b(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":D(P(e,{props:[w(t,/:(read-\w+)/,":"+u+"$1")]})),D(P(e,{props:[t]})),m(e,{props:T(n,r)});break;case"::placeholder":D(P(e,{props:[w(t,/:(plac\w+)/,":"+l+"input-$1")]})),D(P(e,{props:[w(t,/:(plac\w+)/,":"+u+"$1")]})),D(P(e,{props:[w(t,/:(plac\w+)/,s+"input-$1")]})),D(P(e,{props:[t]})),m(e,{props:T(n,r)})}return""}))}}function ne(e){return V(re("",null,null,null,[""],e=G(e),0,[0],e))}function re(e,t,n,r,i,a,o,s,u){for(var l=0,c=0,A=o,f=0,d=0,h=0,p=1,v=1,m=1,y=0,b="",C=i,S=a,T=r,I=b;v;)switch(h=y,y=N()){case 40:if(108!=h&&58==_(I,A-1)){-1!=x(I+=w(W(y),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:I+=W(y);break;case 9:case 10:case 13:case 32:I+=K(h);break;case 92:I+=X(H()-1,7);continue;case 47:switch(Q()){case 42:case 47:B(ae(Y(N(),H()),t,n,u),u);break;default:I+="/"}break;case 123*p:s[l++]=E(I)*m;case 125*p:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:-1==m&&(I=w(I,/\f/g,"")),d>0&&E(I)-A&&B(d>32?oe(I+";",r,n,A-1,u):oe(w(I," ","")+";",r,n,A-2,u),u);break;case 59:I+=";";default:if(B(T=ie(I,t,n,l,c,i,s,b,C=[],S=[],A,a),a),123===y)if(0===c)re(I,t,T,T,C,a,A,s,S);else switch(99===f&&110===_(I,3)?100:f){case 100:case 108:case 109:case 115:re(e,T,T,r&&B(ie(e,T,T,0,0,i,s,b,i,C=[],A,S),S),i,S,A,s,r?C:S);break;default:re(I,T,T,T,[""],S,0,s,S)}}l=c=d=0,p=m=1,b=I="",A=o;break;case 58:A=1+E(I),d=h;default:if(p<1)if(123==y)--p;else if(125==y&&0==p++&&125==L())continue;switch(I+=g(y),y*p){case 38:m=c>0?1:(I+="\f",-1);break;case 44:s[l++]=(E(I)-1)*m,m=1;break;case 64:45===Q()&&(I+=W(N())),f=Q(),c=A=E(b=I+=Z(H())),y++;break;case 45:45===h&&2==E(I)&&(p=0)}}return a}function ie(e,t,n,r,i,a,o,s,u,l,c,f){for(var d=i-1,h=0===i?a:[""],p=S(h),g=0,m=0,b=0;g<r;++g)for(var x=0,_=C(e,d+1,d=v(m=o[g])),E=e;x<p;++x)(E=y(m>0?h[x]+" "+_:w(_,/&\f/g,h[x])))&&(u[b++]=E);return O(e,t,n,0===i?A:s,u,l,c,f)}function ae(e,t,n,r){return O(e,t,n,c,g(U),C(e,2,-2),0,r)}function oe(e,t,n,r,i){return O(e,t,n,f,C(e,0,r),C(e,r+1,-1),r,i)}var se={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ue="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",le="6.0.8",ce="undefined"!=typeof window&&"HTMLElement"in window,Ae=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),fe={},de=(new Set,Object.freeze([])),he=Object.freeze({});function pe(e,t,n){return void 0===n&&(n=he),e.theme!==n.theme&&e.theme||t||n.theme}var ve=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ge=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,me=/(^-|-$)/g;function ye(e){return e.replace(ge,"-").replace(me,"")}var be=/(a)(d)/gi,we=function(e){return String.fromCharCode(e+(e>25?39:97))};function xe(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=we(t%52)+n;return(we(t%52)+n).replace(be,"$1-$2")}var _e,Ce=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ee=function(e){return Ce(5381,e)};function Se(e){return xe(Ee(e)>>>0)}function Be(e){return"string"==typeof e&&!0}var Te="function"==typeof Symbol&&Symbol.for,Ie=Te?Symbol.for("react.memo"):60115,ke=Te?Symbol.for("react.forward_ref"):60112,Me={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Re={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ue={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fe=((_e={})[ke]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_e[Ie]=Ue,_e);function Oe(e){return("type"in(t=e)&&t.type.$$typeof)===Ie?Ue:"$$typeof"in e?Fe[e.$$typeof]:Me;var t}var Pe=Object.defineProperty,De=Object.getOwnPropertyNames,Le=Object.getOwnPropertySymbols,Ne=Object.getOwnPropertyDescriptor,Qe=Object.getPrototypeOf,He=Object.prototype;function je(e,t,n){if("string"!=typeof t){if(He){var r=Qe(t);r&&r!==He&&je(e,r,n)}var i=De(t);Le&&(i=i.concat(Le(t)));for(var a=Oe(e),o=Oe(t),s=0;s<i.length;++s){var u=i[s];if(!(u in Re||n&&n[u]||o&&u in o||a&&u in a)){var l=Ne(t,u);try{Pe(e,u,l)}catch(e){}}}}return e}function ze(e){return"function"==typeof e}function Ge(e){return"object"==typeof e&&"styledComponentId"in e}function Ve(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function We(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Ke(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Xe(e,t,n){if(void 0===n&&(n=!1),!n&&!Ke(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Xe(e[r],t[r]);else if(Ke(t))for(var r in t)e[r]=Xe(e[r],t[r]);return e}function qe(e,t){Object.defineProperty(e,"toString",{value:t})}function Ye(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Ze=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw Ye(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=(a=0,t.length);a<s;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+="".concat(this.tag.getRule(a)).concat("/*!sc*/\n");return t},e}(),Je=new Map,$e=new Map,et=1,tt=function(e){if(Je.has(e))return Je.get(e);for(;$e.has(et);)et++;var t=et++;return Je.set(e,t),$e.set(t,e),t},nt=function(e,t){Je.set(e,t),$e.set(t,e)},rt="style[".concat(ue,"][").concat("data-styled-version",'="').concat("6.0.8",'"]'),it=new RegExp("^".concat(ue,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),at=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},ot=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),i=[],a=0,o=r.length;a<o;a++){var s=r[a].trim();if(s){var u=s.match(it);if(u){var l=0|parseInt(u[1],10),c=u[2];0!==l&&(nt(c,l),at(e,c,u[3]),e.getTag().insertRules(l,i)),i.length=0}else i.push(s)}}};function st(){return n.nc}var ut=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(ue,"]")));return t[t.length-1]}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(ue,"active"),r.setAttribute("data-styled-version","6.0.8");var o=st();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},lt=function(){function e(e){this.element=ut(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw Ye(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),ct=function(){function e(e){this.element=ut(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),At=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),ft=ce,dt={isServer:!ce,useCSSOMInjection:!Ae},ht=function(){function e(e,t,n){void 0===e&&(e=he),void 0===t&&(t={});var i=this;this.options=(0,r.pi)((0,r.pi)({},dt),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ce&&ft&&(ft=!1,function(e){for(var t=document.querySelectorAll(rt),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(ue)&&(ot(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),qe(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return $e.get(e)}(n);if(void 0===i)return"continue";var a=e.names.get(i),o=t.getGroup(n);if(void 0===a||0===o.length)return"continue";var s="".concat(ue,".g").concat(n,'[id="').concat(i,'"]'),u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+="".concat(e,","))})),r+="".concat(o).concat(s,'{content:"').concat(u,'"}').concat("/*!sc*/\n")},a=0;a<n;a++)i(a);return r}(i)}))}return e.registerId=function(e){return tt(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e((0,r.pi)((0,r.pi)({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new At(n):t?new lt(n):new ct(n)}(this.options),new Ze(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(tt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(tt(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(tt(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),pt=/&/g,vt=/^\s*\/\/.*$/gm;function gt(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=gt(e.children,t)),e}))}function mt(e){var t,n,r,i=void 0===e?he:e,a=i.options,o=void 0===a?he:a,s=i.plugins,u=void 0===s?de:s,l=function(e,r,i){return i===n||i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},c=u.slice();c.push((function(e){e.type===A&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(pt,n).replace(r,l))})),o.prefix&&c.push(te),c.push($);var f=function(e,i,a,s){void 0===i&&(i=""),void 0===a&&(a=""),void 0===s&&(s="&"),t=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var u=e.replace(vt,""),l=ne(a||i?"".concat(a," ").concat(i," { ").concat(u," }"):u);o.namespace&&(l=gt(l,o.namespace));var A,f=[];return J(l,function(e){var t=S(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(c.concat((A=function(e){return f.push(e)},function(e){e.root||(e=e.return)&&A(e)})))),f};return f.hash=u.length?u.reduce((function(e,t){return t.name||Ye(15),Ce(e,t.name)}),5381).toString():"",f}var yt=new ht,bt=mt(),wt=i.createContext({shouldForwardProp:void 0,styleSheet:yt,stylis:bt}),xt=wt.Consumer,_t=i.createContext(void 0);function Ct(){return(0,i.useContext)(wt)}function Et(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=Ct().styleSheet,s=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,a]),u=(0,i.useMemo)((function(){return mt({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,i.useEffect)((function(){o()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]);var l=(0,i.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:s,stylis:u}}),[e.shouldForwardProp,s,u]);return i.createElement(wt.Provider,{value:l},i.createElement(_t.Provider,{value:u},e.children))}var St=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=bt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,qe(this,(function(){throw Ye(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=bt),this.name+e.hash},e}(),Bt=function(e){return e>="A"&&e<="Z"};function Tt(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Bt(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var It=function(e){return null==e||!1===e||""===e},kt=function e(t){var n,i,a=[];for(var o in t){var s=t[o];t.hasOwnProperty(o)&&!It(s)&&(Array.isArray(s)&&s.isCss||ze(s)?a.push("".concat(Tt(o),":"),s,";"):Ke(s)?a.push.apply(a,(0,r.ev)((0,r.ev)(["".concat(o," {")],e(s),!1),["}"],!1)):a.push("".concat(Tt(o),": ").concat((n=o,null==(i=s)||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||n in se||n.startsWith("--")?String(i).trim():"".concat(i,"px")),";")))}return a};function Mt(e,t,n,r){return It(e)?[]:Ge(e)?[".".concat(e.styledComponentId)]:ze(e)?!ze(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Mt(e(t),t,n,r):e instanceof St?n?(e.inject(n,r),[e.getName(r)]):[e]:Ke(e)?kt(e):Array.isArray(e)?Array.prototype.concat.apply(de,e.map((function(e){return Mt(e,t,n,r)}))):[e.toString()];var i}function Rt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ze(n)&&!Ge(n))return!1}return!0}var Ut=Ee("6.0.8"),Ft=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Rt(e),this.componentId=t,this.baseHash=Ce(Ut,t),this.baseStyle=n,ht.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Ve(r,this.staticRulesId);else{var i=We(Mt(this.rules,e,t,n)),a=xe(Ce(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=Ve(r,a),this.staticRulesId=a}else{for(var s=Ce(this.baseHash,n.hash),u="",l=0;l<this.rules.length;l++){var c=this.rules[l];if("string"==typeof c)u+=c;else if(c){var A=We(Mt(c,e,t,n));s=Ce(s,A+l),u+=A}}if(u){var f=xe(s>>>0);t.hasNameForId(this.componentId,f)||t.insertRules(this.componentId,f,n(u,".".concat(f),void 0,this.componentId)),r=Ve(r,f)}}return r},e}(),Ot=i.createContext(void 0),Pt=Ot.Consumer;function Dt(){var e=(0,i.useContext)(Ot);if(!e)throw Ye(18);return e}function Lt(e){var t=i.useContext(Ot),n=(0,i.useMemo)((function(){return function(e,t){if(!e)throw Ye(14);if(ze(e))return e(t);if(Array.isArray(e)||"object"!=typeof e)throw Ye(8);return t?(0,r.pi)((0,r.pi)({},t),e):e}(e.theme,t)}),[e.theme,t]);return e.children?i.createElement(Ot.Provider,{value:n},e.children):null}var Nt={};new Set;function Qt(e,t,n){var a=Ge(e),o=e,s=!Be(e),u=t.attrs,l=void 0===u?de:u,c=t.componentId,A=void 0===c?function(e,t){var n="string"!=typeof e?"sc":ye(e);Nt[n]=(Nt[n]||0)+1;var r="".concat(n,"-").concat(Se("6.0.8"+n+Nt[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,f=t.displayName,d=(void 0===f&&function(e){Be(e)?"styled.".concat(e):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(e),")")}(e),t.displayName&&t.componentId?"".concat(ye(t.displayName),"-").concat(t.componentId):t.componentId||A),h=a&&o.attrs?o.attrs.concat(l).filter(Boolean):l,p=t.shouldForwardProp;if(a&&o.shouldForwardProp){var v=o.shouldForwardProp;if(t.shouldForwardProp){var g=t.shouldForwardProp;p=function(e,t){return v(e,t)&&g(e,t)}}else p=v}var m=new Ft(n,d,a?o.componentStyle:void 0);var y=i.forwardRef((function(e,t){return function(e,t,n){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,l=e.styledComponentId,c=e.target,A=i.useContext(Ot),f=Ct(),d=e.shouldForwardProp||f.shouldForwardProp,h=function(e,t,n){for(var i,a=(0,r.pi)((0,r.pi)({},t),{className:void 0,theme:n}),o=0;o<e.length;o+=1){var s=ze(i=e[o])?i(a):i;for(var u in s)a[u]="className"===u?Ve(a[u],s[u]):"style"===u?(0,r.pi)((0,r.pi)({},a[u]),s[u]):s[u]}return t.className&&(a.className=Ve(a.className,t.className)),a}(a,t,pe(t,A,s)||he),p=h.as||c,v={};for(var g in h)void 0===h[g]||"$"===g[0]||"as"===g||"theme"===g||("forwardedAs"===g?v.as=h.forwardedAs:d&&!d(g,p)||(v[g]=h[g]));var m=function(e,t){var n=Ct();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(o,h),y=Ve(u,l);return m&&(y+=" "+m),h.className&&(y+=" "+h.className),v[Be(p)&&!ve.has(p)?"class":"className"]=y,v.ref=n,(0,i.createElement)(p,v)}(y,e,t)}));return y.attrs=h,y.componentStyle=m,y.shouldForwardProp=p,y.foldedComponentIds=a?Ve(o.foldedComponentIds,o.styledComponentId):"",y.styledComponentId=d,y.target=a?o.target:e,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=a?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)Xe(e,i[r],!0);return e}({},o.defaultProps,e):e}}),qe(y,(function(){return".".concat(y.styledComponentId)})),s&&je(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function Ht(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var jt=function(e){return Object.assign(e,{isCss:!0})};function zt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ze(e)||Ke(e)){var i=e;return jt(Mt(Ht(de,(0,r.ev)([i],t,!0))))}var a=e;return 0===t.length&&1===a.length&&"string"==typeof a[0]?Mt(a):jt(Mt(Ht(a,t)))}function Gt(e,t,n){if(void 0===n&&(n=he),!t)throw Ye(1,t);var i=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return e(t,n,zt.apply(void 0,(0,r.ev)([i],a,!1)))};return i.attrs=function(i){return Gt(e,t,(0,r.pi)((0,r.pi)({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},i.withConfig=function(i){return Gt(e,t,(0,r.pi)((0,r.pi)({},n),i))},i}var Vt=function(e){return Gt(Qt,e)},Wt=Vt;ve.forEach((function(e){Wt[e]=Vt(e)}));var Kt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Rt(e),ht.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r(We(Mt(this.rules,t,n,r)),""),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&ht.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Xt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=zt.apply(void 0,(0,r.ev)([e],t,!1)),o="sc-global-".concat(Se(JSON.stringify(a))),s=new Kt(a,o),u=function(e){var t=Ct(),n=i.useContext(Ot),r=i.useRef(t.styleSheet.allocateGSInstance(o)).current;return t.styleSheet.server&&l(r,e,t.styleSheet,n,t.stylis),i.useLayoutEffect((function(){if(!t.styleSheet.server)return l(r,e,t.styleSheet,n,t.stylis),function(){return s.removeStyles(r,t.styleSheet)}}),[r,e,t.styleSheet,n,t.stylis]),null};function l(e,t,n,i,a){if(s.isStatic)s.renderStyles(e,fe,n,a);else{var o=(0,r.pi)((0,r.pi)({},t),{theme:pe(t,i,u.defaultProps)});s.renderStyles(e,o,n,a)}}return i.memo(u)}function qt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=We(zt.apply(void 0,(0,r.ev)([e],t,!1))),a=Se(i);return new St(a,i)}function Yt(e){return je(i.forwardRef((function(t,n){var a=pe(t,i.useContext(Ot),e.defaultProps);return i.createElement(e,(0,r.pi)({},t,{theme:a,ref:n}))})),e)}var Zt=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=st(),r=We([n&&'nonce="'.concat(n,'"'),"".concat(ue,'="true"'),"".concat("data-styled-version",'="').concat("6.0.8",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Ye(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw Ye(2);var n=((t={})[ue]="",t["data-styled-version"]="6.0.8",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),a=st();return a&&(n.nonce=a),[i.createElement("style",(0,r.pi)({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new ht({isServer:!0}),this.sealed=!1}return e.prototype.collectStyles=function(e){if(this.sealed)throw Ye(2);return i.createElement(Et,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Ye(3)},e}(),Jt={StyleSheet:ht,mainSheet:yt};"__sc-".concat(ue,"__")},3084:function(e,t,n){"use strict";t.Fv=void 0;var r=n(2117),i=(0,r.css)(['html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace,monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none;}']);t.Fv=i,(0,r.createGlobalStyle)(i)},1531:function(e,t,n){"use strict";var r=n(7313);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),o((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},1239:function(e,t,n){"use strict";e.exports=n(1531)},6102:function(){},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},l=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",A=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(t){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),o=new U(r||[]);return s(a,"_invoke",{value:I(e,n,o)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function b(){}function w(){}function x(){}var _={};f(_,l,(function(){return this}));var C=Object.getPrototypeOf,E=C&&C(C(F([])));E&&E!==a&&o.call(E,l)&&(_=E);var S=x.prototype=b.prototype=Object.create(_);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,a,s,u){var l=h(e[i],e,a);if("throw"!==l.type){var c=l.arg,A=c.value;return A&&"object"==r(A)&&o.call(A,"__await")?t.resolve(A.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(A).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function I(e,n,r){var i=p;return function(a,o){if(i===g)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=k(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?m:v,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function k(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function F(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=x,s(S,"constructor",{value:x,configurable:!0}),s(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,A,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,f(e,A,"GeneratorFunction")),e.prototype=Object.create(S),e},n.awrap=function(e){return{__await:e}},B(T.prototype),f(T.prototype,c,(function(){return this})),n.AsyncIterator=T,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new T(d(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},B(S),f(S,A,"Generator"),f(S,l,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=F,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:F(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),a=n(6035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},5330:function(e,t,n){"use strict";n.d(t,{CR:function(){return o},Jh:function(){return a},ev:function(){return s},mG:function(){return i},pi:function(){return r}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function o(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},__webpack_require__.d(i,a),i}}(),__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))},__webpack_require__.u=function(e){return"static/js/"+e+".a9a2c8bb.chunk.js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="lookids_f-2b2:";__webpack_require__.l=function(n,r,i,a){if(e[n])e[n].push(r);else{var o,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var c=u[l];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+i){o=c;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[r];var A=function(t,r){o.onerror=o.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(A.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=A.bind(null,o.onerror),o.onload=A.bind(null,o.onload),s&&document.head.appendChild(o)}}}(),__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/",function(){var e={179:0};__webpack_require__.f.j=function(t,n){var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var a=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(a,(function(n){if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,a=n[0],o=n[1],s=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in o)__webpack_require__.o(o,r)&&(__webpack_require__.m[r]=o[r]);if(s)s(__webpack_require__)}for(t&&t(n);u<a.length;u++)i=a[u],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunklookids_f_2b2=self.webpackChunklookids_f_2b2||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),__webpack_require__.nc=void 0;var __webpack_exports__={};!function(){"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{ACESFilmicToneMapping:function(){return xv},AddEquation:function(){return Vp},AddOperation:function(){return gv},AdditiveAnimationBlendMode:function(){return $g},AdditiveBlending:function(){return Hp},AlphaFormat:function(){return eg},AlwaysCompare:function(){return Dm},AlwaysDepth:function(){return uv},AlwaysStencilFunc:function(){return Im},AmbientLight:function(){return tI},AmbientLightProbe:function(){return gI},AnimationAction:function(){return WI},AnimationClip:function(){return CT},AnimationLoader:function(){return FT},AnimationMixer:function(){return XI},AnimationObjectGroup:function(){return VI},AnimationUtils:function(){return AT},ArcCurve:function(){return TS},ArrayCamera:function(){return ZC},ArrowHelper:function(){return Nk},Audio:function(){return II},AudioAnalyser:function(){return OI},AudioContext:function(){return hI},AudioListener:function(){return TI},AudioLoader:function(){return pI},AxesHelper:function(){return Qk},BackSide:function(){return Pp},BasicDepthPacking:function(){return am},BasicShadowMap:function(){return Mp},Bone:function(){return jE},BooleanKeyframeTrack:function(){return gT},Box2:function(){return ok},Box3:function(){return qy},Box3Helper:function(){return Pk},BoxGeometry:function(){return ox},BoxHelper:function(){return Ok},BufferAttribute:function(){return xw},BufferGeometry:function(){return Qw},BufferGeometryLoader:function(){return uI},ByteType:function(){return Gv},Cache:function(){return ST},Camera:function(){return fx},CameraHelper:function(){return kk},CanvasTexture:function(){return ES},CapsuleGeometry:function(){return qS},CatmullRomCurve3:function(){return FS},CineonToneMapping:function(){return wv},CircleGeometry:function(){return YS},ClampToEdgeWrapping:function(){return Mv},Clock:function(){return xI},Color:function(){return fw},ColorKeyframeTrack:function(){return mT},ColorManagement:function(){return ky},CompressedArrayTexture:function(){return _S},CompressedCubeTexture:function(){return CS},CompressedTexture:function(){return xS},CompressedTextureLoader:function(){return OT},ConeGeometry:function(){return JS},CubeCamera:function(){return px},CubeReflectionMapping:function(){return Ev},CubeRefractionMapping:function(){return Sv},CubeTexture:function(){return vx},CubeTextureLoader:function(){return DT},CubeUVReflectionMapping:function(){return Iv},CubicBezierCurve:function(){return LS},CubicBezierCurve3:function(){return NS},CubicInterpolant:function(){return dT},CullFaceBack:function(){return Tp},CullFaceFront:function(){return Ip},CullFaceFrontBack:function(){return kp},CullFaceNone:function(){return Bp},Curve:function(){return SS},CurvePath:function(){return WS},CustomBlending:function(){return Gp},CustomToneMapping:function(){return _v},CylinderGeometry:function(){return ZS},Cylindrical:function(){return ik},Data3DTexture:function(){return jy},DataArrayTexture:function(){return Qy},DataTexture:function(){return zE},DataTextureLoader:function(){return LT},DataUtils:function(){return yw},DecrementStencilOp:function(){return mm},DecrementWrapStencilOp:function(){return bm},DefaultLoadingManager:function(){return TT},DepthFormat:function(){return ig},DepthStencilFormat:function(){return ag},DepthTexture:function(){return tE},DirectionalLight:function(){return eI},DirectionalLightHelper:function(){return Bk},DiscreteInterpolant:function(){return pT},DisplayP3ColorSpace:function(){return fm},DodecahedronGeometry:function(){return eB},DoubleSide:function(){return Dp},DstAlphaFactor:function(){return nv},DstColorFactor:function(){return iv},DynamicCopyUsage:function(){return Vm},DynamicDrawUsage:function(){return Nm},DynamicReadUsage:function(){return jm},EdgesGeometry:function(){return aB},EllipseCurve:function(){return BS},EqualCompare:function(){return Rm},EqualDepth:function(){return Av},EqualStencilFunc:function(){return Cm},EquirectangularReflectionMapping:function(){return Bv},EquirectangularRefractionMapping:function(){return Tv},Euler:function(){return Rb},EventDispatcher:function(){return Jm},ExtrudeGeometry:function(){return OB},FileLoader:function(){return UT},Float16BufferAttribute:function(){return kw},Float32BufferAttribute:function(){return Mw},Float64BufferAttribute:function(){return Rw},FloatType:function(){return qv},Fog:function(){return lE},FogExp2:function(){return uE},FramebufferTexture:function(){return wS},FrontSide:function(){return Op},Frustum:function(){return Cx},GLBufferAttribute:function(){return $I},GLSL1:function(){return Km},GLSL3:function(){return Xm},GreaterCompare:function(){return Fm},GreaterDepth:function(){return dv},GreaterEqualCompare:function(){return Pm},GreaterEqualDepth:function(){return fv},GreaterEqualStencilFunc:function(){return Tm},GreaterStencilFunc:function(){return Sm},GridHelper:function(){return xk},Group:function(){return JC},HalfFloatType:function(){return Yv},HemisphereLight:function(){return HT},HemisphereLightHelper:function(){return wk},HemisphereLightProbe:function(){return vI},IcosahedronGeometry:function(){return DB},ImageBitmapLoader:function(){return dI},ImageLoader:function(){return PT},ImageUtils:function(){return My},IncrementStencilOp:function(){return gm},IncrementWrapStencilOp:function(){return ym},InstancedBufferAttribute:function(){return KE},InstancedBufferGeometry:function(){return sI},InstancedInterleavedBuffer:function(){return JI},InstancedMesh:function(){return tS},Int16BufferAttribute:function(){return Sw},Int32BufferAttribute:function(){return Tw},Int8BufferAttribute:function(){return _w},IntType:function(){return Kv},InterleavedBuffer:function(){return AE},InterleavedBufferAttribute:function(){return dE},Interpolant:function(){return fT},InterpolateDiscrete:function(){return Wg},InterpolateLinear:function(){return Kg},InterpolateSmooth:function(){return Xg},InvertStencilOp:function(){return wm},KeepStencilOp:function(){return pm},KeyframeTrack:function(){return vT},LOD:function(){return ME},LatheGeometry:function(){return XS},Layers:function(){return Ub},LessCompare:function(){return Mm},LessDepth:function(){return lv},LessEqualCompare:function(){return Um},LessEqualDepth:function(){return cv},LessEqualStencilFunc:function(){return Em},LessStencilFunc:function(){return _m},Light:function(){return QT},LightProbe:function(){return iI},Line:function(){return uS},Line3:function(){return lk},LineBasicMaterial:function(){return nS},LineCurve:function(){return QS},LineCurve3:function(){return HS},LineDashedMaterial:function(){return iT},LineLoop:function(){return fS},LineSegments:function(){return AS},LinearDisplayP3ColorSpace:function(){return dm},LinearEncoding:function(){return rm},LinearFilter:function(){return Lv},LinearInterpolant:function(){return hT},LinearMipMapLinearFilter:function(){return jv},LinearMipMapNearestFilter:function(){return Qv},LinearMipmapLinearFilter:function(){return Hv},LinearMipmapNearestFilter:function(){return Nv},LinearSRGBColorSpace:function(){return Am},LinearToneMapping:function(){return yv},Loader:function(){return IT},LoaderUtils:function(){return oI},LoadingManager:function(){return BT},LoopOnce:function(){return zg},LoopPingPong:function(){return Vg},LoopRepeat:function(){return Gg},LuminanceAlphaFormat:function(){return rg},LuminanceFormat:function(){return ng},MOUSE:function(){return Ep},Material:function(){return sw},MaterialLoader:function(){return aI},MathUtils:function(){return fy},Matrix3:function(){return hy},Matrix4:function(){return xb},MaxEquation:function(){return qp},Mesh:function(){return ix},MeshBasicMaterial:function(){return hw},MeshDepthMaterial:function(){return zC},MeshDistanceMaterial:function(){return GC},MeshLambertMaterial:function(){return nT},MeshMatcapMaterial:function(){return rT},MeshNormalMaterial:function(){return tT},MeshPhongMaterial:function(){return $B},MeshPhysicalMaterial:function(){return JB},MeshStandardMaterial:function(){return ZB},MeshToonMaterial:function(){return eT},MinEquation:function(){return Xp},MirroredRepeatWrapping:function(){return Rv},MixOperation:function(){return vv},MultiplyBlending:function(){return zp},MultiplyOperation:function(){return pv},NearestFilter:function(){return Uv},NearestMipMapLinearFilter:function(){return Dv},NearestMipMapNearestFilter:function(){return Ov},NearestMipmapLinearFilter:function(){return Pv},NearestMipmapNearestFilter:function(){return Fv},NeverCompare:function(){return km},NeverDepth:function(){return sv},NeverStencilFunc:function(){return xm},NoBlending:function(){return Np},NoColorSpace:function(){return lm},NoToneMapping:function(){return mv},NormalAnimationBlendMode:function(){return Jg},NormalBlending:function(){return Qp},NotEqualCompare:function(){return Om},NotEqualDepth:function(){return hv},NotEqualStencilFunc:function(){return Bm},NumberKeyframeTrack:function(){return yT},Object3D:function(){return Kb},ObjectLoader:function(){return lI},ObjectSpaceNormalMap:function(){return um},OctahedronGeometry:function(){return LB},OneFactor:function(){return Zp},OneMinusDstAlphaFactor:function(){return rv},OneMinusDstColorFactor:function(){return av},OneMinusSrcAlphaFactor:function(){return tv},OneMinusSrcColorFactor:function(){return $p},OrthographicCamera:function(){return Lx},PCFShadowMap:function(){return Rp},PCFSoftShadowMap:function(){return Up},PMREMGenerator:function(){return Kx},Path:function(){return KS},PerspectiveCamera:function(){return dx},Plane:function(){return wx},PlaneGeometry:function(){return Bx},PlaneHelper:function(){return Dk},PointLight:function(){return JT},PointLightHelper:function(){return gk},Points:function(){return mS},PointsMaterial:function(){return dS},PolarGridHelper:function(){return _k},PolyhedronGeometry:function(){return $S},PositionalAudio:function(){return FI},PropertyBinding:function(){return GI},PropertyMixer:function(){return PI},QuadraticBezierCurve:function(){return jS},QuadraticBezierCurve3:function(){return zS},Quaternion:function(){return Vy},QuaternionKeyframeTrack:function(){return wT},QuaternionLinearInterpolant:function(){return bT},RED_GREEN_RGTC2_Format:function(){return Hg},RED_RGTC1_Format:function(){return Ng},REVISION:function(){return Cp},RGBADepthPacking:function(){return om},RGBAFormat:function(){return tg},RGBAIntegerFormat:function(){return cg},RGBA_ASTC_10x10_Format:function(){return Ug},RGBA_ASTC_10x5_Format:function(){return kg},RGBA_ASTC_10x6_Format:function(){return Mg},RGBA_ASTC_10x8_Format:function(){return Rg},RGBA_ASTC_12x10_Format:function(){return Fg},RGBA_ASTC_12x12_Format:function(){return Og},RGBA_ASTC_4x4_Format:function(){return xg},RGBA_ASTC_5x4_Format:function(){return _g},RGBA_ASTC_5x5_Format:function(){return Cg},RGBA_ASTC_6x5_Format:function(){return Eg},RGBA_ASTC_6x6_Format:function(){return Sg},RGBA_ASTC_8x5_Format:function(){return Bg},RGBA_ASTC_8x6_Format:function(){return Tg},RGBA_ASTC_8x8_Format:function(){return Ig},RGBA_BPTC_Format:function(){return Pg},RGBA_ETC2_EAC_Format:function(){return wg},RGBA_PVRTC_2BPPV1_Format:function(){return mg},RGBA_PVRTC_4BPPV1_Format:function(){return gg},RGBA_S3TC_DXT1_Format:function(){return fg},RGBA_S3TC_DXT3_Format:function(){return dg},RGBA_S3TC_DXT5_Format:function(){return hg},RGB_BPTC_SIGNED_Format:function(){return Dg},RGB_BPTC_UNSIGNED_Format:function(){return Lg},RGB_ETC1_Format:function(){return yg},RGB_ETC2_Format:function(){return bg},RGB_PVRTC_2BPPV1_Format:function(){return vg},RGB_PVRTC_4BPPV1_Format:function(){return pg},RGB_S3TC_DXT1_Format:function(){return Ag},RGFormat:function(){return ug},RGIntegerFormat:function(){return lg},RawShaderMaterial:function(){return YB},Ray:function(){return wb},Raycaster:function(){return ek},RectAreaLight:function(){return nI},RedFormat:function(){return og},RedIntegerFormat:function(){return sg},ReinhardToneMapping:function(){return bv},RenderTarget:function(){return Ly},RepeatWrapping:function(){return kv},ReplaceStencilOp:function(){return vm},ReverseSubtractEquation:function(){return Kp},RingGeometry:function(){return NB},SIGNED_RED_GREEN_RGTC2_Format:function(){return jg},SIGNED_RED_RGTC1_Format:function(){return Qg},SRGBColorSpace:function(){return cm},Scene:function(){return cE},ShaderChunk:function(){return Tx},ShaderLib:function(){return kx},ShaderMaterial:function(){return Ax},ShadowMaterial:function(){return qB},Shape:function(){return oB},ShapeGeometry:function(){return QB},ShapePath:function(){return Hk},ShapeUtils:function(){return RB},ShortType:function(){return Vv},Skeleton:function(){return WE},SkeletonHelper:function(){return pk},SkinnedMesh:function(){return HE},Source:function(){return Uy},Sphere:function(){return db},SphereGeometry:function(){return HB},Spherical:function(){return rk},SphericalHarmonics3:function(){return rI},SplineCurve:function(){return GS},SpotLight:function(){return KT},SpotLightHelper:function(){return Ak},Sprite:function(){return BE},SpriteMaterial:function(){return hE},SrcAlphaFactor:function(){return ev},SrcAlphaSaturateFactor:function(){return ov},SrcColorFactor:function(){return Jp},StaticCopyUsage:function(){return Gm},StaticDrawUsage:function(){return Lm},StaticReadUsage:function(){return Hm},StereoCamera:function(){return wI},StreamCopyUsage:function(){return Wm},StreamDrawUsage:function(){return Qm},StreamReadUsage:function(){return zm},StringKeyframeTrack:function(){return xT},SubtractEquation:function(){return Wp},SubtractiveBlending:function(){return jp},TOUCH:function(){return Sp},TangentSpaceNormalMap:function(){return sm},TetrahedronGeometry:function(){return jB},Texture:function(){return Py},TextureLoader:function(){return NT},TorusGeometry:function(){return zB},TorusKnotGeometry:function(){return GB},Triangle:function(){return aw},TriangleFanDrawMode:function(){return nm},TriangleStripDrawMode:function(){return tm},TrianglesDrawMode:function(){return em},TubeGeometry:function(){return VB},TwoPassDoubleSide:function(){return Lp},UVMapping:function(){return Cv},Uint16BufferAttribute:function(){return Bw},Uint32BufferAttribute:function(){return Iw},Uint8BufferAttribute:function(){return Cw},Uint8ClampedBufferAttribute:function(){return Ew},Uniform:function(){return qI},UniformsGroup:function(){return ZI},UniformsLib:function(){return Ix},UniformsUtils:function(){return cx},UnsignedByteType:function(){return zv},UnsignedInt248Type:function(){return $v},UnsignedIntType:function(){return Xv},UnsignedShort4444Type:function(){return Zv},UnsignedShort5551Type:function(){return Jv},UnsignedShortType:function(){return Wv},VSMShadowMap:function(){return Fp},Vector2:function(){return dy},Vector3:function(){return Wy},Vector4:function(){return Dy},VectorKeyframeTrack:function(){return _T},VideoTexture:function(){return bS},WebGL1Renderer:function(){return oE},WebGL3DRenderTarget:function(){return zy},WebGLArrayRenderTarget:function(){return Hy},WebGLCoordinateSystem:function(){return Ym},WebGLCubeRenderTarget:function(){return gx},WebGLMultipleRenderTargets:function(){return Gy},WebGLRenderTarget:function(){return Ny},WebGLRenderer:function(){return aE},WebGLUtils:function(){return YC},WebGPUCoordinateSystem:function(){return Zm},WireframeGeometry:function(){return WB},WrapAroundEnding:function(){return Zg},ZeroCurvatureEnding:function(){return qg},ZeroFactor:function(){return Yp},ZeroSlopeEnding:function(){return Yg},ZeroStencilOp:function(){return hm},_SRGBAFormat:function(){return qm},createCanvasElement:function(){return by},sRGBEncoding:function(){return im}});var t,n=__webpack_require__(7313),r=__webpack_require__.t(n,2),i=__webpack_require__(1739);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||s(e,t)||u()}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function f(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if(t&&("object"===A(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function w(e){var t=m();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function x(){x=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:T(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var w={};l(w,o,(function(){return this}));var _=Object.getPrototypeOf,C=_&&_(_(U([])));C&&C!==n&&r.call(C,o)&&(w=C);var E=b.prototype=m.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function B(e,t){function n(i,a,o,s){var u=f(e[i],e,a);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==A(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(c).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=d;return function(a,o){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=I(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=f(t,n,r);if("normal"===l.type){if(i=r.done?v:h,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function U(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(A(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(B.prototype),l(B.prototype,s,(function(){return this})),t.AsyncIterator=B,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new B(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(E),l(E,u,"Generator"),l(E,o,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=U,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:U(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function _(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){_(a,r,i,o,s,"next",e)}function s(e){_(a,r,i,o,s,"throw",e)}o(void 0)}))}}function E(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n){return S=m()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i},S.apply(null,arguments)}function B(e){var t="function"===typeof Map?new Map:void 0;return B=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return S(e,arguments,g(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},B(e)}function T(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e){return a(e)||T(e)||s(e)||u()}function k(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function M(e){return function(e){if(Array.isArray(e))return o(e)}(e)||T(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var U,F="popstate";function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function L(e,t,n,r){return void 0===n&&(n=null),R({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Q(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function N(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function Q(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function H(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,l=void 0!==u&&u,c=s.history,A=t.Pop,f=null,d=h();function h(){return(c.state||{idx:null}).idx}function p(){A=t.Pop;var e=h(),n=null==e?null:e-d;d=e,f&&f({action:A,location:g.location,delta:n})}function v(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:N(e);return O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(R({},c.state,{idx:d}),""));var g={get action(){return A},get location(){return e(s,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(F,p),f=e,function(){s.removeEventListener(F,p),f=null}},createHref:function(e){return n(s,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){A=t.Push;var i=L(g.location,e,n);r&&r(i,e);var a=D(i,d=h()+1),o=g.createHref(i);try{c.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}l&&f&&f({action:A,location:g.location,delta:1})},replace:function(e,n){A=t.Replace;var i=L(g.location,e,n);r&&r(i,e);var a=D(i,d=h()),o=g.createHref(i);c.replaceState(a,"",o),l&&f&&f({action:A,location:g.location,delta:0})},go:function(e){return c.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(U||(U={}));var j=new Set(["lazy","caseSensitive","path","id","index","children"]);function z(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((function(e,i){var a=[].concat(M(n),[i]),o="string"===typeof e.id?e.id:a.join("-");if(O(!0!==e.index||!e.children,"Cannot specify children on an index route"),O(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var s=R({},e,t(e),{id:o});return r[o]=s,s}var u=R({},e,t(e),{id:o,children:void 0});return r[o]=u,e.children&&(u.children=z(e.children,t,a,r)),u}))}function G(e,t,n){void 0===n&&(n="/");var r=ie(("string"===typeof t?Q(t):t).pathname||"/",n);if(null==r)return null;var i=V(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=te(i[o],re(r));return a}function V(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(O(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ue([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),V(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:ee(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=k(W(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function W(e){var t=e.split("/");if(0===t.length)return[];var n=I(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=W(i.join("/")),u=[];return u.push.apply(u,M(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,M(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var K=/^:\w+$/,X=3,q=2,Y=1,Z=10,J=-2,$=function(e){return"*"===e};function ee(e,t){var n=e.split("/"),r=n.length;return n.some($)&&(r+=J),t&&(r+=q),n.filter((function(e){return!$(e)})).reduce((function(e,t){return e+(K.test(t)?X:""===t?Y:Z)}),r)}function te(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=ne({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var A=s.route;a.push({params:r,pathname:ue([i,c.pathname]),pathnameBase:le(ue([i,c.pathnameBase])),route:A}),"/"!==c.pathnameBase&&(i=ue([i,c.pathnameBase]))}return a}function ne(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);P("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return P(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function re(e){try{return decodeURI(e)}catch(t){return P(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ie(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ae(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function oe(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function se(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=Q(e):(O(!(i=R({},e)).pathname||!i.pathname.includes("?"),ae("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),ae("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),ae("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Q(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ce(a),hash:Ae(s)}}(i,a),A=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!A&&!f||(c.pathname+="/"),c}var ue=function(e){return e.join("/").replace(/\/\/+/g,"/")},le=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ce=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},fe=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(B(Error));var de=h((function e(t,n,r,i){c(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function he(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var pe=["post","put","patch","delete"],ve=new Set(pe),ge=["get"].concat(pe),me=new Set(ge),ye=new Set([301,302,303,307,308]),be=new Set([307,308]),we={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_e={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=function(e){return{hasErrorBoundary:Boolean(e.hasErrorBoundary)}};function Se(e){var n,r=e.window?e.window:"undefined"!==typeof window?window:void 0,i="undefined"!==typeof r&&"undefined"!==typeof r.document&&"undefined"!==typeof r.document.createElement,a=!i;if(O(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)n=e.mapRouteProperties;else if(e.detectErrorBoundary){var o=e.detectErrorBoundary;n=function(e){return{hasErrorBoundary:o(e)}}}else n=Ee;var s,u={},c=z(e.routes,n,void 0,u),A=e.basename||"/",f=R({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),d=null,h=new Set,p=null,v=null,g=null,m=null!=e.hydrationData,y=G(c,e.history.location,A),b=null;if(null==y){var w=Ve(404,{pathname:e.history.location.pathname}),_=Ge(c);y=_.matches,b=E({},_.route.id,w)}var S,B,T=!y.some((function(e){return e.route.lazy}))&&(!y.some((function(e){return e.route.loader}))||null!=e.hydrationData),I={historyAction:e.history.action,location:e.history.location,matches:y,initialized:T,navigation:we,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},F=t.Pop,D=!1,N=!1,Q=!1,H=[],j=[],V=new Map,W=0,K=-1,X=new Map,q=new Set,Y=new Map,Z=new Map,J=new Map,$=!1;function ee(e){I=R({},I,e),h.forEach((function(e){return e(I)}))}function te(n,r){var i,a,o,u=null!=I.actionData&&null!=I.navigation.formMethod&&tt(I.navigation.formMethod)&&"loading"===I.navigation.state&&!0!==(null==(i=n.state)?void 0:i._isRedirect);o=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:u?I.actionData:null;var l=r.loaderData?je(I.loaderData,r.loaderData,r.matches||[],r.errors):I.loaderData,A=I.blockers;A.size>0&&(A=new Map(A)).forEach((function(e,t){return A.set(t,_e)}));var f=!0===D||null!=I.navigation.formMethod&&tt(I.navigation.formMethod)&&!0!==(null==(a=n.state)?void 0:a._isRedirect);s&&(c=s,s=void 0),N||F===t.Pop||(F===t.Push?e.history.push(n,n.state):F===t.Replace&&e.history.replace(n,n.state)),ee(R({},r,{actionData:o,loaderData:l,historyAction:F,location:n,initialized:!0,navigation:we,revalidation:"idle",restoreScrollPosition:Je(n,r.matches||I.matches),preventScrollReset:f,blockers:A})),F=t.Pop,D=!1,N=!1,Q=!1,H=[],j=[]}function ne(e,t){return re.apply(this,arguments)}function re(){return re=C(x().mark((function n(r,i){var a,o,s,u,l,c,d,h,p,v,g;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("number"!==typeof r){n.next=3;break}return e.history.go(r),n.abrupt("return");case 3:if(a=Be(I.location,I.matches,A,f.v7_prependBasename,r,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),o=Te(f.v7_normalizeFormMethod,!1,a,i),s=o.path,u=o.submission,l=o.error,c=I.location,d=R({},d=L(I.location,s,i&&i.state),e.history.encodeLocation(d)),h=i&&null!=i.replace?i.replace:void 0,p=t.Push,!0===h?p=t.Replace:!1===h||null!=u&&tt(u.formMethod)&&u.formAction===I.location.pathname+I.location.search&&(p=t.Replace),v=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,!(g=Le({currentLocation:c,nextLocation:d,historyAction:p}))){n.next=16;break}return Pe(g,{state:"blocked",location:d,proceed:function(){Pe(g,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),ne(r,i)},reset:function(){var e=new Map(I.blockers);e.set(g,_e),ee({blockers:e})}}),n.abrupt("return");case 16:return n.next=18,ae(p,d,{submission:u,pendingError:l,preventScrollReset:v,replace:i&&i.replace});case 18:return n.abrupt("return",n.sent);case 19:case"end":return n.stop()}}),n)}))),re.apply(this,arguments)}function ae(e,t,n){return oe.apply(this,arguments)}function oe(){return oe=C(x().mark((function t(n,r,i){var a,o,u,l,f,d,h,p,v,g,m,y,b,w,_;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(B&&B.abort(),B=null,F=n,N=!0===(i&&i.startUninterruptedRevalidation),Ke(I.location,I.matches),D=!0===(i&&i.preventScrollReset),a=s||c,o=i&&i.overrideNavigation,u=G(a,r,A)){t.next=15;break}return l=Ve(404,{pathname:r.pathname}),f=Ge(a),d=f.matches,h=f.route,Ne(),te(r,{matches:d,loaderData:{},errors:E({},h.id,l)}),t.abrupt("return");case 15:if(!I.initialized||Q||!Xe(I.location,r)||i&&i.submission&&tt(i.submission.formMethod)){t.next=18;break}return te(r,{matches:u}),t.abrupt("return");case 18:if(B=new AbortController,p=De(e.history,r,B.signal,i&&i.submission),!i||!i.pendingError){t.next=24;break}g=E({},ze(u).route.id,i.pendingError),t.next=34;break;case 24:if(!(i&&i.submission&&tt(i.submission.formMethod))){t.next=34;break}return t.next=27,se(p,r,i.submission,u,{replace:i.replace});case 27:if(!(m=t.sent).shortCircuited){t.next=30;break}return t.abrupt("return");case 30:v=m.pendingActionData,g=m.pendingActionError,o=lt(r,i.submission),p=new Request(p.url,{signal:p.signal});case 34:return t.next=36,le(p,r,u,o,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,v,g);case 36:if(y=t.sent,b=y.shortCircuited,w=y.loaderData,_=y.errors,!b){t.next=42;break}return t.abrupt("return");case 42:B=null,te(r,R({matches:u},v?{actionData:v}:{},{loaderData:w,errors:_}));case 44:case"end":return t.stop()}}),t)}))),oe.apply(this,arguments)}function se(e,t,n,r,i){return ue.apply(this,arguments)}function ue(){return ue=C(x().mark((function e(r,i,a,o,s){var l,c,f,d;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s&&(s={}),me(),ee({navigation:ct(i,a)}),(c=st(o,i)).route.action||c.route.lazy){e.next=9;break}l={type:U.error,error:Ve(405,{method:r.method,pathname:i.pathname,routeId:c.route.id})},e.next=14;break;case 9:return e.next=11,Oe("action",r,c,o,u,n,A);case 11:if(l=e.sent,!r.signal.aborted){e.next=14;break}return e.abrupt("return",{shortCircuited:!0});case 14:if(!Ze(l)){e.next=19;break}return f=s&&null!=s.replace?s.replace:l.location===I.location.pathname+I.location.search,e.next=18,he(I,l,{submission:a,replace:f});case 18:return e.abrupt("return",{shortCircuited:!0});case 19:if(!Ye(l)){e.next=23;break}return d=ze(o,c.route.id),!0!==(s&&s.replace)&&(F=t.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:E({},d.route.id,l.error)});case 23:if(!qe(l)){e.next=25;break}throw Ve(400,{type:"defer-action"});case 25:return e.abrupt("return",{pendingActionData:E({},c.route.id,l.data)});case 26:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}function le(e,t,n,r,i,a,o,s,u){return ce.apply(this,arguments)}function ce(){return ce=C(x().mark((function t(n,r,i,a,o,u,f,d,h){var p,v,g,m,y,b,w,_,C,E,S,T,k,M,U,F,O,P,D,L,z,G;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p=a||lt(r,o),v=o||u||ut(p),g=s||c,m=ke(e.history,I,i,v,r,Q,H,j,Y,q,g,A,d,h),y=l(m,2),b=y[0],w=y[1],Ne((function(e){return!(i&&i.some((function(t){return t.route.id===e})))||b&&b.some((function(t){return t.route.id===e}))})),K=++W,0!==b.length||0!==w.length){t.next=10;break}return _=Re(),te(r,R({matches:i,loaderData:{},errors:h||null},d?{actionData:d}:{},_?{fetchers:new Map(I.fetchers)}:{})),t.abrupt("return",{shortCircuited:!0});case 10:return N||(w.forEach((function(e){var t=I.fetchers.get(e.key),n=At(void 0,t?t.data:void 0);I.fetchers.set(e.key,n)})),C=d||I.actionData,ee(R({navigation:p},C?0===Object.keys(C).length?{actionData:null}:{actionData:C}:{},w.length>0?{fetchers:new Map(I.fetchers)}:{}))),w.forEach((function(e){V.has(e.key)&&Ie(e.key),e.controller&&V.set(e.key,e.controller)})),E=function(){return w.forEach((function(e){return Ie(e.key)}))},B&&B.signal.addEventListener("abort",E),t.next=16,ve(I.matches,i,b,w,n);case 16:if(S=t.sent,T=S.results,k=S.loaderResults,M=S.fetcherResults,!n.signal.aborted){t.next=22;break}return t.abrupt("return",{shortCircuited:!0});case 22:if(B&&B.signal.removeEventListener("abort",E),w.forEach((function(e){return V.delete(e.key)})),!(U=We(T))){t.next=30;break}return U.idx>=b.length&&(F=w[U.idx-b.length].key,q.add(F)),t.next=29,he(I,U.result,{replace:f});case 29:return t.abrupt("return",{shortCircuited:!0});case 30:return O=He(I,i,b,k,h,w,M,Z),P=O.loaderData,D=O.errors,Z.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&Z.delete(t)}))})),L=Re(),z=Ue(K),G=L||z||w.length>0,t.abrupt("return",R({loaderData:P,errors:D},G?{fetchers:new Map(I.fetchers)}:{}));case 36:case"end":return t.stop()}}),t)}))),ce.apply(this,arguments)}function Ae(e){return I.fetchers.get(e)||xe}function fe(){return fe=C(x().mark((function t(r,i,a,o,f,d){var h,p,v,g,m,y,b,w,_,C,S,T,k,M,U,P,D,L,N,z,J,$,ne,re,ie,ae,oe,se,ue,le,ce;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(me(),Y.delete(r),o.route.action||o.route.lazy){t.next=6;break}return h=Ve(405,{method:d.formMethod,pathname:a,routeId:i}),ye(r,i,h),t.abrupt("return");case 6:return p=I.fetchers.get(r),v=ft(d,p),I.fetchers.set(r,v),ee({fetchers:new Map(I.fetchers)}),g=new AbortController,m=De(e.history,a,g.signal,d),V.set(r,g),y=W,t.next=16,Oe("action",m,o,f,u,n,A);case 16:if(b=t.sent,!m.signal.aborted){t.next=20;break}return V.get(r)===g&&V.delete(r),t.abrupt("return");case 20:if(!Ze(b)){t.next=34;break}if(V.delete(r),!(K>y)){t.next=29;break}return w=dt(void 0),I.fetchers.set(r,w),ee({fetchers:new Map(I.fetchers)}),t.abrupt("return");case 29:return q.add(r),_=At(d),I.fetchers.set(r,_),ee({fetchers:new Map(I.fetchers)}),t.abrupt("return",he(I,b,{fetcherSubmission:d}));case 34:if(!Ye(b)){t.next=37;break}return ye(r,i,b.error),t.abrupt("return");case 37:if(!qe(b)){t.next=39;break}throw Ve(400,{type:"defer-action"});case 39:return C=I.navigation.location||I.location,S=De(e.history,C,g.signal),T=s||c,O(k="idle"!==I.navigation.state?G(T,I.navigation.location,A):I.matches,"Didn't find any matches after fetcher action"),M=++W,X.set(r,M),U=At(d,b.data),I.fetchers.set(r,U),P=ke(e.history,I,k,d,C,Q,H,j,Y,q,T,A,E({},o.route.id,b.data),void 0),D=l(P,2),L=D[0],(N=D[1]).filter((function(e){return e.key!==r})).forEach((function(e){var t=e.key,n=I.fetchers.get(t),r=At(void 0,n?n.data:void 0);I.fetchers.set(t,r),V.has(t)&&Ie(t),e.controller&&V.set(t,e.controller)})),ee({fetchers:new Map(I.fetchers)}),z=function(){return N.forEach((function(e){return Ie(e.key)}))},g.signal.addEventListener("abort",z),t.next=55,ve(I.matches,k,L,N,S);case 55:if(J=t.sent,$=J.results,ne=J.loaderResults,re=J.fetcherResults,!g.signal.aborted){t.next=61;break}return t.abrupt("return");case 61:if(g.signal.removeEventListener("abort",z),X.delete(r),V.delete(r),N.forEach((function(e){return V.delete(e.key)})),!(ie=We($))){t.next=69;break}return ie.idx>=L.length&&(ae=N[ie.idx-L.length].key,q.add(ae)),t.abrupt("return",he(I,ie.result));case 69:oe=He(I,I.matches,L,ne,void 0,N,re,Z),se=oe.loaderData,ue=oe.errors,I.fetchers.has(r)&&(le=dt(b.data),I.fetchers.set(r,le)),ce=Ue(M),"loading"===I.navigation.state&&M>K?(O(F,"Expected pending action"),B&&B.abort(),te(I.navigation.location,{matches:k,loaderData:se,errors:ue,fetchers:new Map(I.fetchers)})):(ee(R({errors:ue,loaderData:je(I.loaderData,se,k,ue)},ce||N.length>0?{fetchers:new Map(I.fetchers)}:{})),Q=!1);case 73:case"end":return t.stop()}}),t)}))),fe.apply(this,arguments)}function de(){return de=C(x().mark((function t(r,i,a,o,s,l){var c,f,d,h,p,v,g,m,y;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=I.fetchers.get(r),f=At(l,c?c.data:void 0),I.fetchers.set(r,f),ee({fetchers:new Map(I.fetchers)}),d=new AbortController,h=De(e.history,a,d.signal),V.set(r,d),p=W,t.next=10,Oe("loader",h,o,s,u,n,A);case 10:if(!qe(v=t.sent)){t.next=18;break}return t.next=14,it(v,h.signal,!0);case 14:if(t.t0=t.sent,t.t0){t.next=17;break}t.t0=v;case 17:v=t.t0;case 18:if(V.get(r)===d&&V.delete(r),!h.signal.aborted){t.next=21;break}return t.abrupt("return");case 21:if(!Ze(v)){t.next=33;break}if(!(K>p)){t.next=29;break}return g=dt(void 0),I.fetchers.set(r,g),ee({fetchers:new Map(I.fetchers)}),t.abrupt("return");case 29:return q.add(r),t.next=32,he(I,v);case 32:return t.abrupt("return");case 33:if(!Ye(v)){t.next=38;break}return m=ze(I.matches,i),I.fetchers.delete(r),ee({fetchers:new Map(I.fetchers),errors:E({},m.route.id,v.error)}),t.abrupt("return");case 38:O(!qe(v),"Unhandled fetcher deferred data"),y=dt(v.data),I.fetchers.set(r,y),ee({fetchers:new Map(I.fetchers)});case 42:case"end":return t.stop()}}),t)}))),de.apply(this,arguments)}function he(e,t,n){return pe.apply(this,arguments)}function pe(){return pe=C(x().mark((function n(a,o,s){var u,l,c,f,d,h,p,v,g,m,y,b,w,_;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=(u=void 0===s?{}:s).submission,c=u.fetcherSubmission,f=u.replace,o.revalidate&&(Q=!0),O(d=L(a.location,o.location,{_isRedirect:!0}),"Expected a location on the redirect navigation"),!i){n.next=10;break}if(h=!1,o.reloadDocument?h=!0:Ce.test(o.location)&&(p=e.history.createURL(o.location),h=p.origin!==r.location.origin||null==ie(p.pathname,A)),!h){n.next=10;break}return f?r.location.replace(o.location):r.location.assign(o.location),n.abrupt("return");case 10:if(B=null,v=!0===f?t.Replace:t.Push,g=a.navigation,m=g.formMethod,y=g.formAction,b=g.formEncType,!l&&!c&&m&&y&&b&&(l=ut(a.navigation)),w=l||c,!(be.has(o.status)&&w&&tt(w.formMethod))){n.next=20;break}return n.next=18,ae(v,d,{submission:R({},w,{formAction:o.location}),preventScrollReset:D});case 18:n.next=23;break;case 20:return _=lt(d,l),n.next=23,ae(v,d,{overrideNavigation:_,fetcherSubmission:c,preventScrollReset:D});case 23:case"end":return n.stop()}}),n)}))),pe.apply(this,arguments)}function ve(e,t,n,r,i){return ge.apply(this,arguments)}function ge(){return ge=C(x().mark((function t(r,i,a,o,s){var l,c,f;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat(M(a.map((function(e){return Oe("loader",s,e,i,u,n,A)}))),M(o.map((function(t){return t.matches&&t.match&&t.controller?Oe("loader",De(e.history,t.path,t.controller.signal),t.match,t.matches,u,n,A):{type:U.error,error:Ve(404,{pathname:t.path})}})))));case 2:return l=t.sent,c=l.slice(0,a.length),f=l.slice(a.length),t.next=7,Promise.all([nt(r,a,c,c.map((function(){return s.signal})),!1,I.loaderData),nt(r,o.map((function(e){return e.match})),f,o.map((function(e){return e.controller?e.controller.signal:null})),!0)]);case 7:return t.abrupt("return",{results:l,loaderResults:c,fetcherResults:f});case 8:case"end":return t.stop()}}),t)}))),ge.apply(this,arguments)}function me(){var e;Q=!0,(e=H).push.apply(e,M(Ne())),Y.forEach((function(e,t){V.has(t)&&(j.push(t),Ie(t))}))}function ye(e,t,n){var r=ze(I.matches,t);Se(e),ee({errors:E({},r.route.id,n),fetchers:new Map(I.fetchers)})}function Se(e){var t=I.fetchers.get(e);!V.has(e)||t&&"loading"===t.state&&X.has(e)||Ie(e),Y.delete(e),X.delete(e),q.delete(e),I.fetchers.delete(e)}function Ie(e){var t=V.get(e);O(t,"Expected fetch controller: "+e),t.abort(),V.delete(e)}function Me(e){var t,n=k(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=dt(Ae(r).data);I.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function Re(){var e,t=[],n=!1,r=k(q);try{for(r.s();!(e=r.n()).done;){var i=e.value,a=I.fetchers.get(i);O(a,"Expected fetcher: "+i),"loading"===a.state&&(q.delete(i),t.push(i),n=!0)}}catch(o){r.e(o)}finally{r.f()}return Me(t),n}function Ue(e){var t,n=[],r=k(X);try{for(r.s();!(t=r.n()).done;){var i=l(t.value,2),a=i[0];if(i[1]<e){var o=I.fetchers.get(a);O(o,"Expected fetcher: "+a),"loading"===o.state&&(Ie(a),X.delete(a),n.push(a))}}}catch(s){r.e(s)}finally{r.f()}return Me(n),n.length>0}function Fe(e){I.blockers.delete(e),J.delete(e)}function Pe(e,t){var n=I.blockers.get(e)||_e;O("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);var r=new Map(I.blockers);r.set(e,t),ee({blockers:r})}function Le(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==J.size){J.size>1&&P(!1,"A router only supports one blocker at a time");var i=Array.from(J.entries()),a=l(i[i.length-1],2),o=a[0],s=a[1],u=I.blockers.get(o);if(!u||"proceeding"!==u.state)return s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function Ne(e){var t=[];return Z.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),Z.delete(r))})),t}function Qe(e,t){if(v){var n=v(e,t.map((function(e){return function(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,I.loaderData)})));return n||e.key}return e.key}function Ke(e,t){if(p&&g){var n=Qe(e,t);p[n]=g()}}function Je(e,t){if(p){var n=Qe(e,t),r=p[n];if("number"===typeof r)return r}return null}return S={get basename(){return A},get state(){return I},get routes(){return c},initialize:function(){return d=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!$){P(0===J.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=Le({currentLocation:I.location,nextLocation:r,historyAction:n});return a&&null!=i?($=!0,e.history.go(-1*i),void Pe(a,{state:"blocked",location:r,proceed:function(){Pe(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){var e=new Map(I.blockers);e.set(a,_e),ee({blockers:e})}})):ae(n,r)}$=!1})),I.initialized||ae(t.Pop,I.location),S},subscribe:function(e){return h.add(e),function(){return h.delete(e)}},enableScrollRestoration:function(e,t,n){if(p=e,g=t,v=n||null,!m&&I.navigation===we){m=!0;var r=Je(I.location,I.matches);null!=r&&ee({restoreScrollPosition:r})}return function(){p=null,g=null,v=null}},navigate:ne,fetch:function(e,t,n,r){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(e)&&Ie(e);var i=s||c,o=Be(I.location,I.matches,A,f.v7_prependBasename,n,t,null==r?void 0:r.relative),u=G(i,o,A);if(u){var l=Te(f.v7_normalizeFormMethod,!0,o,r),d=l.path,h=l.submission,p=l.error;if(p)ye(e,t,p);else{var v=st(u,d);D=!0===(r&&r.preventScrollReset),h&&tt(h.formMethod)?function(e,t,n,r,i,a){fe.apply(this,arguments)}(e,t,d,v,u,h):(Y.set(e,{routeId:t,path:d}),function(e,t,n,r,i,a){de.apply(this,arguments)}(e,t,d,v,u,h))}}else ye(e,t,Ve(404,{pathname:o}))},revalidate:function(){me(),ee({revalidation:"loading"}),"submitting"!==I.navigation.state&&("idle"!==I.navigation.state?ae(F||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation}):ae(I.historyAction,I.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:Ae,deleteFetcher:Se,dispose:function(){d&&d(),h.clear(),B&&B.abort(),I.fetchers.forEach((function(e,t){return Se(t)})),I.blockers.forEach((function(e,t){return Fe(t)}))},getBlocker:function(e,t){var n=I.blockers.get(e)||_e;return J.get(e)!==t&&J.set(e,t),n},deleteBlocker:Fe,_internalFetchControllers:V,_internalActiveDeferreds:Z,_internalSetRoutes:function(e){s=z(e,n,void 0,u={})}},S}Symbol("deferred");function Be(e,t,n,r,i,a,o){var s,u;if(null!=a&&"path"!==o){s=[];var l,c=k(t);try{for(c.s();!(l=c.n()).done;){var A=l.value;if(s.push(A),A.route.id===a){u=A;break}}}catch(d){c.e(d)}finally{c.f()}}else s=t,u=t[t.length-1];var f=se(i||".",oe(s).map((function(e){return e.pathnameBase})),ie(e.pathname,n)||e.pathname,"path"===o);return null==i&&(f.search=e.search,f.hash=e.hash),null!=i&&""!==i&&"."!==i||!u||!u.route.index||ot(f.search)||(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(f.pathname="/"===f.pathname?n:ue([n,f.pathname])),N(f)}function Te(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!et(r.formMethod))return{path:n,error:Ve(405,{method:r.formMethod})};var i,a,o=function(){return{path:n,error:Ve(400,{type:"invalid-body"})}},s=r.formMethod||"get",u=e?s.toUpperCase():s.toLowerCase(),c=Ke(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!tt(u))return o();var A="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((function(e,t){var n=l(t,2);return""+e+n[0]+"="+n[1]+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:A}}}if("application/json"===r.formEncType){if(!tt(u))return o();try{var f="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch(p){return o()}}}if(O("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=Le(r.formData),a=r.formData;else if(r.body instanceof FormData)i=Le(r.body),a=r.body;else if(r.body instanceof URLSearchParams)a=Ne(i=r.body);else if(null==r.body)i=new URLSearchParams,a=new FormData;else try{a=Ne(i=new URLSearchParams(r.body))}catch(p){return o()}var d={formMethod:u,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(tt(d.formMethod))return{path:n,submission:d};var h=Q(n);return t&&h.search&&ot(h.search)&&i.append("index",""),h.search="?"+i,{path:N(h),submission:d}}function Ie(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function ke(e,t,n,r,i,a,o,s,u,l,c,A,f,d){var h=d?Object.values(d)[0]:f?Object.values(f)[0]:void 0,p=e.createURL(t.location),v=e.createURL(i),g=d?Object.keys(d)[0]:void 0,m=Ie(n,g).filter((function(e,n){if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some((function(t){return t===e.route.id})))return!0;var i=t.matches[n],s=e;return Re(e,R({currentUrl:p,currentParams:i.params,nextUrl:v,nextParams:s.params},r,{actionResult:h,defaultShouldRevalidate:a||p.pathname+p.search===v.pathname+v.search||p.search!==v.search||Me(i,s)}))})),y=[];return u.forEach((function(e,i){if(n.some((function(t){return t.route.id===e.routeId}))){var o=G(c,e.path,A);if(o){var u=t.fetchers.get(i),f=st(o,e.path);!l.has(i)&&(!!s.includes(i)||(u&&"idle"!==u.state&&void 0===u.data?a:Re(f,R({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:h,defaultShouldRevalidate:a}))))&&y.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:f,controller:new AbortController})}else y.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null})}})),[m,y]}function Me(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Re(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Ue(e,t,n){return Fe.apply(this,arguments)}function Fe(){return Fe=C(x().mark((function e(t,n,r){var i,a,o,s,u,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.lazy();case 4:if(i=e.sent,t.lazy){e.next=7;break}return e.abrupt("return");case 7:for(s in O(a=r[t.id],"No route found in manifest"),o={},i)u=a[s],P(!(l=void 0!==u&&"hasErrorBoundary"!==s),'Route "'+a.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),l||j.has(s)||(o[s]=i[s]);Object.assign(a,o),Object.assign(a,R({},n(a),{lazy:void 0}));case 13:case"end":return e.stop()}}),e)}))),Fe.apply(this,arguments)}function Oe(e,t,n,r,i,a,o,s){return Pe.apply(this,arguments)}function Pe(){return Pe=C(x().mark((function e(t,n,r,i,a,o,s,u){var l,c,A,f,d,h,p,v,g,m,y,b,w,_,C,E,S,B,T;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===u&&(u={}),f=function(e){var t,i=new Promise((function(e,n){return t=n}));return A=function(){return t()},n.signal.addEventListener("abort",A),Promise.race([e({request:n,params:r.params,context:u.requestContext}),i])},e.prev=2,d=r.route[t],!r.route.lazy){e.next=32;break}if(!d){e.next=14;break}return e.next=8,Promise.all([f(d).catch((function(e){h=e})),Ue(r.route,o,a)]);case 8:if(p=e.sent,!h){e.next=11;break}throw h;case 11:c=p[0],e.next=30;break;case 14:return e.next=16,Ue(r.route,o,a);case 16:if(!(d=r.route[t])){e.next=23;break}return e.next=20,f(d);case 20:c=e.sent,e.next=30;break;case 23:if("action"!==t){e.next=29;break}throw v=new URL(n.url),g=v.pathname+v.search,Ve(405,{method:n.method,pathname:g,routeId:r.route.id});case 29:return e.abrupt("return",{type:U.data,data:void 0});case 30:e.next=41;break;case 32:if(d){e.next=38;break}throw m=new URL(n.url),Ve(404,{pathname:m.pathname+m.search});case 38:return e.next=40,f(d);case 40:c=e.sent;case 41:O(void 0!==c,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=48;break;case 44:e.prev=44,e.t0=e.catch(2),l=U.error,c=e.t0;case 48:return e.prev=48,A&&n.signal.removeEventListener("abort",A),e.finish(48);case 51:if(!$e(c)){e.next=77;break}if(y=c.status,!ye.has(y)){e.next=61;break}if(O(b=c.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),Ce.test(b)?u.isStaticRequest||(w=new URL(n.url),_=b.startsWith("//")?new URL(w.protocol+b):new URL(b),C=null!=ie(_.pathname,s),_.origin===w.origin&&C&&(b=_.pathname+_.search+_.hash)):b=Be(new URL(n.url),i.slice(0,i.indexOf(r)+1),s,!0,b),!u.isStaticRequest){e.next=60;break}throw c.headers.set("Location",b),c;case 60:return e.abrupt("return",{type:U.redirect,status:y,location:b,revalidate:null!==c.headers.get("X-Remix-Revalidate"),reloadDocument:null!==c.headers.get("X-Remix-Reload-Document")});case 61:if(!u.isRouteRequest){e.next=64;break}throw{type:l===U.error?U.error:U.data,response:c};case 64:if(!(S=c.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(S)){e.next=71;break}return e.next=68,c.json();case 68:E=e.sent,e.next=74;break;case 71:return e.next=73,c.text();case 73:E=e.sent;case 74:if(l!==U.error){e.next=76;break}return e.abrupt("return",{type:l,error:new de(y,c.statusText,E),headers:c.headers});case 76:return e.abrupt("return",{type:U.data,data:E,statusCode:c.status,headers:c.headers});case 77:if(l!==U.error){e.next=79;break}return e.abrupt("return",{type:l,error:c});case 79:if(!Je(c)){e.next=81;break}return e.abrupt("return",{type:U.deferred,deferredData:c,statusCode:null==(B=c.init)?void 0:B.status,headers:(null==(T=c.init)?void 0:T.headers)&&new Headers(c.init.headers)});case 81:return e.abrupt("return",{type:U.data,data:c});case 82:case"end":return e.stop()}}),e,null,[[2,44,48,51]])}))),Pe.apply(this,arguments)}function De(e,t,n,r){var i=e.createURL(Ke(t)).toString(),a={signal:n};if(r&&tt(r.formMethod)){var o=r.formMethod,s=r.formEncType;a.method=o.toUpperCase(),"application/json"===s?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):"text/plain"===s?a.body=r.text:"application/x-www-form-urlencoded"===s&&r.formData?a.body=Le(r.formData):a.body=r.formData}return new Request(i,a)}function Le(e){var t,n=new URLSearchParams,r=k(e.entries());try{for(r.s();!(t=r.n()).done;){var i=l(t.value,2),a=i[0],o=i[1];n.append(a,"string"===typeof o?o:o.name)}}catch(s){r.e(s)}finally{r.f()}return n}function Ne(e){var t,n=new FormData,r=k(e.entries());try{for(r.s();!(t=r.n()).done;){var i=l(t.value,2),a=i[0],o=i[1];n.append(a,o)}}catch(s){r.e(s)}finally{r.f()}return n}function Qe(e,t,n,r,i){var a,o={},s=null,u=!1,l={};return n.forEach((function(n,c){var A=t[c].route.id;if(O(!Ze(n),"Cannot handle redirect results in processLoaderData"),Ye(n)){var f=ze(e,A),d=n.error;r&&(d=Object.values(r)[0],r=void 0),null==(s=s||{})[f.route.id]&&(s[f.route.id]=d),o[A]=void 0,u||(u=!0,a=he(n.error)?n.error.status:500),n.headers&&(l[A]=n.headers)}else qe(n)?(i.set(A,n.deferredData),o[A]=n.deferredData.data):o[A]=n.data,null==n.statusCode||200===n.statusCode||u||(a=n.statusCode),n.headers&&(l[A]=n.headers)})),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:l}}function He(e,t,n,r,i,a,o,s){for(var u=Qe(t,n,r,i,s),l=u.loaderData,c=u.errors,A=0;A<a.length;A++){var f=a[A],d=f.key,h=f.match,p=f.controller;O(void 0!==o&&void 0!==o[A],"Did not find corresponding fetcher result");var v=o[A];if(!p||!p.signal.aborted)if(Ye(v)){var g=ze(e.matches,null==h?void 0:h.route.id);c&&c[g.route.id]||(c=R({},c,E({},g.route.id,v.error))),e.fetchers.delete(d)}else if(Ze(v))O(!1,"Unhandled fetcher revalidation redirect");else if(qe(v))O(!1,"Unhandled fetcher deferred data");else{var m=dt(v.data);e.fetchers.set(d,m)}}return{loaderData:l,errors:c}}function je(e,t,n,r){var i,a=R({},t),o=k(n);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.route.id;if(t.hasOwnProperty(u)?void 0!==t[u]&&(a[u]=t[u]):void 0!==e[u]&&s.route.loader&&(a[u]=e[u]),r&&r.hasOwnProperty(u))break}}catch(l){o.e(l)}finally{o.f()}return a}function ze(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):M(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function Ge(e){var t=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ve(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,s="Unknown Server Error",u="Unknown @remix-run/router error";return 400===e?(s="Bad Request",a&&r&&i?u="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o?u="defer() is not supported in actions":"invalid-body"===o&&(u="Unable to encode submission body")):403===e?(s="Forbidden",u='Route "'+i+'" does not match URL "'+r+'"'):404===e?(s="Not Found",u='No route matches URL "'+r+'"'):405===e&&(s="Method Not Allowed",a&&r&&i?u="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(u='Invalid request method "'+a.toUpperCase()+'"')),new de(e||500,s,new Error(u),!0)}function We(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(Ze(n))return{result:n,idx:t}}}function Ke(e){return N(R({},"string"===typeof e?Q(e):e,{hash:""}))}function Xe(e,t){return e.pathname===t.pathname&&e.search===t.search&&(""===e.hash?""!==t.hash:e.hash===t.hash||""!==t.hash)}function qe(e){return e.type===U.deferred}function Ye(e){return e.type===U.error}function Ze(e){return(e&&e.type)===U.redirect}function Je(e){var t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}function $e(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function et(e){return me.has(e.toLowerCase())}function tt(e){return ve.has(e.toLowerCase())}function nt(e,t,n,r,i,a){return rt.apply(this,arguments)}function rt(){return(rt=C(x().mark((function e(t,n,r,i,a,o){var s,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=x().mark((function e(s){var u,l,c,A,f;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r[s],l=n[s]){e.next=4;break}return e.abrupt("return",1);case 4:if(c=t.find((function(e){return e.route.id===l.route.id})),A=null!=c&&!Me(c,l)&&void 0!==(o&&o[l.route.id]),!qe(u)||!a&&!A){e.next=11;break}return O(f=i[s],"Expected an AbortSignal for revalidating fetcher deferred result"),e.next=11,it(u,f,a).then((function(e){e&&(r[s]=e||r[s])}));case 11:case"end":return e.stop()}}),e)})),u=0;case 2:if(!(u<r.length)){e.next=9;break}return e.delegateYield(s(u),"t0",4);case 4:if(!e.t0){e.next=6;break}return e.abrupt("continue",6);case 6:u++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t,n){return at.apply(this,arguments)}function at(){return at=C(x().mark((function e(t,n,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:U.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:U.error,error:e.t0});case 14:return e.abrupt("return",{type:U.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])}))),at.apply(this,arguments)}function ot(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function st(e,t){var n="string"===typeof t?Q(t).search:t.search;if(e[e.length-1].route.index&&ot(n||""))return e[e.length-1];var r=oe(e);return r[r.length-1]}function ut(e){var t=e.formMethod,n=e.formAction,r=e.formEncType,i=e.text,a=e.formData,o=e.json;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=a?{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function lt(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ct(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function At(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ft(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function dt(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}var pt=n.createContext(null);var vt=n.createContext(null);var gt=n.createContext(null);var mt=n.createContext(null);var yt=n.createContext(null);var bt=n.createContext({outlet:null,matches:[],isDataRoute:!1});var wt=n.createContext(null);function xt(){return null!=n.useContext(yt)}function _t(){return xt()||O(!1),n.useContext(yt).location}function Ct(e){n.useContext(mt).static||n.useLayoutEffect(e)}function Et(){return n.useContext(bt).isDataRoute?function(){var e=Dt(Ot.UseNavigateStable).router,t=Nt(Pt.UseNavigateStable),r=n.useRef(!1);Ct((function(){r.current=!0}));var i=n.useCallback((function(n,i){void 0===i&&(i={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,ht({fromRouteId:t},i)))}),[e,t]);return i}():function(){xt()||O(!1);var e=n.useContext(pt),t=n.useContext(mt),r=t.basename,i=t.navigator,a=n.useContext(bt).matches,o=_t().pathname,s=JSON.stringify(oe(a).map((function(e){return e.pathnameBase}))),u=n.useRef(!1);return Ct((function(){u.current=!0})),n.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=se(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:ue([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e])}()}var St=n.createContext(null);function Bt(){var e=n.useContext(bt).matches,t=e[e.length-1];return t?t.params:{}}function Tt(e,t){var r=(void 0===t?{}:t).relative,i=n.useContext(bt).matches,a=_t().pathname,o=JSON.stringify(oe(i).map((function(e){return e.pathnameBase})));return n.useMemo((function(){return se(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function It(e,r,i){xt()||O(!1);var a,o=n.useContext(mt).navigator,s=n.useContext(bt).matches,u=s[s.length-1],l=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),A=(u&&u.route,_t());if(r){var f,d="string"===typeof r?Q(r):r;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||O(!1),a=d}else a=A;var h=a.pathname||"/",p=G(e,{pathname:"/"===c?h:h.slice(c.length)||"/"});var v=Ft(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ue([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ue([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return r&&v?n.createElement(yt.Provider,{value:{location:ht({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},v):v}function kt(){var e=function(){var e,t=n.useContext(wt),r=Lt(Pt.UseRouteError),i=Nt(Pt.UseRouteError);if(t)return t;return null==(e=r.errors)?void 0:e[i]}(),t=he(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:a},r):null,null)}var Mt=n.createElement(kt,null),Rt=function(e){v(r,e);var t=w(r);function r(e){var n;return c(this,r),(n=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},n}return h(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?n.createElement(bt.Provider,{value:this.props.routeContext},n.createElement(wt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(n.Component);function Ut(e){var t=e.routeContext,r=e.match,i=e.children,a=n.useContext(pt);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(bt.Provider,{value:t},i)}function Ft(e,t,r){var i;if(void 0===t&&(t=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||O(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;r&&(l=i.route.errorElement||Mt);var c=t.concat(o.slice(0,a+1)),A=function(){var t;return t=u?l:i.route.Component?n.createElement(i.route.Component,null):i.route.element?i.route.element:e,n.createElement(Ut,{match:i,routeContext:{outlet:e,matches:c,isDataRoute:null!=r},children:t})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?n.createElement(Rt,{location:r.location,revalidation:r.revalidation,component:l,error:u,children:A(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):A()}),null)}var Ot=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ot||{}),Pt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pt||{});function Dt(e){var t=n.useContext(pt);return t||O(!1),t}function Lt(e){var t=n.useContext(vt);return t||O(!1),t}function Nt(e){var t=function(e){var t=n.useContext(bt);return t||O(!1),t}(),r=t.matches[t.matches.length-1];return r.route.id||O(!1),r.route.id}var Qt=r.startTransition;function Ht(e){var t=e.fallbackElement,r=e.router,i=e.future,a=l(n.useState(r.state),2),o=a[0],s=a[1],u=(i||{}).v7_startTransition,c=n.useCallback((function(e){u&&Qt?Qt((function(){return s(e)})):s(e)}),[s,u]);n.useLayoutEffect((function(){return r.subscribe(c)}),[r,c]);var A=n.useMemo((function(){return{createHref:r.createHref,encodeLocation:r.encodeLocation,go:function(e){return r.navigate(e)},push:function(e,t,n){return r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})},replace:function(e,t,n){return r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})}}}),[r]),f=r.basename||"/",d=n.useMemo((function(){return{router:r,navigator:A,static:!1,basename:f}}),[r,A,f]);return n.createElement(n.Fragment,null,n.createElement(pt.Provider,{value:d},n.createElement(vt.Provider,{value:o},n.createElement(Gt,{basename:f,location:o.location,navigationType:o.historyAction,navigator:A},o.initialized?n.createElement(jt,{routes:r.routes,state:o}):t))),null)}function jt(e){return It(e.routes,void 0,e.state)}function zt(e){return function(e){var t=n.useContext(bt).outlet;return t?n.createElement(St.Provider,{value:e},t):t}(e.context)}function Gt(e){var r=e.basename,i=void 0===r?"/":r,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,l=void 0===u?t.Pop:u,c=e.navigator,A=e.static,f=void 0!==A&&A;xt()&&O(!1);var d=i.replace(/^\/*/,"/"),h=n.useMemo((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof s&&(s=Q(s));var p=s,v=p.pathname,g=void 0===v?"/":v,m=p.search,y=void 0===m?"":m,b=p.hash,w=void 0===b?"":b,x=p.state,_=void 0===x?null:x,C=p.key,E=void 0===C?"default":C,S=n.useMemo((function(){var e=ie(g,d);return null==e?null:{location:{pathname:e,search:y,hash:w,state:_,key:E},navigationType:l}}),[d,g,y,w,_,E,l]);return null==S?null:n.createElement(mt.Provider,{value:h},n.createElement(yt.Provider,{children:o,value:S}))}var Vt=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Vt||{}),Wt=new Promise((function(){}));n.Component;function Kt(e){var t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:n.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:n.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xt.apply(this,arguments)}function qt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Yt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Zt=["aria-current","caseSensitive","className","end","style","to","children"];function Jt(){var e,t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Xt({},t,{errors:$t(t.errors)})),t}function $t(e){if(!e)return null;for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=l(r[n],2),a=i[0],o=i[1];if(o&&"RouteErrorResponse"===o.__type)t[a]=new de(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){var s=window[o.__subType];if("function"===typeof s)try{var u=new s(o.message);u.stack="",t[a]=u}catch(A){}}if(null==t[a]){var c=new Error(o.message);c.stack="",t[a]=c}}else t[a]=o}return t}r.startTransition;var en="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,tn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=n.forwardRef((function(e,t){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,l=e.target,c=e.to,A=e.preventScrollReset,f=qt(e,Yt),d=n.useContext(mt).basename,h=!1;if("string"===typeof c&&tn.test(c)&&(r=c,en))try{var p=new URL(window.location.href),v=c.startsWith("//")?new URL(p.protocol+c):new URL(c),g=ie(v.pathname,d);v.origin===p.origin&&null!=g?c=g+v.search+v.hash:h=!0}catch(b){}var m=function(e,t){var r=(void 0===t?{}:t).relative;xt()||O(!1);var i=n.useContext(mt),a=i.basename,o=i.navigator,s=Tt(e,{relative:r}),u=s.hash,l=s.pathname,c=s.search,A=l;return"/"!==a&&(A="/"===l?a:ue([a,l])),o.createHref({pathname:A,search:c,hash:u})}(c,{relative:a}),y=function(e,t){var r=void 0===t?{}:t,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=Et(),c=_t(),A=Tt(e,{relative:u});return n.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:N(c)===N(A);l(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[c,l,A,a,o,i,e,s,u])}(c,{replace:s,state:u,target:l,preventScrollReset:A,relative:a});return n.createElement("a",Xt({},f,{href:r||m,onClick:h||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:t,target:l}))}));var rn=n.forwardRef((function(e,t){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,l=e.end,c=void 0!==l&&l,A=e.style,f=e.to,d=e.children,h=qt(e,Zt),p=Tt(f,{relative:h.relative}),v=_t(),g=n.useContext(vt),m=n.useContext(mt).navigator,y=m.encodeLocation?m.encodeLocation(p).pathname:p.pathname,b=v.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase());var x,_=b===y||!c&&b.startsWith(y)&&"/"===b.charAt(y.length),C=null!=w&&(w===y||!c&&w.startsWith(y)&&"/"===w.charAt(y.length)),E=_?i:void 0;x="function"===typeof u?u({isActive:_,isPending:C}):[u,_?"active":null,C?"pending":null].filter(Boolean).join(" ");var S="function"===typeof A?A({isActive:_,isPending:C}):A;return n.createElement(nn,Xt({},h,{"aria-current":E,className:x,ref:t,style:S,to:f}),"function"===typeof d?d({isActive:_,isPending:C}):d)}));var an,on;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(an||(an={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(on||(on={}));function sn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var un,ln,cn,An,fn,dn,hn,pn,vn,gn=__webpack_require__(2117),mn=__webpack_require__(6417),yn=function(e){var t=e.onClick;return(0,mn.jsxs)("svg",{onClick:t,width:"98",height:"23",viewBox:"0 0 98 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("path",{d:"M4.9 19.8H1.34V3H4.9V19.8ZM13.1905 7.8C14.3771 7.8 15.4438 8.06667 16.3905 8.6C17.3371 9.12 18.0771 9.84667 18.6105 10.78C19.1438 11.7133 19.4105 12.7667 19.4105 13.94C19.4105 15.1133 19.1438 16.1667 18.6105 17.1C18.0771 18.0333 17.3371 18.76 16.3905 19.28C15.4438 19.8133 14.3771 20.08 13.1905 20.08C12.0038 20.08 10.9371 19.8133 9.99047 19.28C9.0438 18.76 8.3038 18.0333 7.77047 17.1C7.23714 16.1667 6.97047 15.1133 6.97047 13.94C6.97047 12.7667 7.23714 11.7133 7.77047 10.78C8.3038 9.84667 9.0438 9.12 9.99047 8.6C10.9371 8.06667 12.0038 7.8 13.1905 7.8ZM13.1905 10.84C12.3638 10.84 11.6905 11.1333 11.1705 11.72C10.6638 12.2933 10.4105 13.0333 10.4105 13.94C10.4105 14.8467 10.6638 15.5933 11.1705 16.18C11.6905 16.7533 12.3638 17.04 13.1905 17.04C14.0171 17.04 14.6838 16.7533 15.1905 16.18C15.7105 15.5933 15.9705 14.8467 15.9705 13.94C15.9705 13.0333 15.7105 12.2933 15.1905 11.72C14.6838 11.1333 14.0171 10.84 13.1905 10.84ZM27.1163 7.8C28.3029 7.8 29.3696 8.06667 30.3163 8.6C31.2629 9.12 32.0029 9.84667 32.5363 10.78C33.0696 11.7133 33.3363 12.7667 33.3363 13.94C33.3363 15.1133 33.0696 16.1667 32.5363 17.1C32.0029 18.0333 31.2629 18.76 30.3163 19.28C29.3696 19.8133 28.3029 20.08 27.1163 20.08C25.9296 20.08 24.8629 19.8133 23.9163 19.28C22.9696 18.76 22.2296 18.0333 21.6963 17.1C21.1629 16.1667 20.8963 15.1133 20.8963 13.94C20.8963 12.7667 21.1629 11.7133 21.6963 10.78C22.2296 9.84667 22.9696 9.12 23.9163 8.6C24.8629 8.06667 25.9296 7.8 27.1163 7.8ZM27.1163 10.84C26.2896 10.84 25.6163 11.1333 25.0963 11.72C24.5896 12.2933 24.3363 13.0333 24.3363 13.94C24.3363 14.8467 24.5896 15.5933 25.0963 16.18C25.6163 16.7533 26.2896 17.04 27.1163 17.04C27.9429 17.04 28.6096 16.7533 29.1163 16.18C29.6363 15.5933 29.8963 14.8467 29.8963 13.94C29.8963 13.0333 29.6363 12.2933 29.1163 11.72C28.6096 11.1333 27.9429 10.84 27.1163 10.84ZM40.402 15.5L38.982 17.1V19.8H35.422V3H38.982V12.86L43.122 8.08H47.082L42.582 13.08L47.322 19.8H43.262L40.402 15.5ZM50.5419 2.42C51.1685 2.42 51.6885 2.62667 52.1019 3.04C52.5152 3.45333 52.7219 3.97333 52.7219 4.6C52.7219 5.22667 52.5152 5.74667 52.1019 6.16C51.6885 6.57333 51.1685 6.78 50.5419 6.78C49.9152 6.78 49.3952 6.57333 48.9819 6.16C48.5685 5.74667 48.3619 5.22667 48.3619 4.6C48.3619 3.97333 48.5685 3.45333 48.9819 3.04C49.3952 2.62667 49.9152 2.42 50.5419 2.42ZM52.3219 19.84H48.7619V8.08H52.3219V19.84ZM60.0923 20.08C58.9857 20.08 57.999 19.8133 57.1323 19.28C56.2657 18.76 55.5923 18.0333 55.1123 17.1C54.6323 16.1667 54.3923 15.1133 54.3923 13.94C54.3923 12.7667 54.6323 11.7133 55.1123 10.78C55.5923 9.84667 56.2657 9.12 57.1323 8.6C57.999 8.06667 58.9857 7.8 60.0923 7.8C61.599 7.8 62.719 8.29333 63.4523 9.28V3H67.0123V19.8H63.4523V18.6C62.719 19.5867 61.599 20.08 60.0923 20.08ZM60.6523 17.04C61.519 17.04 62.2123 16.7533 62.7323 16.18C63.2523 15.5933 63.5123 14.8467 63.5123 13.94C63.5123 13.0333 63.2523 12.2933 62.7323 11.72C62.2123 11.1333 61.519 10.84 60.6523 10.84C59.8123 10.84 59.139 11.1333 58.6323 11.72C58.1257 12.2933 57.8723 13.0333 57.8723 13.94C57.8723 14.8467 58.1257 15.5933 58.6323 16.18C59.139 16.7533 59.8123 17.04 60.6523 17.04ZM74.5994 7.8C75.5727 7.8 76.4594 7.96 77.2594 8.28C78.0594 8.58667 78.6994 9.02667 79.1794 9.6C79.6594 10.1733 79.9194 10.84 79.9594 11.6H76.5194C76.466 11.24 76.2527 10.96 75.8794 10.76C75.5194 10.5467 75.0727 10.44 74.5394 10.44C74.006 10.44 73.5594 10.5267 73.1994 10.7C72.8527 10.86 72.6794 11.0733 72.6794 11.34C72.6794 11.62 72.886 11.8467 73.2994 12.02C73.7127 12.1933 74.4327 12.36 75.4594 12.52C77.1527 12.7733 78.3594 13.1933 79.0794 13.78C79.7994 14.3667 80.1594 15.1733 80.1594 16.2C80.1594 16.9733 79.9127 17.6533 79.4194 18.24C78.926 18.8267 78.2594 19.28 77.4194 19.6C76.5794 19.92 75.6594 20.08 74.6594 20.08C73.646 20.08 72.726 19.9133 71.8994 19.58C71.086 19.26 70.4327 18.8 69.9394 18.2C69.4594 17.6 69.1994 16.9 69.1594 16.1H72.5994C72.6527 16.4733 72.8794 16.78 73.2794 17.02C73.6794 17.2467 74.1594 17.36 74.7194 17.36C75.2927 17.36 75.766 17.2667 76.1394 17.08C76.5127 16.8933 76.6994 16.6667 76.6994 16.4C76.6994 16.12 76.4794 15.8867 76.0394 15.7C75.5994 15.5 74.8794 15.3267 73.8794 15.18C72.346 14.9533 71.186 14.5667 70.3994 14.02C69.626 13.4733 69.2394 12.64 69.2394 11.52C69.2394 10.7733 69.4727 10.12 69.9394 9.56C70.4194 9 71.066 8.56667 71.8794 8.26C72.6927 7.95333 73.5994 7.8 74.5994 7.8Z",fill:"black"}),(0,mn.jsx)("path",{d:"M92.5336 3.92683C92.5336 5.54327 91.2232 6.85366 89.6068 6.85366C87.9903 6.85366 86.6799 5.54327 86.6799 3.92683C86.6799 2.31039 87.9903 1 89.6068 1C91.2232 1 92.5336 2.31039 92.5336 3.92683Z",fill:"#FFD600"}),(0,mn.jsx)("path",{d:"M85.4603 8.31708C85.4603 7.50886 86.1155 6.85367 86.9237 6.85367H92.2896C93.0978 6.85367 93.753 7.50886 93.753 8.31708V14.1707C93.753 14.979 93.0978 15.6342 92.2896 15.6342H86.9237C86.1155 15.6342 85.4603 14.979 85.4603 14.1707V8.31708Z",fill:"#FFD600"}),(0,mn.jsx)("path",{d:"M86.6799 15.6342C86.6799 15.0954 87.1167 14.6586 87.6555 14.6586H88.1433C88.6822 14.6586 89.119 15.0954 89.119 15.6342V20.0244C89.119 20.5632 88.6822 21 88.1433 21H87.6555C87.1167 21 86.6799 20.5632 86.6799 20.0244V15.6342Z",fill:"#FFD600"}),(0,mn.jsx)("path",{d:"M90.0945 15.6342C90.0945 15.0954 90.5313 14.6586 91.0701 14.6586H91.5579C92.0967 14.6586 92.5335 15.0954 92.5335 15.6342V20.0244C92.5335 20.5632 92.0967 21 91.5579 21H91.0701C90.5313 21 90.0945 20.5632 90.0945 20.0244V15.6342Z",fill:"#FFD600"}),(0,mn.jsx)("path",{d:"M94.6165 9.73239C94.2743 10.3125 93.5267 10.5054 92.9466 10.1632C92.3664 9.82099 92.1736 9.07331 92.5158 8.4932L94.4985 5.13196C94.8407 4.55185 95.5883 4.35898 96.1684 4.70117C96.7486 5.04336 96.9414 5.79104 96.5992 6.37115L94.6165 9.73239Z",fill:"#FFD600"}),(0,mn.jsx)("path",{d:"M84.7097 5.09632C84.3429 4.53146 83.5876 4.37092 83.0228 4.73774C82.4579 5.10457 82.2974 5.85984 82.6642 6.4247L85.0553 10.1067C85.4221 10.6715 86.1774 10.8321 86.7422 10.4652C87.3071 10.0984 87.4676 9.34314 87.1008 8.77828L84.7097 5.09632Z",fill:"#FFD600"}),(0,mn.jsx)("path",{d:"M89.1189 3.43907C89.1189 3.70848 89.0097 3.92687 88.875 3.92687C88.7403 3.92687 88.6311 3.70848 88.6311 3.43907C88.6311 3.16966 88.7403 2.95126 88.875 2.95126C89.0097 2.95126 89.1189 3.16966 89.1189 3.43907Z",fill:"white"}),(0,mn.jsx)("path",{d:"M90.5823 3.43907C90.5823 3.70848 90.4731 3.92687 90.3384 3.92687C90.2037 3.92687 90.0945 3.70848 90.0945 3.43907C90.0945 3.16966 90.2037 2.95126 90.3384 2.95126C90.4731 2.95126 90.5823 3.16966 90.5823 3.43907Z",fill:"white"}),(0,mn.jsx)("path",{d:"M90.1369 4.9024H89.0772C88.8906 4.9024 88.7821 5.1133 88.8905 5.26513C89.0341 5.46607 89.2658 5.58533 89.5128 5.58533H89.7014C89.9483 5.58533 90.1801 5.46607 90.3236 5.26513C90.432 5.1133 90.3235 4.9024 90.1369 4.9024Z",fill:"white"})]})},bn=function(e){var t=e.color,n=void 0===t?"#FFCBCB":t;return(0,mn.jsxs)("svg",{width:"30",height:"24",viewBox:"0 0 30 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("path",{d:"M23.4616 16.284C19.8505 20.5423 14.6328 22.0752 11.8076 19.7077C8.98233 17.3402 9.61942 11.9689 13.2305 7.71049C16.8417 3.4521 22.0594 1.91924 24.8846 4.28674C27.7098 6.65424 27.0727 12.0256 23.4616 16.284Z",fill:n}),(0,mn.jsx)("path",{d:"M16.7716 7.71289C20.3838 11.9726 21.0218 17.345 18.1966 19.7125C15.3713 22.08 10.1527 20.546 6.54051 16.2863C2.92829 12.0266 2.29031 6.65422 5.11556 4.28673C7.9408 1.91924 13.1594 3.45318 16.7716 7.71289Z",fill:n})]})},wn=function(){return(0,mn.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,mn.jsx)("path",{d:"M1.87087 0.5H12.8291C13.2287 0.5 13.4669 0.945543 13.2449 1.27779L9.3078 7.16999C9.14297 7.41666 9.055 7.70667 9.055 8.00335V11.8683C9.055 12.0861 8.91393 12.2789 8.70629 12.3448L6.29629 13.1099C5.97388 13.2123 5.645 12.9716 5.645 12.6334V8.00335C5.645 7.70668 5.55702 7.41666 5.3922 7.16999L1.45514 1.27779C1.23314 0.945544 1.47129 0.5 1.87087 0.5Z",fill:"#77777C",stroke:"#77777C"})})},xn=function(){return(0,mn.jsx)("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,mn.jsx)("path",{d:"M9.91241 1.09769C10.312 0.553515 11.1249 0.553516 11.5245 1.09769L20.564 13.4081C21.049 14.0686 20.5774 15 19.758 15H1.67889C0.859504 15 0.387887 14.0686 0.872859 13.4081L9.91241 1.09769Z",fill:"white"})})},_n=function(e){var t=e.color;return(0,mn.jsx)("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,mn.jsx)("path",{d:"M6.43301 10.25C6.24056 10.5833 5.75944 10.5833 5.56699 10.25L3 5.80385L0.433012 1.35769C0.240562 1.02436 0.481125 0.607694 0.866025 0.607694L11.134 0.607694C11.5189 0.607694 11.7594 1.02436 11.567 1.35769L6.43301 10.25Z",fill:t})})},Cn=function(e){var t=e.color,n=void 0===t?"#FFCBCB":t;return(0,mn.jsxs)("svg",{width:"23",height:"23",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 11.5C0 10.6716 0.671573 10 1.5 10H21.5C22.3284 10 23 10.6716 23 11.5C23 12.3284 22.3284 13 21.5 13H1.5C0.671573 13 0 12.3284 0 11.5Z",fill:n}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 0C12.3284 3.62118e-08 13 0.671573 13 1.5L13 21.5C13 22.3284 12.3284 23 11.5 23C10.6716 23 10 22.3284 10 21.5L10 1.5C10 0.671573 10.6716 -3.62116e-08 11.5 0Z",fill:n})]})},En=function(e){var t=e.color,n=void 0===t?"#FFCBCB":t;return(0,mn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.71715 1.36306C8.58876 1.33739 8.45567 1.3496 8.3341 1.39823L5.48278 2.53876C5.43264 2.55882 5.38508 2.58482 5.34114 2.61621L1.63279 5.26503C1.37467 5.4494 1.27976 5.78862 1.40471 6.08017L2.71963 9.14832L3.62703 8.69463C4.60102 8.20763 5.72114 9.01496 5.56714 10.093L5.14914 13.019C5.11209 13.2783 5.12572 13.5423 5.18925 13.7965L5.65866 15.6741C5.73491 15.9791 5.7391 16.2976 5.6709 16.6045L4.68292 21.0504C4.60206 21.4143 4.8315 21.7749 5.19541 21.8557L8.69585 22.6336C9.04757 22.7118 9.39866 22.4999 9.49347 22.1523L10.5285 18.3571C10.8902 17.0308 12.7716 17.0307 13.1333 18.3571L14.1684 22.1523C14.2632 22.4999 14.6142 22.7118 14.966 22.6336L18.4664 21.8557C18.8303 21.7749 19.0598 21.4143 18.9789 21.0504L17.9909 16.6045C17.9227 16.2976 17.9269 15.9791 18.0032 15.6741L18.5367 13.5399C18.5579 13.4552 18.5624 13.3672 18.5501 13.2807L18.0947 10.093C17.9407 9.01496 19.0608 8.20763 20.0348 8.69463L20.9422 9.14832L22.2571 6.08017C22.3821 5.78862 22.2871 5.4494 22.029 5.26503L18.3207 2.61621C18.2767 2.58482 18.2292 2.55882 18.179 2.53876L15.3277 1.39823C15.2061 1.3496 15.0731 1.33739 14.9447 1.36306L12.228 1.90639C11.9659 1.95882 11.6959 1.95882 11.4338 1.90639L8.71715 1.36306ZM7.83274 0.144831C8.19745 -0.0010543 8.59672 -0.0377124 8.9819 0.0393236L11.6985 0.58265C11.7859 0.600127 11.8759 0.600127 11.9633 0.58265L14.6799 0.0393237C15.0651 -0.0377122 15.4644 -0.00105463 15.8291 0.144831L18.6804 1.28536C18.8308 1.34553 18.9735 1.42354 19.1053 1.51771L22.8137 4.16653C23.588 4.71963 23.8728 5.73729 23.4979 6.61194L22.183 9.6801C21.877 10.394 21.0332 10.7031 20.3385 10.3558L19.4311 9.90206L19.8865 13.0898C19.9235 13.3492 19.9099 13.6132 19.8464 13.8673L19.3128 16.0015C19.2874 16.1032 19.286 16.2094 19.3087 16.3117L20.2967 20.7575C20.5393 21.8493 19.851 22.9309 18.7593 23.1735L15.2588 23.9514C14.2037 24.1859 13.1504 23.5503 12.866 22.5075L11.8309 18.7123L10.7959 22.5075C10.5115 23.5503 9.45816 24.1859 8.403 23.9514L4.90256 23.1735C3.81085 22.9309 3.12251 21.8493 3.36512 20.7575L4.35309 16.3116C4.37582 16.2094 4.37443 16.1032 4.34901 16.0015L3.8796 14.1239C3.77371 13.7003 3.75101 13.2602 3.81275 12.8281L4.23075 9.90206L3.32335 10.3558C2.62862 10.7031 1.7848 10.394 1.47883 9.6801L0.163904 6.61194C-0.210948 5.73729 0.0737971 4.71963 0.848143 4.16653L4.55649 1.51771C4.68833 1.42354 4.83099 1.34553 4.98142 1.28536L7.83274 0.144831Z",fill:n}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.17505 2.95641L7.80125 1.4612L9.1109 1.13379L9.4847 2.62899C9.62807 3.20247 10.0149 3.68467 10.5436 3.94903L10.9254 4.13993C11.4955 4.42496 12.1665 4.42496 12.7365 4.13993L13.1183 3.94903C13.6471 3.68467 14.0339 3.20247 14.1772 2.62899L14.551 1.13379L15.8607 1.4612L15.4869 2.95641C15.2479 3.9122 14.6033 4.71587 13.7221 5.15647L13.3403 5.34736C12.3901 5.82242 11.2718 5.82242 10.3217 5.34736L9.93988 5.15647C9.05868 4.71587 8.414 3.9122 8.17505 2.95641ZM5.43715 5.17484L4.44085 2.18592L5.72153 1.75903L6.71783 4.74794C7.00088 5.59709 6.93501 6.52389 6.53472 7.32447L5.00993 10.3741L3.80249 9.77035L5.32729 6.72075C5.56746 6.24041 5.60698 5.68432 5.43715 5.17484ZM16.9441 4.74794L17.9404 1.75903L19.2211 2.18592L18.2248 5.17484C18.0549 5.68432 18.0945 6.24041 18.3346 6.72075L19.8594 9.77035L18.652 10.3741L17.1272 7.32447C16.7269 6.52389 16.661 5.59709 16.9441 4.74794Z",fill:n}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.65952 22.2057L3.58472 20.8558L3.87756 19.538L9.95236 20.8879L9.65952 22.2057Z",fill:n}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7043 19.5379L12.6295 20.8879L12.9224 22.2057L18.9972 20.8557L18.7043 19.5379Z",fill:n}),(0,mn.jsx)("path",{d:"M10.4134 9.66612C10.4134 10.4117 9.80902 11.0161 9.06346 11.0161C8.3179 11.0161 7.7135 10.4117 7.7135 9.66612C7.7135 8.92056 8.3179 8.31616 9.06346 8.31616C9.80902 8.31616 10.4134 8.92056 10.4134 9.66612Z",fill:"white"}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.06353 8.78872C8.57892 8.78872 8.18606 9.18158 8.18606 9.66619C8.18606 10.1508 8.57892 10.5437 9.06353 10.5437C9.54814 10.5437 9.941 10.1508 9.941 9.66619C9.941 9.18158 9.54814 8.78872 9.06353 8.78872ZM7.24109 9.66619C7.24109 8.65968 8.05702 7.84375 9.06353 7.84375C10.07 7.84375 10.886 8.65968 10.886 9.66619C10.886 10.6727 10.07 11.4886 9.06353 11.4886C8.05702 11.4886 7.24109 10.6727 7.24109 9.66619Z",fill:n}),(0,mn.jsx)("path",{d:"M15.9477 9.66612C15.9477 10.4117 15.3433 11.0161 14.5978 11.0161C13.8522 11.0161 13.2478 10.4117 13.2478 9.66612C13.2478 8.92056 13.8522 8.31616 14.5978 8.31616C15.3433 8.31616 15.9477 8.92056 15.9477 9.66612Z",fill:"white"}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5978 8.78872C14.1132 8.78872 13.7204 9.18158 13.7204 9.66619C13.7204 10.1508 14.1132 10.5437 14.5978 10.5437C15.0824 10.5437 15.4753 10.1508 15.4753 9.66619C15.4753 9.18158 15.0824 8.78872 14.5978 8.78872ZM12.7754 9.66619C12.7754 8.65968 13.5913 7.84375 14.5978 7.84375C15.6043 7.84375 16.4203 8.65968 16.4203 9.66619C16.4203 10.6727 15.6043 11.4886 14.5978 11.4886C13.5913 11.4886 12.7754 10.6727 12.7754 9.66619Z",fill:n}),(0,mn.jsx)("path",{d:"M14.868 12.4346C14.868 14.1121 13.5081 15.472 11.8306 15.472C10.1531 15.472 8.79321 14.1121 8.79321 12.4346C8.79321 10.7571 10.1531 9.39722 11.8306 9.39722C13.5081 9.39722 14.868 10.7571 14.868 12.4346Z",fill:"white"}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8307 9.86977C10.4141 9.86977 9.26577 11.0181 9.26577 12.4347C9.26577 13.8513 10.4141 14.9996 11.8307 14.9996C13.2472 14.9996 14.3956 13.8513 14.3956 12.4347C14.3956 11.0181 13.2472 9.86977 11.8307 9.86977ZM8.3208 12.4347C8.3208 10.4962 9.89223 8.9248 11.8307 8.9248C13.7691 8.9248 15.3406 10.4962 15.3406 12.4347C15.3406 14.3731 13.7691 15.9446 11.8307 15.9446C9.89223 15.9446 8.3208 14.3731 8.3208 12.4347Z",fill:n}),(0,mn.jsx)("path",{d:"M10.8182 11.7596C10.8182 11.946 10.6671 12.0971 10.4807 12.0971C10.2943 12.0971 10.1432 11.946 10.1432 11.7596C10.1432 11.5732 10.2943 11.4221 10.4807 11.4221C10.6671 11.4221 10.8182 11.5732 10.8182 11.7596Z",fill:n}),(0,mn.jsx)("path",{d:"M13.5181 11.7596C13.5181 11.946 13.367 12.0971 13.1806 12.0971C12.9942 12.0971 12.8431 11.946 12.8431 11.7596C12.8431 11.5732 12.9942 11.4221 13.1806 11.4221C13.367 11.4221 13.5181 11.5732 13.5181 11.7596Z",fill:n}),(0,mn.jsx)("path",{d:"M12.8432 13.1096C12.8432 13.6688 12.3899 14.1221 11.8307 14.1221C11.2715 14.1221 10.8182 13.6688 10.8182 13.1096C10.8182 12.5505 11.2715 12.0972 11.8307 12.0972C12.3899 12.0972 12.8432 12.5505 12.8432 13.1096Z",fill:"white"}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8307 13.4471C12.0171 13.4471 12.1682 13.296 12.1682 13.1096C12.1682 12.9232 12.0171 12.7721 11.8307 12.7721C11.6443 12.7721 11.4932 12.9232 11.4932 13.1096C11.4932 13.296 11.6443 13.4471 11.8307 13.4471ZM11.8307 14.1221C12.3899 14.1221 12.8432 13.6688 12.8432 13.1096C12.8432 12.5505 12.3899 12.0972 11.8307 12.0972C11.2715 12.0972 10.8182 12.5505 10.8182 13.1096C10.8182 13.6688 11.2715 14.1221 11.8307 14.1221Z",fill:n})]})},Sn=function(e){var t=e.color,n=void 0===t?"#FFCBCB":t;return(0,mn.jsxs)("svg",{width:"23",height:"24",viewBox:"0 0 23 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.47639 5.85891C2.57296 5.20708 3.13246 4.72437 3.7914 4.72437H18.5968C19.2557 4.72437 19.8152 5.20708 19.9118 5.85891L22.3735 22.4759C22.4925 23.2789 21.8703 24 21.0585 24H1.32962C0.517868 24 -0.104342 23.2789 0.0146191 22.4759L2.47639 5.85891ZM18.5968 6.05372H3.7914L1.32962 22.6707H21.0585L18.5968 6.05372Z",fill:n}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5752 2.55477C12.4081 0.920888 9.97986 0.920888 8.81281 2.55477C8.63232 2.80745 8.53529 3.11022 8.53529 3.42074V5.389C8.53529 5.75609 8.2377 6.05368 7.87061 6.05368C7.50352 6.05368 7.20593 5.75609 7.20593 5.389V3.42074C7.20593 2.83315 7.38953 2.26024 7.73106 1.78209C9.42829 -0.594031 12.9597 -0.59403 14.6569 1.78209C14.9985 2.26024 15.1821 2.83315 15.1821 3.42074V5.389C15.1821 5.75609 14.8845 6.05368 14.5174 6.05368C14.1503 6.05368 13.8527 5.75609 13.8527 5.389V3.42074C13.8527 3.11022 13.7557 2.80745 13.5752 2.55477Z",fill:n}),(0,mn.jsx)("path",{d:"M8.14553 15.1066C7.86193 15.1066 7.59606 15.0756 7.34791 15.0135C7.10863 14.9515 6.90036 14.8496 6.72311 14.7078C6.54587 14.566 6.40407 14.3799 6.29772 14.1494C6.20023 13.919 6.15149 13.6399 6.15149 13.312V11.4243C6.15149 11.0964 6.20023 10.8172 6.29772 10.5868C6.40407 10.3563 6.54587 10.1702 6.72311 10.0284C6.90036 9.88664 7.10863 9.78472 7.34791 9.72269C7.59606 9.66065 7.86193 9.62963 8.14553 9.62963C8.42026 9.62963 8.67727 9.66065 8.91655 9.72269C9.1647 9.78472 9.3774 9.88664 9.55464 10.0284C9.74075 10.1702 9.88255 10.3563 9.98004 10.5868C10.0864 10.8172 10.1396 11.0964 10.1396 11.4243V13.312C10.1396 13.6399 10.0864 13.919 9.98004 14.1494C9.88255 14.3799 9.74075 14.566 9.55464 14.7078C9.3774 14.8496 9.1647 14.9515 8.91655 15.0135C8.67727 15.0756 8.42026 15.1066 8.14553 15.1066ZM8.8102 11.4243C8.8102 11.2027 8.74817 11.0432 8.62409 10.9457C8.50888 10.8393 8.34936 10.7862 8.14553 10.7862C7.71127 10.7862 7.49414 10.9989 7.49414 11.4243V13.312C7.49414 13.7373 7.71127 13.95 8.14553 13.95C8.34936 13.95 8.50888 13.9013 8.62409 13.8038C8.74817 13.6975 8.8102 13.5335 8.8102 13.312V11.4243ZM14.2473 19.3871C13.9637 19.3871 13.6978 19.3561 13.4497 19.2941C13.2104 19.232 13.0021 19.1301 12.8249 18.9883C12.6476 18.8465 12.5058 18.6604 12.3995 18.43C12.302 18.1996 12.2532 17.9204 12.2532 17.5925V15.7048C12.2532 15.3769 12.302 15.0977 12.3995 14.8673C12.5058 14.6369 12.6476 14.4508 12.8249 14.309C13.0021 14.1672 13.2104 14.0653 13.4497 14.0032C13.6978 13.9412 13.9637 13.9102 14.2473 13.9102C14.522 13.9102 14.779 13.9412 15.0183 14.0032C15.2664 14.0653 15.4791 14.1672 15.6564 14.309C15.8425 14.4508 15.9843 14.6369 16.0818 14.8673C16.1881 15.0977 16.2413 15.3769 16.2413 15.7048V17.5925C16.2413 17.9204 16.1881 18.1996 16.0818 18.43C15.9843 18.6604 15.8425 18.8465 15.6564 18.9883C15.4791 19.1301 15.2664 19.232 15.0183 19.2941C14.779 19.3561 14.522 19.3871 14.2473 19.3871ZM14.912 15.7048C14.912 15.4832 14.8499 15.3237 14.7258 15.2262C14.6106 15.1199 14.4511 15.0667 14.2473 15.0667C13.813 15.0667 13.5959 15.2794 13.5959 15.7048V17.5925C13.5959 18.0179 13.813 18.2306 14.2473 18.2306C14.4511 18.2306 14.6106 18.1818 14.7258 18.0843C14.8499 17.978 14.912 17.814 14.912 17.5925V15.7048ZM13.4762 9.08459C13.6624 9.08459 13.8396 9.15106 14.008 9.284C14.1764 9.40807 14.2606 9.57646 14.2606 9.78915C14.2606 9.88664 14.2428 9.97083 14.2074 10.0417L9.52806 19.6264C9.48375 19.7239 9.40398 19.8036 9.28877 19.8657C9.17356 19.9277 9.05392 19.9587 8.92985 19.9587C8.69942 19.9587 8.51775 19.8834 8.38481 19.7327C8.25187 19.5821 8.18541 19.4226 8.18541 19.2542C8.18541 19.1744 8.20756 19.0902 8.25187 19.0016L12.9179 9.41693C12.9711 9.30172 13.0464 9.21753 13.1439 9.16436C13.2414 9.11118 13.3522 9.08459 13.4762 9.08459Z",fill:n})]})},Bn=function(e){var t=e.color,n=void 0===t?"#FFCBCB":t;return(0,mn.jsxs)("svg",{width:"27",height:"24",viewBox:"0 0 27 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.3304 5.85891C5.42696 5.20708 5.98646 4.72437 6.6454 4.72437H21.4508C22.1097 4.72437 22.6692 5.20708 22.7658 5.85891L25.2275 22.4759C25.3465 23.2789 24.7243 24 23.9125 24H4.18363C3.37187 24 2.74966 23.2789 2.86862 22.4759L5.3304 5.85891ZM21.4508 6.05372H6.6454L4.18363 22.6707H23.9125L21.4508 6.05372Z",fill:n}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4293 2.55477C15.2623 0.920888 12.834 0.920888 11.6669 2.55477C11.4864 2.80745 11.3894 3.11022 11.3894 3.42074V5.389C11.3894 5.75609 11.0918 6.05368 10.7247 6.05368C10.3576 6.05368 10.0601 5.75609 10.0601 5.389V3.42074C10.0601 2.83315 10.2437 2.26024 10.5852 1.78209C12.2824 -0.594031 15.8138 -0.59403 17.5111 1.78209C17.8526 2.26024 18.0362 2.83315 18.0362 3.42074V5.389C18.0362 5.75609 17.7386 6.05368 17.3715 6.05368C17.0044 6.05368 16.7068 5.75609 16.7068 5.389V3.42074C16.7068 3.11022 16.6098 2.80745 16.4293 2.55477Z",fill:n}),(0,mn.jsx)("path",{d:"M16.4068 19.3472C16.1675 19.3472 15.9459 19.3118 15.7421 19.2409C15.5382 19.17 15.3743 19.0193 15.2502 18.7889L12.7244 14.1893V18.7092C12.7244 18.9218 12.6137 19.0814 12.3921 19.1877C12.1794 19.2941 11.9445 19.3472 11.6875 19.3472C11.4305 19.3472 11.1912 19.2941 10.9697 19.1877C10.757 19.0814 10.6506 18.9218 10.6506 18.7092V10.2677C10.6506 10.0462 10.757 9.88665 10.9697 9.78916C11.1912 9.68281 11.4305 9.62964 11.6875 9.62964C11.8736 9.62964 12.0332 9.6385 12.1661 9.65623C12.299 9.67395 12.4231 9.71826 12.5383 9.78916C12.6535 9.8512 12.7643 9.95312 12.8707 10.0949C12.977 10.2367 13.0922 10.4273 13.2163 10.6665L15.3699 14.7743V10.2544C15.3699 10.0329 15.4762 9.87335 15.6889 9.77587C15.9105 9.67838 16.1497 9.62964 16.4068 9.62964C16.6638 9.62964 16.8986 9.67838 17.1113 9.77587C17.3329 9.87335 17.4437 10.0329 17.4437 10.2544V18.7092C17.4437 18.9218 17.3329 19.0814 17.1113 19.1877C16.8986 19.2941 16.6638 19.3472 16.4068 19.3472Z",fill:n}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.3955 1.9394C23.369 2.01879 23.3068 2.08108 23.2274 2.10755L22.1161 2.47796C21.8737 2.55876 21.8737 2.90162 22.1161 2.98242L23.2274 3.35283C23.3068 3.37929 23.369 3.44159 23.3955 3.52098L23.7659 4.63222C23.8467 4.87461 24.1896 4.87461 24.2704 4.63222L24.6408 3.52098C24.6673 3.44159 24.7296 3.37929 24.8089 3.35283L25.9202 2.98242C26.1626 2.90162 26.1626 2.55876 25.9202 2.47796L24.8089 2.10755C24.7296 2.08108 24.6673 2.01879 24.6408 1.9394L24.2704 0.828158C24.1896 0.585764 23.8467 0.585764 23.7659 0.828158L23.3955 1.9394ZM24.576 2.73019C24.3165 2.63619 24.1122 2.43181 24.0182 2.17239C23.9242 2.4318 23.7198 2.63619 23.4603 2.73019C23.7198 2.82419 23.9242 3.02858 24.0182 3.28799C24.1122 3.02857 24.3165 2.82419 24.576 2.73019Z",fill:n}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.46119 7.92157C1.43472 8.00096 1.37242 8.06326 1.29303 8.08973L0.181796 8.46014C-0.0605985 8.54094 -0.0605985 8.8838 0.181796 8.96459L1.29303 9.33501C1.37242 9.36147 1.43472 9.42377 1.46119 9.50316L1.8316 10.6144C1.9124 10.8568 2.25526 10.8568 2.33605 10.6144L2.70647 9.50316C2.73293 9.42377 2.79523 9.36147 2.87462 9.33501L3.98586 8.96459C4.22825 8.8838 4.22825 8.54094 3.98586 8.46014L2.87462 8.08973C2.79523 8.06326 2.73293 8.00096 2.70647 7.92157L2.33605 6.81034C2.25526 6.56794 1.9124 6.56794 1.8316 6.81034L1.46119 7.92157ZM2.64163 8.71237C2.38221 8.61837 2.17783 8.41398 2.08383 8.15456C1.98983 8.41398 1.78544 8.61837 1.52602 8.71237C1.78544 8.80637 1.98983 9.01075 2.08383 9.27017C2.17783 9.01075 2.38221 8.80637 2.64163 8.71237Z",fill:n})]})},Tn=function(e){var t=e.color,n=void 0===t?"#FFCBCB":t;return(0,mn.jsxs)("svg",{width:"19",height:"24",viewBox:"0 0 19 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 1.23077C0.5 0.551036 1.05103 0 1.73077 0H17.7308C18.4105 0 18.9615 0.551035 18.9615 1.23077V20.9231C18.9615 21.6028 18.4105 22.1538 17.7308 22.1538H1.73077C1.05103 22.1538 0.5 21.6028 0.5 20.9231V1.23077ZM1.73077 1.23077V20.9231H17.7308V1.23077L1.73077 1.23077Z",fill:n}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.11542 21.5384V0.615356H10.3462V21.5384H9.11542ZM2.34619 22.7692V21.5384H3.57696V22.7692H4.80773V21.5384H6.0385V22.7692C6.0385 23.4489 5.48747 24 4.80773 24H3.57696C2.89723 24 2.34619 23.4489 2.34619 22.7692ZM13.4231 22.7692V21.5384H14.6539V22.7692H15.8847V21.5384H17.1154V22.7692C17.1154 23.4489 16.5644 24 15.8847 24H14.6539C13.9741 24 13.4231 23.4489 13.4231 22.7692Z",fill:n}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.88467 10.4615C8.22454 10.4615 8.50006 10.7371 8.50006 11.0769V12.3077C8.50006 12.6476 8.22454 12.9231 7.88467 12.9231C7.5448 12.9231 7.26929 12.6476 7.26929 12.3077V11.0769C7.26929 10.7371 7.5448 10.4615 7.88467 10.4615Z",fill:n}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5768 10.4615C11.9167 10.4615 12.1922 10.7371 12.1922 11.0769V12.3077C12.1922 12.6476 11.9167 12.9231 11.5768 12.9231C11.2369 12.9231 10.9614 12.6476 10.9614 12.3077V11.0769C10.9614 10.7371 11.2369 10.4615 11.5768 10.4615Z",fill:n})]})},In=function(e){var t=e.width,n=void 0===t?"20":t,r=e.height,i=void 0===r?"20":r;return(0,mn.jsxs)("svg",{width:n,height:i,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 8.05327C9.2588 8.05415 8.54806 8.34911 8.02391 8.87342C7.49975 9.39773 7.20501 10.1086 7.20435 10.8499C7.20479 11.5914 7.49946 12.3023 8.02366 12.8267C8.54786 13.3511 9.25874 13.6459 10.0002 13.6466C10.7416 13.6459 11.4525 13.3511 11.9767 12.8267C12.5009 12.3023 12.7956 11.5914 12.796 10.8499C12.7954 10.1086 12.5006 9.39773 11.9765 8.87342C11.4523 8.34911 10.7416 8.05415 10.0002 8.05327Z",fill:"#77777C"}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0001 15.2225C8.84106 15.2212 7.72988 14.7602 6.91032 13.9406C6.09076 13.1211 5.62975 12.0099 5.62843 10.8508C5.62953 9.69166 6.09044 8.58027 6.91003 7.76053C7.72961 6.94079 8.84092 6.47966 10.0001 6.47834C11.1593 6.47966 12.2706 6.94079 13.0902 7.76053C13.9097 8.58027 14.3707 9.69166 14.3718 10.8508C14.3704 12.0099 13.9094 13.1211 13.0899 13.9406C12.2703 14.7602 11.1591 15.2212 10.0001 15.2225M16.7609 4.28001H14.2993L13.3718 2.47251C13.2247 2.18637 13.0016 1.94631 12.727 1.77871C12.4523 1.61111 12.1368 1.52246 11.8151 1.52251H8.13759C7.80954 1.52247 7.48808 1.61464 7.20989 1.78851C6.9317 1.96238 6.70798 2.21094 6.56426 2.50584L5.70093 4.28001H3.23926C2.96342 4.2799 2.69025 4.33413 2.43537 4.43962C2.18049 4.54511 1.94889 4.69977 1.7538 4.89479C1.55871 5.0898 1.40395 5.32134 1.29836 5.57618C1.19277 5.83102 1.13843 6.10416 1.13843 6.38001V16.0475C1.13843 16.3234 1.19277 16.5965 1.29836 16.8513C1.40395 17.1062 1.55871 17.3377 1.7538 17.5327C1.94889 17.7277 2.18049 17.8824 2.43537 17.9879C2.69025 18.0934 2.96342 18.1476 3.23926 18.1475H16.7609C17.0368 18.1476 17.3099 18.0934 17.5648 17.9879C17.8197 17.8824 18.0513 17.7277 18.2464 17.5327C18.4415 17.3377 18.5962 17.1062 18.7018 16.8513C18.8074 16.5965 18.8618 16.3234 18.8618 16.0475V6.38001C18.8618 6.10416 18.8074 5.83102 18.7018 5.57618C18.5962 5.32134 18.4415 5.0898 18.2464 4.89479C18.0513 4.69977 17.8197 4.54511 17.5648 4.43962C17.3099 4.33413 17.0368 4.2799 16.7609 4.28001",fill:"#77777C"})]})},kn=function(){return(0,mn.jsx)("svg",{width:"8",height:"7",viewBox:"0 0 8 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,mn.jsx)("path",{d:"M2.54122 6.592C2.42522 6.592 2.29472 6.563 2.14972 6.505C2.01439 6.447 1.89355 6.36 1.78722 6.244C1.68089 6.128 1.62772 5.99267 1.62772 5.838C1.62772 5.664 1.68572 5.50933 1.80172 5.374L2.75872 4.011L1.25072 3.576C1.08639 3.53733 0.960721 3.45033 0.873721 3.315C0.796387 3.17967 0.757721 3.02017 0.757721 2.8365C0.757721 2.64317 0.830221 2.46433 0.975221 2.3C1.12989 2.126 1.32322 2.039 1.55522 2.039C1.57455 2.039 1.60355 2.04383 1.64222 2.0535C1.68089 2.0535 1.72439 2.06317 1.77272 2.0825L3.29522 2.5755L3.22272 1.0965C3.23239 0.854833 3.31455 0.680833 3.46922 0.574499C3.62389 0.4585 3.80272 0.4005 4.00572 0.4005C4.20872 0.4005 4.38272 0.4585 4.52772 0.574499C4.68239 0.680833 4.76455 0.854833 4.77422 1.0965L4.71622 2.6045L6.25322 2.0825C6.33055 2.0535 6.40305 2.039 6.47072 2.039C6.69305 2.039 6.87189 2.13567 7.00722 2.329C7.15222 2.52233 7.22472 2.72533 7.22472 2.938C7.22472 3.083 7.18605 3.21833 7.10872 3.344C7.03139 3.46 6.90572 3.53733 6.73172 3.576L5.25272 3.924L6.26772 5.3885C6.34505 5.48517 6.38372 5.62533 6.38372 5.809C6.38372 6.041 6.28705 6.2295 6.09372 6.3745C5.91005 6.5195 5.71189 6.592 5.49922 6.592C5.42189 6.592 5.33005 6.5775 5.22372 6.5485C5.11739 6.5195 5.02555 6.44217 4.94822 6.3165L4.00572 4.8665L3.04872 6.331C2.98105 6.43733 2.90372 6.50983 2.81672 6.5485C2.73939 6.5775 2.64755 6.592 2.54122 6.592Z",fill:"#EA1A21"})})},Mn=function(){return(0,mn.jsxs)("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 2.99982C0.5 2.3785 1.00368 1.87482 1.625 1.87482H12.875C13.4963 1.87482 14 2.3785 14 2.99982V3.37482C14 3.99614 13.4963 4.49982 12.875 4.49982H1.625C1.00368 4.49982 0.5 3.99614 0.5 3.37482V2.99982ZM1.625 2.62482C1.41789 2.62482 1.25 2.79271 1.25 2.99982V3.37482C1.25 3.58192 1.41789 3.74982 1.625 3.74982H12.875C13.0821 3.74982 13.25 3.58192 13.25 3.37482V2.99982C13.25 2.79271 13.0821 2.62482 12.875 2.62482H1.625Z",fill:"#77777C"}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.50026 0.75C5.29315 0.75 5.12526 0.917893 5.12526 1.125V2.25C5.12526 2.45711 4.95737 2.625 4.75026 2.625C4.54315 2.625 4.37526 2.45711 4.37526 2.25V1.125C4.37526 0.50368 4.87894 0 5.50026 0H9.25026C9.87158 0 10.3753 0.50368 10.3753 1.125V2.25C10.3753 2.45711 10.2074 2.625 10.0003 2.625C9.79315 2.625 9.62526 2.45711 9.62526 2.25V1.125C9.62526 0.917893 9.45737 0.75 9.25026 0.75H5.50026ZM2.09854 3.75095C2.30512 3.7362 2.48455 3.8917 2.49931 4.09828L3.19955 13.9017C3.21357 14.098 3.37686 14.25 3.5736 14.25H11.1769C11.3737 14.25 11.537 14.098 11.551 13.9017L12.2512 4.09828C12.266 3.8917 12.4454 3.7362 12.652 3.75095C12.8586 3.76571 13.0141 3.94514 12.9993 4.15172L12.2991 13.9552C12.257 14.5439 11.7671 15 11.1769 15H3.5736C2.98338 15 2.49351 14.5439 2.45146 13.9552L1.75121 4.15172C1.73646 3.94514 1.89196 3.76571 2.09854 3.75095ZM4.73055 5.25052C4.93737 5.23963 5.11386 5.39847 5.12474 5.60529L5.49974 12.7303C5.51063 12.9371 5.35179 13.1136 5.14497 13.1245C4.93815 13.1354 4.76166 12.9765 4.75078 12.7697L4.37578 5.64471C4.36489 5.43789 4.52373 5.2614 4.73055 5.25052ZM10.02 5.25052C10.2268 5.2614 10.3856 5.43789 10.3747 5.64471L9.99974 12.7697C9.98886 12.9765 9.81237 13.1354 9.60555 13.1245C9.39873 13.1136 9.23989 12.9371 9.25078 12.7303L9.62578 5.60529C9.63666 5.39847 9.81315 5.23963 10.02 5.25052ZM7.37526 5.25C7.58237 5.25 7.75026 5.41789 7.75026 5.625V12.75C7.75026 12.9571 7.58237 13.125 7.37526 13.125C7.16815 13.125 7.00026 12.9571 7.00026 12.75V5.625C7.00026 5.41789 7.16815 5.25 7.37526 5.25Z",fill:"#77777C"})]})},Rn=function(){return(0,mn.jsxs)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 14.25C11.2279 14.25 14.25 11.2279 14.25 7.5C14.25 3.77208 11.2279 0.75 7.5 0.75C3.77208 0.75 0.75 3.77208 0.75 7.5C0.75 11.2279 3.77208 14.25 7.5 14.25ZM7.5 15C11.6421 15 15 11.6421 15 7.5C15 3.35786 11.6421 0 7.5 0C3.35786 0 0 3.35786 0 7.5C0 11.6421 3.35786 15 7.5 15Z",fill:"#77777C"}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.50024 3.37524C7.70735 3.37524 7.87524 3.54314 7.87524 3.75024V7.12524H11.2502C11.4574 7.12524 11.6252 7.29314 11.6252 7.50024C11.6252 7.70735 11.4574 7.87524 11.2502 7.87524H7.87524V11.2502C7.87524 11.4574 7.70735 11.6252 7.50024 11.6252C7.29314 11.6252 7.12524 11.4574 7.12524 11.2502V7.87524H3.75024C3.54314 7.87524 3.37524 7.70735 3.37524 7.50024C3.37524 7.29314 3.54314 7.12524 3.75024 7.12524H7.12524V3.75024C7.12524 3.54314 7.29314 3.37524 7.50024 3.37524Z",fill:"#77777C"})]})},Un=function(){return(0,mn.jsxs)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("circle",{cx:"7.1579",cy:"7.1579",r:"6.6579",stroke:"#77777C"}),(0,mn.jsx)("path",{d:"M13.4103 11.6425L12.5264 10.7586L10.7586 12.5264L11.6425 13.4103L13.4103 11.6425ZM16.1162 17.8839C16.6043 18.3721 17.3958 18.3721 17.8839 17.8839C18.3721 17.3958 18.3721 16.6043 17.8839 16.1162L16.1162 17.8839ZM11.6425 13.4103L16.1162 17.8839L17.8839 16.1162L13.4103 11.6425L11.6425 13.4103Z",fill:"#77777C"})]})},Fn=function(e){var t=e.color,n=void 0===t?"#FFCBCB":t;return(0,mn.jsxs)("svg",{width:"27",height:"24",viewBox:"0 0 27 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.695652C0 0.311454 0.311454 0 0.695652 0H3.80689C4.74801 0 5.57269 0.629888 5.82031 1.53784L6.72896 4.86957H24.7377C26.0546 4.86957 27.0424 6.07441 26.7841 7.36581L25.2537 15.018C25.0586 15.9935 24.202 16.6957 23.2072 16.6957H8.22847C8.04397 16.6957 7.86703 16.7689 7.73657 16.8994C7.4649 17.1711 7.4649 17.6115 7.73657 17.8832C7.86703 18.0137 8.04397 18.087 8.22847 18.087H24.3478C24.732 18.087 25.0435 18.3984 25.0435 18.7826C25.0435 19.1668 24.732 19.4783 24.3478 19.4783H8.22847C7.67498 19.4783 7.14415 19.2584 6.75277 18.867C5.93776 18.052 5.93776 16.7306 6.75277 15.9156C7.12166 15.5467 7.61442 15.3302 8.13329 15.3065L4.47803 1.90392C4.39549 1.60127 4.1206 1.3913 3.80689 1.3913H0.695652C0.311454 1.3913 0 1.07985 0 0.695652ZM9.57481 15.3043H23.2072C23.5388 15.3043 23.8243 15.0703 23.8894 14.7451L25.4198 7.09295C25.5059 6.66249 25.1767 6.26087 24.7377 6.26087H7.10841L9.57481 15.3043Z",fill:n}),(0,mn.jsx)("path",{d:"M14.6087 21.2174C14.6087 22.7542 13.3629 24 11.8261 24C10.2893 24 9.04346 22.7542 9.04346 21.2174C9.04346 19.6806 10.2893 18.4348 11.8261 18.4348C13.3629 18.4348 14.6087 19.6806 14.6087 21.2174Z",fill:"white"}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8261 22.6087C12.5945 22.6087 13.2174 21.9858 13.2174 21.2174C13.2174 20.449 12.5945 19.8261 11.8261 19.8261C11.0577 19.8261 10.4348 20.449 10.4348 21.2174C10.4348 21.9858 11.0577 22.6087 11.8261 22.6087ZM11.8261 24C13.3629 24 14.6087 22.7542 14.6087 21.2174C14.6087 19.6806 13.3629 18.4348 11.8261 18.4348C10.2893 18.4348 9.04346 19.6806 9.04346 21.2174C9.04346 22.7542 10.2893 24 11.8261 24Z",fill:n}),(0,mn.jsx)("path",{d:"M24.3478 21.2174C24.3478 22.7542 23.102 24 21.5652 24C20.0284 24 18.7826 22.7542 18.7826 21.2174C18.7826 19.6806 20.0284 18.4348 21.5652 18.4348C23.102 18.4348 24.3478 19.6806 24.3478 21.2174Z",fill:"white"}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.5652 22.6087C22.3336 22.6087 22.9565 21.9858 22.9565 21.2174C22.9565 20.449 22.3336 19.8261 21.5652 19.8261C20.7968 19.8261 20.1739 20.449 20.1739 21.2174C20.1739 21.9858 20.7968 22.6087 21.5652 22.6087ZM21.5652 24C23.102 24 24.3478 22.7542 24.3478 21.2174C24.3478 19.6806 23.102 18.4348 21.5652 18.4348C20.0284 18.4348 18.7826 19.6806 18.7826 21.2174C18.7826 22.7542 20.0284 24 21.5652 24Z",fill:n})]})},On=function(e){var t=e.color,n=void 0===t?"#FFCBCB":t,r=e.backColor,i=void 0===r?"#FFCBCB":r;return(0,mn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mn.jsxs)("g",{clipPath:"url(#clip0_168_153)",children:[(0,mn.jsx)("rect",{width:"24",height:"24",rx:"12",fill:i}),(0,mn.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0277 12.2578C14.6394 12.2578 16.7566 10.1406 16.7566 7.52894C16.7566 4.91724 14.6394 2.80005 12.0277 2.80005C9.41599 2.80005 7.29879 4.91724 7.29879 7.52894C7.29879 10.1406 9.41599 12.2578 12.0277 12.2578ZM0.800049 21.1408C0.800049 18.7548 3.93517 13.6266 12.0001 13.6266C20.0649 13.6266 23.2001 18.7548 23.2001 21.1395C23.2001 23.5255 16.5246 24.1606 12.0001 24.1606C7.47554 24.1606 0.800049 23.5255 0.800049 21.1408Z",fill:n})]}),(0,mn.jsx)("defs",{children:(0,mn.jsx)("clipPath",{id:"clip0_168_153",children:(0,mn.jsx)("rect",{width:"24",height:"24",rx:"12",fill:"white"})})})]})},Pn=gn.default.article(un||(un=sn(["\n  display: flex;\n  position: relative;\n  height: ",";\n  max-height: max-content;\n  width: 100%;\n  border: ",";\n  border-radius: 10px;\n  overflow: hidden;\n  cursor: pointer;\n"])),(function(e){var t=e.imageheight;return t?"".concat(t,"px"):"335px"}),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.grey[5])})),Dn=gn.default.img(ln||(ln=sn(["\n  object-fit: cover;\n  width: 100%;\n"]))),Ln=gn.default.div(cn||(cn=sn(["\n  display: flex;\n  width: 100%;\n"]))),Nn=gn.default.article(An||(An=sn(["\n  font-size: 0.9rem;\n  color: white;\n"]))),Qn=gn.default.div(fn||(fn=sn(["\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding-bottom: 8px;\n  padding-left: 15px;\n  padding-right: 15px;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: 8px;\n  height: 12%;\n  background-color: #000000b3;\n"]))),Hn=gn.default.div(dn||(dn=sn(["\n  display: flex;\n  gap: 10px;\n"]))),jn=gn.default.div(hn||(hn=sn(["\n  color: white;\n  font-size: 13px;\n"]))),zn=gn.default.button(pn||(pn=sn(["\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n  border: none;\n  display: flex;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n"]))),Gn=function(e){var t=e.hashTag,r=e.user,i=e.imageUrls,a=e.dailyLookId,o=(0,gn.useTheme)(),s=Et(),u=l((0,n.useState)(!1),2),c=u[0],A=u[1],f=l((0,n.useState)(0),2),d=f[0],h=f[1],p=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e=p.current,t=function(){if(e){var t=e.offsetWidth;h(t)}};return 0===d&&t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),(0,mn.jsxs)(Pn,{imageheight:d,ref:p,onClick:function(){s("dailylook/".concat(a))},children:[(0,mn.jsx)(zn,{onClick:function(e){e.stopPropagation(),A(!c)},children:(0,mn.jsx)(bn,{color:c?o.colors.pink[300]:o.colors.grey[0]})}),(0,mn.jsx)(Ln,{children:(0,mn.jsx)(Dn,{alt:"\ub370\uc77c\ub9ac\ub8e9 \uc774\ubbf8\uc9c0",loading:"lazy",src:i[0]})}),(0,mn.jsxs)(Qn,{children:[(0,mn.jsxs)(Hn,{children:[t.map((function(e){return(0,mn.jsx)(Nn,{children:e},e)})),";"]}),(0,mn.jsx)(jn,{children:r.name})]})]})},Vn=gn.default.button(vn||(vn=sn(["\n  border: none;\n  position: absolute;\n  background-color: ",";\n  bottom: 80px;\n  width: 45px;\n  height: 45px;\n  border-radius: 300px;\n  display: flex;\n  cursor: pointer;\n  right: 30px;\n  justify-content: center;\n  align-items: center;\n  z-index: 99;\n"])),(function(e){return e.theme.colors.yellow[4]})),Wn=function(e){var t=e.onClick,n=e.children;return(0,mn.jsx)(Vn,{onClick:t,children:n})};function Kn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yn=__webpack_require__(1168),Zn=["override"],Jn=["cachePolicyForParams_UNSTABLE"],$n=x().mark(ki),er=x().mark(Ha);var tr=function(e){var t=new Error(e);if(void 0===t.stack)try{throw t}catch(n){}return t};var nr=function(e){return!!e&&"function"===typeof e.then};var rr=function(e,t){if(null!=e)return e;throw tr(null!==t&&void 0!==t?t:"Got unexpected null or undefined")};function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ar=function(){function e(){c(this,e)}return h(e,[{key:"getValue",value:function(){throw tr("BaseLoadable")}},{key:"toPromise",value:function(){throw tr("BaseLoadable")}},{key:"valueMaybe",value:function(){throw tr("BaseLoadable")}},{key:"valueOrThrow",value:function(){throw tr('Loadable expected value, but in "'.concat(this.state,'" state'))}},{key:"promiseMaybe",value:function(){throw tr("BaseLoadable")}},{key:"promiseOrThrow",value:function(){throw tr('Loadable expected promise, but in "'.concat(this.state,'" state'))}},{key:"errorMaybe",value:function(){throw tr("BaseLoadable")}},{key:"errorOrThrow",value:function(){throw tr('Loadable expected error, but in "'.concat(this.state,'" state'))}},{key:"is",value:function(e){return e.state===this.state&&e.contents===this.contents}},{key:"map",value:function(e){throw tr("BaseLoadable")}}]),e}(),or=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),ir(y(r=t.call(this)),"state","hasValue"),ir(y(r),"contents",void 0),r.contents=e,r}return h(n,[{key:"getValue",value:function(){return this.contents}},{key:"toPromise",value:function(){return Promise.resolve(this.contents)}},{key:"valueMaybe",value:function(){return this.contents}},{key:"valueOrThrow",value:function(){return this.contents}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;try{var n=e(this.contents);return nr(n)?Ar(n):hr(n)?n:lr(n)}catch(r){return nr(r)?Ar(r.next((function(){return t.map(e)}))):cr(r)}}}]),n}(ar),sr=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),ir(y(r=t.call(this)),"state","hasError"),ir(y(r),"contents",void 0),r.contents=e,r}return h(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return Promise.reject(this.contents)}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){return this.contents}},{key:"errorOrThrow",value:function(){return this.contents}},{key:"map",value:function(e){return this}}]),n}(ar),ur=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),ir(y(r=t.call(this)),"state","loading"),ir(y(r),"contents",void 0),r.contents=e,r}return h(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return this.contents}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){return this.contents}},{key:"promiseOrThrow",value:function(){return this.contents}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;return Ar(this.contents.then((function(t){var n=e(t);if(hr(n)){var r=n;switch(r.state){case"hasValue":case"loading":return r.contents;case"hasError":throw r.contents}}return n})).catch((function(n){if(nr(n))return n.then((function(){return t.map(e).contents}));throw n})))}}]),n}(ar);function lr(e){return Object.freeze(new or(e))}function cr(e){return Object.freeze(new sr(e))}function Ar(e){return Object.freeze(new ur(e))}function fr(){return Object.freeze(new ur(new Promise((function(){}))))}function dr(e){var t=function(e){return e.every((function(e){return"hasValue"===e.state}))?lr(e.map((function(e){return e.contents}))):e.some((function(e){return"hasError"===e.state}))?cr(rr(e.find((function(e){return"hasError"===e.state})),"Invalid loadable passed to loadableAll").contents):Ar(Promise.all(e.map((function(e){return e.contents}))))}((Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))).map((function(e){return hr(e)?e:nr(e)?Ar(e):lr(e)})));return Array.isArray(e)?t:t.map((function(t){return Object.getOwnPropertyNames(e).reduce((function(e,n,r){return qn(qn({},e),{},E({},n,t[r]))}),{})}))}function hr(e){return e instanceof ar}var pr={of:function(e){return nr(e)?Ar(e):hr(e)?e:lr(e)},error:function(e){return cr(e)},loading:function(){return fr()},all:dr,isLoadable:hr},vr={loadableWithValue:lr,loadableWithError:cr,loadableWithPromise:Ar,loadableLoading:fr,loadableAll:dr,isLoadable:hr,RecoilLoadable:pr},gr=vr.loadableWithValue,mr=vr.loadableWithError,yr=vr.loadableWithPromise,br=vr.loadableLoading,wr=vr.loadableAll,xr=vr.isLoadable,_r=vr.RecoilLoadable,Cr=Object.freeze({__proto__:null,loadableWithValue:gr,loadableWithError:mr,loadableWithPromise:yr,loadableLoading:br,loadableAll:wr,isLoadable:xr,RecoilLoadable:_r}),Er={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};!function(){var e;"undefined"!==typeof process&&null!=(null===(e=process)||void 0===e?void 0:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&(function(e,t){var n,r,i=null===(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[e])||void 0===n||null===(r=n.toLowerCase())||void 0===r?void 0:r.trim();if(null!=i&&""!==i){if(!["true","false"].includes(i))throw tr("process.env.".concat(e," value must be 'true', 'false', or empty: ").concat(i));t("true"===i)}}("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",(function(e){Er.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e})),function(e,t){var n,r=null===(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[e])||void 0===n?void 0:n.trim();null!=r&&""!==r&&t(r.split(/\s*,\s*|\s+/))}("RECOIL_GKS_ENABLED",(function(e){e.forEach((function(e){Er.RECOIL_GKS_ENABLED.add(e)}))})))}();var Sr=Er;function Br(e){return Sr.RECOIL_GKS_ENABLED.has(e)}Br.setPass=function(e){Sr.RECOIL_GKS_ENABLED.add(e)},Br.setFail=function(e){Sr.RECOIL_GKS_ENABLED.delete(e)},Br.clear=function(){Sr.RECOIL_GKS_ENABLED.clear()};var Tr=Br;var Ir,kr,Mr,Rr=function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).error,null},Ur=Rr,Fr=null!==(Ir=n.createMutableSource)&&void 0!==Ir?Ir:n.unstable_createMutableSource,Or=null!==(kr=n.useMutableSource)&&void 0!==kr?kr:n.unstable_useMutableSource,Pr=null!==(Mr=n.useSyncExternalStore)&&void 0!==Mr?Mr:n.unstable_useSyncExternalStore,Dr=!1;var Lr={createMutableSource:Fr,useMutableSource:Or,useSyncExternalStore:Pr,currentRendererSupportsUseSyncExternalStore:function(){var e,t=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r=t.ReactCurrentDispatcher,i=t.ReactCurrentOwner,a=null!=(null!==(e=null===r||void 0===r?void 0:r.current)&&void 0!==e?e:i.currentDispatcher).useSyncExternalStore;return!Pr||a||Dr||(Dr=!0,Ur("A React renderer without React 18+ API support is being used with React 18+.")),a},reactMode:function(){return Tr("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Tr("recoil_sync_external_store")&&null!=Pr?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Tr("recoil_mutable_source")&&null!=Or&&"undefined"!==typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Tr("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Tr("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}},Nr=function(){function e(t){c(this,e),ir(this,"key",void 0),this.key=t}return h(e,[{key:"toJSON",value:function(){return{key:this.key}}}]),e}(),Qr=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(Nr),Hr=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(Nr);var jr={AbstractRecoilValue:Nr,RecoilState:Qr,RecoilValueReadOnly:Hr,isRecoilValue:function(e){return e instanceof Qr||e instanceof Hr}},zr=jr.AbstractRecoilValue,Gr=jr.RecoilState,Vr=jr.RecoilValueReadOnly,Wr=jr.isRecoilValue,Kr=Object.freeze({__proto__:null,AbstractRecoilValue:zr,RecoilState:Gr,RecoilValueReadOnly:Vr,isRecoilValue:Wr});var Xr=function(e){};var qr=function(e,t){return x().mark((function n(){var r,i,a,o;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0,i=k(e),n.prev=2,i.s();case 4:if((a=i.n()).done){n.next=10;break}return o=a.value,n.next=8,t(o,r++);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),i.e(n.t0);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])}))()},Yr=h((function e(){c(this,e)})),Zr=new Yr,Jr=new Map,$r=new Map;var ei=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(B(Error));var ti=new Map;function ni(e){return ti.get(e)}var ri={nodes:Jr,recoilValues:$r,registerNode:function(e){Sr.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&function(e){if(Jr.has(e)){var t='Duplicate atom key "'.concat(e,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.');console.warn(t)}}(e.key),Jr.set(e.key,e);var t=null==e.set?new Kr.RecoilValueReadOnly(e.key):new Kr.RecoilState(e.key);return $r.set(e.key,t),t},getNode:function(e){var t=Jr.get(e);if(null==t)throw new ei('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return Jr.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(Tr("recoil_memory_managament_2020")){var n,r=Jr.get(e);if(null!==r&&void 0!==r&&null!==(t=r.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(r))Jr.delete(e),null===(n=ni(e))||void 0===n||n(),ti.delete(e)}},setConfigDeletionHandler:function(e,t){Tr("recoil_memory_managament_2020")&&(void 0===t?ti.delete(e):ti.set(e,t))},getConfigDeletionHandler:ni,recoilValuesForKeys:function(e){return qr(e,(function(e){return rr($r.get(e))}))},NodeMissingError:ei,DefaultValue:Yr,DEFAULT_VALUE:Zr};var ii={enqueueExecution:function(e,t){t()}};var ai=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,a=r/2,o=r/4,s={},u=function(e){return function(){return e}},l=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,a=e.length;i<a;++i){r=(r<<5)-r+e.charCodeAt(i)|0}return r},c=function(e,t){return t>>>e&i},A=function(e){return 1<<e},f=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n},d=function(e,t,n,r){var i=r;if(!e){var a=r.length;i=new Array(a);for(var o=0;o<a;++o)i[o]=r[o]}return i[t]=n,i},h=function(e,t,n){var r=n.length-1,i=0,a=0,o=n;if(e)i=a=t;else for(o=new Array(r);i<t;)o[a++]=n[i++];for(++i;i<=r;)o[a++]=n[i++];return e&&(o.length=r),o},p={__hamt_isEmpty:!0},v=function(e){return e===p||e&&e.__hamt_isEmpty},g=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:_}},m=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:C}},y=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:E}},b=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:S}},w=function e(t,n,r,i,a,o){if(r===a)return m(t,r,[o,i]);var s=c(n,r),u=c(n,a);return y(t,A(s)|A(u),s===u?[e(t,n+5,r,i,a,o)]:s<u?[i,o]:[o,i])},x=function(e,t){return e===t.edit},_=function(e,t,n,r,i,a,o){if(t(a,this.key)){var u=r(this.value);return u===this.value?this:u===s?(--o.value,p):x(e,this)?(this.value=u,this):g(e,i,a,u)}var l=r();return l===s?this:(++o.value,w(e,n,this.hash,this,i,g(e,i,a,l)))},C=function(e,t,n,r,i,a,o){if(i===this.hash){var u=function(e,t,n,r,i,a,o,u){for(var l=i.length,c=0;c<l;++c){var A=i[c];if(n(o,A.key)){var f=A.value,p=a(f);return p===f?i:p===s?(--u.value,h(e,c,i)):d(e,c,g(t,r,o,p),i)}}var v=a();return v===s?i:(++u.value,d(e,l,g(t,r,o,v),i))}(x(e,this),e,t,this.hash,this.children,r,a,o);return u===this.children?this:u.length>1?m(e,this.hash,u):u[0]}var l=r();return l===s?this:(++o.value,w(e,n,this.hash,this,i,g(e,i,a,l)))},E=function(e,t,n,r,i,o,s){var u=this.mask,l=this.children,g=c(n,i),m=A(g),w=f(u,m),_=u&m,C=_?l[w]:p,E=C._modify(e,t,n+5,r,i,o,s);if(C===E)return this;var S,B=x(e,this),T=u,I=void 0;if(_&&v(E)){if(!(T&=~m))return p;if(l.length<=2&&((S=l[1^w])===p||1===S.type||2===S.type))return l[1^w];I=h(B,w,l)}else if(_||v(E))I=d(B,w,E,l);else{if(l.length>=a)return function(e,t,n,r,i){for(var a=[],o=r,s=0,u=0;o;++u)1&o&&(a[u]=i[s++]),o>>>=1;return a[t]=n,b(e,s+1,a)}(e,g,E,u,l);T|=m,I=function(e,t,n,r){var i=r.length;if(e){for(var a=i;a>=t;)r[a--]=r[a];return r[t]=n,r}for(var o=0,s=0,u=new Array(i+1);o<t;)u[s++]=r[o++];for(u[t]=n;o<i;)u[++s]=r[o++];return u}(B,w,E,l)}return B?(this.mask=T,this.children=I,this):y(e,T,I)},S=function(e,t,n,r,i,a,s){var u=this.size,l=this.children,A=c(n,i),f=l[A],h=(f||p)._modify(e,t,n+5,r,i,a,s);if(f===h)return this;var g=x(e,this),m=void 0;if(v(f)&&!v(h))++u,m=d(g,A,h,l);else if(!v(f)&&v(h)){if(--u<=o)return function(e,t,n,r){for(var i=new Array(t-1),a=0,o=0,s=0,u=r.length;s<u;++s)if(s!==n){var l=r[s];l&&!v(l)&&(i[a++]=l,o|=1<<s)}return y(e,o,i)}(e,u,A,l);m=d(g,A,p,l)}else m=d(g,A,h,l);return g?(this.size=u,this.children=m,this):b(e,u,m)};function B(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}p._modify=function(e,t,n,r,i,a,o){var u=r();return u===s?p:(++o.value,g(e,i,a,u))},B.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new B(this._editable,this._edit,this._config,e,t)};var T=n.tryGetHash=function(e,t,n,r){for(var i=r._root,a=0,o=r._config.keyEq;;)switch(i.type){case 1:return o(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var s=i.children,u=0,l=s.length;u<l;++u){var d=s[u];if(o(n,d.key))return d.value}return e;case 3:var h=c(a,t),p=A(h);if(i.mask&p){i=i.children[f(i.mask,p)],a+=5;break}return e;case 4:if(i=i.children[c(a,t)]){a+=5;break}return e;default:return e}};B.prototype.tryGetHash=function(e,t,n){return T(e,t,n,this)};var I=n.tryGet=function(e,t,n){return T(e,n._config.hash(t),t,n)};B.prototype.tryGet=function(e,t){return I(e,t,this)};var k=n.getHash=function(e,t,n){return T(void 0,e,t,n)};B.prototype.getHash=function(e,t){return k(e,t,this)};n.get=function(e,t){return T(void 0,t._config.hash(e),e,t)};B.prototype.get=function(e,t){return I(t,e,this)};var M=n.has=function(e,t,n){return T(s,e,t,n)!==s};B.prototype.hasHash=function(e,t){return M(e,t,this)};var R=n.has=function(e,t){return M(t._config.hash(e),e,t)};B.prototype.has=function(e){return R(e,this)};var U=function(e,t){return e===t};n.make=function(e){return new B(0,0,{keyEq:e&&e.keyEq||U,hash:e&&e.hash||l},p,0)},n.empty=n.make();var F=n.isEmpty=function(e){return e&&!!v(e._root)};B.prototype.isEmpty=function(){return F(this)};var O=n.modifyHash=function(e,t,n,r){var i={value:r._size},a=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(a,i.value)};B.prototype.modifyHash=function(e,t,n){return O(n,e,t,this)};var P=n.modify=function(e,t,n){return O(e,n._config.hash(t),t,n)};B.prototype.modify=function(e,t){return P(t,e,this)};var D=n.setHash=function(e,t,n,r){return O(u(n),e,t,r)};B.prototype.setHash=function(e,t,n){return D(e,t,n,this)};var L=n.set=function(e,t,n){return D(n._config.hash(e),e,t,n)};B.prototype.set=function(e,t){return L(e,t,this)};var N=u(s),Q=n.removeHash=function(e,t,n){return O(N,e,t,n)};B.prototype.removeHash=B.prototype.deleteHash=function(e,t){return Q(e,t,this)};var H=n.remove=function(e,t){return Q(t._config.hash(e),e,t)};B.prototype.remove=B.prototype.delete=function(e){return H(e,this)};var j=n.beginMutation=function(e){return new B(e._editable+1,e._edit+1,e._config,e._root,e._size)};B.prototype.beginMutation=function(){return j(this)};var z=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};B.prototype.endMutation=function(){return z(this)};var G=n.mutate=function(e,t){var n=j(t);return e(n),z(n)};B.prototype.mutate=function(e){return G(e,this)};var V=function(e){return e&&W(e[0],e[1],e[2],e[3],e[4])},W=function(e,t,n,r,i){for(;n<e;){var a=t[n++];if(a&&!v(a))return K(a,r,[e,t,n,r,i])}return V(i)},K=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return W(r.length,r,0,t,n);default:return V(n)}},X={done:!0};function q(e){this.v=e}q.prototype.next=function(){if(!this.v)return X;var e=this.v;return this.v=V(e.rest),e},q.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new q(K(e._root,t))},Z=function(e){return[e.key,e.value]},J=n.entries=function(e){return Y(e,Z)};B.prototype.entries=B.prototype[Symbol.iterator]=function(){return J(this)};var $=function(e){return e.key},ee=n.keys=function(e){return Y(e,$)};B.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=B.prototype.values=function(e){return Y(e,te)};B.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],a=void 0;a=i.pop();)for(var o=0,s=a.length;o<s;){var u=a[o++];u&&u.type&&(1===u.type?t=e(t,u.value,u.key):i.push(u.children))}return t};B.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};B.prototype.forEach=function(e){return ie(e,this)};var ae=n.count=function(e){return e._size};B.prototype.count=function(){return ae(this)},Object.defineProperty(B.prototype,"size",{get:B.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n})),oi=function(){function e(t){c(this,e),ir(this,"_map",void 0),this._map=new Map(null===t||void 0===t?void 0:t.entries())}return h(e,[{key:"keys",value:function(){return this._map.keys()}},{key:"entries",value:function(){return this._map.entries()}},{key:"get",value:function(e){return this._map.get(e)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"set",value:function(e,t){return this._map.set(e,t),this}},{key:"delete",value:function(e){return this._map.delete(e),this}},{key:"clone",value:function(){return ui(this)}},{key:"toMap",value:function(){return new Map(this._map)}}]),e}(),si=function(){function e(t){if(c(this,e),ir(this,"_hamt",ai.empty.beginMutation()),t instanceof e){var n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t){var r,i=k(t.entries());try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];this._hamt.set(o,s)}}catch(u){i.e(u)}finally{i.f()}}}return h(e,[{key:"keys",value:function(){return this._hamt.keys()}},{key:"entries",value:function(){return this._hamt.entries()}},{key:"get",value:function(e){return this._hamt.get(e)}},{key:"has",value:function(e){return this._hamt.has(e)}},{key:"set",value:function(e,t){return this._hamt.set(e,t),this}},{key:"delete",value:function(e){return this._hamt.delete(e),this}},{key:"clone",value:function(){return ui(this)}},{key:"toMap",value:function(){return new Map(this._hamt)}}]),e}();function ui(e){return Tr("recoil_hamt_2020")?new si(e):new oi(e)}var li=ui;var ci=function(e){for(var t=new Set,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o=k(e);try{e:for(o.s();!(a=o.n()).done;){var s,u=a.value,l=k(r);try{for(l.s();!(s=l.n()).done;){if(s.value.has(u))continue e}}catch(c){l.e(c)}finally{l.f()}t.add(u)}}catch(c){o.e(c)}finally{o.f()}return t};var Ai=function(e,t){var n=new Map;return e.forEach((function(e,r){n.set(r,t(e,r))})),n};function fi(e,t,n,r){var i=n.nodeDeps,a=n.nodeToNodeSubscriptions,o=i.get(e);if(!o||!r||o===r.nodeDeps.get(e)){i.set(e,t);var s,u=k(null==o?t:ci(t,o));try{for(u.s();!(s=u.n()).done;){var l=s.value;a.has(l)||a.set(l,new Set),rr(a.get(l)).add(e)}}catch(h){u.e(h)}finally{u.f()}if(o){var c,A=k(ci(o,t));try{for(A.s();!(c=A.n()).done;){var f=c.value;if(!a.has(f))return;var d=rr(a.get(f));d.delete(e),0===d.size&&a.delete(f)}}catch(h){A.e(h)}finally{A.f()}}}}var di=function(e){return{nodeDeps:Ai(e.nodeDeps,(function(e){return new Set(e)})),nodeToNodeSubscriptions:Ai(e.nodeToNodeSubscriptions,(function(e){return new Set(e)}))}},hi=function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},pi=function(e,t,n,r){var i,a,o,s,u=n.getState();r!==u.currentTree.version&&r!==(null===(i=u.nextTree)||void 0===i?void 0:i.version)&&r!==(null===(a=u.previousTree)||void 0===a?void 0:a.version)&&Ur("Tried to save dependencies to a discarded tree");var l=n.getGraph(r);if(fi(e,t,l),r===(null===(o=u.previousTree)||void 0===o?void 0:o.version)&&fi(e,t,n.getGraph(u.currentTree.version),l),r===(null===(s=u.previousTree)||void 0===s?void 0:s.version)||r===u.currentTree.version){var c,A=null===(c=u.nextTree)||void 0===c?void 0:c.version;if(void 0!==A)fi(e,t,n.getGraph(A),l)}},vi=0,gi=0,mi=0,yi=function(){return vi++},bi=function(){return gi++},wi=function(){return mi++},xi=Object.freeze({__proto__:null,persistentMap:li}).persistentMap,_i=hi,Ci=yi;function Ei(){var e=Ci();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:xi(),nonvalidatedAtoms:xi()}}var Si={makeEmptyTreeState:Ei,makeEmptyStoreState:function(){var e=Ei();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,_i()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:Ci},Bi=h((function e(){c(this,e)}));var Ti={RetentionZone:Bi,retentionZone:function(){return new Bi}};var Ii=function(e,t){var n=new Set(e);return n.add(t),n};function ki(e,t){var n,r,i,a;return x().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=0,r=k(e),o.prev=2,r.s();case 4:if((i=r.n()).done){o.next=11;break}if(a=i.value,!t(a,n++)){o.next=9;break}return o.next=9,a;case 9:o.next=4;break;case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),r.e(o.t0);case 16:return o.prev=16,r.f(),o.finish(16);case 19:case"end":return o.stop()}}),$n,null,[[2,13,16,19]])}var Mi=ki;var Ri=function(e,t){return new Proxy(e,{get:function(e,n){return!(n in e)&&n in t&&(e[n]=t[n]()),e[n]},ownKeys:function(e){return Object.keys(e)}})},Ui=ri.getNode,Fi=ri.getNodeMaybe,Oi=ri.recoilValuesForKeys,Pi=Ti.RetentionZone,Di=Ii,Li=Object.freeze(new Set),Ni=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(B(Error));function Qi(e,t,n,r){var i=e.getState();if(!i.nodeCleanupFunctions.has(n)){var a=Ui(n),o=function(e,t,n){if(!Tr("recoil_memory_managament_2020"))return function(){};var r=e.getState().retention.nodesRetainedByZone;function i(e){var n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof Pi)i(n);else if(Array.isArray(n)){var a,o=k(n);try{for(o.s();!(a=o.n()).done;)i(a.value)}catch(s){o.e(s)}finally{o.f()}}return function(){if(Tr("recoil_memory_managament_2020")){var r=e.getState().retention;if(n instanceof Pi)o(n);else if(Array.isArray(n)){var i,a=k(n);try{for(a.s();!(i=a.n()).done;)o(i.value)}catch(s){a.e(s)}finally{a.f()}}}function o(e){var n=r.nodesRetainedByZone.get(e);null===n||void 0===n||n.delete(t),n&&0===n.size&&r.nodesRetainedByZone.delete(e)}}}(e,n,a.retainedBy),s=a.init(e,t,r);i.nodeCleanupFunctions.set(n,(function(){s(),o()}))}}function Hi(e,t,n){return Ui(n).peek(e,t)}function ji(e,t,n){for(var r=new Set,i=Array.from(n),a=e.getGraph(t.version),o=i.pop();o;o=i.pop()){var s;r.add(o);var u,l=k(null!==(s=a.nodeToNodeSubscriptions.get(o))&&void 0!==s?s:Li);try{for(l.s();!(u=l.n()).done;){var c=u.value;r.has(c)||i.push(c)}}catch(A){l.e(A)}finally{l.f()}}return r}var zi=function(e,t,n){return Qi(e,t,n,"get"),Ui(n).get(e,t)},Gi=Hi,Vi=function(e,t,n,r){var i=Ui(n);if(null==i.set)throw new Ni("Attempt to set read-only RecoilValue: ".concat(n));var a=i.set;return Qi(e,t,n,"set"),a(e,t,r)},Wi=function(e,t,n){Qi(e,e.getState().currentTree,t,n)},Ki=function(e,t){var n,r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},Xi=function(e,t,n){var r,i=Fi(t);return null===i||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,e),qn(qn({},e),{},{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Di(e.dirtyAtoms,t)})},qi=function(e,t,n){var r=e.getState(),i=e.getGraph(t.version),a=Ui(n).nodeType;return Ri({type:a},{loadable:function(){return Hi(e,t,n)},isActive:function(){return r.knownAtoms.has(n)||r.knownSelectors.has(n)},isSet:function(){return"selector"!==a&&t.atomValues.has(n)},isModified:function(){return t.dirtyAtoms.has(n)},deps:function(){var e;return Oi(null!==(e=i.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:function(){var i,a;return{nodes:Oi(Mi(ji(e,t,new Set([n])),(function(e){return e!==n}))),components:qr(null!==(i=null===(a=r.nodeToComponentSubscriptions.get(n))||void 0===a?void 0:a.values())&&void 0!==i?i:[],(function(e){return{name:l(e,1)[0]}}))}}})},Yi=ji,Zi=null;var Ji=function(e){Zi=e},$i=function(){var e;null===(e=Zi)||void 0===e||e()},ea=Yi,ta=zi,na=Vi,ra=wi,ia=ri.getNode,aa=ri.getNodeMaybe,oa=ri.DefaultValue,sa=Lr.reactMode,ua=Kr.AbstractRecoilValue,la=Kr.RecoilState,ca=Kr.RecoilValueReadOnly,Aa=Kr.isRecoilValue,fa=$i;function da(e,t,n){if("set"===n.type){var r,i=n.recoilValue,a=function(e,t,n,r){var i=n.key;if("function"===typeof r){var a=ta(e,t,i);if("loading"===a.state){var o='Tried to set atom or selector "'.concat(i,'" using an updater function while the current state is pending, this is not currently supported.');throw Ur(o),tr(o)}if("hasError"===a.state)throw a.contents;return r(a.contents)}return r}(e,t,i,n.valueOrUpdater),o=k(na(e,t,i.key,a).entries());try{for(o.s();!(r=o.n()).done;){var s=l(r.value,2);ha(t,s[0],s[1])}}catch(h){o.e(h)}finally{o.f()}}else if("setLoadable"===n.type){ha(t,n.recoilValue.key,n.loadable)}else if("markModified"===n.type){var u=n.recoilValue.key;t.dirtyAtoms.add(u)}else if("setUnvalidated"===n.type){var c,A=n.recoilValue.key,f=n.unvalidatedValue,d=aa(A);null===d||void 0===d||null===(c=d.invalidate)||void 0===c||c.call(d,t),t.atomValues.delete(A),t.nonvalidatedAtoms.set(A,f),t.dirtyAtoms.add(A)}else Ur("Unknown action ".concat(n.type))}function ha(e,t,n){"hasValue"===n.state&&n.contents instanceof oa?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function pa(e,t){e.replaceState((function(n){var r,i=ma(n),a=k(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;da(e,i,o)}}catch(s){a.e(s)}finally{a.f()}return ya(e,i),fa(),i}))}function va(e,t){if(ga.length){var n=ga[ga.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else pa(e,[t])}var ga=[];function ma(e){return qn(qn({},e),{},{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function ya(e,t){var n,r=k(ea(e,t,t.dirtyAtoms));try{for(r.s();!(n=r.n()).done;){var i,a,o=n.value;null===(i=aa(o))||void 0===i||null===(a=i.invalidate)||void 0===a||a.call(i,t)}}catch(s){r.e(s)}finally{r.f()}}function ba(e,t,n){va(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var wa={RecoilValueReadOnly:ca,AbstractRecoilValue:ua,RecoilState:la,getRecoilValueAsLoadable:function(e,t){var n,r,i=t.key,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree,o=e.getState();a.version!==o.currentTree.version&&a.version!==(null===(n=o.nextTree)||void 0===n?void 0:n.version)&&a.version!==(null===(r=o.previousTree)||void 0===r?void 0:r.version)&&Ur("Tried to read from a discarded tree");var s=ta(e,a,i);return"loading"===s.state&&s.contents.catch((function(){})),s},setRecoilValue:ba,setRecoilValueLoadable:function(e,t,n){if(n instanceof oa)return ba(e,t,n);va(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){va(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){va(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){var r=t.key,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=ra(),o=e.getState();o.nodeToComponentSubscriptions.has(r)||o.nodeToComponentSubscriptions.set(r,new Map),rr(o.nodeToComponentSubscriptions.get(r)).set(a,[null!==i&&void 0!==i?i:"<not captured>",n]);var s=sa();if(s.early&&("LEGACY"===s.mode||"MUTABLE_SOURCE"===s.mode)){var u=e.getState().nextTree;u&&u.dirtyAtoms.has(r)&&n(u)}return{release:function(){var t=e.getState(),n=t.nodeToComponentSubscriptions.get(r);void 0!==n&&n.has(a)?(n.delete(a),0===n.size&&t.nodeToComponentSubscriptions.delete(r)):Ur("Subscription missing at release time for atom ".concat(r,". This is a bug in Recoil."))}}},isRecoilValue:Aa,applyAtomValueWrites:function(e,t){var n=e.clone();return t.forEach((function(e,t){"hasValue"===e.state&&e.contents instanceof oa?n.delete(t):n.set(t,e)})),n},batchStart:function(){var e=new Map;return ga.push(e),function(){var t,n=k(e);try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2);pa(r[0],r[1])}}catch(i){n.e(i)}finally{n.f()}ga.pop()!==e&&Ur("Incorrect order of batch popping")}},writeLoadableToTreeState:ha,invalidateDownstreams:ya,copyTreeState:ma,refreshRecoilValue:function(e,t){var n,r=e.getState().currentTree,i=ia(t.key);null===(n=i.clearCache)||void 0===n||n.call(i,e,r)}};var xa=function(e,t,n){for(var r=e.entries(),i=r.next();!i.done;){var a=i.value;if(t.call(n,a[1],a[0],e))return!0;i=r.next()}return!1},_a=Ki,Ca=ri.deleteNodeConfigIfPossible,Ea=ri.getNode,Sa=Ti.RetentionZone,Ba=new Set;function Ta(e,t){var n=e.getState(),r=n.currentTree;if(n.nextTree)Ur("releaseNodesNowOnCurrentTree should only be called at the end of a batch");else{var i,a=new Set,o=k(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s instanceof Sa){var u,l=k(ka(n,s));try{for(l.s();!(u=l.n()).done;){var c=u.value;a.add(c)}}catch(h){l.e(h)}finally{l.f()}}else a.add(s)}}catch(h){o.e(h)}finally{o.f()}var A,f=function(e,t){var n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),a=new Set,o=new Set;return s(t),a;function s(t){var u,l=new Set,c=function(e,t,n,r,i){var a=e.getGraph(t.version),o=[],s=new Set;for(;n.size>0;)u(rr(n.values().next().value));return o;function u(e){if(r.has(e)||i.has(e))n.delete(e);else if(!s.has(e)){var t=a.nodeToNodeSubscriptions.get(e);if(t){var l,c=k(t);try{for(c.s();!(l=c.n()).done;){u(l.value)}}catch(h){c.e(h)}finally{c.f()}}s.add(e),n.delete(e),o.push(e)}}}(e,r,t,a,o),A=k(c);try{for(A.s();!(u=A.n()).done;){var f,d=u.value;if("recoilRoot"!==Ea(d).retainedBy)if((null!==(f=n.retention.referenceCounts.get(d))&&void 0!==f?f:0)>0)o.add(d);else if(Ma(d).some((function(e){return n.retention.referenceCounts.get(e)})))o.add(d);else{var p=i.nodeToNodeSubscriptions.get(d);p&&xa(p,(function(e){return o.has(e)}))?o.add(d):(a.add(d),l.add(d))}else o.add(d)}}catch(h){A.e(h)}finally{A.f()}var v,g=new Set,m=k(l);try{for(m.s();!(v=m.n()).done;){var y,b=v.value,w=k(null!==(x=i.nodeDeps.get(b))&&void 0!==x?x:Ba);try{for(w.s();!(y=w.n()).done;){var x,_=y.value;a.has(_)||g.add(_)}}catch(h){w.e(h)}finally{w.f()}}}catch(h){m.e(h)}finally{m.f()}g.size&&s(g)}}(e,a),d=k(f);try{for(d.s();!(A=d.n()).done;){Ia(e,r,A.value)}}catch(h){d.e(h)}finally{d.f()}}}function Ia(e,t,n){if(Tr("recoil_memory_managament_2020")){_a(e,n);var r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);var i,a=k(Ma(n));try{for(a.s();!(i=a.n()).done;){var o,s=i.value;null===(o=r.retention.nodesRetainedByZone.get(s))||void 0===o||o.delete(n)}}catch(h){a.e(h)}finally{a.f()}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);var u=r.graphsByVersion.get(t.version);if(u){var l=u.nodeDeps.get(n);if(void 0!==l){u.nodeDeps.delete(n);var c,A=k(l);try{for(A.s();!(c=A.n()).done;){var f,d=c.value;null===(f=u.nodeToNodeSubscriptions.get(d))||void 0===f||f.delete(n)}}catch(h){A.e(h)}finally{A.f()}}u.nodeToNodeSubscriptions.delete(n)}Ca(n)}}function ka(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:Ba}function Ma(e){var t=Ea(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof Sa?[t]:t}function Ra(e,t){Tr("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){var n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):Ta(e,new Set([t]))}(e,t))}var Ua=12e4,Fa=function(e,t,n){var r;if(Tr("recoil_memory_managament_2020")){var i=e.getState().retention.referenceCounts,a=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===a?Ra(e,t):i.set(t,a)}},Oa=function(e){if(Tr("recoil_memory_managament_2020")){var t=e.getState();Ta(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}},Pa=function(e){return void 0===e?"recoilRoot":e},Da=Yn.unstable_batchedUpdates,La=wa.batchStart,Na={unstable_batchedUpdates:{unstable_batchedUpdates:Da}.unstable_batchedUpdates}.unstable_batchedUpdates||function(e){return e()},Qa=function(e){Na((function(){var t=function(){};try{t=La(),e()}finally{t()}}))};function Ha(e){var t,n,r,i,a,o;return x().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=k(e),s.prev=1,t.s();case 3:if((n=t.n()).done){s.next=24;break}r=n.value,i=k(r),s.prev=6,i.s();case 8:if((a=i.n()).done){s.next=14;break}return o=a.value,s.next=12,o;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),t.e(s.t1);case 29:return s.prev=29,t.f(),s.finish(29);case 32:case"end":return s.stop()}}),er,null,[[1,26,29,32],[6,16,19,22]])}var ja=Ha,za="undefined"===typeof Window||"undefined"===typeof window,Ga="undefined"!==typeof navigator&&"ReactNative"===navigator.product,Va={isSSR:za,isReactNative:Ga,isWindow:function(e){return!za&&(e===window||e instanceof Window)}};var Wa=function(e,t){var n,r;return[function(){var i=t.apply(void 0,arguments);return n===i?r:(n=i,r=e.apply(void 0,arguments))},function(){n=null}]},Ka=Qa,Xa=Wi,qa=qi,Ya=hi,Za=bi,Ja=ri.DEFAULT_VALUE,$a=ri.recoilValues,eo=ri.recoilValuesForKeys,to=wa.AbstractRecoilValue,no=wa.getRecoilValueAsLoadable,ro=wa.setRecoilValue,io=wa.setUnvalidatedRecoilValue,ao=Fa,oo=Ji,so=Si.getNextTreeStateVersion,uo=Si.makeEmptyStoreState,lo=Va.isSSR,co=Wa,Ao=function(){function e(t,n){var r=this;c(this,e),ir(this,"_store",void 0),ir(this,"_refCount",1),ir(this,"getLoadable",(function(e){return r.checkRefCount_INTERNAL(),no(r._store,e)})),ir(this,"getPromise",(function(e){return r.checkRefCount_INTERNAL(),r.getLoadable(e).toPromise()})),ir(this,"getNodes_UNSTABLE",(function(e){if(r.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];var t=r._store.getState().currentTree;return eo(t.dirtyAtoms)}var n=r._store.getState().knownAtoms,i=r._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?$a.values():!0===e.isInitialized?eo(ja([n,i])):Mi($a.values(),(function(e){var t=e.key;return!n.has(t)&&!i.has(t)}))})),ir(this,"getInfo_UNSTABLE",(function(e){var t=e.key;return r.checkRefCount_INTERNAL(),qa(r._store,r._store.getState().currentTree,t)})),ir(this,"map",(function(e){r.checkRefCount_INTERNAL();var t=new go(r,Ka);return e(t),t})),ir(this,"asyncMap",function(){var e=C(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.checkRefCount_INTERNAL(),(n=new go(r,Ka)).retain(),e.next=5,t(n);case 5:return n.autoRelease_INTERNAL(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._store={storeID:Za(),parentStoreID:n,getState:function(){return t},replaceState:function(e){t.currentTree=e(t.currentTree)},getGraph:function(e){var n=t.graphsByVersion;if(n.has(e))return rr(n.get(e));var r=Ya();return n.set(e,r),r},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw tr("Cannot subscribe to Snapshots")}};var i,a=k(this._store.getState().knownAtoms);try{for(a.s();!(i=a.n()).done;){var o=i.value;Xa(this._store,o,"get"),ao(this._store,o,1)}}catch(s){a.e(s)}finally{a.f()}this.autoRelease_INTERNAL()}return h(e,[{key:"retain",value:function(){var e=this;this._refCount<=0&&Ur("Attempt to retain() Snapshot that was already released."),this._refCount++;var t=!1;return function(){t||(t=!0,e._release())}}},{key:"autoRelease_INTERNAL",value:function(){var e=this;lo||window.setTimeout((function(){return e._release()}),10)}},{key:"_release",value:function(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((function(e){return e()})),this._store.getState().nodeCleanupFunctions.clear(),!Tr("recoil_memory_managament_2020"))return}else this._refCount}},{key:"isRetained",value:function(){return this._refCount>0}},{key:"checkRefCount_INTERNAL",value:function(){Tr("recoil_memory_managament_2020")&&this._refCount}},{key:"getStore_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store}},{key:"getID",value:function(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}},{key:"getStoreID",value:function(){return this.checkRefCount_INTERNAL(),this._store.storeID}}]),e}();function fo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getState(),i=n?so():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:qn({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(qr(r.nodeCleanupFunctions.entries(),(function(e){return[l(e,1)[0],function(){}]})))}}var ho=l(co((function(e,t){var n,r=e.getState(),i="latest"===t?null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree:rr(r.previousTree);return new Ao(fo(e,i),e.storeID)}),(function(e,t){var n,r;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)})),2),po=ho[0],vo=ho[1];oo(vo);var go=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),ir(y(i=t.call(this,fo(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID())),"_batch",void 0),ir(y(i),"set",(function(e,t){i.checkRefCount_INTERNAL();var n=i.getStore_INTERNAL();i._batch((function(){ao(n,e.key,1),ro(i.getStore_INTERNAL(),e,t)}))})),ir(y(i),"reset",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();i._batch((function(){ao(t,e.key,1),ro(i.getStore_INTERNAL(),e,Ja)}))})),ir(y(i),"setUnvalidatedAtomValues_DEPRECATED",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();Ka((function(){var n,r=k(e.entries());try{for(r.s();!(n=r.n()).done;){var i=l(n.value,2),a=i[0],o=i[1];ao(t,a,1),io(t,new to(a),o)}}catch(s){r.e(s)}finally{r.f()}}))})),i._batch=r,i}return h(n)}(Ao),mo={Snapshot:Ao,MutableSnapshot:go,freshSnapshot:function(e){var t=new Ao(uo());return null!=e?t.map(e):t},cloneSnapshot:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest",n=po(e,t);return n.isRetained()?n:(vo(),po(e,t))}},yo=mo.Snapshot,bo=mo.MutableSnapshot,wo=mo.freshSnapshot,xo=mo.cloneSnapshot,_o=Object.freeze({__proto__:null,Snapshot:yo,MutableSnapshot:bo,freshSnapshot:wo,cloneSnapshot:xo});var Co=function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o,s=k(a[i]);try{for(s.s();!(o=s.n()).done;){var u=o.value;e.add(u)}}catch(l){s.e(l)}finally{s.f()}}return e},Eo=n.useRef;var So=function(e){var t=Eo(e);return t.current===e&&"function"===typeof e&&(t.current=e()),t},Bo=Si.getNextTreeStateVersion,To=Si.makeEmptyStoreState,Io=Ki,ko=Yi,Mo=Wi,Ro=Vi,Uo=Xi,Fo=hi,Oo=di,Po=bi,Do=Lr.createMutableSource,Lo=Lr.reactMode,No=wa.applyAtomValueWrites,Qo=Oa,Ho=_o.freshSnapshot,jo=n.useCallback,zo=n.useContext,Go=n.useEffect,Vo=n.useMemo,Wo=n.useRef,Ko=n.useState;function Xo(){throw tr("This component must be used inside a <RecoilRoot> component.")}var qo=Object.freeze({storeID:Po(),getState:Xo,replaceState:Xo,getGraph:Xo,subscribeToTransactions:Xo,addTransactionMetadata:Xo}),Yo=!1;function Zo(e){if(Yo)throw tr("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var t=e.getState();if(null===t.nextTree){Tr("recoil_memory_managament_2020")&&Tr("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Qo(e);var n=t.currentTree.version,r=Bo();t.nextTree=qn(qn({},t.currentTree),{},{version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(r,Oo(rr(t.graphsByVersion.get(n))))}}var Jo=n.createContext({current:qo}),$o=function(){return zo(Jo)},es=n.createContext(null);function ts(e,t,n){var r,i=k(ko(e,n,n.dirtyAtoms));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t.nodeToComponentSubscriptions.get(a);if(o){var s,u=k(o);try{for(u.s();!(s=u.n()).done;){var c=l(s.value,2),A=(c[0],l(c[1],2));A[0];(0,A[1])(n)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}}function ns(e){var t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){var i,a=k(t.nodeTransactionSubscriptions);try{for(a.s();!(i=a.n()).done;){var o=l(i.value,2),s=o[0],u=o[1];if(r.has(s)){var c,A=k(u);try{for(A.s();!(c=A.n()).done;){var f=l(c.value,2);f[0];(0,f[1])(e)}}catch(v){A.e(v)}finally{A.f()}}}}catch(v){a.e(v)}finally{a.f()}var d,h=k(t.transactionSubscriptions);try{for(h.s();!(d=h.n()).done;){var p=l(d.value,2);p[0];(0,p[1])(e)}}catch(v){h.e(v)}finally{h.f()}(!Lo().early||t.suspendedComponentResolvers.size>0)&&(ts(e,t,n),t.suspendedComponentResolvers.forEach((function(e){return e()})),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((function(e){return e(n)})),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function rs(e){var t=e.setNotifyBatcherOfChange,n=$o(),r=l(Ko([]),2)[1];return t((function(){return r({})})),Go((function(){return t((function(){return r({})})),function(){t((function(){}))}}),[t]),Go((function(){ii.enqueueExecution("Batcher",(function(){!function(e){var t=e.getState();t.commitDepth++;try{var n=t.nextTree;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,ns(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):Ur("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,Tr("recoil_memory_managament_2020")&&null==n&&Qo(e)}finally{t.commitDepth--}}(n.current)}))})),null}var is=0;function as(e){var t,r=e.initializeState_DEPRECATED,i=e.initializeState,a=e.store_INTERNAL,o=e.children,s=function(e){var n=t.current.graphsByVersion;if(n.has(e))return rr(n.get(e));var r=Fo();return n.set(e,r),r},u=function(e,t){if(null==t){var n=d.current.getState().transactionSubscriptions,r=is++;return n.set(r,e),{release:function(){n.delete(r)}}}var i=d.current.getState().nodeTransactionSubscriptions;i.has(t)||i.set(t,new Map);var a=is++;return rr(i.get(t)).set(a,e),{release:function(){var e=i.get(t);e&&(e.delete(a),0===e.size&&i.delete(t))}}},l=function(e){Zo(d.current);for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];rr(d.current.getState().nextTree).transactionMetadata[r]=e[r]}},c=function(e){Zo(d.current);var n,r=rr(t.current.nextTree);try{Yo=!0,n=e(r)}finally{Yo=!1}n!==r&&(t.current.nextTree=n,Lo().early&&ts(d.current,t.current,n),rr(A.current)())},A=Wo(null),f=jo((function(e){A.current=e}),[A]),d=So((function(){return null!==a&&void 0!==a?a:{storeID:Po(),getState:function(){return t.current},replaceState:c,getGraph:s,subscribeToTransactions:u,addTransactionMetadata:l}}));null!=a&&(d.current=a),t=So((function(){return null!=r?function(e,t){var n=To();return t({set:function(t,r){var i,a=n.currentTree,o=Ro(e,a,t.key,r),s=new Set(o.keys()),u=a.nonvalidatedAtoms.clone(),l=k(s);try{for(l.s();!(i=l.n()).done;){var c=i.value;u.delete(c)}}catch(A){l.e(A)}finally{l.f()}n.currentTree=qn(qn({},a),{},{dirtyAtoms:Co(a.dirtyAtoms,s),atomValues:No(a.atomValues,o),nonvalidatedAtoms:u})},setUnvalidatedAtomValues:function(e){e.forEach((function(e,t){n.currentTree=Uo(n.currentTree,t,e)}))}}),n}(d.current,r):null!=i?function(e){var t=Ho(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach((function(e){return e()})),n.nodeCleanupFunctions.clear(),n}(i):To()}));var h=Vo((function(){return null===Do||void 0===Do?void 0:Do(t,(function(){return t.current.currentTree.version}))}),[t]);return Go((function(){var e,t=d.current,n=k(new Set(t.getState().knownAtoms));try{for(n.s();!(e=n.n()).done;){var r=e.value;Mo(t,r,"get")}}catch(i){n.e(i)}finally{n.f()}return function(){var e,n=k(t.getState().knownAtoms);try{for(n.s();!(e=n.n()).done;){var r=e.value;Io(t,r)}}catch(i){n.e(i)}finally{n.f()}}}),[d]),n.createElement(Jo.Provider,{value:d},n.createElement(es.Provider,{value:h},n.createElement(rs,{setNotifyBatcherOfChange:f}),o))}var os=function(e){var t=e.override,r=Kn(e,Zn),i=$o();return!1===t&&i.current!==qo?e.children:n.createElement(as,r)},ss=$o,us=function(){var e=zo(es);return null==e&&Xr("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},ls=function(){return $o().current.storeID};var cs=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},As=n.useEffect,fs=n.useRef;var ds=function(e){var t=fs();return As((function(){t.current=e})),t.current},hs=ss,ps=Ua,vs=Fa,gs=Ti.RetentionZone,ms=n.useEffect,ys=n.useRef,bs=Va.isSSR;var ws=function(e){if(Tr("recoil_memory_managament_2020"))return function(e){var t=Array.isArray(e)?e:[e],n=t.map((function(e){return e instanceof gs?e:e.key})),r=hs();ms((function(){if(Tr("recoil_memory_managament_2020")){var e=r.current;if(i.current&&!bs)window.clearTimeout(i.current),i.current=null;else{var t,a=k(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;vs(e,o,1)}}catch(s){a.e(s)}finally{a.f()}}return function(){var t,r=k(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;vs(e,i,-1)}}catch(s){r.e(s)}finally{r.f()}}}}),[r].concat(M(n)));var i=ys(),a=ds(n);if(!bs&&(void 0===a||!cs(a,n))){var o,s=r.current,u=k(n);try{for(u.s();!(o=u.n()).done;){var l=o.value;vs(s,l,1)}}catch(d){u.e(d)}finally{u.f()}if(a){var c,A=k(a);try{for(A.s();!(c=A.n()).done;){var f=c.value;vs(s,f,-1)}}catch(d){A.e(d)}finally{A.f()}}i.current&&window.clearTimeout(i.current),i.current=window.setTimeout((function(){i.current=null;var e,t=k(n);try{for(t.s();!(e=t.n()).done;){var r=e.value;vs(s,r,-1)}}catch(d){t.e(d)}finally{t.f()}}),ps)}}(e)};var xs=function(){return"<component name not available>"},_s=ri.DEFAULT_VALUE,Cs=Lr.currentRendererSupportsUseSyncExternalStore,Es=Lr.reactMode,Ss=Lr.useMutableSource,Bs=Lr.useSyncExternalStore,Ts=us,Is=ss,ks=(Kr.isRecoilValue,wa.getRecoilValueAsLoadable),Ms=wa.setRecoilValue,Rs=wa.subscribeToRecoilValue,Us=n.useCallback,Fs=n.useEffect,Os=n.useMemo,Ps=n.useRef,Ds=n.useState,Ls=Va.isSSR;function Ns(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){var r=new Promise((function(t){var r=n.current.getState().suspendedComponentResolvers;r.add(t),Ls&&nr(e.contents)&&e.contents.finally((function(){r.delete(t)}))}));throw r}throw"hasError"===e.state?e.contents:tr('Invalid value of loadable atom "'.concat(t.key,'"'))}function Qs(e){var t=Is(),n=xs(),r=Us((function(){var n;var r=t.current,i=r.getState(),a=Es().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return{loadable:ks(r,e,a),key:e.key}}),[t,e]),i=Us((function(e){var t;return function(){var n,r,i=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(i.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===i.key?t:(t=i,i)}}),[]),a=Os((function(){return i(r)}),[r,i]),o=Us((function(r){var i=t.current;return Rs(i,e,r,n).release}),[t,e,n]);return Bs(o,a,a).loadable}function Hs(e){var t=Is(),n=Us((function(){var n,r=t.current,i=r.getState(),a=Es().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return ks(r,e,a)}),[t,e]),r=Us((function(){return n()}),[n]),i=xs(),a=Us((function(r,a){var o=t.current;return Rs(o,e,(function(){if(!Tr("recoil_suppress_rerender_in_callback"))return a();var e=n();u.current.is(e)||a(),u.current=e}),i).release}),[t,e,i,n]),o=Ts();if(null==o)throw tr("Recoil hooks must be used in components contained within a <RecoilRoot> component.");var s=Ss(o,r,a),u=Ps(s);return Fs((function(){u.current=s})),s}function js(e){var t=Is(),n=xs(),r=Us((function(){var n;var r=t.current,i=r.getState(),a=Es().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return ks(r,e,a)}),[t,e]),i=Us((function(){return{loadable:r(),key:e.key}}),[r,e.key]),a=Us((function(e){var t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[i]);Fs((function(){var r=Rs(t.current,e,(function(e){u(a)}),n);return u(a),r.release}),[n,e,t,a]);var o=l(Ds(i),2),s=o[0],u=o[1];return s.key!==e.key?i().loadable:s.loadable}function zs(e){var t=Is(),n=l(Ds([]),2)[1],r=xs(),i=Us((function(){var n;var r=t.current,i=r.getState(),a=Es().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return ks(r,e,a)}),[t,e]),a=i(),o=Ps(a);return Fs((function(){o.current=a})),Fs((function(){var a=t.current,s=a.getState(),u=Rs(a,e,(function(e){var t;if(!Tr("recoil_suppress_rerender_in_callback"))return n([]);var r=i();null!==(t=o.current)&&void 0!==t&&t.is(r)||n(r),o.current=r}),r);if(s.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push((function(){o.current=null,n([])}));else{var l;if(!Tr("recoil_suppress_rerender_in_callback"))return n([]);var c=i();null!==(l=o.current)&&void 0!==l&&l.is(c)||n(c),o.current=c}return u.release}),[r,i,e,t]),a}function Gs(e){return Tr("recoil_memory_managament_2020")&&ws(e),{TRANSITION_SUPPORT:js,SYNC_EXTERNAL_STORE:Cs()?Qs:js,MUTABLE_SOURCE:Hs,LEGACY:zs}[Es().mode](e)}function Vs(e){var t=Is();return Ns(Gs(e),e,t)}function Ws(e){var t=Is();return Us((function(n){Ms(t.current,e,n)}),[t,e])}function Ks(e){return Tr("recoil_memory_managament_2020")&&ws(e),js(e)}function Xs(e){var t=Is();return Ns(Ks(e),e,t)}var qs=function(e){return[Vs(e),Ws(e)]},Ys=function(e){return[Gs(e),Ws(e)]},Zs=Vs,Js=Gs,$s=function(e){var t=Is();return Us((function(){Ms(t.current,e,_s)}),[t,e])},eu=Ws,tu=Ks,nu=Xs,ru=function(e){return[Xs(e),Ws(e)]};var iu=Qa,au=ri.DEFAULT_VALUE,ou=ri.getNode,su=ss,uu=wa.AbstractRecoilValue,lu=wa.setRecoilValueLoadable,cu=Ua,Au=_o.cloneSnapshot,fu=n.useCallback,du=n.useEffect,hu=n.useRef,pu=n.useState,vu=Va.isSSR;function gu(e){var t=su();du((function(){return t.current.subscribeToTransactions(e).release}),[e,t])}function mu(e,t){var n,r=e.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;iu((function(){for(var n=new Set,r=0,o=[i.atomValues.keys(),a.atomValues.keys()];r<o.length;r++){var s,u=k(o[r]);try{for(u.s();!(s=u.n()).done;){var l,c,A=s.value;(null===(l=i.atomValues.get(A))||void 0===l?void 0:l.contents)!==(null===(c=a.atomValues.get(A))||void 0===c?void 0:c.contents)&&ou(A).shouldRestoreFromSnapshots&&n.add(A)}}catch(f){u.e(f)}finally{u.f()}}n.forEach((function(t){lu(e,new uu(t),a.atomValues.has(t)?rr(a.atomValues.get(t)):au)})),e.replaceState((function(e){return qn(qn({},e),{},{stateID:t.getID()})}))}))}var yu=function(){var e=su(),t=l(pu((function(){return Au(e.current)})),2),n=t[0],r=t[1],i=ds(n),a=hu(),o=hu();if(gu(fu((function(e){return r(Au(e))}),[])),du((function(){var e,t=n.retain();a.current&&!vu&&(window.clearTimeout(a.current),a.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null);return function(){window.setTimeout(t,10)}}),[n]),i!==n&&!vu){var s;if(a.current)window.clearTimeout(a.current),a.current=null,null===(s=o.current)||void 0===s||s.call(o),o.current=null;o.current=n.retain(),a.current=window.setTimeout((function(){var e;a.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null}),cu)}return n},bu=mu,wu=function(){var e=su();return fu((function(t){return mu(e.current,t)}),[e])},xu=function(e){gu(fu((function(t){var n=Au(t,"latest"),r=Au(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},_u=qi,Cu=ss;var Eu=function(){var e=Cu();return function(t){var n=t.key;return _u(e.current,e.current.getState().currentTree,n)}},Su=Lr.reactMode,Bu=os,Tu=ss,Iu=n.useMemo;var ku=function(){"MUTABLE_SOURCE"===Su().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");var e=Tu().current;return Iu((function(){return function(t){var r=t.children;return n.createElement(Bu,{store_INTERNAL:e},r)}}),[e])},Mu=Cr.loadableWithValue,Ru=Wi,Uu=ri.DEFAULT_VALUE,Fu=ri.getNode,Ou=wa.copyTreeState,Pu=wa.getRecoilValueAsLoadable,Du=wa.invalidateDownstreams,Lu=wa.writeLoadableToTreeState;function Nu(e){return"atom"===Fu(e.key).nodeType}var Qu=function(){function e(t,n){var r=this;c(this,e),ir(this,"_store",void 0),ir(this,"_treeState",void 0),ir(this,"_changes",void 0),ir(this,"get",(function(e){if(r._changes.has(e.key))return r._changes.get(e.key);if(!Nu(e))throw tr("Reading selectors within atomicUpdate is not supported");var t=Pu(r._store,e,r._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:tr("Expected Recoil atom ".concat(e.key," to have a value, but it is in a loading state."))})),ir(this,"set",(function(e,t){if(!Nu(e))throw tr("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){var n=r.get(e);r._changes.set(e.key,t(n))}else Ru(r._store,e.key,"set"),r._changes.set(e.key,t)})),ir(this,"reset",(function(e){r.set(e,Uu)})),this._store=t,this._treeState=n,this._changes=new Map}return h(e,[{key:"newTreeState_INTERNAL",value:function(){if(0===this._changes.size)return this._treeState;var e,t=Ou(this._treeState),n=k(this._changes);try{for(n.s();!(e=n.n()).done;){var r=l(e.value,2),i=r[0],a=r[1];Lu(t,i,Mu(a))}}catch(o){n.e(o)}finally{n.f()}return Du(this._store,t),t}}]),e}();var Hu=function(e){return function(t){e.replaceState((function(n){var r=new Qu(e,n);return t(r),r.newTreeState_INTERNAL()}))}},ju=Object.freeze({__proto__:null,atomicUpdater:Hu});var zu=function(e,t){if(!e)throw new Error(t)},Gu=ju.atomicUpdater,Vu=Qa,Wu=ri.DEFAULT_VALUE,Ku=ss,Xu=wa.refreshRecoilValue,qu=wa.setRecoilValue,Yu=_o.cloneSnapshot,Zu=bu,Ju=n.useCallback,$u=h((function e(){c(this,e)})),el=new $u;function tl(e,t,n,r){var i,a,o=el;(Vu((function(){var a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof t)throw tr(a);var s=Ri(qn(qn({},null!==r&&void 0!==r?r:{}),{},{set:function(t,n){return qu(e,t,n)},reset:function(t){return qu(e,t,Wu)},refresh:function(t){return Xu(e,t)},gotoSnapshot:function(t){return Zu(e,t)},transact_UNSTABLE:function(t){return Gu(e)(t)}}),{snapshot:function(){var t=Yu(e);return i=t.retain(),t}}),u=t(s);if("function"!==typeof u)throw tr(a);o=u.apply(void 0,M(n))})),o instanceof $u&&zu(!1),nr(o))?o=o.finally((function(){var e;null===(e=i)||void 0===e||e()})):null===(a=i)||void 0===a||a();return o}var nl=tl,rl=function(e,t){var n=Ku();return Ju((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return tl(n.current,e,r)}),null!=t?[].concat(M(t),[n]):void 0)},il=ss,al=wa.refreshRecoilValue,ol=n.useCallback;var sl=function(e){var t=il();return ol((function(){var n=t.current;al(n,e)}),[e,t])},ul=ju.atomicUpdater,ll=ss,cl=n.useMemo;var Al=function(e,t){var n=ll();return cl((function(){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];ul(n.current)((function(t){e(t).apply(void 0,r)}))}}),null!=t?[].concat(M(t),[n]):void 0)},fl={WrappedValue:h((function e(t){c(this,e),ir(this,"value",void 0),this.value=t}))}.WrappedValue,dl=Object.freeze({__proto__:null,WrappedValue:fl}),hl=Lr.isFastRefreshEnabled,pl=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(B(Error)),vl=function(){function e(t){var n,r,i;c(this,e),ir(this,"_name",void 0),ir(this,"_numLeafs",void 0),ir(this,"_root",void 0),ir(this,"_onHit",void 0),ir(this,"_onSet",void 0),ir(this,"_mapNodeValue",void 0),this._name=null===t||void 0===t?void 0:t.name,this._numLeafs=0,this._root=null,this._onHit=null!==(n=null===t||void 0===t?void 0:t.onHit)&&void 0!==n?n:function(){},this._onSet=null!==(r=null===t||void 0===t?void 0:t.onSet)&&void 0!==r?r:function(){},this._mapNodeValue=null!==(i=null===t||void 0===t?void 0:t.mapNodeValue)&&void 0!==i?i:function(e){return e}}return h(e,[{key:"size",value:function(){return this._numLeafs}},{key:"root",value:function(){return this._root}},{key:"get",value:function(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}},{key:"getLeafNode",value:function(e,t){if(null!=this._root)for(var n=this._root;n;){if(null===t||void 0===t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;var r=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(r)}}},{key:"set",value:function(e,t,n){var r=this,i=function(){var i,a,o,s,u,c,A,f=k(e);try{for(f.s();!(A=f.n()).done;){var d,h,p,v=l(A.value,2),g=v[0],m=v[1],y=r._root;if("leaf"===(null===y||void 0===y?void 0:y.type))throw r.invalidCacheError();var b=u;if("branch"!==(u=null!==(d=u=b?b.branches.get(c):y)&&void 0!==d?d:{type:"branch",nodeKey:g,parent:b,branches:new Map,branchKey:c}).type||u.nodeKey!==g)throw r.invalidCacheError();null===b||void 0===b||b.branches.set(c,u),null===n||void 0===n||null===(h=n.onNodeVisit)||void 0===h||h.call(n,u),c=r._mapNodeValue(m),r._root=null!==(p=r._root)&&void 0!==p?p:u}}catch(_){f.e(_)}finally{f.f()}var w=u?null===(i=u)||void 0===i?void 0:i.branches.get(c):r._root;if(null!=w&&("leaf"!==w.type||w.branchKey!==c))throw r.invalidCacheError();var x={type:"leaf",value:t,parent:u,branchKey:c};null===(a=u)||void 0===a||a.branches.set(c,x),r._root=null!==(o=r._root)&&void 0!==o?o:x,r._numLeafs++,r._onSet(x),null===n||void 0===n||null===(s=n.onNodeVisit)||void 0===s||s.call(n,x)};try{i()}catch(a){if(!(a instanceof pl))throw a;this.clear(),i()}}},{key:"delete",value:function(e){var t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;for(var n=e.parent,r=e.branchKey;n;){var i;if(n.branches.delete(r),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;r=null===(i=n)||void 0===i?void 0:i.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}},{key:"clear",value:function(){this._numLeafs=0,this._root=null}},{key:"invalidCacheError",value:function(){var e=hl()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Ur(e+(null!=this._name?" - ".concat(this._name):"")),new pl}}]),e}(),gl={TreeCache:vl}.TreeCache,ml=Object.freeze({__proto__:null,TreeCache:gl}),yl=function(){function e(t){var n;c(this,e),ir(this,"_maxSize",void 0),ir(this,"_size",void 0),ir(this,"_head",void 0),ir(this,"_tail",void 0),ir(this,"_map",void 0),ir(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(n=t.mapKey)&&void 0!==n?n:function(e){return e}}return h(e,[{key:"head",value:function(){return this._head}},{key:"tail",value:function(){return this._tail}},{key:"size",value:function(){return this._size}},{key:"maxSize",value:function(){return this._maxSize}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){var t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}},{key:"set",value:function(e,t){var n=this._keyMapper(e);this._map.get(n)&&this.delete(e);var r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}},{key:"_maybeDeleteLRU",value:function(){this.size()>this.maxSize()&&this.deleteLru()}},{key:"deleteLru",value:function(){var e=this.tail();e&&this.delete(e.key)}},{key:"delete",value:function(e){var t=this._keyMapper(e);if(this._size&&this._map.has(t)){var n=rr(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}}},{key:"clear",value:function(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}]),e}(),bl={LRUCache:yl}.LRUCache,wl=Object.freeze({__proto__:null,LRUCache:bl}),xl=wl.LRUCache,_l=ml.TreeCache;var Cl=function(e){var t=e.name,n=e.maxSize,r=e.mapNodeValue,i=void 0===r?function(e){return e}:r,a=new xl({maxSize:n}),o=new _l({name:t,mapNodeValue:i,onHit:function(e){a.set(e,!0)},onSet:function(e){var t=a.tail();a.set(e,!0),t&&o.size()>n&&o.delete(t.key)}});return o};function El(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return'"'.concat(e,'"');switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw tr("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(e.name,")__")}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(nr(e))return"__PROMISE__";if(Array.isArray(e))return"[".concat(e.map((function(e,n){return El(e,t,n.toString())})),"]");if("function"===typeof e.toJSON)return El(e.toJSON(n),t,n);if(e instanceof Map){var i,a={},o=k(e);try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1];a["string"===typeof u?u:El(u,t)]=c}}catch(A){o.e(A)}finally{o.f()}return El(a,t,n)}return e instanceof Set?El(Array.from(e).sort((function(e,n){return El(e,t).localeCompare(El(n,t))})),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?El(Array.from(e),t,n):"{".concat(Object.keys(e).filter((function(t){return void 0!==e[t]})).sort().map((function(n){return"".concat(El(n,t),":").concat(El(e[n],t,n))})).join(","),"}")}var Sl=function(e){return El(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1})},Bl=ml.TreeCache,Tl={equality:"reference",eviction:"keep-all",maxSize:1/0};var Il=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tl,t=e.equality,n=void 0===t?Tl.equality:t,r=e.eviction,i=void 0===r?Tl.eviction:r,a=e.maxSize,o=void 0===a?Tl.maxSize:a,s=arguments.length>1?arguments[1]:void 0,u=function(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return Sl(e)}}throw tr("Unrecognized equality policy ".concat(e))}(n);return function(e,t,n,r){switch(e){case"keep-all":return new Bl({name:r,mapNodeValue:n});case"lru":return Cl({name:r,maxSize:rr(t),mapNodeValue:n});case"most-recent":return Cl({name:r,maxSize:1,mapNodeValue:n})}throw tr("Unrecognized eviction policy ".concat(e))}(i,o,u,s)};var kl=function(e){return function(){return null}},Ml=Cr.isLoadable,Rl=Cr.loadableWithError,Ul=Cr.loadableWithPromise,Fl=Cr.loadableWithValue,Ol=dl.WrappedValue,Pl=zi,Dl=Gi,Ll=Vi,Nl=pi,Ql=ri.DEFAULT_VALUE,Hl=ri.getConfigDeletionHandler,jl=ri.getNode,zl=ri.registerNode,Gl=Kr.isRecoilValue,Vl=wa.markRecoilValueModified,Wl=Pa,Kl=nl,Xl=kl,ql=h((function e(){c(this,e)})),Yl=new ql,Zl=[],Jl=new Map,$l=function(){var e=0;return function(){return e++}}();function ec(e){var t=null,n=e.key,r=e.get,i=e.cachePolicy_UNSTABLE,a=null!=e.set?e.set:void 0;var o=new Set,s=Il(null!==i&&void 0!==i?i:{equality:"reference",eviction:"keep-all"},n),u=Wl(e.retainedBy_UNSTABLE),c=new Map,A=0;function f(){return!Tr("recoil_memory_managament_2020")||A>0}function d(e){return e.getState().knownSelectors.add(n),A++,function(){A--}}function h(){return void 0!==Hl(n)&&!f()}function p(e,t,n,r,i){T(t,r,i),v(e,n)}function v(e,t){B(e,t)&&S(e),g(t,!0)}function g(e,n){var r=Jl.get(e);if(null!=r){var i,a=k(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;Vl(o,rr(t))}}catch(s){a.e(s)}finally{a.f()}n&&Jl.delete(e)}}function m(e,t){var n=Jl.get(t);null==n&&Jl.set(t,n=new Set),n.add(e)}function y(e,t,n,r,i,a){return t.then((function(r){if(!f())throw S(e),Yl;null!=a.loadingDepKey&&a.loadingDepPromise===t?n.atomValues.set(a.loadingDepKey,Fl(r)):e.getState().knownSelectors.forEach((function(e){n.atomValues.delete(e)}));var o=x(e,n);if(o&&"loading"!==o.state){if((B(e,i)||null==E(e))&&v(e,i),"hasValue"===o.state)return o.contents;throw o.contents}if(!B(e,i)){var s=C(e,n);if(null!=s)return s.loadingLoadable.contents}var u=l(w(e,n,i),2),c=u[0],A=u[1];if("loading"!==c.state&&p(e,n,i,c,A),"hasError"===c.state)throw c.contents;return c.contents})).catch((function(t){if(t instanceof ql)throw Yl;if(!f())throw S(e),Yl;var a=Rl(t);throw p(e,n,i,a,r),t}))}function b(e,t,r,i){var a,s,u,l,c,A,f;(B(e,i)||t.version===(null===(a=e.getState())||void 0===a||null===(s=a.currentTree)||void 0===s?void 0:s.version)||t.version===(null===(u=e.getState())||void 0===u||null===(l=u.nextTree)||void 0===l?void 0:l.version))&&Nl(n,r,e,null!==(c=null===(A=e.getState())||void 0===A||null===(f=A.nextTree)||void 0===f?void 0:f.version)&&void 0!==c?c:e.getState().currentTree.version);var d,h=k(r);try{for(h.s();!(d=h.n()).done;){var p=d.value;o.add(p)}}catch(v){h.e(v)}finally{h.f()}}function w(e,i,a){var o,s,u=Xl(n),l=!0,c=!0,A=function(){u(),c=!1},d=!1,h={loadingDepKey:null,loadingDepPromise:null},v=new Map;function m(t){var n=t.key,r=Pl(e,i,n);switch(v.set(n,r),l||(b(e,i,new Set(v.keys()),a),function(e,t){B(e,t)&&(rr(E(e)).stateVersions.clear(),g(t,!1))}(e,a)),r.state){case"hasValue":return r.contents;case"hasError":throw r.contents;case"loading":throw h.loadingDepKey=n,h.loadingDepPromise=r.contents,r.contents}throw tr("Invalid Loadable state")}try{o=r({get:m,getCallback:function(n){return function(){if(c)throw tr("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");null==t&&zu(!1);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Kl(e,n,i,{node:t})}}}),o=Gl(o)?m(o):o,Ml(o)&&("hasError"===o.state&&(d=!0),o=o.contents),nr(o)?o=function(e,t,n,r,i,a){return t.then((function(t){if(!f())throw S(e),Yl;var a=Fl(t);return p(e,n,i,a,r),t})).catch((function(t){if(!f())throw S(e),Yl;if(nr(t))return y(e,t,n,r,i,a);var o=Rl(t);throw p(e,n,i,o,r),t}))}(e,o,i,v,a,h).finally(A):A(),o=o instanceof Ol?o.value:o}catch(w){nr(o=w)?o=y(e,o,i,v,a,h).finally(A):(d=!0,A())}return s=d?Rl(o):nr(o)?Ul(o):Fl(o),l=!1,function(e,t,n){if(B(e,t)){var r=E(e);null!=r&&(r.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,a,v),b(e,i,new Set(v.keys()),a),[s,v]}function x(e,t){var r=t.atomValues.get(n);if(null!=r)return r;var i,a=new Set;try{r=s.get((function(n){return"string"!==typeof n&&zu(!1),Pl(e,t,n).contents}),{onNodeVisit:function(e){"branch"===e.type&&e.nodeKey!==n&&a.add(e.nodeKey)}})}catch(o){throw tr('Problem with cache lookup for selector "'.concat(n,'": ').concat(o.message))}r&&(t.atomValues.set(n,r),b(e,t,a,null===(i=E(e))||void 0===i?void 0:i.executionID));return r}function _(e,t){var n=x(e,t);if(null!=n)return S(e),n;var r,i=C(e,t);if(null!=i)return"loading"===(null===(r=i.loadingLoadable)||void 0===r?void 0:r.state)&&m(e,i.executionID),i.loadingLoadable;var a=$l(),o=l(w(e,t,a),2),s=o[0],u=o[1];return"loading"===s.state?(!function(e,t,n,r,i){c.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:r,executionID:t,loadingLoadable:n,stateVersions:new Map([[i.version,!0]])})}(e,a,s,u,t),m(e,a)):(S(e),T(t,s,u)),s}function C(e,t){function n(n){var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(!Pl(e,t,o).is(s))return!0}}catch(u){i.e(u)}finally{i.f()}return!1}var r,i=k(ja([c.has(e)?[rr(c.get(e))]:[],qr(Mi(c,(function(t){return l(t,1)[0]!==e})),(function(e){return l(e,2)[1]}))]));try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.stateVersions.get(t.version)||!n(a.depValuesDiscoveredSoFarDuringAsyncWork))return a.stateVersions.set(t.version,!0),a;a.stateVersions.set(t.version,!1)}}catch(o){i.e(o)}finally{i.f()}}function E(e){return c.get(e)}function S(e){c.delete(e)}function B(e,t){var n;return t===(null===(n=E(e))||void 0===n?void 0:n.executionID)}function T(e,t,r){e.atomValues.set(n,t);try{s.set(function(e){return Array.from(e.entries()).map((function(e){var t=l(e,2);return[t[0],t[1].contents]}))}(r),t)}catch(i){throw tr('Problem with setting cache for selector "'.concat(n,'": ').concat(i.message))}}function I(e,t){var r=t.atomValues.get(n);return null!=r?r:s.get((function(n){var r;return"string"!==typeof n&&zu(!1),null===(r=Dl(e,t,n))||void 0===r?void 0:r.contents}))}function M(e,t){return function(e){if(Zl.includes(n)){var t="Recoil selector has circular dependencies: ".concat(Zl.slice(Zl.indexOf(n)).join(" \u2192 "));return Rl(tr(t))}Zl.push(n);try{return e()}finally{Zl.pop()}}((function(){return _(e,t)}))}function R(e){e.atomValues.delete(n)}function U(e,n){null==t&&zu(!1);var r,i=k(o);try{for(i.s();!(r=i.n()).done;){var a,u=r.value,l=jl(u);null===(a=l.clearCache)||void 0===a||a.call(l,e,n)}}catch(c){i.e(c)}finally{i.f()}o.clear(),R(n),s.clear(),Vl(e,t)}if(null!=a){return t=zl({key:n,nodeType:"selector",peek:I,get:M,set:function(e,t,r){var i=!1,o=new Map;function s(r){var a=r.key;if(i)throw tr("Recoil: Async selector sets are not currently supported.");var o=Pl(e,t,a);if("hasValue"===o.state)return o.contents;if("loading"===o.state){var s='Getting value of asynchronous atom or selector "'.concat(a,'" in a pending state while setting selector "').concat(n,'" is not yet supported.');throw Ur(s),tr(s)}throw o.contents}function u(n,r){if(i){var a="Recoil: Async selector sets are not currently supported.";throw Ur(a),tr(a)}var u="function"===typeof r?r(s(n)):r;Ll(e,t,n.key,u).forEach((function(e,t){return o.set(t,e)}))}var l=a({set:u,get:s,reset:function(e){u(e,Ql)}},r);if(void 0!==l)throw nr(l)?tr("Recoil: Async selector sets are not currently supported."):tr("Recoil: selector set should be a void function.");return i=!0,o},init:d,invalidate:R,clearCache:U,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}return t=zl({key:n,nodeType:"selector",peek:I,get:M,init:d,invalidate:R,clearCache:U,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}ec.value=function(e){return new Ol(e)};var tc=ec,nc=Cr.isLoadable,rc=Cr.loadableWithError,ic=Cr.loadableWithPromise,ac=Cr.loadableWithValue,oc=dl.WrappedValue,sc=qi,uc=ri.DEFAULT_VALUE,lc=ri.DefaultValue,cc=ri.getConfigDeletionHandler,Ac=ri.registerNode,fc=ri.setConfigDeletionHandler,dc=Kr.isRecoilValue,hc=wa.getRecoilValueAsLoadable,pc=wa.markRecoilValueModified,vc=wa.setRecoilValue,gc=wa.setRecoilValueLoadable,mc=Pa,yc=function(e){return e instanceof oc?e.value:e};function bc(e){var t=e.key,n=e.persistence_UNSTABLE,r=mc(e.retainedBy_UNSTABLE),i=0;function a(e){return ic(e.then((function(e){return o=ac(e),e})).catch((function(e){throw o=rc(e),e})))}var o=nr(e.default)?a(e.default):nc(e.default)?"loading"===e.default.state?a(e.default.contents):e.default:ac(yc(e.default));l(o.contents);var s=void 0,u=new Map;function l(e){return e}function c(e,n){var r,i;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:s)&&void 0!==r?r:o}var A=Ac({key:t,nodeType:"atom",peek:c,get:function(e,r){if(r.atomValues.has(t))return rr(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=s)return s;if(null==n)return Xr("Tried to restore a persisted value for atom ".concat(t," but it has no persistence settings.")),o;var i=r.nonvalidatedAtoms.get(t),a=n.validator(i,uc),u=a instanceof lc?o:ac(a);return s=u}return o},set:function(e,n,r){if(n.atomValues.has(t)){var i=rr(n.atomValues.get(t));if("hasValue"===i.state&&r===i.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof lc)return new Map;return s=void 0,(new Map).set(t,ac(r))},init:function(n,r,a){var s;if(i++,n.getState().knownAtoms.add(t),"loading"===o.state){o.contents.finally((function(){var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||pc(n,A)}))}var l=null!==(s=e.effects)&&void 0!==s?s:e.effects_UNSTABLE;if(null!=l){var f,d=function(e){if(g&&e.key===t){var i=v;return i instanceof lc?c(n,r):nr(i)?ic(i.then((function(e){return e instanceof lc?o.toPromise():e}))):ac(i)}return hc(n,e)},h=function(e){return d(e).toPromise()},p=function(e){var r,i=sc(n,null!==(r=n.getState().nextTree)&&void 0!==r?r:n.getState().currentTree,e.key);return!g||e.key!==t||v instanceof lc?i:qn(qn({},i),{},{isSet:!0,loadable:d(e)})},v=uc,g=!0,m=!1,y=null,b=function(e){return function(t){if(g){var r=d(A),i="hasValue"===r.state?r.contents:uc;v="function"===typeof t?t(i):t,nr(v)&&(v=v.then((function(t){return y={effect:e,value:t},t})))}else{if(nr(t))throw tr("Setting atoms to async values is not implemented.");"function"!==typeof t&&(y={effect:e,value:yc(t)}),vc(n,A,"function"===typeof t?function(n){var r=yc(t(n));return y={effect:e,value:r},r}:yc(t))}}},w=function(e){return function(){return b(e)(uc)}},x=function(e){return function(r){var i,a=n.subscribeToTransactions((function(n){var i,a=n.getState(),s=a.currentTree,u=a.previousTree;u||(Ur("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),u=s);var l=null!==(i=s.atomValues.get(t))&&void 0!==i?i:o;if("hasValue"===l.state){var c,A,f,d,h=l.contents,p=null!==(c=u.atomValues.get(t))&&void 0!==c?c:o,v="hasValue"===p.state?p.contents:uc;(null===(A=y)||void 0===A?void 0:A.effect)!==e||(null===(f=y)||void 0===f?void 0:f.value)!==h?r(h,v,!s.atomValues.has(t)):(null===(d=y)||void 0===d?void 0:d.effect)===e&&(y=null)}}),t).release;u.set(n,[].concat(M(null!==(i=u.get(n))&&void 0!==i?i:[]),[a]))}},_=k(l);try{for(_.s();!(f=_.n()).done;){var C=f.value;try{var E,S=C({node:A,storeID:n.storeID,parentStoreID_UNSTABLE:n.parentStoreID,trigger:a,setSelf:b(C),resetSelf:w(C),onSet:x(C),getPromise:h,getLoadable:d,getInfo_UNSTABLE:p});if(null!=S)u.set(n,[].concat(M(null!==(E=u.get(n))&&void 0!==E?E:[]),[S]))}catch(I){v=I,m=!0}}}catch(R){_.e(R)}finally{_.f()}if(g=!1,!(v instanceof lc)){var B,T=m?rc(v):nr(v)?ic(function(e,n){var r=n.then((function(n){var i,a;return(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&vc(e,A,n),n})).catch((function(n){var i,a;throw(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&gc(e,A,rc(n)),n}));return r}(n,v)):ac(yc(v));T.contents,r.atomValues.set(t,T),null===(B=n.getState().nextTree)||void 0===B||B.atomValues.set(t,T)}}return function(){var e;i--,null===(e=u.get(n))||void 0===e||e.forEach((function(e){return e()})),u.delete(n)}},invalidate:function(){s=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==cc(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return A}function wc(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),n="default"in e?e.default:new Promise((function(){}));return dc(n)?function(e){var t=wc(qn(qn({},e),{},{default:uc,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:qn(qn({},e.persistence_UNSTABLE),{},{validator:function(t){return t instanceof lc?t:rr(e.persistence_UNSTABLE).validator(t,uc)}}),effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE})),n=tc({key:"".concat(e.key,"__withFallback"),get:function(n){var r=(0,n.get)(t);return r instanceof lc?e.default:r},set:function(e,n){return(0,e.set)(t,n)},cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return fc(n.key,cc(e.key)),n}(qn(qn({},t),{},{default:n})):bc(qn(qn({},t),{},{default:n}))}wc.value=function(e){return new oc(e)};var xc=wc,_c={MapCache:function(){function e(t){var n;c(this,e),ir(this,"_map",void 0),ir(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(n=null===t||void 0===t?void 0:t.mapKey)&&void 0!==n?n:function(e){return e}}return h(e,[{key:"size",value:function(){return this._map.size}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){return this._map.get(this._keyMapper(e))}},{key:"set",value:function(e,t){this._map.set(this._keyMapper(e),t)}},{key:"delete",value:function(e){this._map.delete(this._keyMapper(e))}},{key:"clear",value:function(){this._map.clear()}}]),e}()}.MapCache,Cc=Object.freeze({__proto__:null,MapCache:_c}),Ec=wl.LRUCache,Sc=Cc.MapCache,Bc={equality:"reference",eviction:"none",maxSize:1/0};var Tc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bc,t=e.equality,n=void 0===t?Bc.equality:t,r=e.eviction,i=void 0===r?Bc.eviction:r,a=e.maxSize,o=void 0===a?Bc.maxSize:a,s=function(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return Sl(e)}}throw tr("Unrecognized equality policy ".concat(e))}(n);return function(e,t,n){switch(e){case"keep-all":return new Sc({mapKey:n});case"lru":return new Ec({mapKey:n,maxSize:rr(t)});case"most-recent":return new Ec({mapKey:n,maxSize:1})}throw tr("Unrecognized eviction policy ".concat(e))}(i,o,s)},Ic=ri.setConfigDeletionHandler;var kc=function(e){var t,n,r=Tc({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i,a=r.get(t);if(null!=a)return a;e.cachePolicyForParams_UNSTABLE;var o=Kn(e,Jn),s="default"in e?e.default:new Promise((function(){})),u=xc(qn(qn({},o),{},{key:"".concat(e.key,"__").concat(null!==(n=Sl(t))&&void 0!==n?n:"void"),default:"function"===typeof s?s(t):s,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"===typeof e.effects?e.effects(t):"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE}));return r.set(t,u),Ic(u.key,(function(){r.delete(t)})),u}},Mc=ri.setConfigDeletionHandler,Rc=0;var Uc=function(e){var t,n,r=Tc({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i;try{i=r.get(t)}catch(A){throw tr("Problem with cache lookup for selector ".concat(e.key,": ").concat(A.message))}if(null!=i)return i;var a,o="".concat(e.key,"__selectorFamily/").concat(null!==(n=Sl(t,{allowFunctions:!0}))&&void 0!==n?n:"void","/").concat(Rc++),s=function(n){return e.get(t)(n)},u=e.cachePolicy_UNSTABLE,l="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){var c=e.set;a=tc({key:o,get:s,set:function(e,n){return c(t)(e,n)},cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l})}else a=tc({key:o,get:s,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l});return r.set(t,a),Mc(a.key,(function(){r.delete(t)})),a}},Fc=Uc({key:"__constant",get:function(e){return function(){return e}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Oc=function(e){return Fc(e)},Pc=Uc({key:"__error",get:function(e){return function(){throw tr(e)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Dc=function(e){return Pc(e)};var Lc=function(e){return e},Nc=Cr.loadableWithError,Qc=Cr.loadableWithPromise,Hc=Cr.loadableWithValue;function jc(e,t){var n,r=Array(t.length).fill(void 0),i=Array(t.length).fill(void 0),a=k(t.entries());try{for(a.s();!(n=a.n()).done;){var o=l(n.value,2),s=o[0],u=o[1];try{r[s]=e(u)}catch(c){i[s]=c}}}catch(A){a.e(A)}finally{a.f()}return[r,i]}function zc(e){return null!=e&&!nr(e)}function Gc(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))}function Vc(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((function(e,n,r){return qn(qn({},e),{},E({},n,t[r]))}),{})}function Wc(e,t,n){return Vc(e,n.map((function(e,n){return null==e?Hc(t[n]):nr(e)?Qc(e):Nc(e)})))}var Kc,Xc,qc,Yc,Zc=Uc({key:"__waitForNone",get:function(e){return function(t){var n=l(jc(t.get,Gc(e)),2),r=n[0],i=n[1];return Wc(e,r,i)}},dangerouslyAllowMutability:!0}),Jc=Uc({key:"__waitForAny",get:function(e){return function(t){var n=l(jc(t.get,Gc(e)),2),r=n[0],i=n[1];return i.some((function(e){return!nr(e)}))?Wc(e,r,i):new Promise((function(t){var n,a=k(i.entries());try{var o=function(){var a=l(n.value,2),o=a[0],s=a[1];nr(s)&&s.then((function(n){r[o]=n,i[o]=void 0,t(Wc(e,r,i))})).catch((function(n){i[o]=n,t(Wc(e,r,i))}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}))}},dangerouslyAllowMutability:!0}),$c=Uc({key:"__waitForAll",get:function(e){return function(t){var n=l(jc(t.get,Gc(e)),2),r=n[0],i=n[1];if(i.every((function(e){return null==e})))return Vc(e,r);var a=i.find(zc);if(null!=a)throw a;return Promise.all(i).then((function(t){return Vc(e,(n=r,t.map((function(e,t){return void 0===e?n[t]:e}))));var n}))}},dangerouslyAllowMutability:!0}),eA=Uc({key:"__waitForAllSettled",get:function(e){return function(t){var n=l(jc(t.get,Gc(e)),2),r=n[0],i=n[1];return i.every((function(e){return!nr(e)}))?Wc(e,r,i):Promise.all(i.map((function(e,t){return nr(e)?e.then((function(e){r[t]=e,i[t]=void 0})).catch((function(e){r[t]=void 0,i[t]=e})):null}))).then((function(){return Wc(e,r,i)}))}},dangerouslyAllowMutability:!0}),tA=Uc({key:"__noWait",get:function(e){return function(t){var n=t.get;try{return tc.value(Hc(n(e)))}catch(r){return tc.value(nr(r)?Qc(r):Nc(r))}}},dangerouslyAllowMutability:!0}),nA={waitForNone:Zc,waitForAny:Jc,waitForAll:$c,waitForAllSettled:eA,noWait:tA},rA=Cr.RecoilLoadable,iA=ri.DefaultValue,aA=os,oA=ls,sA=Kr.isRecoilValue,uA=Ti.retentionZone,lA=_o.freshSnapshot,cA={DefaultValue:iA,isRecoilValue:sA,RecoilLoadable:rA,RecoilEnv:Sr,RecoilRoot:aA,useRecoilStoreID:oA,useRecoilBridgeAcrossReactRoots_UNSTABLE:ku,atom:xc,selector:tc,atomFamily:kc,selectorFamily:Uc,constSelector:Oc,errorSelector:Dc,readOnlySelector:Lc,noWait:nA.noWait,waitForNone:nA.waitForNone,waitForAny:nA.waitForAny,waitForAll:nA.waitForAll,waitForAllSettled:nA.waitForAllSettled,useRecoilValue:Zs,useRecoilValueLoadable:Js,useRecoilState:qs,useRecoilStateLoadable:Ys,useSetRecoilState:eu,useResetRecoilState:$s,useGetRecoilValueInfo_UNSTABLE:Eu,useRecoilRefresher_UNSTABLE:sl,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:tu,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:nu,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:ru,useRecoilCallback:rl,useRecoilTransaction_UNSTABLE:Al,useGotoRecoilSnapshot:wu,useRecoilSnapshot:yu,useRecoilTransactionObserver_UNSTABLE:xu,snapshot_UNSTABLE:lA,useRetain:ws,retentionZone:uA},AA=cA.RecoilRoot,fA=cA.atom,dA=cA.useRecoilState,hA=fA({key:"modalStatus",default:!1}),pA=fA({key:"selectedGenderAtom",default:null}),vA=fA({key:"selectedHeightAtom",default:null}),gA=fA({key:"selectedWeightAtom",default:null}),mA=fA({key:"selectedSeasonsAtom",default:null}),yA=fA({key:"selectedCategoryAtom",default:null}),bA=(fA({key:"selectedTargetAtom",default:null}),fA({key:"selectedClothAtom",default:""})),wA=fA({key:"hoveredClothAtom",default:""}),xA=fA({key:"modalGatherAtom",default:{closetQuestion:!1,closetBody:!1,closetCart:!1,clothProperty:!1}}),_A=fA({key:"simpleModalAtom",default:{simplePopup:!1,content:[[]],onClick:function(){return""},btnContent:""}}),CA=fA({key:"wearArrayAtom",default:[]}),EA=fA({key:"childrenInfoAtom",default:{img:null,gender:"\uc5ec",age:10,height:130,weight:24}}),SA=fA({key:"selectedCodyAtom",default:"12"}),BA=fA({key:"getCaptureAtom",default:!1}),TA=fA({key:"showPhotoAtom",default:[]}),IA=fA({key:"wantPropertyClothIdAtom",default:""}),kA=function(e){var t=e.options,r=e.select,i=e.onSelect,a=e.isOpen,o=e.setIsOpen,s=e.allClose,u=l((0,n.useState)(r),2),c=u[0],A=u[1],f=(0,gn.useTheme)();return(0,mn.jsxs)(RA,{children:[(0,mn.jsxs)(MA,{className:"dropdown-toggle ".concat(a?"open":""),onClick:function(e){e.stopPropagation(),s(),o(!a)},children:[c?c.label:"\uc120\ud0dd\ud558\uc138\uc694",(0,mn.jsx)(_n,{color:f.colors.yellow[3]})]}),a&&(0,mn.jsx)(UA,{children:t.map((function(e){return(0,mn.jsx)(FA,{onClick:function(){return function(e){A(e),i(e)}(e)},children:e.label},e.value)}))})]})},MA=gn.default.div(Kc||(Kc=sn(["\n  font-size: 11px;\n  white-space: nowrap;\n  width: 100%;\n  padding: 4px 7px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  justify-content: space-between;\n  border: ",";\n  border-radius: 3px;\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.yellow[3])})),RA=gn.default.div(Xc||(Xc=sn(["\n  background-color: transparent;\n  width: 50%;\n  position: relative;\n"]))),UA=gn.default.ul(qc||(qc=sn(["\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  list-style: none;\n  margin: 0;\n  margin-top: 2px;\n  padding: 7px;\n  display: flex;\n  flex-direction: column;\n  border-radius: 5px;\n  gap: 3px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.yellow[2]})),FA=gn.default.li(Yc||(Yc=sn(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  padding-top: 2px;\n  padding-bottom: 2px;\n  font-size: 11px;\n  display: flex;\n  justify-content: flex-start;\n  cursor: pointer;\n"]))),OA="undefined"===typeof window||"Deno"in window;function PA(){}function DA(e){return"number"===typeof e&&e>=0&&e!==1/0}function LA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function NA(e,t,n){return JA(e)?"function"===typeof t?qn(qn({},n),{},{queryKey:e,queryFn:t}):qn(qn({},t),{},{queryKey:e}):e}function QA(e,t,n){return JA(e)?[qn(qn({},t),{},{queryKey:e}),n]:[e||{},t]}function HA(e,t){var n=e.type,r=void 0===n?"all":n,i=e.exact,a=e.fetchStatus,o=e.predicate,s=e.queryKey,u=e.stale;if(JA(s))if(i){if(t.queryHash!==zA(s,t.options))return!1}else if(!VA(t.queryKey,s))return!1;if("all"!==r){var l=t.isActive();if("active"===r&&!l)return!1;if("inactive"===r&&l)return!1}return("boolean"!==typeof u||t.isStale()===u)&&(("undefined"===typeof a||a===t.state.fetchStatus)&&!(o&&!o(t)))}function jA(e,t){var n=e.exact,r=e.fetching,i=e.predicate,a=e.mutationKey;if(JA(a)){if(!t.options.mutationKey)return!1;if(n){if(GA(t.options.mutationKey)!==GA(a))return!1}else if(!VA(t.options.mutationKey,a))return!1}return("boolean"!==typeof r||"loading"===t.state.status===r)&&!(i&&!i(t))}function zA(e,t){return((null==t?void 0:t.queryKeyHashFn)||GA)(e)}function GA(e){return JSON.stringify(e,(function(e,t){return YA(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))}function VA(e,t){return WA(e,t)}function WA(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((function(n){return!WA(e[n],t[n])})))}function KA(e,t){if(e===t)return e;var n=qA(e)&&qA(t);if(n||YA(e)&&YA(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{},s=0,u=0;u<a;u++){var l=n?u:i[u];o[l]=KA(e[l],t[l]),o[l]===e[l]&&s++}return r===a&&s===r?e:o}return t}function XA(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function qA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function YA(e){if(!ZA(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var n=t.prototype;return!!ZA(n)&&!!n.hasOwnProperty("isPrototypeOf")}function ZA(e){return"[object Object]"===Object.prototype.toString.call(e)}function JA(e){return Array.isArray(e)}function $A(e){return new Promise((function(t){setTimeout(t,e)}))}function ef(e){$A(0).then(e)}function tf(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?KA(e,t):t}var nf=function(){var e=[],t=0,n=function(e){e()},r=function(e){e()},i=function(r){t?e.push(r):ef((function(){n(r)}))},a=function(){var t=e;e=[],t.length&&ef((function(){r((function(){t.forEach((function(e){n(e)}))}))}))};return{batch:function(e){var n;t++;try{n=e()}finally{--t||a()}return n},batchCalls:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i((function(){e.apply(void 0,n)}))}},schedule:i,setNotifyFunction:function(e){n=e},setBatchNotifyFunction:function(e){r=e}}}(),rf=function(){function e(){c(this,e),this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}return h(e,[{key:"subscribe",value:function(e){var t=this,n={listener:e};return this.listeners.add(n),this.onSubscribe(),function(){t.listeners.delete(n),t.onUnsubscribe()}}},{key:"hasListeners",value:function(){return this.listeners.size>0}},{key:"onSubscribe",value:function(){}},{key:"onUnsubscribe",value:function(){}}]),e}(),af=new(function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).setup=function(e){if(!OA&&window.addEventListener){var t=function(){return e()};return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),function(){window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}},e}return h(n,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setFocused(e):n.onFocus()}))}},{key:"setFocused",value:function(e){this.focused!==e&&(this.focused=e,this.onFocus())}},{key:"onFocus",value:function(){this.listeners.forEach((function(e){(0,e.listener)()}))}},{key:"isFocused",value:function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}}]),n}(rf)),of=["online","offline"],sf=new(function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).setup=function(e){if(!OA&&window.addEventListener){var t=function(){return e()};return of.forEach((function(e){window.addEventListener(e,t,!1)})),function(){of.forEach((function(e){window.removeEventListener(e,t)}))}}},e}return h(n,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setOnline(e):n.onOnline()}))}},{key:"setOnline",value:function(e){this.online!==e&&(this.online=e,this.onOnline())}},{key:"onOnline",value:function(){this.listeners.forEach((function(e){(0,e.listener)()}))}},{key:"isOnline",value:function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine}}]),n}(rf));function uf(e){return Math.min(1e3*Math.pow(2,e),3e4)}function lf(e){return"online"!==(null!=e?e:"online")||sf.isOnline()}var cf=h((function e(t){c(this,e),this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent}));function Af(e){return e instanceof cf}function ff(e){var t,n,r,i=!1,a=0,o=!1,s=new Promise((function(e,t){n=e,r=t})),u=function(){return!af.isFocused()||"always"!==e.networkMode&&!sf.isOnline()},l=function(r){o||(o=!0,null==e.onSuccess||e.onSuccess(r),null==t||t(),n(r))},c=function(n){o||(o=!0,null==e.onError||e.onError(n),null==t||t(),r(n))},A=function(){return new Promise((function(n){t=function(e){var t=o||!u();return t&&n(e),t},null==e.onPause||e.onPause()})).then((function(){t=void 0,o||null==e.onContinue||e.onContinue()}))},f=function t(){if(!o){var n;try{n=e.fn()}catch(r){n=Promise.reject(r)}Promise.resolve(n).then(l).catch((function(n){var r,s;if(!o){var l=null!=(r=e.retry)?r:3,f=null!=(s=e.retryDelay)?s:uf,d="function"===typeof f?f(a,n):f,h=!0===l||"number"===typeof l&&a<l||"function"===typeof l&&l(a,n);!i&&h?(a++,null==e.onFail||e.onFail(a,n),$A(d).then((function(){if(u())return A()})).then((function(){i?c(n):t()}))):c(n)}}))}};return lf(e.networkMode)?f():A().then(f),{promise:s,cancel:function(t){o||(c(new cf(t)),null==e.abort||e.abort())},continue:function(){return(null==t?void 0:t())?s:Promise.resolve()},cancelRetry:function(){i=!0},continueRetry:function(){i=!1}}}var df=["refetchPage"],hf=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).client=e,i.options=r,i.trackedProps=new Set,i.selectError=null,i.bindMethods(),i.setOptions(r),i}return h(n,[{key:"bindMethods",value:function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){1===this.listeners.size&&(this.currentQuery.addObserver(this),pf(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}},{key:"onUnsubscribe",value:function(){this.hasListeners()||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return vf(this.currentQuery,this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return vf(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}},{key:"setOptions",value:function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),XA(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var i=this.hasListeners();i&&gf(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!i||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();var a=this.computeRefetchInterval();!i||this.currentQuery===r&&this.options.enabled===n.enabled&&a===this.currentRefetchInterval||this.updateRefetchInterval(a)}},{key:"getOptimisticResult",value:function(e){var t=this.client.getQueryCache().build(this.client,e),n=this.createResult(t,e);return function(e,t,n){if(n.keepPreviousData)return!1;if(void 0!==n.placeholderData)return t.isPlaceholderData;if(!XA(e.getCurrentResult(),t))return!0;return!1}(this,n,e)&&(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"trackResult",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:function(){return t.trackedProps.add(r),e[r]}})})),n}},{key:"getCurrentQuery",value:function(){return this.currentQuery}},{key:"remove",value:function(){this.client.getQueryCache().remove(this.currentQuery)}},{key:"refetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refetchPage,n=Kn(e,df);return this.fetch(qn(qn({},n),{},{meta:{refetchPage:t}}))}},{key:"fetchOptimistic",value:function(e){var t=this,n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then((function(){return t.createResult(r,n)}))}},{key:"fetch",value:function(e){var t,n=this;return this.executeFetch(qn(qn({},e),{},{cancelRefetch:null==(t=e.cancelRefetch)||t})).then((function(){return n.updateResult(),n.currentResult}))}},{key:"executeFetch",value:function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(PA)),t}},{key:"updateStaleTimeout",value:function(){var e=this;if(this.clearStaleTimeout(),!OA&&!this.currentResult.isStale&&DA(this.options.staleTime)){var t=LA(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}}},{key:"computeRefetchInterval",value:function(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}},{key:"updateRefetchInterval",value:function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!OA&&!1!==this.options.enabled&&DA(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(t.options.refetchIntervalInBackground||af.isFocused())&&t.executeFetch()}),this.currentRefetchInterval))}},{key:"updateTimers",value:function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}},{key:"clearStaleTimeout",value:function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}},{key:"clearRefetchInterval",value:function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}},{key:"createResult",value:function(e,t){var n,r=this.currentQuery,i=this.options,a=this.currentResult,o=this.currentResultState,s=this.currentResultOptions,u=e!==r,l=u?e.state:this.currentQueryInitialState,c=u?this.currentResult:this.previousQueryResult,A=e.state,f=A.dataUpdatedAt,d=A.error,h=A.errorUpdatedAt,p=A.fetchStatus,v=A.status,g=!1,m=!1;if(t._optimisticResults){var y=this.hasListeners(),b=!y&&pf(e,t),w=y&&gf(e,r,t,i);(b||w)&&(p=lf(e.options.networkMode)?"fetching":"paused",f||(v="loading")),"isRestoring"===t._optimisticResults&&(p="idle")}if(t.keepPreviousData&&!A.dataUpdatedAt&&null!=c&&c.isSuccess&&"error"!==v)n=c.data,f=c.dataUpdatedAt,v=c.status,g=!0;else if(t.select&&"undefined"!==typeof A.data)if(a&&A.data===(null==o?void 0:o.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(A.data),n=tf(null==a?void 0:a.data,n,t),this.selectResult=n,this.selectError=null}catch(S){0,this.selectError=S}else n=A.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof n&&"loading"===v){var x;if(null!=a&&a.isPlaceholderData&&t.placeholderData===(null==s?void 0:s.placeholderData))x=a.data;else if(x="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof x)try{x=t.select(x),this.selectError=null}catch(S){0,this.selectError=S}"undefined"!==typeof x&&(v="success",n=tf(null==a?void 0:a.data,x,t),m=!0)}this.selectError&&(d=this.selectError,n=this.selectResult,h=Date.now(),v="error");var _="fetching"===p,C="loading"===v,E="error"===v;return{status:v,fetchStatus:p,isLoading:C,isSuccess:"success"===v,isError:E,isInitialLoading:C&&_,data:n,dataUpdatedAt:f,error:d,errorUpdatedAt:h,failureCount:A.fetchFailureCount,failureReason:A.fetchFailureReason,errorUpdateCount:A.errorUpdateCount,isFetched:A.dataUpdateCount>0||A.errorUpdateCount>0,isFetchedAfterMount:A.dataUpdateCount>l.dataUpdateCount||A.errorUpdateCount>l.errorUpdateCount,isFetching:_,isRefetching:_&&!C,isLoadingError:E&&0===A.dataUpdatedAt,isPaused:"paused"===p,isPlaceholderData:m,isPreviousData:g,isRefetchError:E&&0!==A.dataUpdatedAt,isStale:mf(e,t),refetch:this.refetch,remove:this.remove}}},{key:"updateResult",value:function(e){var t=this,n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!XA(r,n)){this.currentResult=r;var i={cache:!0};!1!==(null==e?void 0:e.listeners)&&function(){if(!n)return!0;var e=t.options.notifyOnChangeProps,r="function"===typeof e?e():e;if("all"===r||!r&&!t.trackedProps.size)return!0;var i=new Set(null!=r?r:t.trackedProps);return t.options.useErrorBoundary&&i.add("error"),Object.keys(t.currentResult).some((function(e){var r=e;return t.currentResult[r]!==n[r]&&i.has(r)}))}()&&(i.listeners=!0),this.notify(qn(qn({},i),e))}}},{key:"updateQuery",value:function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}}},{key:"onQueryUpdate",value:function(e){var t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||Af(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}},{key:"notify",value:function(e){var t=this;nf.batch((function(){var n,r,i,a;if(e.onSuccess)null==(n=(r=t.options).onSuccess)||n.call(r,t.currentResult.data),null==(i=(a=t.options).onSettled)||i.call(a,t.currentResult.data,null);else if(e.onError){var o,s,u,l;null==(o=(s=t.options).onError)||o.call(s,t.currentResult.error),null==(u=(l=t.options).onSettled)||u.call(l,void 0,t.currentResult.error)}e.listeners&&t.listeners.forEach((function(e){(0,e.listener)(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))}}]),n}(rf);function pf(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&vf(e,t,t.refetchOnMount)}function vf(e,t,n){if(!1!==t.enabled){var r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&mf(e,t)}return!1}function gf(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&mf(e,n)}function mf(e,t){return e.isStaleByTime(t.staleTime)}var yf=__webpack_require__(1239).useSyncExternalStore;function bf(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var wf=n.createContext(bf()),xf=function(){return n.useContext(wf)},_f=n.createContext(void 0),Cf=n.createContext(!1);function Ef(e,t){return e||(t&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=_f),window.ReactQueryClientContext):_f)}var Sf=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).context,t=n.useContext(Ef(e,n.useContext(Cf)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Bf=function(e){var t=e.client,r=e.children,i=e.context,a=e.contextSharing,o=void 0!==a&&a;n.useEffect((function(){return t.mount(),function(){t.unmount()}}),[t]);var s=Ef(i,o);return n.createElement(Cf.Provider,{value:!i&&o},n.createElement(s.Provider,{value:t},r))},Tf=n.createContext(!1),If=function(){return n.useContext(Tf)};Tf.Provider;function kf(e,t){return"function"===typeof e?e.apply(void 0,M(t)):!!e}var Mf=function(e,t){(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},Rf=function(e){n.useEffect((function(){e.clearReset()}),[e])},Uf=function(e){var t=e.result,n=e.errorResetBoundary,r=e.useErrorBoundary,i=e.query;return t.isError&&!n.isReset()&&!t.isFetching&&kf(r,[t.error,i])},Ff=function(e){e.suspense&&"number"!==typeof e.staleTime&&(e.staleTime=1e3)},Of=function(e,t,n){return(null==e?void 0:e.suspense)&&function(e,t){return e.isLoading&&e.isFetching&&!t}(t,n)},Pf=function(e,t,n){return t.fetchOptimistic(e).then((function(t){var n=t.data;null==e.onSuccess||e.onSuccess(n),null==e.onSettled||e.onSettled(n,null)})).catch((function(t){n.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}))};function Df(e,t,r){return function(e,t){var r=Sf({context:e.context}),i=If(),a=xf(),o=r.defaultQueryOptions(e);o._optimisticResults=i?"isRestoring":"optimistic",o.onError&&(o.onError=nf.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=nf.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=nf.batchCalls(o.onSettled)),Ff(o),Mf(o,a),Rf(a);var s=l(n.useState((function(){return new t(r,o)})),1)[0],u=s.getOptimisticResult(o);if(yf(n.useCallback((function(e){var t=i?function(){}:s.subscribe(nf.batchCalls(e));return s.updateResult(),t}),[s,i]),(function(){return s.getCurrentResult()}),(function(){return s.getCurrentResult()})),n.useEffect((function(){s.setOptions(o,{listeners:!1})}),[o,s]),Of(o,u,i))throw Pf(o,s,a);if(Uf({result:u,errorResetBoundary:a,useErrorBoundary:o.useErrorBoundary,query:s.getCurrentQuery()}))throw u.error;return o.notifyOnChangeProps?u:s.trackResult(u)}(NA(e,t,r),hf)}var Lf=console,Nf=function(){function e(){c(this,e)}return h(e,[{key:"destroy",value:function(){this.clearGcTimeout()}},{key:"scheduleGc",value:function(){var e=this;this.clearGcTimeout(),DA(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){e.optionalRemove()}),this.cacheTime))}},{key:"updateCacheTime",value:function(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:OA?1/0:3e5)}},{key:"clearGcTimeout",value:function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}]),e}(),Qf=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).defaultOptions=e.defaultOptions,r.mutationId=e.mutationId,r.mutationCache=e.mutationCache,r.logger=e.logger||Lf,r.observers=[],r.state=e.state||Hf(),r.setOptions(e.options),r.scheduleGc(),r}return h(n,[{key:"setOptions",value:function(e){this.options=qn(qn({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}},{key:"meta",get:function(){return this.options.meta}},{key:"setState",value:function(e){this.dispatch({type:"setState",state:e})}},{key:"addObserver",value:function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}},{key:"removeObserver",value:function(e){this.observers=this.observers.filter((function(t){return t!==e})),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}},{key:"optionalRemove",value:function(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}},{key:"continue",value:function(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}},{key:"execute",value:function(){var e=C(x().mark((function e(){var t,n,r,i,a,o,s,u,l,c,A,f,d,h,p,v,g,m,y,b,w,_,C,E,S=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e;return S.retryer=ff({fn:function(){return S.options.mutationFn?S.options.mutationFn(S.state.variables):Promise.reject("No mutationFn found")},onFail:function(e,t){S.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){S.dispatch({type:"pause"})},onContinue:function(){S.dispatch({type:"continue"})},retry:null!=(e=S.options.retry)?e:0,retryDelay:S.options.retryDelay,networkMode:S.options.networkMode}),S.retryer.promise},n="loading"===this.state.status,e.prev=2,n){e.next=11;break}return this.dispatch({type:"loading",variables:this.options.variables}),e.next=7,null==(A=(f=this.mutationCache.config).onMutate)?void 0:A.call(f,this.state.variables,this);case 7:return e.next=9,null==(d=(h=this.options).onMutate)?void 0:d.call(h,this.state.variables);case 9:(p=e.sent)!==this.state.context&&this.dispatch({type:"loading",context:p,variables:this.state.variables});case 11:return e.next=13,t();case 13:return v=e.sent,e.next=16,null==(r=(i=this.mutationCache.config).onSuccess)?void 0:r.call(i,v,this.state.variables,this.state.context,this);case 16:return e.next=18,null==(a=(o=this.options).onSuccess)?void 0:a.call(o,v,this.state.variables,this.state.context);case 18:return e.next=20,null==(s=(u=this.mutationCache.config).onSettled)?void 0:s.call(u,v,null,this.state.variables,this.state.context,this);case 20:return e.next=22,null==(l=(c=this.options).onSettled)?void 0:l.call(c,v,null,this.state.variables,this.state.context);case 22:return this.dispatch({type:"success",data:v}),e.abrupt("return",v);case 26:return e.prev=26,e.t0=e.catch(2),e.prev=28,e.next=31,null==(g=(m=this.mutationCache.config).onError)?void 0:g.call(m,e.t0,this.state.variables,this.state.context,this);case 31:return e.next=34,null==(y=(b=this.options).onError)?void 0:y.call(b,e.t0,this.state.variables,this.state.context);case 34:return e.next=36,null==(w=(_=this.mutationCache.config).onSettled)?void 0:w.call(_,void 0,e.t0,this.state.variables,this.state.context,this);case 36:return e.next=38,null==(C=(E=this.options).onSettled)?void 0:C.call(E,void 0,e.t0,this.state.variables,this.state.context);case 38:throw e.t0;case 39:return e.prev=39,this.dispatch({type:"error",error:e.t0}),e.finish(39);case 42:case"end":return e.stop()}}),e,this,[[2,26],[28,,39,42]])})));return function(){return e.apply(this,arguments)}}()},{key:"dispatch",value:function(e){var t=this;this.state=function(n){switch(e.type){case"failed":return qn(qn({},n),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return qn(qn({},n),{},{isPaused:!0});case"continue":return qn(qn({},n),{},{isPaused:!1});case"loading":return qn(qn({},n),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!lf(t.options.networkMode),status:"loading",variables:e.variables});case"success":return qn(qn({},n),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return qn(qn({},n),{},{data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"});case"setState":return qn(qn({},n),e.state)}}(this.state),nf.batch((function(){t.observers.forEach((function(t){t.onMutationUpdate(e)})),t.mutationCache.notify({mutation:t,type:"updated",action:e})}))}}]),n}(Nf);function Hf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}var jf=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).client=e,i.setOptions(r),i.bindMethods(),i.updateResult(),i}return h(n,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(e){var t,n=this.options;this.options=this.client.defaultMutationOptions(e),XA(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null==(e=this.currentMutation)||e.removeObserver(this))}},{key:"onMutationUpdate",value:function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"reset",value:function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}},{key:"mutate",value:function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,qn(qn({},this.options),{},{variables:"undefined"!==typeof e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}},{key:"updateResult",value:function(){var e=this.currentMutation?this.currentMutation.state:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},t=qn(qn({},e),{},{isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset});this.currentResult=t}},{key:"notify",value:function(e){var t=this;nf.batch((function(){var n,r,i,a;if(t.mutateOptions&&t.hasListeners())if(e.onSuccess)null==(n=(r=t.mutateOptions).onSuccess)||n.call(r,t.currentResult.data,t.currentResult.variables,t.currentResult.context),null==(i=(a=t.mutateOptions).onSettled)||i.call(a,t.currentResult.data,null,t.currentResult.variables,t.currentResult.context);else if(e.onError){var o,s,u,l;null==(o=(s=t.mutateOptions).onError)||o.call(s,t.currentResult.error,t.currentResult.variables,t.currentResult.context),null==(u=(l=t.mutateOptions).onSettled)||u.call(l,void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context)}e.listeners&&t.listeners.forEach((function(e){(0,e.listener)(t.currentResult)}))}))}}]),n}(rf);function zf(e,t,r){var i=function(e,t,n){return JA(e)?"function"===typeof t?qn(qn({},n),{},{mutationKey:e,mutationFn:t}):qn(qn({},t),{},{mutationKey:e}):"function"===typeof e?qn(qn({},t),{},{mutationFn:e}):qn({},e)}(e,t,r),a=Sf({context:i.context}),o=l(n.useState((function(){return new jf(a,i)})),1)[0];n.useEffect((function(){o.setOptions(i)}),[o,i]);var s=yf(n.useCallback((function(e){return o.subscribe(nf.batchCalls(e))}),[o]),(function(){return o.getCurrentResult()}),(function(){return o.getCurrentResult()})),u=n.useCallback((function(e,t){o.mutate(e,t).catch(Gf)}),[o]);if(s.error&&kf(o.options.useErrorBoundary,[s.error]))throw s.error;return qn(qn({},s),{},{mutate:u,mutateAsync:s.mutate})}function Gf(){}function Vf(e,t){return function(){return e.apply(t,arguments)}}var Wf,Kf=Object.prototype.toString,Xf=Object.getPrototypeOf,qf=(Wf=Object.create(null),function(e){var t=Kf.call(e);return Wf[t]||(Wf[t]=t.slice(8,-1).toLowerCase())}),Yf=function(e){return e=e.toLowerCase(),function(t){return qf(t)===e}},Zf=function(e){return function(t){return typeof t===e}},Jf=Array.isArray,$f=Zf("undefined");var ed=Yf("ArrayBuffer");var td=Zf("string"),nd=Zf("function"),rd=Zf("number"),id=function(e){return null!==e&&"object"===typeof e},ad=function(e){if("object"!==qf(e))return!1;var t=Xf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},od=Yf("Date"),sd=Yf("File"),ud=Yf("Blob"),ld=Yf("FileList"),cd=Yf("URLSearchParams");function Ad(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Jf(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function fd(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var dd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,hd=function(e){return!$f(e)&&e!==dd};var pd,vd=(pd="undefined"!==typeof Uint8Array&&Xf(Uint8Array),function(e){return pd&&e instanceof pd}),gd=Yf("HTMLFormElement"),md=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),yd=Yf("RegExp"),bd=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Ad(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},wd="abcdefghijklmnopqrstuvwxyz",xd="0123456789",_d={DIGIT:xd,ALPHA:wd,ALPHA_DIGIT:wd+wd.toUpperCase()+xd};var Cd=Yf("AsyncFunction"),Ed={isArray:Jf,isArrayBuffer:ed,isBuffer:function(e){return null!==e&&!$f(e)&&null!==e.constructor&&!$f(e.constructor)&&nd(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||nd(e.append)&&("formdata"===(t=qf(e))||"object"===t&&nd(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ed(e.buffer)},isString:td,isNumber:rd,isBoolean:function(e){return!0===e||!1===e},isObject:id,isPlainObject:ad,isUndefined:$f,isDate:od,isFile:sd,isBlob:ud,isRegExp:yd,isFunction:nd,isStream:function(e){return id(e)&&nd(e.pipe)},isURLSearchParams:cd,isTypedArray:vd,isFileList:ld,forEach:Ad,merge:function e(){for(var t=(hd(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&fd(n,i)||i;ad(n[a])&&ad(r)?n[a]=e(n[a],r):ad(r)?n[a]=e({},r):Jf(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&Ad(arguments[i],r);return n},extend:function(e,t,n){return Ad(t,(function(t,r){n&&nd(t)?e[r]=Vf(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Xf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:qf,kindOfTest:Yf,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(Jf(e))return e;var t=e.length;if(!rd(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:gd,hasOwnProperty:md,hasOwnProp:md,reduceDescriptors:bd,freezeMethods:function(e){bd(e,(function(t,n){if(nd(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];nd(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return Jf(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:fd,global:dd,isContextDefined:hd,ALPHABET:_d,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_d.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&nd(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(id(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=Jf(n)?[]:{};return Ad(n,(function(t,n){var a=e(t,r+1);!$f(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:Cd,isThenable:function(e){return e&&(id(e)||nd(e))&&nd(e.then)&&nd(e.catch)}};function Sd(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Ed.inherits(Sd,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ed.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Bd=Sd.prototype,Td={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Td[e]={value:e}})),Object.defineProperties(Sd,Td),Object.defineProperty(Bd,"isAxiosError",{value:!0}),Sd.from=function(e,t,n,r,i,a){var o=Object.create(Bd);return Ed.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Sd.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Id=Sd;function kd(e){return Ed.isPlainObject(e)||Ed.isArray(e)}function Md(e){return Ed.endsWith(e,"[]")?e.slice(0,-2):e}function Rd(e,t,n){return e?e.concat(t).map((function(e,t){return e=Md(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Ud=Ed.toFlatObject(Ed,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Fd=function(e,t,n){if(!Ed.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=Ed.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ed.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Ed.isSpecCompliantForm(t);if(!Ed.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(Ed.isDate(e))return e.toISOString();if(!s&&Ed.isBlob(e))throw new Id("Blob is not supported. Use a Buffer instead.");return Ed.isArrayBuffer(e)||Ed.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(Ed.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ed.isArray(e)&&function(e){return Ed.isArray(e)&&!e.some(kd)}(e)||(Ed.isFileList(e)||Ed.endsWith(n,"[]"))&&(s=Ed.toArray(e)))return n=Md(n),s.forEach((function(e,r){!Ed.isUndefined(e)&&null!==e&&t.append(!0===o?Rd([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!kd(e)||(t.append(Rd(i,n,a),u(e)),!1)}var c=[],A=Object.assign(Ud,{defaultVisitor:l,convertValue:u,isVisitable:kd});if(!Ed.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ed.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Ed.forEach(n,(function(n,a){!0===(!(Ed.isUndefined(n)||null===n)&&i.call(t,n,Ed.isString(a)?a.trim():a,r,A))&&e(n,r?r.concat(a):[a])})),c.pop()}}(e),t};function Od(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Pd(e,t){this._pairs=[],e&&Fd(e,this,t)}var Dd=Pd.prototype;Dd.append=function(e,t){this._pairs.push([e,t])},Dd.toString=function(e){var t=e?function(t){return e.call(this,t,Od)}:Od;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Ld=Pd;function Nd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qd(e,t,n){if(!t)return e;var r,i=n&&n.encode||Nd,a=n&&n.serialize;if(r=a?a(t,n):Ed.isURLSearchParams(t)?t.toString():new Ld(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var Hd=function(){function e(){c(this,e),this.handlers=[]}return h(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Ed.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),jd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zd={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ld,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var Gd=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&Ed.isArray(r)?r.length:a,s?(Ed.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Ed.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Ed.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Ed.isFormData(e)&&Ed.isFunction(e.entries)){var n={};return Ed.forEachEntry(e,(function(e,r){t(function(e){return Ed.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var Vd={transitional:jd,adapter:zd.isNode?"http":"xhr",transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Ed.isObject(e);if(a&&Ed.isHTMLForm(e)&&(e=new FormData(e)),Ed.isFormData(e))return i&&i?JSON.stringify(Gd(e)):e;if(Ed.isArrayBuffer(e)||Ed.isBuffer(e)||Ed.isStream(e)||Ed.isFile(e)||Ed.isBlob(e))return e;if(Ed.isArrayBufferView(e))return e.buffer;if(Ed.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Fd(e,new zd.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return zd.isNode&&Ed.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Ed.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Fd(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Ed.isString(e))try{return(t||JSON.parse)(e),Ed.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Vd.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Ed.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Id.from(a,Id.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zd.classes.FormData,Blob:zd.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ed.forEach(["delete","get","head","post","put","patch"],(function(e){Vd.headers[e]={}}));var Wd=Vd,Kd=Ed.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xd=Symbol("internals");function qd(e){return e&&String(e).trim().toLowerCase()}function Yd(e){return!1===e||null==e?e:Ed.isArray(e)?e.map(Yd):String(e)}function Zd(e,t,n,r,i){return Ed.isFunction(r)?r.call(this,t,n):(i&&(t=n),Ed.isString(t)?Ed.isString(r)?-1!==t.indexOf(r):Ed.isRegExp(r)?r.test(t):void 0:void 0)}var Jd=function(e,t){function n(e){c(this,n),e&&this.set(e)}return h(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=qd(t);if(!i)throw new Error("header name must be a non-empty string");var a=Ed.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Yd(e))}var a=function(e,t){return Ed.forEach(e,(function(e,n){return i(e,n,t)}))};return Ed.isPlainObject(e)||e instanceof this.constructor?a(e,t):Ed.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Kd[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=qd(e)){var n=Ed.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Ed.isFunction(t))return t.call(this,r,n);if(Ed.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=qd(e)){var n=Ed.findKey(this,e);return!(!n||void 0===this[n]||t&&!Zd(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=qd(e)){var i=Ed.findKey(n,e);!i||t&&!Zd(0,n[i],i,t)||(delete n[i],r=!0)}}return Ed.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!Zd(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return Ed.forEach(this,(function(r,i){var a=Ed.findKey(n,i);if(a)return t[a]=Yd(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Yd(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Ed.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Ed.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=l(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Xd]=this[Xd]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=qd(e);t[r]||(!function(e,t){var n=Ed.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Ed.isArray(e)?e.forEach(r):r(e),this}}]),n}();Jd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ed.reduceDescriptors(Jd.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),Ed.freezeMethods(Jd);var $d=Jd;function eh(e,t){var n=this||Wd,r=t||n,i=$d.from(r.headers),a=r.data;return Ed.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function th(e){return!(!e||!e.__CANCEL__)}function nh(e,t,n){Id.call(this,null==e?"canceled":e,Id.ERR_CANCELED,t,n),this.name="CanceledError"}Ed.inherits(nh,Id,{__CANCEL__:!0});var rh=nh;var ih=zd.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Ed.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ed.isString(r)&&o.push("path="+r),Ed.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function ah(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var oh=zd.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Ed.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var sh=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),l=i[o];n||(n=u),r[a]=s,i[a]=u;for(var c=o,A=0;c!==a;)A+=r[c++],c%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var f=l&&u-l;return f?Math.round(1e3*A/f):void 0}}};function uh(e,t){var n=0,r=sh(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var l={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}var lh="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=$d.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Ed.isFormData(i)&&(zd.isStandardBrowserEnv||zd.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var u=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(l+":"+c))}var A=ah(e.baseURL,e.url);function f(){if(u){var r=$d.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Id("Request failed with status code "+n.status,[Id.ERR_BAD_REQUEST,Id.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),Qd(A,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(f)},u.onabort=function(){u&&(n(new Id("Request aborted",Id.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new Id("Network Error",Id.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||jd;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Id(t,r.clarifyTimeoutError?Id.ETIMEDOUT:Id.ECONNABORTED,e,u)),u=null},zd.isStandardBrowserEnv){var d=(e.withCredentials||oh(A))&&e.xsrfCookieName&&ih.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&Ed.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Ed.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",uh(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",uh(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new rh(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var h=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(A);h&&-1===zd.protocols.indexOf(h)?n(new Id("Unsupported protocol "+h+":",Id.ERR_BAD_REQUEST,e)):u.send(i||null)}))},ch={http:null,xhr:lh};Ed.forEach(ch,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Ah=function(e){for(var t,n,r=(e=Ed.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=Ed.isString(t)?ch[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new Id("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Ed.hasOwnProp(ch,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!Ed.isFunction(n))throw new TypeError("adapter is not a function");return n};function fh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rh(null,e)}function dh(e){return fh(e),e.headers=$d.from(e.headers),e.data=eh.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ah(e.adapter||Wd.adapter)(e).then((function(t){return fh(e),t.data=eh.call(e,e.transformResponse,t),t.headers=$d.from(t.headers),t}),(function(t){return th(t)||(fh(e),t&&t.response&&(t.response.data=eh.call(e,e.transformResponse,t.response),t.response.headers=$d.from(t.response.headers))),Promise.reject(t)}))}var hh=function(e){return e instanceof $d?e.toJSON():e};function ph(e,t){t=t||{};var n={};function r(e,t,n){return Ed.isPlainObject(e)&&Ed.isPlainObject(t)?Ed.merge.call({caseless:n},e,t):Ed.isPlainObject(t)?Ed.merge({},t):Ed.isArray(t)?t.slice():t}function i(e,t,n){return Ed.isUndefined(t)?Ed.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Ed.isUndefined(t))return r(void 0,t)}function o(e,t){return Ed.isUndefined(t)?Ed.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(hh(e),hh(t),!0)}};return Ed.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);Ed.isUndefined(o)&&a!==s||(n[r]=o)})),n}var vh="1.5.0",gh={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){gh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var mh={};gh.transitional=function(e,t,n){function r(e,t){return"[Axios v1.5.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Id(r(i," has been removed"+(t?" in "+t:"")),Id.ERR_DEPRECATED);return t&&!mh[i]&&(mh[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var yh={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Id("options must be an object",Id.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new Id("option "+a+" must be "+u,Id.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Id("Unknown option "+a,Id.ERR_BAD_OPTION)}},validators:gh},bh=yh.validators,wh=function(){function e(t){c(this,e),this.defaults=t,this.interceptors={request:new Hd,response:new Hd}}return h(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=ph(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&yh.assertOptions(r,{silentJSONParsing:bh.transitional(bh.boolean),forcedJSONParsing:bh.transitional(bh.boolean),clarifyTimeoutError:bh.transitional(bh.boolean)},!1),null!=i&&(Ed.isFunction(i)?t.paramsSerializer={serialize:i}:yh.assertOptions(i,{encode:bh.function,serialize:bh.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&Ed.merge(a.common,a[t.method]);a&&Ed.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=$d.concat(o,a);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var l,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var A,f=0;if(!u){var d=[dh.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,c),A=d.length,l=Promise.resolve(t);f<A;)l=l.then(d[f++],d[f++]);return l}A=s.length;var h=t;for(f=0;f<A;){var p=s[f++],v=s[f++];try{h=p(h)}catch(g){v.call(this,g);break}}try{l=dh.call(this,h)}catch(g){return Promise.reject(g)}for(f=0,A=c.length;f<A;)l=l.then(c[f++],c[f++]);return l}},{key:"getUri",value:function(e){return Qd(ah((e=ph(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Ed.forEach(["delete","get","head","options"],(function(e){wh.prototype[e]=function(t,n){return this.request(ph(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ed.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(ph(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}wh.prototype[e]=t(),wh.prototype[e+"Form"]=t(!0)}));var xh=wh,_h=function(){function e(t){if(c(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new rh(e,t,i),n(r.reason))}))}return h(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Ch=_h;var Eh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Eh).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];Eh[r]=n}));var Sh=Eh;var Bh=function e(t){var n=new xh(t),r=Vf(xh.prototype.request,n);return Ed.extend(r,xh.prototype,n,{allOwnKeys:!0}),Ed.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ph(t,n))},r}(Wd);Bh.Axios=xh,Bh.CanceledError=rh,Bh.CancelToken=Ch,Bh.isCancel=th,Bh.VERSION=vh,Bh.toFormData=Fd,Bh.AxiosError=Id,Bh.Cancel=Bh.CanceledError,Bh.all=function(e){return Promise.all(e)},Bh.spread=function(e){return function(t){return e.apply(null,t)}},Bh.isAxiosError=function(e){return Ed.isObject(e)&&!0===e.isAxiosError},Bh.mergeConfig=ph,Bh.AxiosHeaders=$d,Bh.formToJSON=function(e){return Gd(Ed.isHTMLForm(e)?new FormData(e):e)},Bh.getAdapter=Ah,Bh.HttpStatusCode=Sh,Bh.default=Bh;var Th=Bh,Ih=function(e){var t=localStorage.getItem("token");return t&&e.headers.set("Authorization","Bearer ".concat(t)),e},kh=function(e){return Promise.reject(e)},Mh=function(e){return e},Rh=function(e){return Promise.reject(e)};var Uh,Fh,Oh=Th.create({baseURL:"http://49.50.165.8:8080"}),Ph=((Uh=Oh).interceptors.request.use(Ih,kh),Uh.interceptors.response.use(Mh,Rh),Uh),Dh={getDailyLookList:function(){var e=C(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ph.get("/daily/clothes?category=".concat(t.category||"","&height=").concat(t.height||"","&season=").concat(t.season||"","&sex=").concat(t.sex||"","&weigh=").concat(t.weigh||"","&page=0&pageSize=200"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getDailyLookDetail:function(){var e=C(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ph.get("/daily/clothes/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getEvent:function(){var e=C(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ph.get("/events");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),postDailyLook:function(){var e=C(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ph.post("/daily/clothes",t,{headers:{"Content-Type":"multipart/form-data"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Lh=__webpack_require__(4021);var Nh,Qh,Hh,jh,zh,Gh,Vh,Wh,Kh,Xh,qh,Yh,Zh,Jh=function(e){var t=e.children,r=e.className,i=e.autoplay,a=void 0===i||i,o=e.speed,s=void 0===o?2e3:o,u=e.loop,l=void 0===u||u,c=e.setSelectItem,A=(0,n.useMemo)((function(){return{dots:!1,infinite:l,speed:s,slidesToShow:1,autoplay:Boolean(a),autoplaySpeed:"boolean"===typeof a?3e3:a}}),[a,l,s]);return(0,mn.jsx)($h,{className:r,children:(0,mn.jsx)(Lh.Z,qn(qn({},A),{},{beforeChange:function(e,t){return c&&c(t)},children:t}))})},$h=gn.default.section(Fh||(Fh=sn(["\n  width: 100%;\n  position: relative;\n"]))),ep=[{label:"\uc804\uccb4",value:""},{label:"\ub0a8",value:"BOY"},{label:"\uc5ec",value:"GIRL"}],tp=[{label:"\uc804\uccb4",value:""},{label:"70cm \uc774\ud558",value:1},{label:"71~90cm",value:2},{label:"91~110cm",value:3},{label:"110cm",value:4}],np=[{label:"\uc804\uccb4",value:0},{label:"10kg \uc774\ud558",value:1},{label:"11-15kg",value:2},{label:"16-20kg",value:3},{label:"21-30kg",value:4},{label:"30kg \uc774\uc0c1",value:5}],rp=[{label:"\uc804\uccb4",value:""},{label:"\ubd04",value:"SPRING"},{label:"\uc5ec\ub984",value:"SUMMER"},{label:"\uac00\uc744",value:"AUTUMN"},{label:"\uaca8\uc6b8",value:"WINTER"}],ip=[{label:"\uc804\uccb4",value:""},{label:"\uc0c1\uc758",value:"ACCESSORY"},{label:"\ud558\uc758",value:"BOTTOM"},{label:"\uc544\uc6b0\ud130",value:"ETC"},{label:"\uc545\uc138\uc0ac\ub9ac",value:"OUTER"},{label:"\uc2e0\ubc1c",value:"SHOES"},{label:"\uae30\ud0c0",value:"TOP"}];function ap(){var e,t,r,i,a,o,s,u,c,A,f,d,h,p=l((0,n.useState)(!1),2),v=p[0],g=p[1],m=l(dA(hA),2)[1],y=l((0,n.useState)(0),2),b=(y[0],y[1]),w=(0,gn.useTheme)(),_=Et(),E=l((0,n.useState)(!1),2),S=E[0],B=E[1],T=l((0,n.useState)(!1),2),I=T[0],k=T[1],M=l((0,n.useState)(!1),2),R=M[0],U=M[1],F=l((0,n.useState)(!1),2),O=F[0],P=F[1],D=l((0,n.useState)(!1),2),L=D[0],N=D[1],Q=l(dA(pA),2),H=Q[0],j=Q[1],z=l(dA(vA),2),G=z[0],V=z[1],W=l(dA(gA),2),K=W[0],X=W[1],q=l(dA(mA),2),Y=q[0],Z=q[1],J=l(dA(yA),2),$=J[0],ee=J[1],te=function(){B(!1),k(!1),U(!1),P(!1),N(!1),ie()},ne=(h={height:null===H||void 0===H?void 0:H.value,category:null===G||void 0===G?void 0:G.value,season:null===K||void 0===K?void 0:K.value,sex:null===Y||void 0===Y?void 0:Y.value,weigh:null===$||void 0===$?void 0:$.value},Df(["dailylook-list"],C(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dh.getDailyLookList(h);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{retry:!1})),re=ne.data,ie=ne.refetch,ae=Df(["event-list"],C(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dh.getEvent();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{retry:!1}).data;return(0,n.useEffect)((function(){v||te()}),[v]),(0,mn.jsxs)(up,{children:[(0,mn.jsxs)(lp,{children:[(0,mn.jsx)(vp,{children:null!==ae&&void 0!==ae&&null!==(e=ae.data)&&void 0!==e&&null!==(t=e.events)&&void 0!==t&&t.length&&(null===ae||void 0===ae||null===(r=ae.data)||void 0===r||null===(i=r.events)||void 0===i?void 0:i.length)>1?(0,mn.jsx)(Jh,{setSelectItem:b,children:null===ae||void 0===ae||null===(a=ae.data)||void 0===a?void 0:a.events.map((function(e){return(0,mn.jsx)(Ap,{src:e.imageUrl},e.id)}))}):(0,mn.jsx)(Ap,{src:null===ae||void 0===ae||null===(o=ae.data)||void 0===o?void 0:o.events[0].imageUrl})}),(0,mn.jsxs)(mp,{children:[(0,mn.jsx)(gp,{onClick:function(){m(!0),g(!0)},children:(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(wn,{}),"\ud544\ud130"]})}),v&&(0,mn.jsx)(fp,{onClick:function(){m(!1),g(!1)},children:(0,mn.jsxs)(dp,{onClick:function(e){e.stopPropagation(),te()},children:[(0,mn.jsx)(hp,{children:(0,mn.jsx)(xn,{})}),(0,mn.jsxs)(yp,{children:[(0,mn.jsxs)(bp,{children:[(0,mn.jsx)(pp,{children:"\uc131\ubcc4"}),(0,mn.jsx)(kA,{options:ep,select:H,onSelect:function(e){j(e)},isOpen:S,setIsOpen:B,allClose:te})]}),(0,mn.jsxs)(bp,{children:[(0,mn.jsx)(pp,{children:"\ud0a4"}),(0,mn.jsx)(kA,{options:tp,select:G,onSelect:function(e){V(e)},isOpen:I,setIsOpen:k,allClose:te})]}),(0,mn.jsxs)(bp,{children:[(0,mn.jsx)(pp,{children:"\ubab8\ubb34\uac8c"}),(0,mn.jsx)(kA,{options:np,select:K,onSelect:function(e){X(e)},isOpen:R,setIsOpen:U,allClose:te})]}),(0,mn.jsxs)(bp,{children:[(0,mn.jsx)(pp,{children:"\uacc4\uc808"}),(0,mn.jsx)(kA,{options:rp,select:Y,onSelect:function(e){Z(e)},isOpen:O,setIsOpen:P,allClose:te})]}),(0,mn.jsxs)(bp,{children:[(0,mn.jsx)(pp,{children:"\uce74\ud14c\uace0\ub9ac"}),(0,mn.jsx)(kA,{options:ip,select:$,onSelect:function(e){ee(e)},isOpen:L,setIsOpen:N,allClose:te})]})]})]})})]}),v&&(0,mn.jsx)(fp,{onClick:function(){m(!1),g(!1)}}),(0,mn.jsx)(cp,{children:null!==re&&void 0!==re&&null!==(s=re.data)&&void 0!==s&&null!==(u=s.dailyLooks)&&void 0!==u&&u.length&&(null===re||void 0===re||null===(c=re.data)||void 0===c||null===(A=c.dailyLooks)||void 0===A?void 0:A.length)>0?null===re||void 0===re||null===(f=re.data)||void 0===f||null===(d=f.dailyLooks)||void 0===d?void 0:d.map((function(e,t){return(0,mn.jsx)(Gn,{hashTag:e.hashTag,dailyLookId:e.dailyLookId,user:e.user,imageUrls:e.imageUrls},e.user.name+e.user.userId+t)})):void 0})]}),(0,mn.jsx)(Wn,{onClick:function(){return _("dailylook-post")},children:(0,mn.jsx)(Cn,{color:w.colors.neutral[4]})})]})}var op,sp,up=gn.default.div(Nh||(Nh=sn(["\n  display: flex;\n  flex-direction: column;\n"]))),lp=gn.default.div(Qh||(Qh=sn(["\n  padding: 20px;\n"]))),cp=gn.default.div(Hh||(Hh=sn(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin-top: 10px;\n  gap: 20px;\n"]))),Ap=gn.default.img(jh||(jh=sn(["\n  object-fit: fill;\n  width: 100%;\n  height: 90px;\n"]))),fp=gn.default.div(zh||(zh=sn(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #000000aa;\n"]))),dp=gn.default.div(Gh||(Gh=sn(["\n  position: absolute;\n  z-index: 2;\n  top: 40px;\n  right: 0;\n  width: 50%;\n  display: flex;\n  align-items: flex-end;\n  background-color: transparent;\n"]))),hp=gn.default.div(Vh||(Vh=sn(["\n  position: absolute;\n  top: -10px;\n  right: 15px;\n"]))),pp=gn.default.div(Wh||(Wh=sn(["\n  font-size: 13px;\n  white-space: nowrap;\n"]))),vp=gn.default.div(Kh||(Kh=sn(["\n  width: 100%;\n  overflow: hidden;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),gp=gn.default.button(Xh||(Xh=sn(["\n  display: flex;\n  align-items: center;\n  border: none;\n  font-size: 13px;\n  background-color: white;\n  cursor: pointer;\n  gap: 3.3px;\n"]))),mp=gn.default.div(qh||(qh=sn(["\n  display: flex;\n  align-items: center;\n  background-color: white;\n  position: sticky;\n  justify-content: flex-end;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  gap: 3px;\n  top: 0;\n  z-index: 2;\n  width: 100%;\n  margin-top: 40px;\n"]))),yp=gn.default.div(Yh||(Yh=sn(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  padding-top: 10px;\n  width: 100%;\n  background-color: white;\n  border-radius: 10px;\n  gap: 10px;\n"]))),bp=gn.default.div(Zh||(Zh=sn(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n"])));function wp(){return(0,mn.jsx)("div",{children:"\ub0b4\uc815\ubcf4"})}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xp.apply(this,arguments)}function _p(){return _p="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_p.apply(this,arguments)}var Cp="156",Ep={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Sp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Bp=0,Tp=1,Ip=2,kp=3,Mp=0,Rp=1,Up=2,Fp=3,Op=0,Pp=1,Dp=2,Lp=2,Np=0,Qp=1,Hp=2,jp=3,zp=4,Gp=5,Vp=100,Wp=101,Kp=102,Xp=103,qp=104,Yp=200,Zp=201,Jp=202,$p=203,ev=204,tv=205,nv=206,rv=207,iv=208,av=209,ov=210,sv=0,uv=1,lv=2,cv=3,Av=4,fv=5,dv=6,hv=7,pv=0,vv=1,gv=2,mv=0,yv=1,bv=2,wv=3,xv=4,_v=5,Cv=300,Ev=301,Sv=302,Bv=303,Tv=304,Iv=306,kv=1e3,Mv=1001,Rv=1002,Uv=1003,Fv=1004,Ov=1004,Pv=1005,Dv=1005,Lv=1006,Nv=1007,Qv=1007,Hv=1008,jv=1008,zv=1009,Gv=1010,Vv=1011,Wv=1012,Kv=1013,Xv=1014,qv=1015,Yv=1016,Zv=1017,Jv=1018,$v=1020,eg=1021,tg=1023,ng=1024,rg=1025,ig=1026,ag=1027,og=1028,sg=1029,ug=1030,lg=1031,cg=1033,Ag=33776,fg=33777,dg=33778,hg=33779,pg=35840,vg=35841,gg=35842,mg=35843,yg=36196,bg=37492,wg=37496,xg=37808,_g=37809,Cg=37810,Eg=37811,Sg=37812,Bg=37813,Tg=37814,Ig=37815,kg=37816,Mg=37817,Rg=37818,Ug=37819,Fg=37820,Og=37821,Pg=36492,Dg=36494,Lg=36495,Ng=36283,Qg=36284,Hg=36285,jg=36286,zg=2200,Gg=2201,Vg=2202,Wg=2300,Kg=2301,Xg=2302,qg=2400,Yg=2401,Zg=2402,Jg=2500,$g=2501,em=0,tm=1,nm=2,rm=3e3,im=3001,am=3200,om=3201,sm=0,um=1,lm="",cm="srgb",Am="srgb-linear",fm="display-p3",dm="display-p3-linear",hm=0,pm=7680,vm=7681,gm=7682,mm=7683,ym=34055,bm=34056,wm=5386,xm=512,_m=513,Cm=514,Em=515,Sm=516,Bm=517,Tm=518,Im=519,km=512,Mm=513,Rm=514,Um=515,Fm=516,Om=517,Pm=518,Dm=519,Lm=35044,Nm=35048,Qm=35040,Hm=35045,jm=35049,zm=35041,Gm=35046,Vm=35050,Wm=35042,Km="100",Xm="300 es",qm=1035,Ym=2e3,Zm=2001,Jm=function(){function e(){c(this,e)}return h(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),$m=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],ey=1234567,ty=Math.PI/180,ny=180/Math.PI;function ry(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return($m[255&e]+$m[e>>8&255]+$m[e>>16&255]+$m[e>>24&255]+"-"+$m[255&t]+$m[t>>8&255]+"-"+$m[t>>16&15|64]+$m[t>>24&255]+"-"+$m[63&n|128]+$m[n>>8&255]+"-"+$m[n>>16&255]+$m[n>>24&255]+$m[255&r]+$m[r>>8&255]+$m[r>>16&255]+$m[r>>24&255]).toLowerCase()}function iy(e,t,n){return Math.max(t,Math.min(n,e))}function ay(e,t){return(e%t+t)%t}function oy(e,t,n){return(1-n)*e+n*t}function sy(e){return 0===(e&e-1)&&0!==e}function uy(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function ly(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function cy(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Ay(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var fy={DEG2RAD:ty,RAD2DEG:ny,generateUUID:ry,clamp:iy,euclideanModulo:ay,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:oy,damp:function(e,t,n,r){return oy(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(ay(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(ey=e);var t=ey+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*ty},radToDeg:function(e){return e*ny},isPowerOfTwo:sy,ceilPowerOfTwo:uy,floorPowerOfTwo:ly,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),u=o(n/2),l=a((t+r)/2),c=o((t+r)/2),A=a((t-r)/2),f=o((t-r)/2),d=a((r-t)/2),h=o((r-t)/2);switch(i){case"XYX":e.set(s*c,u*A,u*f,s*l);break;case"YZY":e.set(u*f,s*c,u*A,s*l);break;case"ZXZ":e.set(u*A,u*f,s*c,s*l);break;case"XZX":e.set(s*c,u*h,u*d,s*l);break;case"YXY":e.set(u*d,s*c,u*h,s*l);break;case"ZYZ":e.set(u*h,u*d,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Ay,denormalize:cy},dy=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return h(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(iy(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),hy=function(){function e(t,n,r,i,a,o,s,u,l){c(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l)}return h(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],A=n[2],f=n[5],d=n[8],h=r[0],p=r[3],v=r[6],g=r[1],m=r[4],y=r[7],b=r[2],w=r[5],x=r[8];return i[0]=a*h+o*g+s*b,i[3]=a*p+o*m+s*w,i[6]=a*v+o*y+s*x,i[1]=u*h+l*g+c*b,i[4]=u*p+l*m+c*w,i[7]=u*v+l*y+c*x,i[2]=A*h+f*g+d*b,i[5]=A*p+f*m+d*w,i[8]=A*v+f*y+d*x,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,A=o*s-l*i,f=u*i-a*s,d=t*c+n*A+r*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var h=1/d;return e[0]=c*h,e[1]=(r*u-l*n)*h,e[2]=(o*n-r*a)*h,e[3]=A*h,e[4]=(l*t-r*s)*h,e[5]=(r*i-o*t)*h,e[6]=f*h,e[7]=(n*s-u*t)*h,e[8]=(a*t-n*i)*h,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(py.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(py.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(py.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),py=new hy;function vy(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var gy={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function my(e,t){return new gy[e](t)}function yy(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function by(){var e=yy("canvas");return e.style.display="block",e}var wy={};function xy(e){e in wy||(wy[e]=!0,console.warn(e))}function _y(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Cy(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Ey=(new hy).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Sy=(new hy).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);var By,Ty=(E(op={},Am,(function(e){return e})),E(op,cm,(function(e){return e.convertSRGBToLinear()})),E(op,fm,(function(e){return e.convertSRGBToLinear().applyMatrix3(Sy)})),op),Iy=(E(sp={},Am,(function(e){return e})),E(sp,cm,(function(e){return e.convertLinearToSRGB()})),E(sp,fm,(function(e){return e.applyMatrix3(Ey).convertLinearToSRGB()})),sp),ky={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return Am},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=Ty[t],i=Iy[n];if(void 0===r||void 0===i)throw new Error('Unsupported color space conversion, "'.concat(t,'" to "').concat(n,'".'));return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},My=function(){function e(){c(this,e)}return h(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===By&&(By=yy("canvas")),By.width=e.width,By.height=e.height;var n=By.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=By}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=yy("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*_y(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*_y(o[s]/255)):o[s]=_y(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Ry=0,Uy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c(this,e),this.isSource=!0,Object.defineProperty(this,"id",{value:Ry++}),this.uuid=ry(),this.data=t,this.version=0}return h(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(Fy(r[a].image)):i.push(Fy(r[a]))}else i=Fy(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function Fy(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?My.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Oy=0,Py=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mv,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mv,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lv,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hv,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:tg,A=arguments.length>7&&void 0!==arguments[7]?arguments[7]:zv,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:lm;return c(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(y(e),"id",{value:Oy++}),e.uuid=ry(),e.name="",e.source=new Uy(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=f,e.format=l,e.internalFormat=null,e.type=A,e.offset=new dy(0,0),e.repeat=new dy(1,1),e.center=new dy(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new hy,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,"string"===typeof d?e.colorSpace=d:(xy("THREE.Texture: Property .encoding has been replaced by .colorSpace."),e.colorSpace=d===im?cm:lm),e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return h(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==Cv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case kv:e.x=e.x-Math.floor(e.x);break;case Mv:e.x=e.x<0?0:1;break;case Rv:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case kv:e.y=e.y-Math.floor(e.y);break;case Mv:e.y=e.y<0?0:1;break;case Rv:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return xy("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===cm?im:rm},set:function(e){xy("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===im?cm:lm}}]),n}(Jm);Py.DEFAULT_IMAGE=null,Py.DEFAULT_MAPPING=Cv,Py.DEFAULT_ANISOTROPY=1;var Dy=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;c(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return h(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],A=s[1],f=s[5],d=s[9],h=s[2],p=s[6],v=s[10];if(Math.abs(l-A)<a&&Math.abs(c-h)<a&&Math.abs(d-p)<a){if(Math.abs(l+A)<o&&Math.abs(c+h)<o&&Math.abs(d+p)<o&&Math.abs(u+f+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,m=(f+1)/2,y=(v+1)/2,b=(l+A)/4,w=(c+h)/4,x=(d+p)/4;return g>m&&g>y?g<a?(n=0,r=.707106781,i=.707106781):(r=b/(n=Math.sqrt(g)),i=w/n):m>y?m<a?(n=.707106781,r=0,i=.707106781):(n=b/(r=Math.sqrt(m)),i=x/r):y<a?(n=.707106781,r=.707106781,i=0):(n=w/(i=Math.sqrt(y)),r=x/i),this.set(n,r,i,t),this}var _=Math.sqrt((p-d)*(p-d)+(c-h)*(c-h)+(A-l)*(A-l));return Math.abs(_)<.001&&(_=1),this.x=(p-d)/_,this.y=(c-h)/_,this.z=(A-l)/_,this.w=Math.acos((u+f+v-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),Ly=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c(this,n),(e=t.call(this)).isRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new Dy(0,0,r,i),e.scissorTest=!1,e.viewport=new Dy(0,0,r,i);var o={width:r,height:i,depth:1};return void 0!==a.encoding&&(xy("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),a.colorSpace=a.encoding===im?cm:lm),e.texture=new Py(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:Lv,e.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,e.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,e.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,e.samples=void 0!==a.samples?a.samples:0,e}return h(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new Uy(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Jm),Ny=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c(this,n),(e=t.call(this,r,i,a)).isWebGLRenderTarget=!0,e}return h(n)}(Ly),Qy=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return c(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Uv,e.minFilter=Uv,e.wrapR=Mv,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return h(n)}(Py),Hy=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return c(this,n),(e=t.call(this,r,i)).isWebGLArrayRenderTarget=!0,e.depth=a,e.texture=new Qy(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return h(n)}(Ny),jy=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return c(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Uv,e.minFilter=Uv,e.wrapR=Mv,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return h(n)}(Py),zy=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return c(this,n),(e=t.call(this,r,i)).isWebGL3DRenderTarget=!0,e.depth=a,e.texture=new jy(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return h(n)}(Ny),Gy=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};c(this,n),(e=t.call(this,r,i,o)).isWebGLMultipleRenderTargets=!0;var s=e.texture;e.texture=[];for(var u=0;u<a;u++)e.texture[u]=s.clone(),e.texture[u].isRenderTargetTexture=!0;return e}return h(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}]),n}(Ny),Vy=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;c(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return h(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),A=s(n/2),f=s(r/2),d=s(i/2);switch(a){case"XYZ":this._x=A*l*c+u*f*d,this._y=u*f*c-A*l*d,this._z=u*l*d+A*f*c,this._w=u*l*c-A*f*d;break;case"YXZ":this._x=A*l*c+u*f*d,this._y=u*f*c-A*l*d,this._z=u*l*d-A*f*c,this._w=u*l*c+A*f*d;break;case"ZXY":this._x=A*l*c-u*f*d,this._y=u*f*c+A*l*d,this._z=u*l*d+A*f*c,this._w=u*l*c-A*f*d;break;case"ZYX":this._x=A*l*c-u*f*d,this._y=u*f*c+A*l*d,this._z=u*l*d-A*f*c,this._w=u*l*c+A*f*d;break;case"YZX":this._x=A*l*c+u*f*d,this._y=u*f*c+A*l*d,this._z=u*l*d-A*f*c,this._w=u*l*c-A*f*d;break;case"XZY":this._x=A*l*c-u*f*d,this._y=u*f*c-A*l*d,this._z=u*l*d+A*f*c,this._w=u*l*c+A*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],A=n+o+c;if(A>0){var f=.5/Math.sqrt(A+1);this._w=.25/f,this._x=(l-s)*f,this._y=(i-u)*f,this._z=(a-r)*f}else if(n>o&&n>c){var d=2*Math.sqrt(1+n-o-c);this._w=(l-s)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(i+u)/d}else if(o>c){var h=2*Math.sqrt(1+o-n-c);this._w=(i-u)/h,this._x=(r+a)/h,this._y=.25*h,this._z=(s+l)/h}else{var p=2*Math.sqrt(1+c-n-o);this._w=(a-r)/p,this._x=(i+u)/p,this._y=(s+l)/p,this._z=.25*p}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(iy(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),A=Math.sin((1-t)*c)/l,f=Math.sin(t*c)/l;return this._w=a*A+this._w*f,this._x=n*A+this._x*f,this._y=r*A+this._y*f,this._z=i*A+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],A=i[a+0],f=i[a+1],d=i[a+2],h=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=A,e[t+1]=f,e[t+2]=d,void(e[t+3]=h);if(c!==h||s!==A||u!==f||l!==d){var p=1-o,v=s*A+u*f+l*d+c*h,g=v>=0?1:-1,m=1-v*v;if(m>Number.EPSILON){var y=Math.sqrt(m),b=Math.atan2(y,v*g);p=Math.sin(p*b)/y,o=Math.sin(o*b)/y}var w=o*g;if(s=s*p+A*w,u=u*p+f*w,l=l*p+d*w,c=c*p+h*w,p===1-o){var x=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=x,u*=x,l*=x,c*=x}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[a],A=i[a+1],f=i[a+2],d=i[a+3];return e[t]=o*d+l*c+s*f-u*A,e[t+1]=s*d+l*A+u*c-o*f,e[t+2]=u*d+l*f+o*A-s*c,e[t+3]=l*d-o*c-s*A-u*f,e}}]),t}(),Wy=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;c(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return h(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(Xy.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Xy.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,A=-i*t-a*n-o*r;return this.x=u*s+A*-i+l*-o-c*-a,this.y=l*s+A*-a+c*-i-u*-o,this.z=c*s+A*-o+u*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Ky.copy(this).projectOnVector(e),this.sub(Ky)}},{key:"reflect",value:function(e){return this.sub(Ky.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(iy(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Ky=new Wy,Xy=new Vy,qy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wy(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy(-1/0,-1/0,-1/0);c(this,e),this.isBox3=!0,this.min=t,this.max=n}return h(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(Zy.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(Zy.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Zy.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Jy.copy(e.boundingBox),Jy.applyMatrix4(e.matrixWorld),this.union(Jy);else{var n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)Zy.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Zy);else null===n.boundingBox&&n.computeBoundingBox(),Jy.copy(n.boundingBox),Jy.applyMatrix4(e.matrixWorld),this.union(Jy)}for(var o=e.children,s=0,u=o.length;s<u;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Zy),Zy.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(ab),ob.subVectors(this.max,ab),$y.subVectors(e.a,ab),eb.subVectors(e.b,ab),tb.subVectors(e.c,ab),nb.subVectors(eb,$y),rb.subVectors(tb,eb),ib.subVectors($y,tb);var t=[0,-nb.z,nb.y,0,-rb.z,rb.y,0,-ib.z,ib.y,nb.z,0,-nb.x,rb.z,0,-rb.x,ib.z,0,-ib.x,-nb.y,nb.x,0,-rb.y,rb.x,0,-ib.y,ib.x,0];return!!lb(t,$y,eb,tb,ob)&&(!!lb(t=[1,0,0,0,1,0,0,0,1],$y,eb,tb,ob)&&(sb.crossVectors(nb,rb),lb(t=[sb.x,sb.y,sb.z],$y,eb,tb,ob)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,Zy).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Zy).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Yy[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Yy[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Yy[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Yy[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Yy[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Yy[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Yy[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Yy[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Yy)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Yy=[new Wy,new Wy,new Wy,new Wy,new Wy,new Wy,new Wy,new Wy],Zy=new Wy,Jy=new qy,$y=new Wy,eb=new Wy,tb=new Wy,nb=new Wy,rb=new Wy,ib=new Wy,ab=new Wy,ob=new Wy,sb=new Wy,ub=new Wy;function lb(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){ub.fromArray(e,a);var s=i.x*Math.abs(ub.x)+i.y*Math.abs(ub.y)+i.z*Math.abs(ub.z),u=t.dot(ub),l=n.dot(ub),c=r.dot(ub);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var cb=new qy,Ab=new Wy,fb=new Wy,db=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wy,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;c(this,e),this.center=t,this.radius=n}return h(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):cb.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ab.subVectors(e,this.center);var t=Ab.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(Ab,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(fb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ab.copy(e.center).add(fb)),this.expandByPoint(Ab.copy(e.center).sub(fb))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),hb=new Wy,pb=new Wy,vb=new Wy,gb=new Wy,mb=new Wy,yb=new Wy,bb=new Wy,wb=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wy,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy(0,0,-1);c(this,e),this.origin=t,this.direction=n}return h(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,hb)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=hb.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(hb.copy(this.origin).addScaledVector(this.direction,t),hb.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){pb.copy(e).add(t).multiplyScalar(.5),vb.copy(t).sub(e).normalize(),gb.copy(this.origin).sub(pb);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(vb),c=gb.dot(this.direction),A=-gb.dot(vb),f=gb.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*c-A,s=u*d,(i=l*A-c)>=0)if(a>=-s)if(a<=s){var h=1/d;o=(i*=h)*(i+l*(a*=h)+2*c)+a*(l*i+a+2*A)+f}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*A)+f;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*A)+f;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-A),u))*(a+2*A)+f:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-A),u))*(a+2*A)+f):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-A),u))*(a+2*A)+f;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*A)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(pb).addScaledVector(vb,a),o}},{key:"intersectSphere",value:function(e,t){hb.subVectors(e.center,this.origin);var n=hb.dot(this.direction),r=hb.dot(hb)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,A=this.origin;return u>=0?(n=(e.min.x-A.x)*u,r=(e.max.x-A.x)*u):(n=(e.max.x-A.x)*u,r=(e.min.x-A.x)*u),l>=0?(i=(e.min.y-A.y)*l,a=(e.max.y-A.y)*l):(i=(e.max.y-A.y)*l,a=(e.min.y-A.y)*l),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-A.z)*c,s=(e.max.z-A.z)*c):(o=(e.max.z-A.z)*c,s=(e.min.z-A.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,hb)}},{key:"intersectTriangle",value:function(e,t,n,r,i){mb.subVectors(t,e),yb.subVectors(n,e),bb.crossVectors(mb,yb);var a,o=this.direction.dot(bb);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}gb.subVectors(this.origin,e);var s=a*this.direction.dot(yb.crossVectors(gb,yb));if(s<0)return null;var u=a*this.direction.dot(mb.cross(gb));if(u<0)return null;if(s+u>o)return null;var l=-a*gb.dot(bb);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),xb=function(){function e(t,n,r,i,a,o,s,u,l,A,f,d,h,p,v,g){c(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l,A,f,d,h,p,v,g)}return h(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,A,f,d,h,p){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=c,v[14]=A,v[3]=f,v[7]=d,v[11]=h,v[15]=p,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/_b.setFromMatrixColumn(e,0).length(),i=1/_b.setFromMatrixColumn(e,1).length(),a=1/_b.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var A=a*l,f=a*c,d=o*l,h=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=f+d*u,t[5]=A-h*u,t[9]=-o*s,t[2]=h-A*u,t[6]=d+f*u,t[10]=a*s}else if("YXZ"===e.order){var p=s*l,v=s*c,g=u*l,m=u*c;t[0]=p+m*o,t[4]=g*o-v,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=v*o-g,t[6]=m+p*o,t[10]=a*s}else if("ZXY"===e.order){var y=s*l,b=s*c,w=u*l,x=u*c;t[0]=y-x*o,t[4]=-a*c,t[8]=w+b*o,t[1]=b+w*o,t[5]=a*l,t[9]=x-y*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var _=a*l,C=a*c,E=o*l,S=o*c;t[0]=s*l,t[4]=E*u-C,t[8]=_*u+S,t[1]=s*c,t[5]=S*u+_,t[9]=C*u-E,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var B=a*s,T=a*u,I=o*s,k=o*u;t[0]=s*l,t[4]=k-B*c,t[8]=I*c+T,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=T*c+I,t[10]=B-k*c}else if("XZY"===e.order){var M=a*s,R=a*u,U=o*s,F=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=M*c+F,t[5]=a*l,t[9]=R*c-U,t[2]=U*c-R,t[6]=o*l,t[10]=F*c+M}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Eb,e,Sb)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return Ib.subVectors(e,t),0===Ib.lengthSq()&&(Ib.z=1),Ib.normalize(),Bb.crossVectors(n,Ib),0===Bb.lengthSq()&&(1===Math.abs(n.z)?Ib.x+=1e-4:Ib.z+=1e-4,Ib.normalize(),Bb.crossVectors(n,Ib)),Bb.normalize(),Tb.crossVectors(Ib,Bb),r[0]=Bb.x,r[4]=Tb.x,r[8]=Ib.x,r[1]=Bb.y,r[5]=Tb.y,r[9]=Ib.y,r[2]=Bb.z,r[6]=Tb.z,r[10]=Ib.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],A=n[9],f=n[13],d=n[2],h=n[6],p=n[10],v=n[14],g=n[3],m=n[7],y=n[11],b=n[15],w=r[0],x=r[4],_=r[8],C=r[12],E=r[1],S=r[5],B=r[9],T=r[13],I=r[2],k=r[6],M=r[10],R=r[14],U=r[3],F=r[7],O=r[11],P=r[15];return i[0]=a*w+o*E+s*I+u*U,i[4]=a*x+o*S+s*k+u*F,i[8]=a*_+o*B+s*M+u*O,i[12]=a*C+o*T+s*R+u*P,i[1]=l*w+c*E+A*I+f*U,i[5]=l*x+c*S+A*k+f*F,i[9]=l*_+c*B+A*M+f*O,i[13]=l*C+c*T+A*R+f*P,i[2]=d*w+h*E+p*I+v*U,i[6]=d*x+h*S+p*k+v*F,i[10]=d*_+h*B+p*M+v*O,i[14]=d*C+h*T+p*R+v*P,i[3]=g*w+m*E+y*I+b*U,i[7]=g*x+m*S+y*k+b*F,i[11]=g*_+m*B+y*M+b*O,i[15]=g*C+m*T+y*R+b*P,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],A=e[10],f=e[14];return e[3]*(+i*s*c-r*u*c-i*o*A+n*u*A+r*o*f-n*s*f)+e[7]*(+t*s*f-t*u*A+i*a*A-r*a*f+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*f-i*a*c+n*a*f+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*A+r*a*c-n*a*A+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],A=e[10],f=e[11],d=e[12],h=e[13],p=e[14],v=e[15],g=c*p*u-h*A*u+h*s*f-o*p*f-c*s*v+o*A*v,m=d*A*u-l*p*u-d*s*f+a*p*f+l*s*v-a*A*v,y=l*h*u-d*c*u+d*o*f-a*h*f-l*o*v+a*c*v,b=d*c*s-l*h*s-d*o*A+a*h*A+l*o*p-a*c*p,w=t*g+n*m+r*y+i*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var x=1/w;return e[0]=g*x,e[1]=(h*A*i-c*p*i-h*r*f+n*p*f+c*r*v-n*A*v)*x,e[2]=(o*p*i-h*s*i+h*r*u-n*p*u-o*r*v+n*s*v)*x,e[3]=(c*s*i-o*A*i-c*r*u+n*A*u+o*r*f-n*s*f)*x,e[4]=m*x,e[5]=(l*p*i-d*A*i+d*r*f-t*p*f-l*r*v+t*A*v)*x,e[6]=(d*s*i-a*p*i-d*r*u+t*p*u+a*r*v-t*s*v)*x,e[7]=(a*A*i-l*s*i+l*r*u-t*A*u-a*r*f+t*s*f)*x,e[8]=y*x,e[9]=(d*c*i-l*h*i-d*n*f+t*h*f+l*n*v-t*c*v)*x,e[10]=(a*h*i-d*o*i+d*n*u-t*h*u-a*n*v+t*o*v)*x,e[11]=(l*o*i-a*c*i-l*n*u+t*c*u+a*n*f-t*o*f)*x,e[12]=b*x,e[13]=(l*h*r-d*c*r+d*n*A-t*h*A-l*n*p+t*c*p)*x,e[14]=(d*o*r-a*h*r-d*n*s+t*h*s+a*n*p-t*o*p)*x,e[15]=(a*c*r-l*o*r+l*n*s-t*c*s-a*n*A+t*o*A)*x,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,A=i*u,f=i*l,d=i*c,h=a*l,p=a*c,v=o*c,g=s*u,m=s*l,y=s*c,b=n.x,w=n.y,x=n.z;return r[0]=(1-(h+v))*b,r[1]=(f+y)*b,r[2]=(d-m)*b,r[3]=0,r[4]=(f-y)*w,r[5]=(1-(A+v))*w,r[6]=(p+g)*w,r[7]=0,r[8]=(d+m)*x,r[9]=(p-g)*x,r[10]=(1-(A+h))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=_b.set(r[0],r[1],r[2]).length(),a=_b.set(r[4],r[5],r[6]).length(),o=_b.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Cb.copy(this);var s=1/i,u=1/a,l=1/o;return Cb.elements[0]*=s,Cb.elements[1]*=s,Cb.elements[2]*=s,Cb.elements[4]*=u,Cb.elements[5]*=u,Cb.elements[6]*=u,Cb.elements[8]*=l,Cb.elements[9]*=l,Cb.elements[10]*=l,t.setFromRotationMatrix(Cb),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ym,l=this.elements,c=2*i/(t-e),A=2*i/(n-r),f=(t+e)/(t-e),d=(n+r)/(n-r);if(u===Ym)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(u!==Zm)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);o=-a/(a-i),s=-a*i/(a-i)}return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=A,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=o,l[14]=s,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ym,l=this.elements,c=1/(t-e),A=1/(n-r),f=1/(a-i),d=(t+e)*c,h=(n+r)*A;if(u===Ym)o=(a+i)*f,s=-2*f;else{if(u!==Zm)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);o=i*f,s=-1*f}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*A,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=s,l[14]=-o,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),_b=new Wy,Cb=new xb,Eb=new Wy(0,0,0),Sb=new Wy(1,1,1),Bb=new Wy,Tb=new Wy,Ib=new Wy,kb=new xb,Mb=new Vy,Rb=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;c(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return h(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],u=r[5],l=r[9],c=r[2],A=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(iy(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(A,u),this._z=0);break;case"YXZ":this._x=Math.asin(-iy(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(iy(A,-1,1)),Math.abs(A)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-iy(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(A,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(iy(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-iy(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(A,u),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return kb.makeRotationFromQuaternion(e),this.setFromRotationMatrix(kb,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Mb.setFromEuler(this),this.setFromQuaternion(Mb,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}();Rb.DEFAULT_ORDER="XYZ";var Ub=function(){function e(){c(this,e),this.mask=1}return h(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Fb=0,Ob=new Wy,Pb=new Vy,Db=new xb,Lb=new Wy,Nb=new Wy,Qb=new Wy,Hb=new Vy,jb=new Wy(1,0,0),zb=new Wy(0,1,0),Gb=new Wy(0,0,1),Vb={type:"added"},Wb={type:"removed"},Kb=function(e){v(n,e);var t=w(n);function n(){var e;c(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(y(e),"id",{value:Fb++}),e.uuid=ry(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new Wy,i=new Rb,a=new Vy,o=new Wy(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(y(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new xb},normalMatrix:{value:new hy}}),e.matrix=new xb,e.matrixWorld=new xb,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new Ub,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return h(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Pb.setFromAxisAngle(e,t),this.quaternion.multiply(Pb),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Pb.setFromAxisAngle(e,t),this.quaternion.premultiply(Pb),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(jb,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(zb,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Gb,e)}},{key:"translateOnAxis",value:function(e,t){return Ob.copy(e).applyQuaternion(this.quaternion),this.position.add(Ob.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(jb,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(zb,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Gb,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Db.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Lb.copy(e):Lb.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Nb.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Db.lookAt(Nb,Lb,this.up):Db.lookAt(Lb,Nb,this.up),this.quaternion.setFromRotationMatrix(Db),r&&(Db.extractRotation(r.matrixWorld),Pb.setFromRotationMatrix(Db),this.quaternion.premultiply(Pb.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Vb)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Wb)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){return this.remove.apply(this,M(this.children))}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Db.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Db.multiply(e.parent.matrixWorld)),e.applyMatrix4(Db),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nb,e,Qb),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nb,Hb,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],A=0,f=this.material.length;A<f;A++)c.push(i(e.materials,this.material[A]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var d=0;d<this.children.length;d++)r.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var h=0;h<this.animations.length;h++){var p=this.animations[h];r.animations.push(i(e.animations,p))}}if(t){var v=C(e.geometries),g=C(e.materials),m=C(e.textures),y=C(e.images),b=C(e.shapes),w=C(e.skeletons),x=C(e.animations),_=C(e.nodes);v.length>0&&(n.geometries=v),g.length>0&&(n.materials=g),m.length>0&&(n.textures=m),y.length>0&&(n.images=y),b.length>0&&(n.shapes=b),w.length>0&&(n.skeletons=w),x.length>0&&(n.animations=x),_.length>0&&(n.nodes=_)}return n.object=r,n;function C(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Jm);Kb.DEFAULT_UP=new Wy(0,1,0),Kb.DEFAULT_MATRIX_AUTO_UPDATE=!0,Kb.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Xb=new Wy,qb=new Wy,Yb=new Wy,Zb=new Wy,Jb=new Wy,$b=new Wy,ew=new Wy,tw=new Wy,nw=new Wy,rw=new Wy,iw=!1,aw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wy,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Wy;c(this,e),this.a=t,this.b=n,this.c=r}return h(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Xb.subVectors(this.c,this.b),qb.subVectors(this.a,this.b),.5*Xb.cross(qb).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return!1===iw&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),iw=!0),e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;Jb.subVectors(a,i),$b.subVectors(o,i),tw.subVectors(e,i);var s=Jb.dot(tw),u=$b.dot(tw);if(s<=0&&u<=0)return t.copy(i);nw.subVectors(e,a);var l=Jb.dot(nw),c=$b.dot(nw);if(l>=0&&c<=l)return t.copy(a);var A=s*c-l*u;if(A<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(Jb,n);rw.subVectors(e,o);var f=Jb.dot(rw),d=$b.dot(rw);if(d>=0&&f<=d)return t.copy(o);var h=f*u-s*d;if(h<=0&&u>=0&&d<=0)return r=u/(u-d),t.copy(i).addScaledVector($b,r);var p=l*d-f*c;if(p<=0&&c-l>=0&&f-d>=0)return ew.subVectors(o,a),r=(c-l)/(c-l+(f-d)),t.copy(a).addScaledVector(ew,r);var v=1/(p+h+A);return n=h*v,r=A*v,t.copy(i).addScaledVector(Jb,n).addScaledVector($b,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Xb.subVectors(e,t),r.cross(Xb);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Xb.subVectors(r,t),qb.subVectors(n,t),Yb.subVectors(e,t);var a=Xb.dot(Xb),o=Xb.dot(qb),s=Xb.dot(Yb),u=qb.dot(qb),l=qb.dot(Yb),c=a*u-o*o;if(0===c)return i.set(-2,-1,-1);var A=1/c,f=(u*s-o*l)*A,d=(a*l-o*s)*A;return i.set(1-f-d,d,f)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Zb),Zb.x>=0&&Zb.y>=0&&Zb.x+Zb.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return!1===iw&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),iw=!0),this.getInterpolation(e,t,n,r,i,a,o,s)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,Zb),s.setScalar(0),s.addScaledVector(i,Zb.x),s.addScaledVector(a,Zb.y),s.addScaledVector(o,Zb.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Xb.subVectors(n,t),qb.subVectors(e,t),Xb.cross(qb).dot(r)<0}}]),e}(),ow=0,sw=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(y(e),"id",{value:ow++}),e.uuid=ry(),e.name="",e.type="Material",e.blending=Qp,e.side=Op,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.alphaHash=!1,e.blendSrc=ev,e.blendDst=tv,e.blendEquation=Vp,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=cv,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=Im,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=pm,e.stencilZFail=pm,e.stencilZPass=pm,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return h(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Qp&&(n.blending=this.blending),this.side!==Op&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Jm),uw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},lw={h:0,s:0,l:0},cw={h:0,s:0,l:0};function Aw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var fw=function(e){function t(e,n,r){return c(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}return h(t,[{key:"set",value:function(e,t,n){if(void 0===t&&void 0===n){var r=e;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(e,t,n);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cm;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ky.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ky.workingColorSpace;return this.r=e,this.g=t,this.b=n,ky.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ky.workingColorSpace;if(e=ay(e,1),t=iy(t,0,1),n=iy(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=Aw(a,i,e+1/3),this.g=Aw(a,i,e),this.b=Aw(a,i,e-1/3)}return ky.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cm;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=t[1],u=s.length;if(3===u)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(6===u)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cm,n=uw[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=_y(e.r),this.g=_y(e.g),this.b=_y(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Cy(e.r),this.g=Cy(e.g),this.b=Cy(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cm;return ky.fromWorkingColorSpace(dw.copy(this),e),65536*Math.round(iy(255*dw.r,0,255))+256*Math.round(iy(255*dw.g,0,255))+Math.round(iy(255*dw.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cm;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ky.workingColorSpace;ky.fromWorkingColorSpace(dw.copy(this),t);var n,r,i=dw.r,a=dw.g,o=dw.b,s=Math.max(i,a,o),u=Math.min(i,a,o),l=(u+s)/2;if(u===s)n=0,r=0;else{var c=s-u;switch(r=l<=.5?c/(s+u):c/(2-s-u),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ky.workingColorSpace;return ky.fromWorkingColorSpace(dw.copy(this),t),e.r=dw.r,e.g=dw.g,e.b=dw.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cm;ky.fromWorkingColorSpace(dw.copy(this),e);var t=dw.r,n=dw.g,r=dw.b;return e!==cm?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(lw),lw.h+=e,lw.s+=t,lw.l+=n,this.setHSL(lw.h,lw.s,lw.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(lw),e.getHSL(cw);var n=oy(lw.h,cw.h,t),r=oy(lw.s,cw.s,t),i=oy(lw.l,cw.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),dw=new fw;fw.NAMES=uw;var hw=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new fw(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=pv,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(sw),pw=vw();function vw(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),u=new Uint32Array(64),l=new Uint32Array(64),c=1;c<1024;++c){for(var A=c<<13,f=0;0===(8388608&A);)A<<=1,f-=8388608;A&=-8388609,f+=947912704,s[c]=A|f}for(var d=1024;d<2048;++d)s[d]=939524096+(d-1024<<13);for(var h=1;h<31;++h)u[h]=h<<23;u[31]=1199570944,u[32]=2147483648;for(var p=33;p<63;++p)u[p]=2147483648+(p-32<<23);u[63]=3347054592;for(var v=1;v<64;++v)32!==v&&(l[v]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:u,offsetTable:l}}function gw(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=iy(e,-65504,65504),pw.floatView[0]=e;var t=pw.uint32View[0],n=t>>23&511;return pw.baseTable[n]+((8388607&t)>>pw.shiftTable[n])}function mw(e){var t=e>>10;return pw.uint32View[0]=pw.mantissaTable[pw.offsetTable[t]+(1023&e)]+pw.exponentTable[t],pw.floatView[0]}var yw={toHalfFloat:gw,fromHalfFloat:mw},bw=new Wy,ww=new dy,xw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(c(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=Lm,this.updateRange={offset:0,count:-1},this.gpuType=qv,this.version=0}return h(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)ww.fromBufferAttribute(this,t),ww.applyMatrix3(e),this.setXY(t,ww.x,ww.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)bw.fromBufferAttribute(this,r),bw.applyMatrix3(e),this.setXYZ(r,bw.x,bw.y,bw.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)bw.fromBufferAttribute(this,t),bw.applyMatrix4(e),this.setXYZ(t,bw.x,bw.y,bw.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)bw.fromBufferAttribute(this,t),bw.applyNormalMatrix(e),this.setXYZ(t,bw.x,bw.y,bw.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)bw.fromBufferAttribute(this,t),bw.transformDirection(e),this.setXYZ(t,bw.x,bw.y,bw.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getComponent",value:function(e,t){var n=this.array[e*this.itemSize+t];return this.normalized&&(n=cy(n,this.array)),n}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=Ay(n,this.array)),this.array[e*this.itemSize+t]=n,this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=cy(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=cy(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=cy(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=cy(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ay(t,this.array),n=Ay(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ay(t,this.array),n=Ay(n,this.array),r=Ay(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Ay(t,this.array),n=Ay(n,this.array),r=Ay(r,this.array),i=Ay(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Lm&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}(),_w=function(e){v(n,e);var t=w(n);function n(e,r,i){return c(this,n),t.call(this,new Int8Array(e),r,i)}return h(n)}(xw),Cw=function(e){v(n,e);var t=w(n);function n(e,r,i){return c(this,n),t.call(this,new Uint8Array(e),r,i)}return h(n)}(xw),Ew=function(e){v(n,e);var t=w(n);function n(e,r,i){return c(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return h(n)}(xw),Sw=function(e){v(n,e);var t=w(n);function n(e,r,i){return c(this,n),t.call(this,new Int16Array(e),r,i)}return h(n)}(xw),Bw=function(e){v(n,e);var t=w(n);function n(e,r,i){return c(this,n),t.call(this,new Uint16Array(e),r,i)}return h(n)}(xw),Tw=function(e){v(n,e);var t=w(n);function n(e,r,i){return c(this,n),t.call(this,new Int32Array(e),r,i)}return h(n)}(xw),Iw=function(e){v(n,e);var t=w(n);function n(e,r,i){return c(this,n),t.call(this,new Uint32Array(e),r,i)}return h(n)}(xw),kw=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,new Uint16Array(e),r,i)).isFloat16BufferAttribute=!0,a}return h(n,[{key:"getX",value:function(e){var t=mw(this.array[e*this.itemSize]);return this.normalized&&(t=cy(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.array[e*this.itemSize]=gw(t),this}},{key:"getY",value:function(e){var t=mw(this.array[e*this.itemSize+1]);return this.normalized&&(t=cy(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.array[e*this.itemSize+1]=gw(t),this}},{key:"getZ",value:function(e){var t=mw(this.array[e*this.itemSize+2]);return this.normalized&&(t=cy(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.array[e*this.itemSize+2]=gw(t),this}},{key:"getW",value:function(e){var t=mw(this.array[e*this.itemSize+3]);return this.normalized&&(t=cy(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.array[e*this.itemSize+3]=gw(t),this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ay(t,this.array),n=Ay(n,this.array)),this.array[e+0]=gw(t),this.array[e+1]=gw(n),this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ay(t,this.array),n=Ay(n,this.array),r=Ay(r,this.array)),this.array[e+0]=gw(t),this.array[e+1]=gw(n),this.array[e+2]=gw(r),this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Ay(t,this.array),n=Ay(n,this.array),r=Ay(r,this.array),i=Ay(i,this.array)),this.array[e+0]=gw(t),this.array[e+1]=gw(n),this.array[e+2]=gw(r),this.array[e+3]=gw(i),this}}]),n}(xw),Mw=function(e){v(n,e);var t=w(n);function n(e,r,i){return c(this,n),t.call(this,new Float32Array(e),r,i)}return h(n)}(xw),Rw=function(e){v(n,e);var t=w(n);function n(e,r,i){return c(this,n),t.call(this,new Float64Array(e),r,i)}return h(n)}(xw),Uw=0,Fw=new xb,Ow=new Kb,Pw=new Wy,Dw=new qy,Lw=new qy,Nw=new Wy,Qw=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(y(e),"id",{value:Uw++}),e.uuid=ry(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return h(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(vy(e)?Iw:Bw)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new hy).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Fw.makeRotationFromQuaternion(e),this.applyMatrix4(Fw),this}},{key:"rotateX",value:function(e){return Fw.makeRotationX(e),this.applyMatrix4(Fw),this}},{key:"rotateY",value:function(e){return Fw.makeRotationY(e),this.applyMatrix4(Fw),this}},{key:"rotateZ",value:function(e){return Fw.makeRotationZ(e),this.applyMatrix4(Fw),this}},{key:"translate",value:function(e,t,n){return Fw.makeTranslation(e,t,n),this.applyMatrix4(Fw),this}},{key:"scale",value:function(e,t,n){return Fw.makeScale(e,t,n),this.applyMatrix4(Fw),this}},{key:"lookAt",value:function(e){return Ow.lookAt(e),Ow.updateMatrix(),this.applyMatrix4(Ow.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pw).negate(),this.translate(Pw.x,Pw.y,Pw.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Mw(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new qy);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Wy(-1/0,-1/0,-1/0),new Wy(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Dw.setFromBufferAttribute(i),this.morphTargetsRelative?(Nw.addVectors(this.boundingBox.min,Dw.min),this.boundingBox.expandByPoint(Nw),Nw.addVectors(this.boundingBox.max,Dw.max),this.boundingBox.expandByPoint(Nw)):(this.boundingBox.expandByPoint(Dw.min),this.boundingBox.expandByPoint(Dw.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new db);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Wy,1/0);if(e){var n=this.boundingSphere.center;if(Dw.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];Lw.setFromBufferAttribute(a),this.morphTargetsRelative?(Nw.addVectors(Dw.min,Lw.min),Dw.expandByPoint(Nw),Nw.addVectors(Dw.max,Lw.max),Dw.expandByPoint(Nw)):(Dw.expandByPoint(Lw.min),Dw.expandByPoint(Lw.max))}Dw.getCenter(n);for(var o=0,s=0,u=e.count;s<u;s++)Nw.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(Nw));if(t)for(var l=0,c=t.length;l<c;l++)for(var A=t[l],f=this.morphTargetsRelative,d=0,h=A.count;d<h;d++)Nw.fromBufferAttribute(A,d),f&&(Pw.fromBufferAttribute(e,d),Nw.add(Pw)),o=Math.max(o,n.distanceToSquared(Nw));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new xw(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,u=[],l=[],c=0;c<o;c++)u[c]=new Wy,l[c]=new Wy;var A=new Wy,f=new Wy,d=new Wy,h=new dy,p=new dy,v=new dy,g=new Wy,m=new Wy,y=this.groups;0===y.length&&(y=[{start:0,count:n.length}]);for(var b=0,w=y.length;b<w;++b)for(var x=y[b],_=x.start,C=_,E=_+x.count;C<E;C+=3)P(n[C+0],n[C+1],n[C+2]);for(var S=new Wy,B=new Wy,T=new Wy,I=new Wy,k=0,M=y.length;k<M;++k)for(var R=y[k],U=R.start,F=U,O=U+R.count;F<O;F+=3)D(n[F+0]),D(n[F+1]),D(n[F+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function P(e,t,n){A.fromArray(r,3*e),f.fromArray(r,3*t),d.fromArray(r,3*n),h.fromArray(a,2*e),p.fromArray(a,2*t),v.fromArray(a,2*n),f.sub(A),d.sub(A),p.sub(h),v.sub(h);var i=1/(p.x*v.y-v.x*p.y);isFinite(i)&&(g.copy(f).multiplyScalar(v.y).addScaledVector(d,-p.y).multiplyScalar(i),m.copy(d).multiplyScalar(p.x).addScaledVector(f,-v.x).multiplyScalar(i),u[e].add(g),u[t].add(g),u[n].add(g),l[e].add(m),l[t].add(m),l[n].add(m))}function D(e){T.fromArray(i,3*e),I.copy(T);var t=u[e];S.copy(t),S.sub(T.multiplyScalar(T.dot(t))).normalize(),B.crossVectors(I,t);var n=B.dot(l[e])<0?-1:1;s[4*e]=S.x,s[4*e+1]=S.y,s[4*e+2]=S.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new xw(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new Wy,o=new Wy,s=new Wy,u=new Wy,l=new Wy,c=new Wy,A=new Wy,f=new Wy;if(e)for(var d=0,h=e.count;d<h;d+=3){var p=e.getX(d+0),v=e.getX(d+1),g=e.getX(d+2);a.fromBufferAttribute(t,p),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),A.subVectors(s,o),f.subVectors(a,o),A.cross(f),u.fromBufferAttribute(n,p),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),u.add(A),l.add(A),c.add(A),n.setXYZ(p,u.x,u.y,u.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var m=0,y=t.count;m<y;m+=3)a.fromBufferAttribute(t,m+0),o.fromBufferAttribute(t,m+1),s.fromBufferAttribute(t,m+2),A.subVectors(s,o),f.subVectors(a,o),A.cross(f),n.setXYZ(m+0,A.x,A.y,A.z),n.setXYZ(m+1,A.x,A.y,A.z),n.setXYZ(m+2,A.x,A.y,A.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Nw.fromBufferAttribute(e,t),Nw.normalize(),e.setXYZ(t,Nw.x,Nw.y,Nw.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,u=0,l=t.length;u<l;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new xw(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var u in s){for(var l=[],c=s[u],A=0,f=c.length;A<f;A++){var d=e(c[A],r);l.push(d)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,p=0,v=h.length;p<v;p++){var g=h[p];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},u=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],A=[],f=0,d=c.length;f<d;f++){var h=c[f];A.push(h.toJSON(e.data))}A.length>0&&(s[l]=A,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var p=this.groups;p.length>0&&(e.data.groups=JSON.parse(JSON.stringify(p)));var v=this.boundingSphere;return null!==v&&(e.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,A=l.length;c<A;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,d=0,h=f.length;d<h;d++){var p=f[d];this.addGroup(p.start,p.count,p.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Jm),Hw=new xb,jw=new wb,zw=new db,Gw=new Wy,Vw=new Wy,Ww=new Wy,Kw=new Wy,Xw=new Wy,qw=new Wy,Yw=new dy,Zw=new dy,Jw=new dy,$w=new Wy,ex=new Wy,tx=new Wy,nx=new Wy,rx=new Wy,ix=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qw,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hw;return c(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return h(n,[{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){qw.set(0,0,0);for(var s=0,u=i.length;s<u;s++){var l=o[s],c=i[s];0!==l&&(Xw.fromBufferAttribute(c,e),a?qw.addScaledVector(Xw,l):qw.addScaledVector(Xw.sub(t),l))}t.add(qw)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),zw.copy(n.boundingSphere),zw.applyMatrix4(i),jw.copy(e.ray).recast(e.near),!1===zw.containsPoint(jw.origin)){if(null===jw.intersectSphere(zw,Gw))return;if(jw.origin.distanceToSquared(Gw)>Math.pow(e.far-e.near,2))return}Hw.copy(i).invert(),jw.copy(e.ray).applyMatrix4(Hw),null!==n.boundingBox&&!1===jw.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,jw)}}},{key:"_computeIntersections",value:function(e,t,n){var r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,u=i.attributes.uv,l=i.attributes.uv1,c=i.attributes.normal,A=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(a))for(var d=0,h=A.length;d<h;d++)for(var p=A[d],v=a[p.materialIndex],g=Math.max(p.start,f.start),m=Math.min(o.count,Math.min(p.start+p.count,f.start+f.count));g<m;g+=3){(r=ax(this,v,e,n,u,l,c,o.getX(g),o.getX(g+1),o.getX(g+2)))&&(r.faceIndex=Math.floor(g/3),r.face.materialIndex=p.materialIndex,t.push(r))}else for(var y=Math.max(0,f.start),b=Math.min(o.count,f.start+f.count);y<b;y+=3){(r=ax(this,a,e,n,u,l,c,o.getX(y),o.getX(y+1),o.getX(y+2)))&&(r.faceIndex=Math.floor(y/3),t.push(r))}else if(void 0!==s)if(Array.isArray(a))for(var w=0,x=A.length;w<x;w++)for(var _=A[w],C=a[_.materialIndex],E=Math.max(_.start,f.start),S=Math.min(s.count,Math.min(_.start+_.count,f.start+f.count));E<S;E+=3){(r=ax(this,C,e,n,u,l,c,E,E+1,E+2))&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=_.materialIndex,t.push(r))}else for(var B=Math.max(0,f.start),T=Math.min(s.count,f.start+f.count);B<T;B+=3){(r=ax(this,a,e,n,u,l,c,B,B+1,B+2))&&(r.faceIndex=Math.floor(B/3),t.push(r))}}}]),n}(Kb);function ax(e,t,n,r,i,a,o,s,u,l){e.getVertexPosition(s,Vw),e.getVertexPosition(u,Ww),e.getVertexPosition(l,Kw);var c=function(e,t,n,r,i,a,o,s){if(null===(t.side===Pp?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===Op,s)))return null;rx.copy(s),rx.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(rx);return u<n.near||u>n.far?null:{distance:u,point:rx.clone(),object:e}}(e,t,n,r,Vw,Ww,Kw,nx);if(c){i&&(Yw.fromBufferAttribute(i,s),Zw.fromBufferAttribute(i,u),Jw.fromBufferAttribute(i,l),c.uv=aw.getInterpolation(nx,Vw,Ww,Kw,Yw,Zw,Jw,new dy)),a&&(Yw.fromBufferAttribute(a,s),Zw.fromBufferAttribute(a,u),Jw.fromBufferAttribute(a,l),c.uv1=aw.getInterpolation(nx,Vw,Ww,Kw,Yw,Zw,Jw,new dy),c.uv2=c.uv1),o&&($w.fromBufferAttribute(o,s),ex.fromBufferAttribute(o,u),tx.fromBufferAttribute(o,l),c.normal=aw.getInterpolation(nx,Vw,Ww,Kw,$w,ex,tx,new Wy),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var A={a:s,b:u,c:l,normal:new Wy,materialIndex:0};aw.getNormal(Vw,Ww,Kw,A.normal),c.face=A}return c}var ox=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;c(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:u};var l=y(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var A=[],f=[],d=[],h=[],p=0,v=0;function g(e,t,n,r,i,a,o,s,u,c,g){for(var m=a/u,y=o/c,b=a/2,w=o/2,x=s/2,_=u+1,C=c+1,E=0,S=0,B=new Wy,T=0;T<C;T++)for(var I=T*y-w,k=0;k<_;k++){var M=k*m-b;B[e]=M*r,B[t]=I*i,B[n]=x,f.push(B.x,B.y,B.z),B[e]=0,B[t]=0,B[n]=s>0?1:-1,d.push(B.x,B.y,B.z),h.push(k/u),h.push(1-T/c),E+=1}for(var R=0;R<c;R++)for(var U=0;U<u;U++){var F=p+U+_*R,O=p+U+_*(R+1),P=p+(U+1)+_*(R+1),D=p+(U+1)+_*R;A.push(F,O,D),A.push(O,P,D),S+=6}l.addGroup(v,S,g),v+=S,p+=E}return g("z","y","x",-1,-1,a,i,r,u,s,0),g("z","y","x",1,-1,a,i,-r,u,s,1),g("x","z","y",1,1,r,a,i,o,u,2),g("x","z","y",1,-1,r,a,-i,o,u,3),g("x","y","z",1,-1,r,i,a,o,s,4),g("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(A),e.setAttribute("position",new Mw(f,3)),e.setAttribute("normal",new Mw(d,3)),e.setAttribute("uv",new Mw(h,2)),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(Qw);function sx(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function ux(e){for(var t={},n=0;n<e.length;n++){var r=sx(e[n]);for(var i in r)t[i]=r[i]}return t}function lx(e){return null===e.getRenderTarget()?e.outputColorSpace:Am}var cx={clone:sx,merge:ux},Ax=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=sx(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=_p(g(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(sw),fx=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new xb,e.projectionMatrix=new xb,e.projectionMatrixInverse=new xb,e.coordinateSystem=Ym,e}return h(n,[{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){_p(g(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){_p(g(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Kb),dx=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return c(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return h(n,[{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*ny*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*ty*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*ny*Math.atan(Math.tan(.5*ty*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*ty*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=_p(g(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(fx),hx=-90,px=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;c(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i,a.coordinateSystem=null;var o=new dx(hx,1,e,r);o.layers=a.layers,a.add(o);var s=new dx(hx,1,e,r);s.layers=a.layers,a.add(s);var u=new dx(hx,1,e,r);u.layers=a.layers,a.add(u);var l=new dx(hx,1,e,r);l.layers=a.layers,a.add(l);var A=new dx(hx,1,e,r);A.layers=a.layers,a.add(A);var f=new dx(hx,1,e,r);return f.layers=a.layers,a.add(f),a}return h(n,[{key:"updateCoordinateSystem",value:function(){var e,t=this.coordinateSystem,n=this.children.concat(),r=l(n,6),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],c=r[5],A=k(n);try{for(A.s();!(e=A.n()).done;){var f=e.value;this.remove(f)}}catch(v){A.e(v)}finally{A.f()}if(t===Ym)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else{if(t!==Zm)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1)}var d,h=k(n);try{for(h.s();!(d=h.n()).done;){var p=d.value;this.add(p),p.updateMatrixWorld()}}catch(v){h.e(v)}finally{h.f()}}},{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());var r=l(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],c=r[5],A=e.getRenderTarget(),f=e.xr.enabled;e.xr.enabled=!1;var d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,u),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(A),e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}]),n}(Kb),vx=function(e){v(n,e);var t=w(n);function n(e,r,i,a,o,s,u,l,A,f){var d;return c(this,n),e=void 0!==e?e:[],r=void 0!==r?r:Ev,(d=t.call(this,e,r,i,a,o,s,u,l,A,f)).isCubeTexture=!0,d.flipY=!1,d}return h(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Py),gx=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return void 0!==i.encoding&&(xy("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===im?cm:lm),e.texture=new vx(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:Lv,e}return h(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new ox(5,5,5),o=new Ax({name:"CubemapFromEquirect",uniforms:sx(n),vertexShader:r,fragmentShader:i,side:Pp,blending:Np});o.uniforms.tEquirect.value=t;var s=new ix(a,o),u=t.minFilter;return t.minFilter===Hv&&(t.minFilter=Lv),new px(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(Ny),mx=new Wy,yx=new Wy,bx=new hy,wx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wy(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return h(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=mx.subVectors(n,t).cross(yx.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(mx),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||bx.getNormalMatrix(e),r=this.coplanarPoint(mx).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),xx=new db,_x=new Wy,Cx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wx,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new wx,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new wx,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new wx,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new wx;c(this,e),this.planes=[t,n,r,i,a,o]}return h(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ym,n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=r[6],A=r[7],f=r[8],d=r[9],h=r[10],p=r[11],v=r[12],g=r[13],m=r[14],y=r[15];if(n[0].setComponents(s-i,A-u,p-f,y-v).normalize(),n[1].setComponents(s+i,A+u,p+f,y+v).normalize(),n[2].setComponents(s+a,A+l,p+d,y+g).normalize(),n[3].setComponents(s-a,A-l,p-d,y-g).normalize(),n[4].setComponents(s-o,A-c,p-h,y-m).normalize(),t===Ym)n[5].setComponents(s+o,A+c,p+h,y+m).normalize();else{if(t!==Zm)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,h,m).normalize()}return this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),xx.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),xx.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(xx)}},{key:"intersectsSprite",value:function(e){return xx.center.set(0,0,0),xx.radius=.7071067811865476,xx.applyMatrix4(e.matrixWorld),this.intersectsSphere(xx)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(_x.x=r.normal.x>0?e.max.x:e.min.x,_x.y=r.normal.y>0?e.max.y:e.min.y,_x.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(_x)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Ex(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Sx(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=e.FLOAT;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=e.HALF_FLOAT}else i=e.UNSIGNED_SHORT;else if(a instanceof Int16Array)i=e.SHORT;else if(a instanceof Uint32Array)i=e.UNSIGNED_INT;else if(a instanceof Int32Array)i=e.INT;else if(a instanceof Int8Array)i=e.BYTE;else if(a instanceof Uint8Array)i=e.UNSIGNED_BYTE;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=e.UNSIGNED_BYTE}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}}var Bx=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;c(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,u=i/2,l=Math.floor(a),A=Math.floor(o),f=l+1,d=A+1,h=r/l,p=i/A,v=[],g=[],m=[],y=[],b=0;b<d;b++)for(var w=b*p-u,x=0;x<f;x++){var _=x*h-s;g.push(_,-w,0),m.push(0,0,1),y.push(x/l),y.push(1-b/A)}for(var C=0;C<A;C++)for(var E=0;E<l;E++){var S=E+f*C,B=E+f*(C+1),T=E+1+f*(C+1),I=E+1+f*C;v.push(S,B,I),v.push(B,T,I)}return e.setIndex(v),e.setAttribute("position",new Mw(g,3)),e.setAttribute("normal",new Mw(m,3)),e.setAttribute("uv",new Mw(y,2)),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(Qw),Tx={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Ix={common:{diffuse:{value:new fw(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new hy},alphaMap:{value:null},alphaMapTransform:{value:new hy},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new hy}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new hy}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new hy}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new hy},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new hy},normalScale:{value:new dy(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new hy},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new hy}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new hy}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new hy}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new fw(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new fw(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new hy},alphaTest:{value:0},uvTransform:{value:new hy}},sprite:{diffuse:{value:new fw(16777215)},opacity:{value:1},center:{value:new dy(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new hy},alphaMap:{value:null},alphaMapTransform:{value:new hy},alphaTest:{value:0}}},kx={basic:{uniforms:ux([Ix.common,Ix.specularmap,Ix.envmap,Ix.aomap,Ix.lightmap,Ix.fog]),vertexShader:Tx.meshbasic_vert,fragmentShader:Tx.meshbasic_frag},lambert:{uniforms:ux([Ix.common,Ix.specularmap,Ix.envmap,Ix.aomap,Ix.lightmap,Ix.emissivemap,Ix.bumpmap,Ix.normalmap,Ix.displacementmap,Ix.fog,Ix.lights,{emissive:{value:new fw(0)}}]),vertexShader:Tx.meshlambert_vert,fragmentShader:Tx.meshlambert_frag},phong:{uniforms:ux([Ix.common,Ix.specularmap,Ix.envmap,Ix.aomap,Ix.lightmap,Ix.emissivemap,Ix.bumpmap,Ix.normalmap,Ix.displacementmap,Ix.fog,Ix.lights,{emissive:{value:new fw(0)},specular:{value:new fw(1118481)},shininess:{value:30}}]),vertexShader:Tx.meshphong_vert,fragmentShader:Tx.meshphong_frag},standard:{uniforms:ux([Ix.common,Ix.envmap,Ix.aomap,Ix.lightmap,Ix.emissivemap,Ix.bumpmap,Ix.normalmap,Ix.displacementmap,Ix.roughnessmap,Ix.metalnessmap,Ix.fog,Ix.lights,{emissive:{value:new fw(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Tx.meshphysical_vert,fragmentShader:Tx.meshphysical_frag},toon:{uniforms:ux([Ix.common,Ix.aomap,Ix.lightmap,Ix.emissivemap,Ix.bumpmap,Ix.normalmap,Ix.displacementmap,Ix.gradientmap,Ix.fog,Ix.lights,{emissive:{value:new fw(0)}}]),vertexShader:Tx.meshtoon_vert,fragmentShader:Tx.meshtoon_frag},matcap:{uniforms:ux([Ix.common,Ix.bumpmap,Ix.normalmap,Ix.displacementmap,Ix.fog,{matcap:{value:null}}]),vertexShader:Tx.meshmatcap_vert,fragmentShader:Tx.meshmatcap_frag},points:{uniforms:ux([Ix.points,Ix.fog]),vertexShader:Tx.points_vert,fragmentShader:Tx.points_frag},dashed:{uniforms:ux([Ix.common,Ix.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Tx.linedashed_vert,fragmentShader:Tx.linedashed_frag},depth:{uniforms:ux([Ix.common,Ix.displacementmap]),vertexShader:Tx.depth_vert,fragmentShader:Tx.depth_frag},normal:{uniforms:ux([Ix.common,Ix.bumpmap,Ix.normalmap,Ix.displacementmap,{opacity:{value:1}}]),vertexShader:Tx.meshnormal_vert,fragmentShader:Tx.meshnormal_frag},sprite:{uniforms:ux([Ix.sprite,Ix.fog]),vertexShader:Tx.sprite_vert,fragmentShader:Tx.sprite_frag},background:{uniforms:{uvTransform:{value:new hy},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Tx.background_vert,fragmentShader:Tx.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Tx.backgroundCube_vert,fragmentShader:Tx.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Tx.cube_vert,fragmentShader:Tx.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Tx.equirect_vert,fragmentShader:Tx.equirect_frag},distanceRGBA:{uniforms:ux([Ix.common,Ix.displacementmap,{referencePosition:{value:new Wy},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Tx.distanceRGBA_vert,fragmentShader:Tx.distanceRGBA_frag},shadow:{uniforms:ux([Ix.lights,Ix.fog,{color:{value:new fw(0)},opacity:{value:1}}]),vertexShader:Tx.shadow_vert,fragmentShader:Tx.shadow_frag}};kx.physical={uniforms:ux([kx.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new hy},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new hy},clearcoatNormalScale:{value:new dy(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new hy},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new hy},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new hy},sheen:{value:0},sheenColor:{value:new fw(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new hy},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new hy},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new hy},transmissionSamplerSize:{value:new dy},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new hy},attenuationDistance:{value:0},attenuationColor:{value:new fw(0)},specularColor:{value:new fw(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new hy},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new hy},anisotropyVector:{value:new dy},anisotropyMap:{value:null},anisotropyMapTransform:{value:new hy}}]),vertexShader:Tx.meshphysical_vert,fragmentShader:Tx.meshphysical_frag};var Mx={r:0,b:0,g:0};function Rx(e,t,n,r,i,a,o){var s,u,l=new fw(0),c=!0===a?0:1,A=null,f=0,d=null;function h(t,n){t.getRGB(Mx,lx(e)),r.buffers.color.setClear(Mx.r,Mx.g,Mx.b,n,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),h(l,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){h(l,c=e)},render:function(a,p){var v=!1,g=!0===p.isScene?p.background:null;g&&g.isTexture&&(g=(p.backgroundBlurriness>0?n:t).get(g)),null===g?h(l,c):g&&g.isColor&&(h(g,1),v=!0);var m=e.xr.getEnvironmentBlendMode();"additive"===m?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===m&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||v)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),g&&(g.isCubeTexture||g.mapping===Iv)?(void 0===u&&((u=new ix(new ox(1,1,1),new Ax({name:"BackgroundCubeMaterial",uniforms:sx(kx.backgroundCube.uniforms),vertexShader:kx.backgroundCube.vertexShader,fragmentShader:kx.backgroundCube.fragmentShader,side:Pp,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=g,u.material.uniforms.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=p.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,u.material.toneMapped=g.colorSpace!==cm,A===g&&f===g.version&&d===e.toneMapping||(u.material.needsUpdate=!0,A=g,f=g.version,d=e.toneMapping),u.layers.enableAll(),a.unshift(u,u.geometry,u.material,0,0,null)):g&&g.isTexture&&(void 0===s&&((s=new ix(new Bx(2,2),new Ax({name:"BackgroundMaterial",uniforms:sx(kx.background.uniforms),vertexShader:kx.background.vertexShader,fragmentShader:kx.background.fragmentShader,side:Op,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=g,s.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,s.material.toneMapped=g.colorSpace!==cm,!0===g.matrixAutoUpdate&&g.updateMatrix(),s.material.uniforms.uvTransform.value.copy(g.matrix),A===g&&f===g.version&&d===e.toneMapping||(s.material.needsUpdate=!0,A=g,f=g.version,d=e.toneMapping),s.layers.enableAll(),a.unshift(s,s.geometry,s.material,0,0,null))}}}function Ux(e,t,n,r){var i=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},u=d(null),l=u,c=!1;function A(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function f(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function h(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){v(e,0)}function v(n,i){var a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function g(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function m(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function y(){b(),c=!0,l!==u&&A((l=u).object)}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,f,y,b){var w=!1;if(o){var x=function(t,n,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[n.id];void 0===l&&(l={},u[n.id]=l);var c=l[o];void 0===c&&(c=d(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(y,f,u);l!==x&&A((l=x).object),w=function(e,t,n,r){var i=l.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=i[u],A=a[u];if(void 0===A&&("instanceMatrix"===u&&e.instanceMatrix&&(A=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(A=e.instanceColor)),void 0===c)return!0;if(c.attribute!==A)return!0;if(A&&c.data!==A.data)return!0;o++}}return l.attributesNum!==o||l.index!==r}(i,y,f,b),w&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=a[u];void 0===c&&("instanceMatrix"===u&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(c=e.instanceColor));var A={};A.attribute=c,c&&c.data&&(A.data=c.data),i[u]=A,o++}}l.attributes=i,l.attributesNum=o,l.index=r}(i,y,f,b)}else{var _=!0===u.wireframe;l.geometry===y.id&&l.program===f.id&&l.wireframe===_||(l.geometry=y.id,l.program=f.id,l.wireframe=_,w=!0)}null!==b&&n.update(b,e.ELEMENT_ARRAY_BUFFER),(w||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;h();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var A in l){var f=l[A];if(f.location>=0){var d=u[A];if(void 0===d&&("instanceMatrix"===A&&i.instanceMatrix&&(d=i.instanceMatrix),"instanceColor"===A&&i.instanceColor&&(d=i.instanceColor)),void 0!==d){var y=d.normalized,b=d.itemSize,w=n.get(d);if(void 0===w)continue;var x=w.buffer,_=w.type,C=w.bytesPerElement,E=!0===r.isWebGL2&&(_===e.INT||_===e.UNSIGNED_INT||d.gpuType===Kv);if(d.isInterleavedBufferAttribute){var S=d.data,B=S.stride,T=d.offset;if(S.isInstancedInterleavedBuffer){for(var I=0;I<f.locationSize;I++)v(f.location+I,S.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=S.meshPerAttribute*S.count)}else for(var k=0;k<f.locationSize;k++)p(f.location+k);e.bindBuffer(e.ARRAY_BUFFER,x);for(var M=0;M<f.locationSize;M++)m(f.location+M,b/f.locationSize,_,y,B*C,(T+b/f.locationSize*M)*C,E)}else{if(d.isInstancedBufferAttribute){for(var R=0;R<f.locationSize;R++)v(f.location+R,d.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=d.meshPerAttribute*d.count)}else for(var U=0;U<f.locationSize;U++)p(f.location+U);e.bindBuffer(e.ARRAY_BUFFER,x);for(var F=0;F<f.locationSize;F++)m(f.location+F,b/f.locationSize,_,y,b*C,b/f.locationSize*F*C,E)}}else if(void 0!==c){var O=c[A];if(void 0!==O)switch(O.length){case 2:e.vertexAttrib2fv(f.location,O);break;case 3:e.vertexAttrib3fv(f.location,O);break;case 4:e.vertexAttrib4fv(f.location,O);break;default:e.vertexAttrib1fv(f.location,O)}}}}g()}(i,u,f,y),null!==b&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)f(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:h,enableAttribute:p,disableUnusedAttributes:g}}function Fx(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,r,o,s),n.update(o,i,s)}}}function Ox(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),A=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_TEXTURE_SIZE),d=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),h=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),v=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),m=A>0,y=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:A,maxTextureSize:f,maxCubemapSize:d,maxAttributes:h,maxVertexUniforms:p,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:m,floatFragmentTextures:y,floatVertexTextures:m&&y,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function Px(e){var t=this,n=null,r=0,i=!1,a=!1,o=new wx,s=new hy,u={value:null,needsUpdate:!1};function l(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=r+4*a,A=n.matrixWorldInverse;s.getNormalMatrix(A),(null===l||l.length<c)&&(l=new Float32Array(c));for(var f=0,d=r;f!==a;++f,d+=4)o.copy(e[f]).applyMatrix4(A,s),o.normal.toArray(l,d),l[d+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,l(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=l(e,t,0)},this.setState=function(o,s,c){var A=o.clippingPlanes,f=o.clipIntersection,d=o.clipShadows,h=e.get(o);if(!i||null===A||0===A.length||a&&!d)a?l(null):function(){u.value!==n&&(u.value=n,u.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var p=a?0:r,v=4*p,g=h.clippingState||null;u.value=g,g=l(A,s,v,c);for(var m=0;m!==v;++m)g[m]=n[m];h.clippingState=g,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=p}}}function Dx(e){var t=new WeakMap;function n(e,t){return t===Bv?e.mapping=Ev:t===Tv&&(e.mapping=Sv),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===Bv||a===Tv){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new gx(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var Lx=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return c(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return h(n,[{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=_p(g(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(fx),Nx=[.125,.215,.35,.446,.526,.582],Qx=20,Hx=new Lx,jx=new fw,zx=null,Gx=(1+Math.sqrt(5))/2,Vx=1/Gx,Wx=[new Wy(1,1,1),new Wy(-1,1,1),new Wy(1,1,-1),new Wy(-1,1,-1),new Wy(0,Gx,Vx),new Wy(0,Gx,-Vx),new Wy(Vx,0,Gx),new Wy(-Vx,0,Gx),new Wy(Gx,Vx,0),new Wy(-Gx,Vx,0)],Kx=function(){function e(t){c(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return h(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;zx=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Zx(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Yx(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(zx),e.scissorTest=!1,qx(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Ev||e.mapping===Sv?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),zx=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Lv,minFilter:Lv,generateMipmaps:!1,type:Yv,format:tg,colorSpace:Am,depthBuffer:!1},r=Xx(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Xx(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+Nx.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var u=1/s;o>e-4?u=Nx[o-e+4-1]:0===o&&(u=0),r.push(u);for(var l=1/(s-2),c=-l,A=1+l,f=[c,c,A,c,A,A,c,c,A,A,c,A],d=6,h=6,p=3,v=2,g=1,m=new Float32Array(p*h*d),y=new Float32Array(v*h*d),b=new Float32Array(g*h*d),w=0;w<d;w++){var x=w%3*2/3-1,_=w>2?0:-1,C=[x,_,0,x+2/3,_,0,x+2/3,_+1,0,x,_,0,x+2/3,_+1,0,x,_+1,0];m.set(C,p*h*w),y.set(f,v*h*w);var E=[w,w,w,w,w,w];b.set(E,g*h*w)}var S=new Qw;S.setAttribute("position",new xw(m,p)),S.setAttribute("uv",new xw(y,v)),S.setAttribute("faceIndex",new xw(b,g)),t.push(S),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(Qx),i=new Wy(0,1,0),a=new Ax({name:"SphericalGaussianBlur",defines:{n:Qx,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Np,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new ix(this._lodPlanes[0],e);this._renderer.compile(t,Hx)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new dx(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,l=s.toneMapping;s.getClearColor(jx),s.toneMapping=mv,s.autoClear=!1;var c=new hw({name:"PMREM.Background",side:Pp,depthWrite:!1,depthTest:!1}),A=new ix(new ox,c),f=!1,d=e.background;d?d.isColor&&(c.color.copy(d),e.background=null,f=!0):(c.color.copy(jx),f=!0);for(var h=0;h<6;h++){var p=h%3;0===p?(i.up.set(0,a[h],0),i.lookAt(o[h],0,0)):1===p?(i.up.set(0,0,a[h]),i.lookAt(0,o[h],0)):(i.up.set(0,a[h],0),i.lookAt(0,0,o[h]));var v=this._cubeSize;qx(r,p*v,h>2?v:0,v,v),s.setRenderTarget(r),f&&s.render(A,i),s.render(e,i)}A.geometry.dispose(),A.material.dispose(),s.toneMapping=l,s.autoClear=u,e.background=d}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===Ev||e.mapping===Sv;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Zx()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Yx());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new ix(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;qx(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Hx)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Wx[(r-1)%Wx.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new ix(this._lodPlanes[r],u),c=u.uniforms,A=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*A):2*Math.PI/39,d=i/f,h=isFinite(i)?1+Math.floor(3*d):Qx;h>Qx&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(h," samples when the maximum is set to ").concat(Qx));for(var p=[],v=0,g=0;g<Qx;++g){var m=g/d,y=Math.exp(-m*m/2);p.push(y),0===g?v+=y:g<h&&(v+=2*y)}for(var b=0;b<p.length;b++)p[b]=p[b]/v;c.envMap.value=e.texture,c.samples.value=h,c.weights.value=p,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var w=this._lodMax;c.dTheta.value=f,c.mipInt.value=w-n;var x=this._sizeLods[r];qx(t,3*x*(r>w-4?r-w+4:0),4*(this._cubeSize-x),3*x,2*x),s.setRenderTarget(t),s.render(l,Hx)}}]),e}();function Xx(e,t,n){var r=new Ny(e,t,n);return r.texture.mapping=Iv,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function qx(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Yx(){return new Ax({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Np,depthTest:!1,depthWrite:!1})}function Zx(){return new Ax({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Np,depthTest:!1,depthWrite:!1})}function Jx(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===Bv||a===Tv,s=a===Ev||a===Sv;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var u=t.get(i);return null===n&&(n=new Kx(e)),u=o?n.fromEquirectangular(i,u):n.fromCubemap(i,u),t.set(i,u),u.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(o&&l&&l.height>0||s&&l&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)){null===n&&(n=new Kx(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function $x(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function e_(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);for(var l in s.morphAttributes)for(var c=s.morphAttributes[l],A=0,f=c.length;A<f;A++)t.remove(c[A]);s.removeEventListener("dispose",o),delete i[s.id];var d=a.get(s);d&&(t.remove(d),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],A=s[u+1],f=s[u+2];n.push(c,A,A,f,f,c)}}else{if(void 0===i)return;var d=i.array;o=i.version;for(var h=0,p=d.length/3-1;h<p;h+=3){var v=h+0,g=h+1,m=h+2;n.push(v,g,g,m,m,v)}}var y=new(vy(n)?Iw:Bw)(n,1);y.version=o;var b=a.get(e);b&&t.remove(b),a.set(e,y)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,l=s.length;u<l;u++)t.update(s[u],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function t_(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,u,l){if(0!==l){var c,A;if(s)c=e,A="drawElementsInstanced";else if(A="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[A](i,u,a,r*o,l),n.update(u,i,l)}}}function n_(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function r_(e,t){return e[0]-t[0]}function i_(e,t){return Math.abs(t[1])-Math.abs(e[1])}function a_(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new Dy,s=[],u=0;u<8;u++)s[u]=[u,0];return{update:function(u,l,c){var A=u.morphTargetInfluences;if(!0===t.isWebGL2){var f=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,d=void 0!==f?f.length:0,h=a.get(l);if(void 0===h||h.count!==d){void 0!==h&&h.texture.dispose();var p=void 0!==l.morphAttributes.position,v=void 0!==l.morphAttributes.normal,g=void 0!==l.morphAttributes.color,m=l.morphAttributes.position||[],y=l.morphAttributes.normal||[],b=l.morphAttributes.color||[],w=0;!0===p&&(w=1),!0===v&&(w=2),!0===g&&(w=3);var x=l.attributes.position.count*w,_=1;x>t.maxTextureSize&&(_=Math.ceil(x/t.maxTextureSize),x=t.maxTextureSize);var C=new Float32Array(x*_*4*d),E=new Qy(C,x,_,d);E.type=qv,E.needsUpdate=!0;for(var S=4*w,B=0;B<d;B++)for(var T=m[B],I=y[B],k=b[B],M=x*_*4*B,R=0;R<T.count;R++){var U=R*S;!0===p&&(o.fromBufferAttribute(T,R),C[M+U+0]=o.x,C[M+U+1]=o.y,C[M+U+2]=o.z,C[M+U+3]=0),!0===v&&(o.fromBufferAttribute(I,R),C[M+U+4]=o.x,C[M+U+5]=o.y,C[M+U+6]=o.z,C[M+U+7]=0),!0===g&&(o.fromBufferAttribute(k,R),C[M+U+8]=o.x,C[M+U+9]=o.y,C[M+U+10]=o.z,C[M+U+11]=4===k.itemSize?o.w:1)}h={count:d,texture:E,size:new dy(x,_)},a.set(l,h),l.addEventListener("dispose",(function e(){E.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var F=0,O=0;O<A.length;O++)F+=A[O];var P=l.morphTargetsRelative?1:1-F;c.getUniforms().setValue(e,"morphTargetBaseInfluence",P),c.getUniforms().setValue(e,"morphTargetInfluences",A),c.getUniforms().setValue(e,"morphTargetsTexture",h.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",h.size)}else{var D=void 0===A?0:A.length,L=r[l.id];if(void 0===L||L.length!==D){L=[];for(var N=0;N<D;N++)L[N]=[N,0];r[l.id]=L}for(var Q=0;Q<D;Q++){var H=L[Q];H[0]=Q,H[1]=A[Q]}L.sort(i_);for(var j=0;j<8;j++)j<D&&L[j][1]?(s[j][0]=L[j][0],s[j][1]=L[j][1]):(s[j][0]=Number.MAX_SAFE_INTEGER,s[j][1]=0);s.sort(r_);for(var z=l.morphAttributes.position,G=l.morphAttributes.normal,V=0,W=0;W<8;W++){var K=s[W],X=K[0],q=K[1];X!==Number.MAX_SAFE_INTEGER&&q?(z&&l.getAttribute("morphTarget"+W)!==z[X]&&l.setAttribute("morphTarget"+W,z[X]),G&&l.getAttribute("morphNormal"+W)!==G[X]&&l.setAttribute("morphNormal"+W,G[X]),i[W]=q,V+=q):(z&&!0===l.hasAttribute("morphTarget"+W)&&l.deleteAttribute("morphTarget"+W),G&&!0===l.hasAttribute("morphNormal"+W)&&l.deleteAttribute("morphNormal"+W),i[W]=0)}var Y=l.morphTargetsRelative?1:1-V;c.getUniforms().setValue(e,"morphTargetBaseInfluence",Y),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function o_(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){var s=r.render.frame,u=o.geometry,l=t.get(o,u);if(i.get(l)!==s&&(t.update(l),i.set(l,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){var c=o.skeleton;i.get(c)!==s&&(c.update(),i.set(c,s))}return l},dispose:function(){i=new WeakMap}}}var s_=new Py,u_=new Qy,l_=new jy,c_=new vx,A_=[],f_=[],d_=new Float32Array(16),h_=new Float32Array(9),p_=new Float32Array(4);function v_(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=A_[i];if(void 0===a&&(a=new Float32Array(i),A_[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function g_(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function m_(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function y_(e,t){var n=f_[t];void 0===n&&(n=new Int32Array(t),f_[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function b_(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function w_(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(g_(n,t))return;e.uniform2fv(this.addr,t),m_(n,t)}}function x_(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(g_(n,t))return;e.uniform3fv(this.addr,t),m_(n,t)}}function __(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(g_(n,t))return;e.uniform4fv(this.addr,t),m_(n,t)}}function C_(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(g_(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),m_(n,t)}else{if(g_(n,r))return;p_.set(r),e.uniformMatrix2fv(this.addr,!1,p_),m_(n,r)}}function E_(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(g_(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),m_(n,t)}else{if(g_(n,r))return;h_.set(r),e.uniformMatrix3fv(this.addr,!1,h_),m_(n,r)}}function S_(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(g_(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),m_(n,t)}else{if(g_(n,r))return;d_.set(r),e.uniformMatrix4fv(this.addr,!1,d_),m_(n,r)}}function B_(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function T_(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(g_(n,t))return;e.uniform2iv(this.addr,t),m_(n,t)}}function I_(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(g_(n,t))return;e.uniform3iv(this.addr,t),m_(n,t)}}function k_(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(g_(n,t))return;e.uniform4iv(this.addr,t),m_(n,t)}}function M_(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function R_(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(g_(n,t))return;e.uniform2uiv(this.addr,t),m_(n,t)}}function U_(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(g_(n,t))return;e.uniform3uiv(this.addr,t),m_(n,t)}}function F_(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(g_(n,t))return;e.uniform4uiv(this.addr,t),m_(n,t)}}function O_(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||s_,i)}function P_(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||l_,i)}function D_(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||c_,i)}function L_(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||u_,i)}function N_(e,t){e.uniform1fv(this.addr,t)}function Q_(e,t){var n=v_(t,this.size,2);e.uniform2fv(this.addr,n)}function H_(e,t){var n=v_(t,this.size,3);e.uniform3fv(this.addr,n)}function j_(e,t){var n=v_(t,this.size,4);e.uniform4fv(this.addr,n)}function z_(e,t){var n=v_(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function G_(e,t){var n=v_(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function V_(e,t){var n=v_(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function W_(e,t){e.uniform1iv(this.addr,t)}function K_(e,t){e.uniform2iv(this.addr,t)}function X_(e,t){e.uniform3iv(this.addr,t)}function q_(e,t){e.uniform4iv(this.addr,t)}function Y_(e,t){e.uniform1uiv(this.addr,t)}function Z_(e,t){e.uniform2uiv(this.addr,t)}function J_(e,t){e.uniform3uiv(this.addr,t)}function $_(e,t){e.uniform4uiv(this.addr,t)}function eC(e,t,n){var r=this.cache,i=t.length,a=y_(n,i);g_(r,a)||(e.uniform1iv(this.addr,a),m_(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||s_,a[o])}function tC(e,t,n){var r=this.cache,i=t.length,a=y_(n,i);g_(r,a)||(e.uniform1iv(this.addr,a),m_(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||l_,a[o])}function nC(e,t,n){var r=this.cache,i=t.length,a=y_(n,i);g_(r,a)||(e.uniform1iv(this.addr,a),m_(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||c_,a[o])}function rC(e,t,n){var r=this.cache,i=t.length,a=y_(n,i);g_(r,a)||(e.uniform1iv(this.addr,a),m_(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||u_,a[o])}var iC=h((function e(t,n,r){c(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return b_;case 35664:return w_;case 35665:return x_;case 35666:return __;case 35674:return C_;case 35675:return E_;case 35676:return S_;case 5124:case 35670:return B_;case 35667:case 35671:return T_;case 35668:case 35672:return I_;case 35669:case 35673:return k_;case 5125:return M_;case 36294:return R_;case 36295:return U_;case 36296:return F_;case 35678:case 36198:case 36298:case 36306:case 35682:return O_;case 35679:case 36299:case 36307:return P_;case 35680:case 36300:case 36308:case 36293:return D_;case 36289:case 36303:case 36311:case 36292:return L_}}(n.type)})),aC=h((function e(t,n,r){c(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return N_;case 35664:return Q_;case 35665:return H_;case 35666:return j_;case 35674:return z_;case 35675:return G_;case 35676:return V_;case 5124:case 35670:return W_;case 35667:case 35671:return K_;case 35668:case 35672:return X_;case 35669:case 35673:return q_;case 5125:return Y_;case 36294:return Z_;case 36295:return J_;case 36296:return $_;case 35678:case 36198:case 36298:case 36306:case 35682:return eC;case 35679:case 36299:case 36307:return tC;case 35680:case 36300:case 36308:case 36293:return nC;case 36289:case 36303:case 36311:case 36292:return rC}}(n.type)})),oC=function(){function e(t){c(this,e),this.id=t,this.seq=[],this.map={}}return h(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),sC=/(\w+)(\])?(\[|\.)?/g;function uC(e,t){e.seq.push(t),e.map[t.id]=t}function lC(e,t,n){var r=e.name,i=r.length;for(sC.lastIndex=0;;){var a=sC.exec(r),o=sC.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){uC(n,void 0===l?new iC(s,e,t):new aC(s,e,t));break}var c=n.map[s];void 0===c&&uC(n,c=new oC(s)),n=c}}var cC=function(){function e(t,n){c(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(n,i);lC(a,t.getUniformLocation(n,a.name),this)}}return h(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function AC(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var fC=0;function dC(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function hC(e,t){var n=function(e){switch(e){case Am:return["Linear","( value )"];case cm:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function pC(e,t){var n;switch(t){case yv:n="Linear";break;case bv:n="Reinhard";break;case wv:n="OptimizedCineon";break;case xv:n="ACESFilmic";break;case _v:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function vC(e){return""!==e}function gC(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function mC(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var yC=/^[ \t]*#include +<([\w\d./]+)>/gm;function bC(e){return e.replace(yC,xC)}var wC=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function xC(e,t){var n=Tx[t];if(void 0===n){var r=wC.get(t);if(void 0===r)throw new Error("Can not resolve #include <"+t+">");n=Tx[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,r)}return bC(n)}var _C=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function CC(e){return e.replace(_C,EC)}function EC(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function SC(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function BC(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,u=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Rp?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Up?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Fp&&(t="SHADOWMAP_TYPE_VSM"),t}(n),A=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Ev:case Sv:t="ENVMAP_TYPE_CUBE";break;case Iv:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),f=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Sv&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case pv:t="ENVMAP_BLENDING_MULTIPLY";break;case vv:t="ENVMAP_BLENDING_MIX";break;case gv:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),p=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(vC).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),m=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(vC).join("\n")).length>0&&(i+="\n"),(a=[p,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(vC).join("\n")).length>0&&(a+="\n")):(i=[SC(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(vC).join("\n"),a=[p,SC(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+A:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==mv?"#define TONE_MAPPING":"",n.toneMapping!==mv?Tx.tonemapping_pars_fragment:"",n.toneMapping!==mv?pC("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Tx.colorspace_pars_fragment,hC("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(vC).join("\n")),u=mC(u=gC(u=bC(u),n),n),l=mC(l=gC(l=bC(l),n),n),u=CC(u),l=CC(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(m="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Xm?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Xm?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var y,b,w=m+i+u,x=m+a+l,_=AC(o,o.VERTEX_SHADER,w),C=AC(o,o.FRAGMENT_SHADER,x);if(o.attachShader(g,_),o.attachShader(g,C),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var E=o.getProgramInfoLog(g).trim(),S=o.getShaderInfoLog(_).trim(),B=o.getShaderInfoLog(C).trim(),T=!0,I=!0;if(!1===o.getProgramParameter(g,o.LINK_STATUS))if(T=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(o,g,_,C);else{var k=dC(o,_,"vertex"),M=dC(o,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,o.VALIDATE_STATUS)+"\n\nProgram Info Log: "+E+"\n"+k+"\n"+M)}else""!==E?console.warn("THREE.WebGLProgram: Program Info Log:",E):""!==S&&""!==B||(I=!1);I&&(this.diagnostics={runnable:T,programLog:E,vertexShader:{log:S,prefix:i},fragmentShader:{log:B,prefix:a}})}return o.deleteShader(_),o.deleteShader(C),this.getUniforms=function(){return void 0===y&&(y=new cC(o,g)),y},this.getAttributes=function(){return void 0===b&&(b=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,g)),b},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=fC++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=_,this.fragmentShader=C,this}var TC=0,IC=function(){function e(){c(this,e),this.shaderCache=new Map,this.materialCache=new Map}return h(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=k(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(i){n.e(i)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new kC(e),t.set(e,n)),n}}]),e}(),kC=h((function e(t){c(this,e),this.id=TC++,this.code=t,this.usedTimes=0}));function MC(e,t,n,r,i,a,o){var s=new Ub,u=new IC,l=[],c=i.isWebGL2,A=i.logarithmicDepthBuffer,f=i.vertexTextures,d=i.precision,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(e){return 0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,l,v,g){var m=v.fog,y=g.geometry,b=a.isMeshStandardMaterial?v.environment:null,w=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),x=w&&w.mapping===Iv?w.image.height:null,_=h[a.type];null!==a.precision&&(d=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",d,"instead.");var C,E,S,B,T=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,I=void 0!==T?T.length:0,k=0;if(void 0!==y.morphAttributes.position&&(k=1),void 0!==y.morphAttributes.normal&&(k=2),void 0!==y.morphAttributes.color&&(k=3),_){var M=kx[_];C=M.vertexShader,E=M.fragmentShader}else C=a.vertexShader,E=a.fragmentShader,u.update(a),S=u.getVertexShaderID(a),B=u.getFragmentShaderID(a);var R=e.getRenderTarget(),U=!0===g.isInstancedMesh,F=!!a.map,O=!!a.matcap,P=!!w,D=!!a.aoMap,L=!!a.lightMap,N=!!a.bumpMap,Q=!!a.normalMap,H=!!a.displacementMap,j=!!a.emissiveMap,z=!!a.metalnessMap,G=!!a.roughnessMap,V=a.anisotropy>0,W=a.clearcoat>0,K=a.iridescence>0,X=a.sheen>0,q=a.transmission>0,Y=V&&!!a.anisotropyMap,Z=W&&!!a.clearcoatMap,J=W&&!!a.clearcoatNormalMap,$=W&&!!a.clearcoatRoughnessMap,ee=K&&!!a.iridescenceMap,te=K&&!!a.iridescenceThicknessMap,ne=X&&!!a.sheenColorMap,re=X&&!!a.sheenRoughnessMap,ie=!!a.specularMap,ae=!!a.specularColorMap,oe=!!a.specularIntensityMap,se=q&&!!a.transmissionMap,ue=q&&!!a.thicknessMap,le=!!a.gradientMap,ce=!!a.alphaMap,Ae=a.alphaTest>0,fe=!!a.alphaHash,de=!!a.extensions,he=!!y.attributes.uv1,pe=!!y.attributes.uv2,ve=!!y.attributes.uv3,ge=mv;return a.toneMapped&&(null!==R&&!0!==R.isXRRenderTarget||(ge=e.toneMapping)),{isWebGL2:c,shaderID:_,shaderType:a.type,shaderName:a.name,vertexShader:C,fragmentShader:E,defines:a.defines,customVertexShaderID:S,customFragmentShaderID:B,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:d,instancing:U,instancingColor:U&&null!==g.instanceColor,supportsVertexTextures:f,outputColorSpace:null===R?e.outputColorSpace:!0===R.isXRRenderTarget?R.texture.colorSpace:Am,map:F,matcap:O,envMap:P,envMapMode:P&&w.mapping,envMapCubeUVHeight:x,aoMap:D,lightMap:L,bumpMap:N,normalMap:Q,displacementMap:f&&H,emissiveMap:j,normalMapObjectSpace:Q&&a.normalMapType===um,normalMapTangentSpace:Q&&a.normalMapType===sm,metalnessMap:z,roughnessMap:G,anisotropy:V,anisotropyMap:Y,clearcoat:W,clearcoatMap:Z,clearcoatNormalMap:J,clearcoatRoughnessMap:$,iridescence:K,iridescenceMap:ee,iridescenceThicknessMap:te,sheen:X,sheenColorMap:ne,sheenRoughnessMap:re,specularMap:ie,specularColorMap:ae,specularIntensityMap:oe,transmission:q,transmissionMap:se,thicknessMap:ue,gradientMap:le,opaque:!1===a.transparent&&a.blending===Qp,alphaMap:ce,alphaTest:Ae,alphaHash:fe,combine:a.combine,mapUv:F&&p(a.map.channel),aoMapUv:D&&p(a.aoMap.channel),lightMapUv:L&&p(a.lightMap.channel),bumpMapUv:N&&p(a.bumpMap.channel),normalMapUv:Q&&p(a.normalMap.channel),displacementMapUv:H&&p(a.displacementMap.channel),emissiveMapUv:j&&p(a.emissiveMap.channel),metalnessMapUv:z&&p(a.metalnessMap.channel),roughnessMapUv:G&&p(a.roughnessMap.channel),anisotropyMapUv:Y&&p(a.anisotropyMap.channel),clearcoatMapUv:Z&&p(a.clearcoatMap.channel),clearcoatNormalMapUv:J&&p(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:$&&p(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ee&&p(a.iridescenceMap.channel),iridescenceThicknessMapUv:te&&p(a.iridescenceThicknessMap.channel),sheenColorMapUv:ne&&p(a.sheenColorMap.channel),sheenRoughnessMapUv:re&&p(a.sheenRoughnessMap.channel),specularMapUv:ie&&p(a.specularMap.channel),specularColorMapUv:ae&&p(a.specularColorMap.channel),specularIntensityMapUv:oe&&p(a.specularIntensityMap.channel),transmissionMapUv:se&&p(a.transmissionMap.channel),thicknessMapUv:ue&&p(a.thicknessMap.channel),alphaMapUv:ce&&p(a.alphaMap.channel),vertexTangents:!!y.attributes.tangent&&(Q||V),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUv1s:he,vertexUv2s:pe,vertexUv3s:ve,pointsUvs:!0===g.isPoints&&!!y.attributes.uv&&(F||ce),fog:!!m,useFog:!0===a.fog,fogExp2:m&&m.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:A,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:I,morphTextureStride:k,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:ge,useLegacyLights:e._useLegacyLights,decodeVideoTexture:F&&!0===a.map.isVideoTexture&&a.map.colorSpace===cm,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===Dp,flipSided:a.side===Pp,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:de&&!0===a.extensions.derivatives,extensionFragDepth:de&&!0===a.extensions.fragDepth,extensionDrawBuffers:de&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:de&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=h[e.type];if(n){var r=kx[n];t=cx.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=l.length;i<o;i++){var s=l[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new BC(e,n,t,a),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:l,dispose:function(){u.dispose()}}}function RC(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function UC(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function FC(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function OC(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=o,u.group=s),t++,u}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||UC),r.length>1&&r.sort(t||FC),i.length>1&&i.sort(t||FC)}}}function PC(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new OC,e.set(t,[r])):n>=i.length?(r=new OC,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function DC(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Wy,color:new fw};break;case"SpotLight":n={position:new Wy,direction:new Wy,color:new fw,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Wy,color:new fw,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Wy,skyColor:new fw,groundColor:new fw};break;case"RectAreaLight":n={color:new fw,position:new Wy,halfWidth:new Wy,halfHeight:new Wy}}return e[t.id]=n,n}}}var LC=0;function NC(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function QC(e,t){for(var n=new DC,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dy};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dy,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new Wy);var o=new Wy,s=new xb,u=new xb;return{setup:function(a,o){for(var s=0,u=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var A=0,f=0,d=0,h=0,p=0,v=0,g=0,m=0,y=0,b=0;a.sort(NC);for(var w=!0===o?Math.PI:1,x=0,_=a.length;x<_;x++){var C=a[x],E=C.color,S=C.intensity,B=C.distance,T=C.shadow&&C.shadow.map?C.shadow.map.texture:null;if(C.isAmbientLight)s+=E.r*S*w,u+=E.g*S*w,l+=E.b*S*w;else if(C.isLightProbe)for(var I=0;I<9;I++)i.probe[I].addScaledVector(C.sh.coefficients[I],S);else if(C.isDirectionalLight){var k=n.get(C);if(k.color.copy(C.color).multiplyScalar(C.intensity*w),C.castShadow){var M=C.shadow,R=r.get(C);R.shadowBias=M.bias,R.shadowNormalBias=M.normalBias,R.shadowRadius=M.radius,R.shadowMapSize=M.mapSize,i.directionalShadow[A]=R,i.directionalShadowMap[A]=T,i.directionalShadowMatrix[A]=C.shadow.matrix,v++}i.directional[A]=k,A++}else if(C.isSpotLight){var U=n.get(C);U.position.setFromMatrixPosition(C.matrixWorld),U.color.copy(E).multiplyScalar(S*w),U.distance=B,U.coneCos=Math.cos(C.angle),U.penumbraCos=Math.cos(C.angle*(1-C.penumbra)),U.decay=C.decay,i.spot[d]=U;var F=C.shadow;if(C.map&&(i.spotLightMap[y]=C.map,y++,F.updateMatrices(C),C.castShadow&&b++),i.spotLightMatrix[d]=F.matrix,C.castShadow){var O=r.get(C);O.shadowBias=F.bias,O.shadowNormalBias=F.normalBias,O.shadowRadius=F.radius,O.shadowMapSize=F.mapSize,i.spotShadow[d]=O,i.spotShadowMap[d]=T,m++}d++}else if(C.isRectAreaLight){var P=n.get(C);P.color.copy(E).multiplyScalar(S),P.halfWidth.set(.5*C.width,0,0),P.halfHeight.set(0,.5*C.height,0),i.rectArea[h]=P,h++}else if(C.isPointLight){var D=n.get(C);if(D.color.copy(C.color).multiplyScalar(C.intensity*w),D.distance=C.distance,D.decay=C.decay,C.castShadow){var L=C.shadow,N=r.get(C);N.shadowBias=L.bias,N.shadowNormalBias=L.normalBias,N.shadowRadius=L.radius,N.shadowMapSize=L.mapSize,N.shadowCameraNear=L.camera.near,N.shadowCameraFar=L.camera.far,i.pointShadow[f]=N,i.pointShadowMap[f]=T,i.pointShadowMatrix[f]=C.shadow.matrix,g++}i.point[f]=D,f++}else if(C.isHemisphereLight){var Q=n.get(C);Q.skyColor.copy(C.color).multiplyScalar(S*w),Q.groundColor.copy(C.groundColor).multiplyScalar(S*w),i.hemi[p]=Q,p++}}h>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Ix.LTC_FLOAT_1,i.rectAreaLTC2=Ix.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Ix.LTC_HALF_1,i.rectAreaLTC2=Ix.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=u,i.ambient[2]=l;var H=i.hash;H.directionalLength===A&&H.pointLength===f&&H.spotLength===d&&H.rectAreaLength===h&&H.hemiLength===p&&H.numDirectionalShadows===v&&H.numPointShadows===g&&H.numSpotShadows===m&&H.numSpotMaps===y||(i.directional.length=A,i.spot.length=d,i.rectArea.length=h,i.point.length=f,i.hemi.length=p,i.directionalShadow.length=v,i.directionalShadowMap.length=v,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=m,i.spotShadowMap.length=m,i.directionalShadowMatrix.length=v,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=m+y-b,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=b,H.directionalLength=A,H.pointLength=f,H.spotLength=d,H.rectAreaLength=h,H.hemiLength=p,H.numDirectionalShadows=v,H.numPointShadows=g,H.numSpotShadows=m,H.numSpotMaps=y,i.version=LC++)},setupView:function(e,t){for(var n=0,r=0,a=0,l=0,c=0,A=t.matrixWorldInverse,f=0,d=e.length;f<d;f++){var h=e[f];if(h.isDirectionalLight){var p=i.directional[n];p.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),p.direction.sub(o),p.direction.transformDirection(A),n++}else if(h.isSpotLight){var v=i.spot[a];v.position.setFromMatrixPosition(h.matrixWorld),v.position.applyMatrix4(A),v.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(A),a++}else if(h.isRectAreaLight){var g=i.rectArea[l];g.position.setFromMatrixPosition(h.matrixWorld),g.position.applyMatrix4(A),u.identity(),s.copy(h.matrixWorld),s.premultiply(A),u.extractRotation(s),g.halfWidth.set(.5*h.width,0,0),g.halfHeight.set(0,.5*h.height,0),g.halfWidth.applyMatrix4(u),g.halfHeight.applyMatrix4(u),l++}else if(h.isPointLight){var m=i.point[r];m.position.setFromMatrixPosition(h.matrixWorld),m.position.applyMatrix4(A),r++}else if(h.isHemisphereLight){var y=i.hemi[c];y.direction.setFromMatrixPosition(h.matrixWorld),y.direction.transformDirection(A),c++}}},state:i}}function HC(e,t){var n=new QC(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function jC(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new HC(e,t),n.set(r,[i])):a>=o.length?(i=new HC(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var zC=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=am,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(sw),GC=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(sw);function VC(e,t,n){var r,i=new Cx,a=new dy,o=new dy,s=new Dy,u=new zC({depthPacking:om}),l=new GC,c={},A=n.maxTextureSize,f=(E(r={},Op,Pp),E(r,Pp,Op),E(r,Dp,Dp),r),d=new Ax({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dy},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=d.clone();h.defines.HORIZONTAL_PASS=1;var p=new Qw;p.setAttribute("position",new xw(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new ix(p,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Rp;var m=this.type;function y(n,r){var i=t.update(v);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,h.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Ny(a.x,a.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,d,v,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,h,v,null)}function b(t,n,r,i){var a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:u,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var s=a.uuid,A=n.uuid,d=c[s];void 0===d&&(d={},c[s]=d);var h=d[A];void 0===h&&(h=a.clone(),d[A]=h),a=h}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===Fp?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function w(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===Fp)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,A=0,f=c.length;A<f;A++){var d=c[A],h=l[d.materialIndex];if(h&&h.visible){var p=b(n,h,o,s);e.renderBufferDirect(a,null,u,p,n,d)}}else if(l.visible){var v=b(n,l,o,s);e.renderBufferDirect(a,null,u,v,n,null)}}for(var g=n.children,m=0,y=g.length;m<y;m++)w(g[m],r,a,o,s)}}this.render=function(t,n,r){if(!1!==g.enabled&&(!1!==g.autoUpdate||!1!==g.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),f=e.state;f.setBlending(Np),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var d=m!==Fp&&this.type===Fp,h=m===Fp&&this.type!==Fp,p=0,v=t.length;p<v;p++){var b=t[p],x=b.shadow;if(void 0!==x){if(!1!==x.autoUpdate||!1!==x.needsUpdate){a.copy(x.mapSize);var _=x.getFrameExtents();if(a.multiply(_),o.copy(x.mapSize),(a.x>A||a.y>A)&&(a.x>A&&(o.x=Math.floor(A/_.x),a.x=o.x*_.x,x.mapSize.x=o.x),a.y>A&&(o.y=Math.floor(A/_.y),a.y=o.y*_.y,x.mapSize.y=o.y)),null===x.map||!0===d||!0===h){var C=this.type!==Fp?{minFilter:Uv,magFilter:Uv}:{};null!==x.map&&x.map.dispose(),x.map=new Ny(a.x,a.y,C),x.map.texture.name=b.name+".shadowMap",x.camera.updateProjectionMatrix()}e.setRenderTarget(x.map),e.clear();for(var E=x.getViewportCount(),S=0;S<E;S++){var B=x.getViewport(S);s.set(o.x*B.x,o.y*B.y,o.x*B.z,o.y*B.w),f.viewport(s),x.updateMatrices(b,S),i=x.getFrustum(),w(n,r,x.camera,b,this.type)}!0!==x.isPointLightShadow&&this.type===Fp&&y(x,r),x.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",b,"has no shadow.")}m=this.type,g.needsUpdate=!1,e.setRenderTarget(u,l,c)}}}function WC(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new Dy,r=null,i=new Dy(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?z(e.DEPTH_TEST):G(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case sv:e.depthFunc(e.NEVER);break;case uv:e.depthFunc(e.ALWAYS);break;case lv:e.depthFunc(e.LESS);break;case cv:e.depthFunc(e.LEQUAL);break;case Av:e.depthFunc(e.EQUAL);break;case fv:e.depthFunc(e.GEQUAL);break;case dv:e.depthFunc(e.GREATER);break;case hv:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(n){t||(n?z(e.STENCIL_TEST):G(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},l=new WeakMap,c=new WeakMap,A={},f={},d=new WeakMap,h=[],p=null,v=!1,g=null,m=null,y=null,b=null,w=null,x=null,_=null,C=!1,S=null,B=null,T=null,I=null,k=null,M=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),R=!1,U=0,F=e.getParameter(e.VERSION);-1!==F.indexOf("WebGL")?(U=parseFloat(/^WebGL (\d)/.exec(F)[1]),R=U>=1):-1!==F.indexOf("OpenGL ES")&&(U=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),R=U>=2);var O=null,P={},D=e.getParameter(e.SCISSOR_BOX),L=e.getParameter(e.VIEWPORT),N=(new Dy).fromArray(D),Q=(new Dy).fromArray(L);function H(t,n,r,i){var o=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var u=0;u<r;u++)!a||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+u,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,o);return s}var j={};function z(t){!0!==A[t]&&(e.enable(t),A[t]=!0)}function G(t){!1!==A[t]&&(e.disable(t),A[t]=!1)}j[e.TEXTURE_2D]=H(e.TEXTURE_2D,e.TEXTURE_2D,1),j[e.TEXTURE_CUBE_MAP]=H(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),a&&(j[e.TEXTURE_2D_ARRAY]=H(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),j[e.TEXTURE_3D]=H(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),s.setClear(1),u.setClear(0),z(e.DEPTH_TEST),s.setFunc(cv),q(!1),Y(Tp),z(e.CULL_FACE),X(Np);var V=(E(r={},Vp,e.FUNC_ADD),E(r,Wp,e.FUNC_SUBTRACT),E(r,Kp,e.FUNC_REVERSE_SUBTRACT),r);if(a)V[Xp]=e.MIN,V[qp]=e.MAX;else{var W=t.get("EXT_blend_minmax");null!==W&&(V[Xp]=W.MIN_EXT,V[qp]=W.MAX_EXT)}var K=(E(i={},Yp,e.ZERO),E(i,Zp,e.ONE),E(i,Jp,e.SRC_COLOR),E(i,ev,e.SRC_ALPHA),E(i,ov,e.SRC_ALPHA_SATURATE),E(i,iv,e.DST_COLOR),E(i,nv,e.DST_ALPHA),E(i,$p,e.ONE_MINUS_SRC_COLOR),E(i,tv,e.ONE_MINUS_SRC_ALPHA),E(i,av,e.ONE_MINUS_DST_COLOR),E(i,rv,e.ONE_MINUS_DST_ALPHA),i);function X(t,n,r,i,a,o,s,u){if(t!==Np){if(!1===v&&(z(e.BLEND),v=!0),t===Gp)a=a||n,o=o||r,s=s||i,n===m&&a===w||(e.blendEquationSeparate(V[n],V[a]),m=n,w=a),r===y&&i===b&&o===x&&s===_||(e.blendFuncSeparate(K[r],K[i],K[o],K[s]),y=r,b=i,x=o,_=s),g=t,C=!1;else if(t!==g||u!==C){if(m===Vp&&w===Vp||(e.blendEquation(e.FUNC_ADD),m=Vp,w=Vp),u)switch(t){case Qp:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Hp:e.blendFunc(e.ONE,e.ONE);break;case jp:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case zp:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case Qp:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Hp:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case jp:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case zp:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}y=null,b=null,x=null,_=null,g=t,C=u}}else!0===v&&(G(e.BLEND),v=!1)}function q(t){S!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),S=t)}function Y(t){t!==Bp?(z(e.CULL_FACE),t!==B&&(t===Tp?e.cullFace(e.BACK):t===Ip?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):G(e.CULL_FACE),B=t}function Z(t,n,r){t?(z(e.POLYGON_OFFSET_FILL),I===n&&k===r||(e.polygonOffset(n,r),I=n,k=r)):G(e.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:s,stencil:u},enable:z,disable:G,bindFramebuffer:function(t,n){return f[t]!==n&&(e.bindFramebuffer(t,n),f[t]=n,a&&(t===e.DRAW_FRAMEBUFFER&&(f[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(f[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){var a=h,o=!1;if(r)if(void 0===(a=d.get(i))&&(a=[],d.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||a[0]!==e.COLOR_ATTACHMENT0){for(var u=0,l=s.length;u<l;u++)a[u]=e.COLOR_ATTACHMENT0+u;a.length=s.length,o=!0}}else a[0]!==e.COLOR_ATTACHMENT0&&(a[0]=e.COLOR_ATTACHMENT0,o=!0);else a[0]!==e.BACK&&(a[0]=e.BACK,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return p!==t&&(e.useProgram(t),p=t,!0)},setBlending:X,setMaterial:function(t,n){t.side===Dp?G(e.CULL_FACE):z(e.CULL_FACE);var r=t.side===Pp;n&&(r=!r),q(r),t.blending===Qp&&!1===t.transparent?X(Np):X(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),o.setMask(t.colorWrite);var i=t.stencilWrite;u.setTest(i),i&&(u.setMask(t.stencilWriteMask),u.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),u.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Z(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?z(e.SAMPLE_ALPHA_TO_COVERAGE):G(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:q,setCullFace:Y,setLineWidth:function(t){t!==T&&(R&&e.lineWidth(t),T=t)},setPolygonOffset:Z,setScissorTest:function(t){t?z(e.SCISSOR_TEST):G(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+M-1),O!==t&&(e.activeTexture(t),O=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===O?e.TEXTURE0+M-1:O);var i=P[r];void 0===i&&(i={type:void 0,texture:void 0},P[r]=i),i.type===t&&i.texture===n||(O!==r&&(e.activeTexture(r),O=r),e.bindTexture(t,n||j[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=P[O];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=c.get(n);void 0===r&&(r=new WeakMap,c.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=c.get(n).get(t);l.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),l.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===N.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),N.copy(t))},viewport:function(t){!1===Q.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),Q.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===a&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),A={},O=null,P={},f={},d=new WeakMap,h=[],p=null,v=!1,g=null,m=null,y=null,b=null,w=null,x=null,_=null,C=!1,S=null,B=null,T=null,I=null,k=null,N.set(0,0,e.canvas.width,e.canvas.height),Q.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),u.reset()}}}function KC(e,t,n,r,i,a,o){var s,u,l,c,A=i.isWebGL2,f=i.maxTextures,d=i.maxCubemapSize,h=i.maxTextureSize,p=i.maxSamples,v=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,g="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,y=new WeakMap,b=!1;try{b="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(K){}function w(e,t){return b?new OffscreenCanvas(e,t):yy("canvas")}function x(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?ly:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===c&&(c=w(o,s));var u=n?w(o,s):c;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function _(e){return sy(e.width)&&sy(e.height)}function C(e,t){return e.generateMipmaps&&t&&e.minFilter!==Uv&&e.minFilter!==Lv}function S(t){e.generateMipmap(t)}function B(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===A)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RGBA&&(i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=a===cm&&!1===o?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)),s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function T(e,t,n){return!0===C(e,n)||e.isFramebufferTexture&&e.minFilter!==Uv&&e.minFilter!==Lv?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function I(t){return t===Uv||t===Fv||t===Pv?e.NEAREST:e.LINEAR}function k(e){var t=e.target;t.removeEventListener("dispose",k),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=y.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&R(e),0===Object.keys(i).length&&y.delete(n)}r.remove(e)}(t),t.isVideoTexture&&m.delete(t)}function M(t){var n=t.target;n.removeEventListener("dispose",M),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++){if(Array.isArray(i.__webglFramebuffer[s]))for(var u=0;u<i.__webglFramebuffer[s].length;u++)e.deleteFramebuffer(i.__webglFramebuffer[s][u]);else e.deleteFramebuffer(i.__webglFramebuffer[s]);i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s])}else{if(Array.isArray(i.__webglFramebuffer))for(var l=0;l<i.__webglFramebuffer.length;l++)e.deleteFramebuffer(i.__webglFramebuffer[l]);else e.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var c=0;c<i.__webglColorRenderbuffer.length;c++)i.__webglColorRenderbuffer[c]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[c]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var A=0,f=n.length;A<f;A++){var d=r.get(n[A]);d.__webglTexture&&(e.deleteTexture(d.__webglTexture),o.memory.textures--),r.remove(n[A])}r.remove(n),r.remove(t)}(n)}function R(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete y.get(i)[n.__cacheKey],o.memory.textures--}var U=0;function F(t,i){var a=r.get(t);if(t.isVideoTexture&&function(e){var t=o.render.frame;m.get(e)!==t&&(m.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){var s=t.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void Q(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}var O=(E(s={},kv,e.REPEAT),E(s,Mv,e.CLAMP_TO_EDGE),E(s,Rv,e.MIRRORED_REPEAT),s),P=(E(u={},Uv,e.NEAREST),E(u,Fv,e.NEAREST_MIPMAP_NEAREST),E(u,Pv,e.NEAREST_MIPMAP_LINEAR),E(u,Lv,e.LINEAR),E(u,Nv,e.LINEAR_MIPMAP_NEAREST),E(u,Hv,e.LINEAR_MIPMAP_LINEAR),u),D=(E(l={},km,e.NEVER),E(l,Dm,e.ALWAYS),E(l,Mm,e.LESS),E(l,Um,e.LEQUAL),E(l,Rm,e.EQUAL),E(l,Pm,e.GEQUAL),E(l,Fm,e.GREATER),E(l,Om,e.NOTEQUAL),l);function L(n,a,o){if(o?(e.texParameteri(n,e.TEXTURE_WRAP_S,O[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,O[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,O[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,P[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,P[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),a.wrapS===Mv&&a.wrapT===Mv||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,I(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,I(a.minFilter)),a.minFilter!==Uv&&a.minFilter!==Lv&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,D[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===Uv)return;if(a.minFilter!==Pv&&a.minFilter!==Hv)return;if(a.type===qv&&!1===t.has("OES_texture_float_linear"))return;if(!1===A&&a.type===Yv&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function N(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",k));var i=n.source,a=y.get(i);void 0===a&&(a={},y.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var u=a[t.__cacheKey];void 0!==u&&(a[t.__cacheKey].usedTimes--,0===u.usedTimes&&R(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function Q(t,i,o){var s=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(s=e.TEXTURE_3D);var u=N(t,i),l=i.source;n.bindTexture(s,t.__webglTexture,e.TEXTURE0+o);var c=r.get(l);if(l.version!==c.__version||!0===u){n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);var f,d=function(e){return!A&&(e.wrapS!==Mv||e.wrapT!==Mv||e.minFilter!==Uv&&e.minFilter!==Lv)}(i)&&!1===_(i.image),p=x(i.image,d,!1,h),v=_(p=W(i,p))||A,g=a.convert(i.format,i.colorSpace),m=a.convert(i.type),y=B(i.internalFormat,g,m,i.colorSpace,i.isVideoTexture);L(s,i,v);var b=i.mipmaps,w=A&&!0!==i.isVideoTexture,E=void 0===c.__version||!0===u,I=T(i,p,v);if(i.isDepthTexture)y=e.DEPTH_COMPONENT,A?y=i.type===qv?e.DEPTH_COMPONENT32F:i.type===Xv?e.DEPTH_COMPONENT24:i.type===$v?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:i.type===qv&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===ig&&y===e.DEPTH_COMPONENT&&i.type!==Wv&&i.type!==Xv&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Xv,m=a.convert(i.type)),i.format===ag&&y===e.DEPTH_COMPONENT&&(y=e.DEPTH_STENCIL,i.type!==$v&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=$v,m=a.convert(i.type))),E&&(w?n.texStorage2D(e.TEXTURE_2D,1,y,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,y,p.width,p.height,0,g,m,null));else if(i.isDataTexture)if(b.length>0&&v){w&&E&&n.texStorage2D(e.TEXTURE_2D,I,y,b[0].width,b[0].height);for(var k=0,M=b.length;k<M;k++)f=b[k],w?n.texSubImage2D(e.TEXTURE_2D,k,0,0,f.width,f.height,g,m,f.data):n.texImage2D(e.TEXTURE_2D,k,y,f.width,f.height,0,g,m,f.data);i.generateMipmaps=!1}else w?(E&&n.texStorage2D(e.TEXTURE_2D,I,y,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,p.width,p.height,g,m,p.data)):n.texImage2D(e.TEXTURE_2D,0,y,p.width,p.height,0,g,m,p.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){w&&E&&n.texStorage3D(e.TEXTURE_2D_ARRAY,I,y,b[0].width,b[0].height,p.depth);for(var R=0,U=b.length;R<U;R++)f=b[R],i.format!==tg?null!==g?w?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,R,0,0,0,f.width,f.height,p.depth,g,f.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,R,y,f.width,f.height,p.depth,0,f.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):w?n.texSubImage3D(e.TEXTURE_2D_ARRAY,R,0,0,0,f.width,f.height,p.depth,g,m,f.data):n.texImage3D(e.TEXTURE_2D_ARRAY,R,y,f.width,f.height,p.depth,0,g,m,f.data)}else{w&&E&&n.texStorage2D(e.TEXTURE_2D,I,y,b[0].width,b[0].height);for(var F=0,O=b.length;F<O;F++)f=b[F],i.format!==tg?null!==g?w?n.compressedTexSubImage2D(e.TEXTURE_2D,F,0,0,f.width,f.height,g,f.data):n.compressedTexImage2D(e.TEXTURE_2D,F,y,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):w?n.texSubImage2D(e.TEXTURE_2D,F,0,0,f.width,f.height,g,m,f.data):n.texImage2D(e.TEXTURE_2D,F,y,f.width,f.height,0,g,m,f.data)}else if(i.isDataArrayTexture)w?(E&&n.texStorage3D(e.TEXTURE_2D_ARRAY,I,y,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,g,m,p.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,y,p.width,p.height,p.depth,0,g,m,p.data);else if(i.isData3DTexture)w?(E&&n.texStorage3D(e.TEXTURE_3D,I,y,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,g,m,p.data)):n.texImage3D(e.TEXTURE_3D,0,y,p.width,p.height,p.depth,0,g,m,p.data);else if(i.isFramebufferTexture){if(E)if(w)n.texStorage2D(e.TEXTURE_2D,I,y,p.width,p.height);else for(var P=p.width,D=p.height,Q=0;Q<I;Q++)n.texImage2D(e.TEXTURE_2D,Q,y,P,D,0,g,m,null),P>>=1,D>>=1}else if(b.length>0&&v){w&&E&&n.texStorage2D(e.TEXTURE_2D,I,y,b[0].width,b[0].height);for(var H=0,j=b.length;H<j;H++)f=b[H],w?n.texSubImage2D(e.TEXTURE_2D,H,0,0,g,m,f):n.texImage2D(e.TEXTURE_2D,H,y,g,m,f);i.generateMipmaps=!1}else w?(E&&n.texStorage2D(e.TEXTURE_2D,I,y,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,g,m,p)):n.texImage2D(e.TEXTURE_2D,0,y,g,m,p);C(i,v)&&S(s),c.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function H(t,i,o,s,u,l){var c=a.convert(o.format,o.colorSpace),A=a.convert(o.type),f=B(o.internalFormat,c,A,o.colorSpace);if(!r.get(i).__hasExternalTextures){var d=Math.max(1,i.width>>l),h=Math.max(1,i.height>>l);u===e.TEXTURE_3D||u===e.TEXTURE_2D_ARRAY?n.texImage3D(u,l,f,d,h,i.depth,0,c,A,null):n.texImage2D(u,l,f,d,h,0,c,A,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),V(i)?v.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,u,r.get(o).__webglTexture,0,G(i)):(u===e.TEXTURE_2D||u>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&u<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,u,r.get(o).__webglTexture,l),n.bindFramebuffer(e.FRAMEBUFFER,null)}function j(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){var i=e.DEPTH_COMPONENT16;if(r||V(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===qv?i=e.DEPTH_COMPONENT32F:o.type===Xv&&(i=e.DEPTH_COMPONENT24));var s=G(n);V(n)?v.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,s,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,s,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){var u=G(n);r&&!1===V(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):V(n)?v.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else for(var l=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<l.length;c++){var A=l[c],f=a.convert(A.format,A.colorSpace),d=a.convert(A.type),h=B(A.internalFormat,f,d,A.colorSpace),p=G(n);r&&!1===V(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,p,h,n.width,n.height):V(n)?v.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,p,h,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,h,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function z(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),F(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=G(i);if(i.depthTexture.format===ig)V(i)?v.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==ag)throw new Error("Unknown depthTexture format");V(i)?v.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),j(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),j(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function G(e){return Math.min(p,e.samples)}function V(e){var n=r.get(e);return A&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function W(e,n){var r=e.colorSpace,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===qm||r!==Am&&r!==lm&&(r===cm||r===fm?!1===A?!0===t.has("EXT_sRGB")&&i===tg?(e.format=qm,e.minFilter=Lv,e.generateMipmaps=!1):n=My.sRGBToLinear(n):i===tg&&a===zv||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){var e=U;return e>=f&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+f),U+=1,e},this.resetTextureUnits=function(){U=0},this.setTexture2D=F,this.setTexture2DArray=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?Q(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?Q(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;var s=N(t,i),u=i.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+o);var l=r.get(u);if(u.version!==l.__version||!0===s){n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);for(var c=i.isCompressedTexture||i.image[0].isCompressedTexture,f=i.image[0]&&i.image[0].isDataTexture,h=[],p=0;p<6;p++)h[p]=c||f?f?i.image[p].image:i.image[p]:x(i.image[p],!1,!0,d),h[p]=W(i,h[p]);var v,g=h[0],m=_(g)||A,y=a.convert(i.format,i.colorSpace),b=a.convert(i.type),w=B(i.internalFormat,y,b,i.colorSpace),E=A&&!0!==i.isVideoTexture,I=void 0===l.__version||!0===s,k=T(i,g,m);if(L(e.TEXTURE_CUBE_MAP,i,m),c){E&&I&&n.texStorage2D(e.TEXTURE_CUBE_MAP,k,w,g.width,g.height);for(var M=0;M<6;M++){v=h[M].mipmaps;for(var R=0;R<v.length;R++){var U=v[R];i.format!==tg?null!==y?E?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+M,R,0,0,U.width,U.height,y,U.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+M,R,w,U.width,U.height,0,U.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):E?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+M,R,0,0,U.width,U.height,y,b,U.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+M,R,w,U.width,U.height,0,y,b,U.data)}}}else{v=i.mipmaps,E&&I&&(v.length>0&&k++,n.texStorage2D(e.TEXTURE_CUBE_MAP,k,w,h[0].width,h[0].height));for(var F=0;F<6;F++)if(f){E?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,0,0,h[F].width,h[F].height,y,b,h[F].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,w,h[F].width,h[F].height,0,y,b,h[F].data);for(var O=0;O<v.length;O++){var P=v[O].image[F].image;E?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,O+1,0,0,P.width,P.height,y,b,P.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,O+1,w,P.width,P.height,0,y,b,P.data)}}else{E?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,0,0,y,b,h[F]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,w,y,b,h[F]);for(var D=0;D<v.length;D++){var Q=v[D];E?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,D+1,0,0,y,b,Q.image[F]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,D+1,w,y,b,Q.image[F])}}}C(i,m)&&S(e.TEXTURE_CUBE_MAP),l.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){var a=r.get(t);void 0!==n&&H(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&z(t)},this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),l=r.get(s);t.addEventListener("dispose",M),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=s.version,o.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,f=!0===t.isWebGLMultipleRenderTargets,d=_(t)||A;if(c){u.__webglFramebuffer=[];for(var h=0;h<6;h++)if(A&&s.mipmaps&&s.mipmaps.length>0){u.__webglFramebuffer[h]=[];for(var p=0;p<s.mipmaps.length;p++)u.__webglFramebuffer[h][p]=e.createFramebuffer()}else u.__webglFramebuffer[h]=e.createFramebuffer()}else{if(A&&s.mipmaps&&s.mipmaps.length>0){u.__webglFramebuffer=[];for(var v=0;v<s.mipmaps.length;v++)u.__webglFramebuffer[v]=e.createFramebuffer()}else u.__webglFramebuffer=e.createFramebuffer();if(f)if(i.drawBuffers)for(var g=t.texture,m=0,y=g.length;m<y;m++){var b=r.get(g[m]);void 0===b.__webglTexture&&(b.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(A&&t.samples>0&&!1===V(t)){var w=f?s:[s];u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer);for(var x=0;x<w.length;x++){var E=w[x];u.__webglColorRenderbuffer[x]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,u.__webglColorRenderbuffer[x]);var T=a.convert(E.format,E.colorSpace),I=a.convert(E.type),k=B(E.internalFormat,T,I,E.colorSpace,!0===t.isXRRenderTarget),R=G(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,R,k,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+x,e.RENDERBUFFER,u.__webglColorRenderbuffer[x])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),j(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),L(e.TEXTURE_CUBE_MAP,s,d);for(var U=0;U<6;U++)if(A&&s.mipmaps&&s.mipmaps.length>0)for(var F=0;F<s.mipmaps.length;F++)H(u.__webglFramebuffer[U][F],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+U,F);else H(u.__webglFramebuffer[U],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+U,0);C(s,d)&&S(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(f){for(var O=t.texture,P=0,D=O.length;P<D;P++){var N=O[P],Q=r.get(N);n.bindTexture(e.TEXTURE_2D,Q.__webglTexture),L(e.TEXTURE_2D,N,d),H(u.__webglFramebuffer,t,N,e.COLOR_ATTACHMENT0+P,e.TEXTURE_2D,0),C(N,d)&&S(e.TEXTURE_2D)}n.unbindTexture()}else{var W=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(A?W=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(W,l.__webglTexture),L(W,s,d),A&&s.mipmaps&&s.mipmaps.length>0)for(var K=0;K<s.mipmaps.length;K++)H(u.__webglFramebuffer[K],t,s,e.COLOR_ATTACHMENT0,W,K);else H(u.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0,W,0);C(s,d)&&S(W),n.unbindTexture()}t.depthBuffer&&z(t)},this.updateRenderTargetMipmap=function(t){for(var i=_(t)||A,a=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=0,s=a.length;o<s;o++){var u=a[o];if(C(u,i)){var l=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,c=r.get(u).__webglTexture;n.bindTexture(l,c),S(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(A&&t.samples>0&&!1===V(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,u=[],l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),f=!0===t.isWebGLMultipleRenderTargets;if(f)for(var d=0;d<i.length;d++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+d,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+d,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(var h=0;h<i.length;h++){u.push(e.COLOR_ATTACHMENT0+h),t.depthBuffer&&u.push(l);var p=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===p&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),f&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[h]),!0===p&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[l]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[l])),f){var v=r.get(i[h]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,v,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),g&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,u)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),f)for(var m=0;m<i.length;m++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+m,e.RENDERBUFFER,c.__webglColorRenderbuffer[m]);var y=r.get(i[m]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+m,e.TEXTURE_2D,y,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=z,this.setupFrameBufferTexture=H,this.useMultisampledRTT=V}var XC=0,qC=1;function YC(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lm,o=a===cm||a===fm?qC:XC;if(n===zv)return e.UNSIGNED_BYTE;if(n===Zv)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Jv)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Gv)return e.BYTE;if(n===Vv)return e.SHORT;if(n===Wv)return e.UNSIGNED_SHORT;if(n===Kv)return e.INT;if(n===Xv)return e.UNSIGNED_INT;if(n===qv)return e.FLOAT;if(n===Yv)return r?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(n===eg)return e.ALPHA;if(n===tg)return e.RGBA;if(n===ng)return e.LUMINANCE;if(n===rg)return e.LUMINANCE_ALPHA;if(n===ig)return e.DEPTH_COMPONENT;if(n===ag)return e.DEPTH_STENCIL;if(n===qm)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(n===og)return e.RED;if(n===sg)return e.RED_INTEGER;if(n===ug)return e.RG;if(n===lg)return e.RG_INTEGER;if(n===cg)return e.RGBA_INTEGER;if(n===Ag||n===fg||n===dg||n===hg)if(o===qC){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===Ag)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===fg)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===dg)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===hg)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===Ag)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===fg)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===dg)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===hg)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===pg||n===vg||n===gg||n===mg){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===pg)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===vg)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===gg)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===mg)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===yg)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===bg||n===wg){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===bg)return o===qC?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===wg)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===xg||n===_g||n===Cg||n===Eg||n===Sg||n===Bg||n===Tg||n===Ig||n===kg||n===Mg||n===Rg||n===Ug||n===Fg||n===Og){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===xg)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===_g)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Cg)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Eg)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Sg)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Bg)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Tg)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Ig)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===kg)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Mg)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Rg)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Ug)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Fg)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Og)return o===qC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Pg||n===Dg||n===Lg){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===Pg)return o===qC?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Dg)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Lg)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===Ng||n===Qg||n===Hg||n===jg){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===Pg)return i.COMPRESSED_RED_RGTC1_EXT;if(n===Qg)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Hg)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===jg)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===$v?r?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var ZC=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return h(n)}(dx),JC=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return h(n)}(Kb),$C={type:"move"},eE=function(){function e(){c(this,e),this._targetRay=null,this._grip=null,this._hand=null}return h(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new JC,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new JC,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Wy,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Wy),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new JC,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Wy,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Wy),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=k(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(u&&e.hand){a=!0;var l,c=k(e.hand.values());try{for(c.s();!(l=c.n()).done;){var A=l.value,f=t.getJointPose(A,n),d=this._getHandJoint(u,A);null!==f&&(d.matrix.fromArray(f.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,d.jointRadius=f.radius),d.visible=null!==f}}catch(g){c.e(g)}finally{c.f()}var h=u.joints["index-finger-tip"],p=u.joints["thumb-tip"],v=h.position.distanceTo(p.position);u.inputState.pinching&&v>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&v<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent($C)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new JC;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),tE=function(e){v(n,e);var t=w(n);function n(e,r,i,a,o,s,u,l,A,f){var d;if(c(this,n),(f=void 0!==f?f:ig)!==ig&&f!==ag)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&f===ig&&(i=Xv),void 0===i&&f===ag&&(i=$v),(d=t.call(this,null,a,o,s,u,l,f,i,A)).isDepthTexture=!0,d.image={width:e,height:r},d.magFilter=void 0!==u?u:Uv,d.minFilter=void 0!==l?l:Uv,d.flipY=!1,d.generateMipmaps=!1,d.compareFunction=null,d}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.compareFunction=e.compareFunction,this}},{key:"toJSON",value:function(e){var t=_p(g(n.prototype),"toJSON",this).call(this,e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),n}(Py),nE=function(e){v(n,e);var t=w(n);function n(e,r){var i;c(this,n);var a=y(i=t.call(this)),o=null,s=1,u=null,l="local-floor",A=1,f=null,d=null,h=null,p=null,v=null,g=null,m=r.getContextAttributes(),b=null,w=null,_=[],E=[],S=new dx;S.layers.enable(1),S.viewport=new Dy;var B=new dx;B.layers.enable(2),B.viewport=new Dy;var T=[S,B],I=new ZC;I.layers.enable(1),I.layers.enable(2);var k=null,M=null;function R(e){var t=E.indexOf(e.inputSource);if(-1!==t){var n=_[t];void 0!==n&&(n.update(e.inputSource,e.frame,f||u),n.dispatchEvent({type:e.type,data:e.inputSource}))}}function U(){o.removeEventListener("select",R),o.removeEventListener("selectstart",R),o.removeEventListener("selectend",R),o.removeEventListener("squeeze",R),o.removeEventListener("squeezestart",R),o.removeEventListener("squeezeend",R),o.removeEventListener("end",U),o.removeEventListener("inputsourceschange",F);for(var t=0;t<_.length;t++){var n=E[t];null!==n&&(E[t]=null,_[t].disconnect(n))}k=null,M=null,e.setRenderTarget(b),v=null,p=null,h=null,o=null,w=null,N.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function F(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=E.indexOf(n);r>=0&&(E[r]=null,_[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=E.indexOf(a);if(-1===o){for(var s=0;s<_.length;s++){if(s>=E.length){E.push(a),o=s;break}if(null===E[s]){E[s]=a,o=s;break}}if(-1===o)break}var u=_[o];u&&u.connect(a)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=_[e];return void 0===t&&(t=new eE,_[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=_[e];return void 0===t&&(t=new eE,_[e]=t),t.getGripSpace()},i.getHand=function(e){var t=_[e];return void 0===t&&(t=new eE,_[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){s=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){l=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return f||u},i.setReferenceSpace=function(e){f=e},i.getBaseLayer=function(){return null!==p?p:v},i.getBinding=function(){return h},i.getFrame=function(){return g},i.getSession=function(){return o},i.setSession=function(){var t=C(x().mark((function t(n){var i,c,d,g,y;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=25;break}if(b=e.getRenderTarget(),o.addEventListener("select",R),o.addEventListener("selectstart",R),o.addEventListener("selectend",R),o.addEventListener("squeeze",R),o.addEventListener("squeezestart",R),o.addEventListener("squeezeend",R),o.addEventListener("end",U),o.addEventListener("inputsourceschange",F),!0===m.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==o.renderState.layers||m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s},v=new XRWebGLLayer(o,r,i),o.updateRenderState({baseLayer:v}),w=new Ny(v.framebufferWidth,v.framebufferHeight,{format:tg,type:zv,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})):(c=null,d=null,g=null,m.depth&&(g=m.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,c=m.stencil?ag:ig,d=m.stencil?$v:Xv),y={colorFormat:r.RGBA8,depthFormat:g,scaleFactor:s},h=new XRWebGLBinding(o,r),p=h.createProjectionLayer(y),o.updateRenderState({layers:[p]}),w=new Ny(p.textureWidth,p.textureHeight,{format:tg,type:zv,depthTexture:new tE(p.textureWidth,p.textureHeight,d,void 0,void 0,void 0,void 0,void 0,void 0,c),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0}),e.properties.get(w).__ignoreDepthValues=p.ignoreDepthValues),w.isXRRenderTarget=!0,this.setFoveation(A),f=null,t.next=20,o.requestReferenceSpace(l);case 20:u=t.sent,N.setContext(o),N.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.getEnvironmentBlendMode=function(){if(null!==o)return o.environmentBlendMode};var O=new Wy,P=new Wy;function D(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==o){I.near=B.near=S.near=e.near,I.far=B.far=S.far=e.far,k===I.near&&M===I.far||(o.updateRenderState({depthNear:I.near,depthFar:I.far}),k=I.near,M=I.far);var t=e.parent,n=I.cameras;D(I,t);for(var r=0;r<n.length;r++)D(n[r],t);2===n.length?function(e,t,n){O.setFromMatrixPosition(t.matrixWorld),P.setFromMatrixPosition(n.matrixWorld);var r=O.distanceTo(P),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],A=(a[8]+1)/a[0],f=o*c,d=o*A,h=r/(-c+A),p=h*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(p),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=o+h,g=s+h,m=f-p,y=d+(r-p),b=u*s/g*v,w=l*s/g*v;e.projectionMatrix.makePerspective(m,y,b,w,v,g),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(I,S,B):I.projectionMatrix.copy(S.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*ny*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,I,t)}},i.getCamera=function(){return I},i.getFoveation=function(){if(null!==p||null!==v)return A},i.setFoveation=function(e){A=e,null!==p&&(p.fixedFoveation=e),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=e)};var L=null;var N=new Ex;return N.setAnimationLoop((function(t,n){if(d=n.getViewerPose(f||u),g=n,null!==d){var r=d.views;null!==v&&(e.setRenderTargetFramebuffer(w,v.framebuffer),e.setRenderTarget(w));var i=!1;r.length!==I.cameras.length&&(I.cameras.length=0,i=!0);for(var o=0;o<r.length;o++){var s=r[o],l=null;if(null!==v)l=v.getViewport(s);else{var c=h.getViewSubImage(p,s);l=c.viewport,0===o&&(e.setRenderTargetTextures(w,c.colorTexture,p.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(w))}var A=T[o];void 0===A&&((A=new dx).layers.enable(o),A.viewport=new Dy,T[o]=A),A.matrix.fromArray(s.transform.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale),A.projectionMatrix.fromArray(s.projectionMatrix),A.projectionMatrixInverse.copy(A.projectionMatrix).invert(),A.viewport.set(l.x,l.y,l.width,l.height),0===o&&(I.matrix.copy(A.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),!0===i&&I.cameras.push(A)}}for(var m=0;m<_.length;m++){var y=E[m],b=_[m];null!==y&&void 0!==b&&b.update(y,n,f||u)}L&&L(t,n),n.detectedPlanes&&a.dispatchEvent({type:"planesdetected",data:n}),g=null})),i.setAnimationLoop=function(e){L=e},i.dispose=function(){},i}return h(n)}(Jm);function rE(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===Pp&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===Pp&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var o=!0===e._useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*o,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,lx(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));var i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===Pp&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function iE(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(e,t,n){var r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],o=0;o<i.length;o++)a.push(i[o].clone());n[t]=a}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else for(var s=Array.isArray(n[t])?n[t]:[n[t]],u=Array.isArray(r)?r:[r],l=0;l<s.length;l++){var c=s[l];if(!1===c.equals(u[l]))return c.copy(u[l]),!0}return!1}function l(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,A){var f=i[n.id];void 0===f&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){for(var s=t[a],u={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],A=0,f=c.length;A<f;A++){var d=l(c[A]);u.boundary+=d.boundary,u.storage+=d.storage}if(s.__data=new Float32Array(u.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(i=n%r)&&r-i-u.boundary<0&&(n+=r-i,s.__offset=n);n+=u.storage}(i=n%r)>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),f=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=f,n.addEventListener("dispose",c));var d=A.program;r.updateUBOMapping(n,d);var h=t.render.frame;a[n.id]!==h&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(var o=0,s=r.length;o<s;o++){var c=r[o];if(!0===u(c,o,a)){for(var A=c.__offset,f=Array.isArray(c.value)?c.value:[c.value],d=0,h=0;h<f.length;h++){var p=f[h],v=l(p);"number"===typeof p?(c.__data[0]=p,e.bufferSubData(e.UNIFORM_BUFFER,A+d,c.__data)):p.isMatrix3?(c.__data[0]=p.elements[0],c.__data[1]=p.elements[1],c.__data[2]=p.elements[2],c.__data[3]=p.elements[0],c.__data[4]=p.elements[3],c.__data[5]=p.elements[4],c.__data[6]=p.elements[5],c.__data[7]=p.elements[0],c.__data[8]=p.elements[6],c.__data[9]=p.elements[7],c.__data[10]=p.elements[8],c.__data[11]=p.elements[0]):(p.toArray(c.__data,d),d+=v.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,A,c.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=h)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}var aE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e);var n,r=t.canvas,i=void 0===r?by():r,a=t.context,o=void 0===a?null:a,s=t.depth,u=void 0===s||s,l=t.stencil,A=void 0===l||l,f=t.alpha,d=void 0!==f&&f,h=t.antialias,p=void 0!==h&&h,v=t.premultipliedAlpha,g=void 0===v||v,m=t.preserveDrawingBuffer,y=void 0!==m&&m,b=t.powerPreference,w=void 0===b?"default":b,x=t.failIfMajorPerformanceCaveat,_=void 0!==x&&x;this.isWebGLRenderer=!0,n=null!==o?o.getContextAttributes().alpha:d;var C=new Uint32Array(4),E=new Int32Array(4),S=null,B=null,T=[],I=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=cm,this._useLegacyLights=!1,this.toneMapping=mv,this.toneMappingExposure=1;var k=this,M=!1,R=0,U=0,F=null,O=-1,P=null,D=new Dy,L=new Dy,N=null,Q=new fw(0),H=0,j=i.width,z=i.height,G=1,V=null,W=null,K=new Dy(0,0,j,z),X=new Dy(0,0,j,z),q=!1,Y=new Cx,Z=!1,J=!1,$=null,ee=new xb,te=new dy,ne=new Wy,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ie(){return null===F?G:1}var ae,oe,se,ue,le,ce,Ae,fe,de,he,pe,ve,ge,me,ye,be,we,xe,_e,Ce,Ee,Se,Be,Te,Ie=o;function ke(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i.getContext(r,t);if(null!==a)return a}return null}try{var Me={alpha:!0,depth:u,stencil:A,antialias:p,premultipliedAlpha:g,preserveDrawingBuffer:y,powerPreference:w,failIfMajorPerformanceCaveat:_};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(Cp)),i.addEventListener("webglcontextlost",Oe,!1),i.addEventListener("webglcontextrestored",Pe,!1),i.addEventListener("webglcontextcreationerror",De,!1),null===Ie){var Re=["webgl2","webgl","experimental-webgl"];if(!0===k.isWebGL1Renderer&&Re.shift(),null===(Ie=ke(Re,Me)))throw ke(Re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&Ie instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Ie.getShaderPrecisionFormat&&(Ie.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(qe){throw console.error("THREE.WebGLRenderer: "+qe.message),qe}function Ue(){ae=new $x(Ie),oe=new Ox(Ie,ae,t),ae.init(oe),Se=new YC(Ie,ae,oe),se=new WC(Ie,ae,oe),ue=new n_(Ie),le=new RC,ce=new KC(Ie,ae,se,le,oe,Se,ue),Ae=new Dx(k),fe=new Jx(k),de=new Sx(Ie,oe),Be=new Ux(Ie,ae,de,oe),he=new e_(Ie,de,ue,Be),pe=new o_(Ie,he,de,ue),_e=new a_(Ie,oe,ce),be=new Px(le),ve=new MC(k,Ae,fe,ae,oe,Be,be),ge=new rE(k,le),me=new PC,ye=new jC(ae,oe),xe=new Rx(k,Ae,fe,se,pe,n,g),we=new VC(k,pe,oe),Te=new iE(Ie,ue,oe,se),Ce=new Fx(Ie,ae,ue,oe),Ee=new t_(Ie,ae,ue,oe),ue.programs=ve.programs,k.capabilities=oe,k.extensions=ae,k.properties=le,k.renderLists=me,k.shadowMap=we,k.state=se,k.info=ue}Ue();var Fe=new nE(k,Ie);function Oe(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function Pe(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;var e=ue.autoReset,t=we.enabled,n=we.autoUpdate,r=we.needsUpdate,i=we.type;Ue(),ue.autoReset=e,we.enabled=t,we.autoUpdate=n,we.needsUpdate=r,we.type=i}function De(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Le(e){var t=e.target;t.removeEventListener("dispose",Le),function(e){(function(e){var t=le.get(e).programs;void 0!==t&&(t.forEach((function(e){ve.releaseProgram(e)})),e.isShaderMaterial&&ve.releaseShaderCache(e))})(e),le.remove(e)}(t)}this.xr=Fe,this.getContext=function(){return Ie},this.getContextAttributes=function(){return Ie.getContextAttributes()},this.forceContextLoss=function(){var e=ae.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ae.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(e){void 0!==e&&(G=e,this.setSize(j,z,!1))},this.getSize=function(e){return e.set(j,z)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Fe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(j=e,z=t,i.width=Math.floor(e*G),i.height=Math.floor(t*G),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(j*G,z*G).floor()},this.setDrawingBufferSize=function(e,t,n){j=e,z=t,G=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(D)},this.getViewport=function(e){return e.copy(K)},this.setViewport=function(e,t,n,r){e.isVector4?K.set(e.x,e.y,e.z,e.w):K.set(e,t,n,r),se.viewport(D.copy(K).multiplyScalar(G).floor())},this.getScissor=function(e){return e.copy(X)},this.setScissor=function(e,t,n,r){e.isVector4?X.set(e.x,e.y,e.z,e.w):X.set(e,t,n,r),se.scissor(L.copy(X).multiplyScalar(G).floor())},this.getScissorTest=function(){return q},this.setScissorTest=function(e){se.setScissorTest(q=e)},this.setOpaqueSort=function(e){V=e},this.setTransparentSort=function(e){W=e},this.getClearColor=function(e){return e.copy(xe.getClearColor())},this.setClearColor=function(){xe.setClearColor.apply(xe,arguments)},this.getClearAlpha=function(){return xe.getClearAlpha()},this.setClearAlpha=function(){xe.setClearAlpha.apply(xe,arguments)},this.clear=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){var r=!1;if(null!==F){var i=F.texture.format;r=i===cg||i===lg||i===sg}if(r){var a=F.texture.type,o=a===zv||a===Xv||a===Wv||a===$v||a===Zv||a===Jv,s=xe.getClearColor(),u=xe.getClearAlpha(),l=s.r,c=s.g,A=s.b;o?(C[0]=l,C[1]=c,C[2]=A,C[3]=u,Ie.clearBufferuiv(Ie.COLOR,0,C)):(E[0]=l,E[1]=c,E[2]=A,E[3]=u,Ie.clearBufferiv(Ie.COLOR,0,E))}else n|=Ie.COLOR_BUFFER_BIT}e&&(n|=Ie.DEPTH_BUFFER_BIT),t&&(n|=Ie.STENCIL_BUFFER_BIT),Ie.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Oe,!1),i.removeEventListener("webglcontextrestored",Pe,!1),i.removeEventListener("webglcontextcreationerror",De,!1),me.dispose(),ye.dispose(),le.dispose(),Ae.dispose(),fe.dispose(),pe.dispose(),Be.dispose(),Te.dispose(),ve.dispose(),Fe.dispose(),Fe.removeEventListener("sessionstart",Qe),Fe.removeEventListener("sessionend",He),$&&($.dispose(),$=null),je.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=re);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=re);ce.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===F?k.outputColorSpace:!0===F.isXRRenderTarget?F.texture.colorSpace:Am,u=(r.isMeshStandardMaterial?fe:Ae).get(r.envMap||o),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),A=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,d=!!n.morphAttributes.color,h=mv;r.toneMapped&&(null!==F&&!0!==F.isXRRenderTarget||(h=k.toneMapping));var p=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==p?p.length:0,g=le.get(r),m=B.state.lights;if(!0===Z&&(!0===J||e!==P)){var y=e===P&&r.id===O;be.setState(r,e,y)}var b=!1;r.version===g.__version?g.needsLights&&g.lightsStateVersion!==m.state.version||g.outputColorSpace!==s||i.isInstancedMesh&&!1===g.instancing?b=!0:i.isInstancedMesh||!0!==g.instancing?i.isSkinnedMesh&&!1===g.skinning?b=!0:i.isSkinnedMesh||!0!==g.skinning?i.isInstancedMesh&&!0===g.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===g.instancingColor&&null!==i.instanceColor||g.envMap!==u||!0===r.fog&&g.fog!==a?b=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===be.numPlanes&&g.numIntersection===be.numIntersection?(g.vertexAlphas!==l||g.vertexTangents!==c||g.morphTargets!==A||g.morphNormals!==f||g.morphColors!==d||g.toneMapping!==h||!0===oe.isWebGL2&&g.morphTargetsCount!==v)&&(b=!0):b=!0:b=!0:b=!0:(b=!0,g.__version=r.version);var w=g.currentProgram;!0===b&&(w=Ke(r,t,i));var x=!1,_=!1,C=!1,E=w.getUniforms(),S=g.uniforms;se.useProgram(w.program)&&(x=!0,_=!0,C=!0);r.id!==O&&(O=r.id,_=!0);if(x||P!==e){E.setValue(Ie,"projectionMatrix",e.projectionMatrix),E.setValue(Ie,"viewMatrix",e.matrixWorldInverse);var T=E.map.cameraPosition;void 0!==T&&T.setValue(Ie,ne.setFromMatrixPosition(e.matrixWorld)),oe.logarithmicDepthBuffer&&E.setValue(Ie,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&E.setValue(Ie,"isOrthographic",!0===e.isOrthographicCamera),P!==e&&(P=e,_=!0,C=!0)}if(i.isSkinnedMesh){E.setOptional(Ie,i,"bindMatrix"),E.setOptional(Ie,i,"bindMatrixInverse");var I=i.skeleton;I&&(oe.floatVertexTextures?(null===I.boneTexture&&I.computeBoneTexture(),E.setValue(Ie,"boneTexture",I.boneTexture,ce),E.setValue(Ie,"boneTextureSize",I.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var M=n.morphAttributes;(void 0!==M.position||void 0!==M.normal||void 0!==M.color&&!0===oe.isWebGL2)&&_e.update(i,n,w);(_||g.receiveShadow!==i.receiveShadow)&&(g.receiveShadow=i.receiveShadow,E.setValue(Ie,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(S.envMap.value=u,S.flipEnvMap.value=u.isCubeTexture&&!1===u.isRenderTargetTexture?-1:1);_&&(E.setValue(Ie,"toneMappingExposure",k.toneMappingExposure),g.needsLights&&(U=C,(R=S).ambientLightColor.needsUpdate=U,R.lightProbe.needsUpdate=U,R.directionalLights.needsUpdate=U,R.directionalLightShadows.needsUpdate=U,R.pointLights.needsUpdate=U,R.pointLightShadows.needsUpdate=U,R.spotLights.needsUpdate=U,R.spotLightShadows.needsUpdate=U,R.rectAreaLights.needsUpdate=U,R.hemisphereLights.needsUpdate=U),a&&!0===r.fog&&ge.refreshFogUniforms(S,a),ge.refreshMaterialUniforms(S,r,G,z,$),cC.upload(Ie,g.uniformsList,S,ce));var R,U;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(cC.upload(Ie,g.uniformsList,S,ce),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&E.setValue(Ie,"center",i.center);if(E.setValue(Ie,"modelViewMatrix",i.modelViewMatrix),E.setValue(Ie,"normalMatrix",i.normalMatrix),E.setValue(Ie,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var D=r.uniformsGroups,L=0,N=D.length;L<N;L++)if(oe.isWebGL2){var Q=D[L];Te.update(Q,w),Te.bind(Q,w)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return w}(e,t,n,r,i);se.setMaterial(r,o);var u=n.index,l=1;if(!0===r.wireframe){if(void 0===(u=he.getWireframeAttribute(n)))return;l=2}var c=n.drawRange,A=n.attributes.position,f=c.start*l,d=(c.start+c.count)*l;null!==a&&(f=Math.max(f,a.start*l),d=Math.min(d,(a.start+a.count)*l)),null!==u?(f=Math.max(f,0),d=Math.min(d,u.count)):void 0!==A&&null!==A&&(f=Math.max(f,0),d=Math.min(d,A.count));var h=d-f;if(!(h<0||h===1/0)){var p;Be.setup(i,r,s,n,u);var v=Ce;if(null!==u&&(p=de.get(u),(v=Ee).setIndex(p)),i.isMesh)!0===r.wireframe?(se.setLineWidth(r.wireframeLinewidth*ie()),v.setMode(Ie.LINES)):v.setMode(Ie.TRIANGLES);else if(i.isLine){var g=r.linewidth;void 0===g&&(g=1),se.setLineWidth(g*ie()),i.isLineSegments?v.setMode(Ie.LINES):i.isLineLoop?v.setMode(Ie.LINE_LOOP):v.setMode(Ie.LINE_STRIP)}else i.isPoints?v.setMode(Ie.POINTS):i.isSprite&&v.setMode(Ie.TRIANGLES);if(i.isInstancedMesh)v.renderInstances(f,h,i.count);else if(n.isInstancedBufferGeometry){var m=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,y=Math.min(n.instanceCount,m);v.renderInstances(f,h,y)}else v.render(f,h)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===Dp&&!1===e.forceSinglePass?(e.side=Pp,e.needsUpdate=!0,Ke(e,t,n),e.side=Op,e.needsUpdate=!0,Ke(e,t,n),e.side=Dp):Ke(e,t,n)}(B=ye.get(e)).init(),I.push(B),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(B.pushLight(e),e.castShadow&&B.pushShadow(e))})),B.setupLights(k._useLegacyLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),I.pop(),B=null};var Ne=null;function Qe(){je.stop()}function He(){je.start()}var je=new Ex;function ze(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)B.pushLight(e),e.castShadow&&B.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||Y.intersectsSprite(e)){r&&ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ee);var i=pe.update(e),a=e.material;a.visible&&S.push(e,i,a,n,ne.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||Y.intersectsObject(e))){var o=pe.update(e),s=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),ne.copy(e.boundingSphere.center)):(null===o.boundingSphere&&o.computeBoundingSphere(),ne.copy(o.boundingSphere.center)),ne.applyMatrix4(e.matrixWorld).applyMatrix4(ee)),Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var A=u[l],f=s[A.materialIndex];f&&f.visible&&S.push(e,o,f,n,ne.z,A)}else s.visible&&S.push(e,o,s,n,ne.z,null)}for(var d=e.children,h=0,p=d.length;h<p;h++)ze(d[h],t,n,r)}}function Ge(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;B.setupLightsView(n),!0===Z&&be.setGlobalState(k.clippingPlanes,n),a.length>0&&function(e,t,n,r){var i=oe.isWebGL2;null===$&&($=new Ny(1,1,{generateMipmaps:!0,type:ae.has("EXT_color_buffer_half_float")?Yv:zv,minFilter:Hv,samples:i?4:0}));k.getDrawingBufferSize(te),i?$.setSize(te.x,te.y):$.setSize(ly(te.x),ly(te.y));var a=k.getRenderTarget();k.setRenderTarget($),k.getClearColor(Q),(H=k.getClearAlpha())<1&&k.setClearColor(16777215,.5);k.clear();var o=k.toneMapping;k.toneMapping=mv,Ve(e,n,r),ce.updateMultisampleRenderTarget($),ce.updateRenderTargetMipmap($);for(var s=!1,u=0,l=t.length;u<l;u++){var c=t[u],A=c.object,f=c.geometry,d=c.material,h=c.group;if(d.side===Dp&&A.layers.test(r.layers)){var p=d.side;d.side=Pp,d.needsUpdate=!0,We(A,n,r,f,d,h),d.side=p,d.needsUpdate=!0,s=!0}}!0===s&&(ce.updateMultisampleRenderTarget($),ce.updateRenderTargetMipmap($));k.setRenderTarget(a),k.setClearColor(Q,H),k.toneMapping=o}(i,a,t,n),r&&se.viewport(D.copy(r)),i.length>0&&Ve(i,t,n),a.length>0&&Ve(a,t,n),o.length>0&&Ve(o,t,n),se.buffers.depth.setTest(!0),se.buffers.depth.setMask(!0),se.buffers.color.setMask(!0),se.setPolygonOffset(!1)}function Ve(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&We(s,t,n,u,l,c)}}function We(e,t,n,r,i,a){e.onBeforeRender(k,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(k,t,n,r,e,a),!0===i.transparent&&i.side===Dp&&!1===i.forceSinglePass?(i.side=Pp,i.needsUpdate=!0,k.renderBufferDirect(n,t,r,i,e,a),i.side=Op,i.needsUpdate=!0,k.renderBufferDirect(n,t,r,i,e,a),i.side=Dp):k.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(k,t,n,r,i,a)}function Ke(e,t,n){!0!==t.isScene&&(t=re);var r=le.get(e),i=B.state.lights,a=B.state.shadowsArray,o=i.state.version,s=ve.getParameters(e,i.state,a,t,n),u=ve.getProgramCacheKey(s),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?fe:Ae).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",Le),l=new Map,r.programs=l);var c=l.get(u);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Xe(e,s),c}else s.uniforms=ve.getUniforms(e),e.onBuild(n,s,k),e.onBeforeCompile(s,k),c=ve.acquireProgram(s,u),l.set(u,c),r.uniforms=s.uniforms;var A=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(A.clippingPlanes=be.uniform),Xe(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(A.ambientLightColor.value=i.state.ambient,A.lightProbe.value=i.state.probe,A.directionalLights.value=i.state.directional,A.directionalLightShadows.value=i.state.directionalShadow,A.spotLights.value=i.state.spot,A.spotLightShadows.value=i.state.spotShadow,A.rectAreaLights.value=i.state.rectArea,A.ltc_1.value=i.state.rectAreaLTC1,A.ltc_2.value=i.state.rectAreaLTC2,A.pointLights.value=i.state.point,A.pointLightShadows.value=i.state.pointShadow,A.hemisphereLights.value=i.state.hemi,A.directionalShadowMap.value=i.state.directionalShadowMap,A.directionalShadowMatrix.value=i.state.directionalShadowMatrix,A.spotShadowMap.value=i.state.spotShadowMap,A.spotLightMatrix.value=i.state.spotLightMatrix,A.spotLightMap.value=i.state.spotLightMap,A.pointShadowMap.value=i.state.pointShadowMap,A.pointShadowMatrix.value=i.state.pointShadowMatrix);var f=c.getUniforms(),d=cC.seqWithValue(f.seq,A);return r.currentProgram=c,r.uniformsList=d,c}function Xe(e,t){var n=le.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}je.setAnimationLoop((function(e){Ne&&Ne(e)})),"undefined"!==typeof self&&je.setContext(self),this.setAnimationLoop=function(e){Ne=e,Fe.setAnimationLoop(e),null===e?je.stop():je.start()},Fe.addEventListener("sessionstart",Qe),Fe.addEventListener("sessionend",He),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==M){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Fe.enabled&&!0===Fe.isPresenting&&(!0===Fe.cameraAutoUpdate&&Fe.updateCamera(t),t=Fe.getCamera()),!0===e.isScene&&e.onBeforeRender(k,e,t,F),(B=ye.get(e,I.length)).init(),I.push(B),ee.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Y.setFromProjectionMatrix(ee),J=this.localClippingEnabled,Z=be.init(this.clippingPlanes,J),(S=me.get(e,T.length)).init(),T.push(S),ze(e,t,0,k.sortObjects),S.finish(),!0===k.sortObjects&&S.sort(V,W),this.info.render.frame++,!0===Z&&be.beginShadows();var n=B.state.shadowsArray;if(we.render(n,e,t),!0===Z&&be.endShadows(),!0===this.info.autoReset&&this.info.reset(),xe.render(S,e),B.setupLights(k._useLegacyLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];Ge(S,e,o,o.viewport)}else Ge(S,e,t);null!==F&&(ce.updateMultisampleRenderTarget(F),ce.updateRenderTargetMipmap(F)),!0===e.isScene&&e.onAfterRender(k,e,t),Be.resetDefaultState(),O=-1,P=null,I.pop(),B=I.length>0?I[I.length-1]:null,T.pop(),S=T.length>0?T[T.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(e,t,n){le.get(e.texture).__webglTexture=t,le.get(e.depthTexture).__webglTexture=n;var r=le.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===ae.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=le.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;F=e,R=t,U=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=le.get(e);void 0!==s.__useDefaultFramebuffer?(se.bindFramebuffer(Ie.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?ce.setupRenderTarget(e):s.__hasExternalTextures&&ce.rebindTextures(e,le.get(e.texture).__webglTexture,le.get(e.depthTexture).__webglTexture);var u=e.texture;(u.isData3DTexture||u.isDataArrayTexture||u.isCompressedArrayTexture)&&(o=!0);var l=le.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(l[t])?l[t][n]:l[t],a=!0):i=oe.isWebGL2&&e.samples>0&&!1===ce.useMultisampledRTT(e)?le.get(e).__webglMultisampledFramebuffer:Array.isArray(l)?l[n]:l,D.copy(e.viewport),L.copy(e.scissor),N=e.scissorTest}else D.copy(K).multiplyScalar(G).floor(),L.copy(X).multiplyScalar(G).floor(),N=q;if(se.bindFramebuffer(Ie.FRAMEBUFFER,i)&&oe.drawBuffers&&r&&se.drawBuffers(e,i),se.viewport(D),se.scissor(L),se.setScissorTest(N),a){var c=le.get(e.texture);Ie.framebufferTexture2D(Ie.FRAMEBUFFER,Ie.COLOR_ATTACHMENT0,Ie.TEXTURE_CUBE_MAP_POSITIVE_X+t,c.__webglTexture,n)}else if(o){var A=le.get(e.texture),f=t||0;Ie.framebufferTextureLayer(Ie.FRAMEBUFFER,Ie.COLOR_ATTACHMENT0,A.__webglTexture,n||0,f)}O=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=le.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){se.bindFramebuffer(Ie.FRAMEBUFFER,s);try{var u=e.texture,l=u.format,c=u.type;if(l!==tg&&Se.convert(l)!==Ie.getParameter(Ie.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var A=c===Yv&&(ae.has("EXT_color_buffer_half_float")||oe.isWebGL2&&ae.has("EXT_color_buffer_float"));if(c!==zv&&Se.convert(c)!==Ie.getParameter(Ie.IMPLEMENTATION_COLOR_READ_TYPE)&&(c!==qv||!(oe.isWebGL2||ae.has("OES_texture_float")||ae.has("WEBGL_color_buffer_float")))&&!A)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Ie.readPixels(t,n,r,i,Se.convert(l),Se.convert(c),a)}finally{var f=null!==F?le.get(F).__webglFramebuffer:null;se.bindFramebuffer(Ie.FRAMEBUFFER,f)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);ce.setTexture2D(t,0),Ie.copyTexSubImage2D(Ie.TEXTURE_2D,n,0,0,e.x,e.y,i,a),se.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=Se.convert(n.format),s=Se.convert(n.type);ce.setTexture2D(n,0),Ie.pixelStorei(Ie.UNPACK_FLIP_Y_WEBGL,n.flipY),Ie.pixelStorei(Ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Ie.pixelStorei(Ie.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?Ie.texSubImage2D(Ie.TEXTURE_2D,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?Ie.compressedTexSubImage2D(Ie.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):Ie.texSubImage2D(Ie.TEXTURE_2D,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&Ie.generateMipmap(Ie.TEXTURE_2D),se.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(k.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,l=Se.convert(r.format),c=Se.convert(r.type);if(r.isData3DTexture)ce.setTexture3D(r,0),a=Ie.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ce.setTexture2DArray(r,0),a=Ie.TEXTURE_2D_ARRAY}Ie.pixelStorei(Ie.UNPACK_FLIP_Y_WEBGL,r.flipY),Ie.pixelStorei(Ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Ie.pixelStorei(Ie.UNPACK_ALIGNMENT,r.unpackAlignment);var A=Ie.getParameter(Ie.UNPACK_ROW_LENGTH),f=Ie.getParameter(Ie.UNPACK_IMAGE_HEIGHT),d=Ie.getParameter(Ie.UNPACK_SKIP_PIXELS),h=Ie.getParameter(Ie.UNPACK_SKIP_ROWS),p=Ie.getParameter(Ie.UNPACK_SKIP_IMAGES),v=n.isCompressedTexture?n.mipmaps[0]:n.image;Ie.pixelStorei(Ie.UNPACK_ROW_LENGTH,v.width),Ie.pixelStorei(Ie.UNPACK_IMAGE_HEIGHT,v.height),Ie.pixelStorei(Ie.UNPACK_SKIP_PIXELS,e.min.x),Ie.pixelStorei(Ie.UNPACK_SKIP_ROWS,e.min.y),Ie.pixelStorei(Ie.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?Ie.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,v.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ie.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,v.data)):Ie.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,v),Ie.pixelStorei(Ie.UNPACK_ROW_LENGTH,A),Ie.pixelStorei(Ie.UNPACK_IMAGE_HEIGHT,f),Ie.pixelStorei(Ie.UNPACK_SKIP_PIXELS,d),Ie.pixelStorei(Ie.UNPACK_SKIP_ROWS,h),Ie.pixelStorei(Ie.UNPACK_SKIP_IMAGES,p),0===i&&r.generateMipmaps&&Ie.generateMipmap(a),se.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ce.setTextureCube(e,0):e.isData3DTexture?ce.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ce.setTexture2DArray(e,0):ce.setTexture2D(e,0),se.unbindTexture()},this.resetState=function(){R=0,U=0,F=null,se.reset(),Be.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return h(e,[{key:"coordinateSystem",get:function(){return Ym}},{key:"physicallyCorrectLights",get:function(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}},{key:"outputEncoding",get:function(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===cm?im:rm},set:function(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===im?cm:Am}},{key:"useLegacyLights",get:function(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}]),e}(),oE=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(aE);oE.prototype.isWebGL1Renderer=!0;var sE,uE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;c(this,e),this.isFogExp2=!0,this.name="",this.color=new fw(t),this.density=n}return h(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),lE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;c(this,e),this.isFog=!0,this.name="",this.color=new fw(t),this.near=n,this.far=r}return h(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),cE=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:y(e)})),e}return h(n,[{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=_p(g(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}]),n}(Kb),AE=function(){function e(t,n){c(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Lm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ry()}return h(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ry()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ry()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),fE=new Wy,dE=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return h(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)fE.fromBufferAttribute(this,t),fE.applyMatrix4(e),this.setXYZ(t,fE.x,fE.y,fE.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)fE.fromBufferAttribute(this,t),fE.applyNormalMatrix(e),this.setXYZ(t,fE.x,fE.y,fE.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)fE.fromBufferAttribute(this,t),fE.transformDirection(e),this.setXYZ(t,fE.x,fE.y,fE.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=Ay(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=cy(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=cy(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=cy(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=cy(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ay(t,this.array),n=Ay(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ay(t,this.array),n=Ay(n,this.array),r=Ay(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ay(t,this.array),n=Ay(n,this.array),r=Ay(r,this.array),i=Ay(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new xw(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),hE=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new fw(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(sw),pE=new Wy,vE=new Wy,gE=new Wy,mE=new dy,yE=new dy,bE=new xb,wE=new Wy,xE=new Wy,_E=new Wy,CE=new dy,EE=new dy,SE=new dy,BE=function(e){v(n,e);var t=w(n);function n(e){var r;if(c(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===sE){sE=new Qw;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new AE(i,5);sE.setIndex([0,1,2,0,2,3]),sE.setAttribute("position",new dE(a,3,0,!1)),sE.setAttribute("uv",new dE(a,2,3,!1))}return r.geometry=sE,r.material=void 0!==e?e:new hE,r.center=new dy(.5,.5),r}return h(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),vE.setFromMatrixScale(this.matrixWorld),bE.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),gE.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&vE.multiplyScalar(-gE.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;TE(wE.set(-.5,-.5,0),gE,a,vE,n,r),TE(xE.set(.5,-.5,0),gE,a,vE,n,r),TE(_E.set(.5,.5,0),gE,a,vE,n,r),CE.set(0,0),EE.set(1,0),SE.set(1,1);var o=e.ray.intersectTriangle(wE,xE,_E,!1,pE);if(null!==o||(TE(xE.set(-.5,.5,0),gE,a,vE,n,r),EE.set(0,1),null!==(o=e.ray.intersectTriangle(wE,_E,xE,!1,pE)))){var s=e.ray.origin.distanceTo(pE);s<e.near||s>e.far||t.push({distance:s,point:pE.clone(),uv:aw.getInterpolation(pE,wE,xE,_E,CE,EE,SE,new dy),face:null,object:this})}}},{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Kb);function TE(e,t,n,r,i,a){mE.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(yE.x=a*mE.x-i*mE.y,yE.y=i*mE.x+a*mE.y):yE.copy(mE),e.copy(t),e.x+=yE.x,e.y+=yE.y,e.applyMatrix4(bE)}var IE=new Wy,kE=new Wy,ME=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(y(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return h(n,[{key:"copy",value:function(e){_p(g(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);var r,i=this.levels;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r;n++){var i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){IE.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(IE);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){IE.setFromMatrixPosition(e.matrixWorld),kE.setFromMatrixPosition(this.matrixWorld);var n,r,i=IE.distanceTo(kE)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r;n++){var a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),!(i>=a))break;t[n-1].object.visible=!1,t[n].object.visible=!0}for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=_p(g(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}]),n}(Kb),RE=new Wy,UE=new Dy,FE=new Dy,OE=new Wy,PE=new xb,DE=new Wy,LE=new db,NE=new xb,QE=new wb,HE=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new xb,i.bindMatrixInverse=new xb,i.boundingBox=null,i.boundingSphere=null,i}return h(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry;null===this.boundingBox&&(this.boundingBox=new qy),this.boundingBox.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)DE.fromBufferAttribute(t,n),this.applyBoneTransform(n,DE),this.boundingBox.expandByPoint(DE)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new db),this.boundingSphere.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)DE.fromBufferAttribute(t,n),this.applyBoneTransform(n,DE),this.boundingSphere.expandByPoint(DE)}},{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"raycast",value:function(e,t){var n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),LE.copy(this.boundingSphere),LE.applyMatrix4(r),!1!==e.ray.intersectsSphere(LE)&&(NE.copy(r).invert(),QE.copy(e.ray).applyMatrix4(NE),null!==this.boundingBox&&!1===QE.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,QE)))}},{key:"getVertexPosition",value:function(e,t){return _p(g(n.prototype),"getVertexPosition",this).call(this,e,t),this.applyBoneTransform(e,t),t}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Dy,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){_p(g(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"applyBoneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;UE.fromBufferAttribute(r.attributes.skinIndex,e),FE.fromBufferAttribute(r.attributes.skinWeight,e),RE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=FE.getComponent(i);if(0!==a){var o=UE.getComponent(i);PE.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(OE.copy(RE).applyMatrix4(PE),a)}}return t.applyMatrix4(this.bindMatrixInverse)}},{key:"boneTransform",value:function(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}]),n}(ix),jE=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return h(n)}(Kb),zE=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,A=arguments.length>7?arguments[7]:void 0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Uv,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Uv,h=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return c(this,n),(e=t.call(this,null,u,l,A,f,d,o,s,h,p)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return h(n)}(Py),GE=new xb,VE=new xb,WE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];c(this,e),this.uuid=ry(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}return h(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new xb)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new xb;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:VE;GE.multiplyMatrices(o,t[i]),GE.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=uy(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new zE(t,e,e,tg,qv);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new jE),this.bones.push(a),this.boneInverses.push((new xb).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),KE=function(e){v(n,e);var t=w(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return c(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(xw),XE=new xb,qE=new xb,YE=[],ZE=new qy,JE=new xb,$E=new ix,eS=new db,tS=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;c(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new KE(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.boundingBox=null,a.boundingSphere=null;for(var o=0;o<i;o++)a.setMatrixAt(o,JE);return a}return h(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new qy),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,XE),ZE.copy(e.boundingBox).applyMatrix4(XE),this.boundingBox.union(ZE)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new db),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,XE),eS.copy(e.boundingSphere).applyMatrix4(XE),this.boundingSphere.union(eS)}},{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if($E.geometry=this.geometry,$E.material=this.material,void 0!==$E.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),eS.copy(this.boundingSphere),eS.applyMatrix4(n),!1!==e.ray.intersectsSphere(eS)))for(var i=0;i<r;i++){this.getMatrixAt(i,XE),qE.multiplyMatrices(n,XE),$E.matrixWorld=qE,$E.raycast(e,YE);for(var a=0,o=YE.length;a<o;a++){var s=YE[a];s.instanceId=i,s.object=this,t.push(s)}YE.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new KE(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(ix),nS=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new fw(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(sw),rS=new Wy,iS=new Wy,aS=new xb,oS=new wb,sS=new db,uS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qw,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new nS;return c(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return h(n,[{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)rS.fromBufferAttribute(t,r-1),iS.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=rS.distanceTo(iS);e.setAttribute("lineDistance",new Mw(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),sS.copy(n.boundingSphere),sS.applyMatrix4(r),sS.radius+=i,!1!==e.ray.intersectsSphere(sS)){aS.copy(r).invert(),oS.copy(e.ray).applyMatrix4(aS);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new Wy,l=new Wy,c=new Wy,A=new Wy,f=this.isLineSegments?2:1,d=n.index,h=n.attributes.position;if(null!==d)for(var p=Math.max(0,a.start),v=Math.min(d.count,a.start+a.count)-1;p<v;p+=f){var g=d.getX(p),m=d.getX(p+1);if(u.fromBufferAttribute(h,g),l.fromBufferAttribute(h,m),!(oS.distanceSqToSegment(u,l,A,c)>s)){A.applyMatrix4(this.matrixWorld);var y=e.ray.origin.distanceTo(A);y<e.near||y>e.far||t.push({distance:y,point:c.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,a.start),w=Math.min(h.count,a.start+a.count)-1;b<w;b+=f){if(u.fromBufferAttribute(h,b),l.fromBufferAttribute(h,b+1),!(oS.distanceSqToSegment(u,l,A,c)>s)){A.applyMatrix4(this.matrixWorld);var x=e.ray.origin.distanceTo(A);x<e.near||x>e.far||t.push({distance:x,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Kb),lS=new Wy,cS=new Wy,AS=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return h(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)lS.fromBufferAttribute(t,r),cS.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+lS.distanceTo(cS);e.setAttribute("lineDistance",new Mw(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(uS),fS=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return h(n)}(uS),dS=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new fw(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(sw),hS=new xb,pS=new wb,vS=new db,gS=new Wy,mS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qw,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dS;return c(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return h(n,[{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),vS.copy(n.boundingSphere),vS.applyMatrix4(r),vS.radius+=i,!1!==e.ray.intersectsSphere(vS)){hS.copy(r).invert(),pS.copy(e.ray).applyMatrix4(hS);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=n.index,l=n.attributes.position;if(null!==u)for(var c=Math.max(0,a.start),A=Math.min(u.count,a.start+a.count);c<A;c++){var f=u.getX(c);gS.fromBufferAttribute(l,f),yS(gS,f,s,r,e,t,this)}else for(var d=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);d<h;d++)gS.fromBufferAttribute(l,d),yS(gS,d,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Kb);function yS(e,t,n,r,i,a,o){var s=pS.distanceSqToPoint(e);if(s<n){var u=new Wy;pS.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}var bS=function(e){v(n,e);var t=w(n);function n(e,r,i,a,o,s,u,l,A){var f;c(this,n),(f=t.call(this,e,r,i,a,o,s,u,l,A)).isVideoTexture=!0,f.minFilter=void 0!==s?s:Lv,f.magFilter=void 0!==o?o:Lv,f.generateMipmaps=!1;var d=y(f);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){d.needsUpdate=!0,e.requestVideoFrameCallback(t)})),f}return h(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Py),wS=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this,{width:e,height:r})).isFramebufferTexture=!0,i.magFilter=Uv,i.minFilter=Uv,i.generateMipmaps=!1,i.needsUpdate=!0,i}return h(n)}(Py),xS=function(e){v(n,e);var t=w(n);function n(e,r,i,a,o,s,u,l,A,f,d,h){var p;return c(this,n),(p=t.call(this,null,s,u,l,A,f,a,o,d,h)).isCompressedTexture=!0,p.image={width:r,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return h(n)}(Py),_S=function(e){v(n,e);var t=w(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,r,i,o,s)).isCompressedArrayTexture=!0,u.image.depth=a,u.wrapR=Mv,u}return h(n)}(xS),CS=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,void 0,e[0].width,e[0].height,r,i,Ev)).isCompressedCubeTexture=!0,a.isCubeTexture=!0,a.image=e,a}return h(n)}(xS),ES=function(e){v(n,e);var t=w(n);function n(e,r,i,a,o,s,u,l,A){var f;return c(this,n),(f=t.call(this,e,r,i,a,o,s,u,l,A)).isCanvasTexture=!0,f.needsUpdate=!0,f}return h(n)}(Py),SS=function(){function e(){c(this,e),this.type="Curve",this.arcLengthDivisions=200}return h(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new dy:new Wy);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Wy,r=[],i=[],a=[],o=new Wy,s=new xb,u=0;u<=e;u++){var l=u/e;r[u]=this.getTangentAt(l,new Wy)}i[0]=new Wy,a[0]=new Wy;var c=Number.MAX_VALUE,A=Math.abs(r[0].x),f=Math.abs(r[0].y),d=Math.abs(r[0].z);A<=c&&(c=A,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),d<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var h=1;h<=e;h++){if(i[h]=i[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(r[h-1],r[h]),o.length()>Number.EPSILON){o.normalize();var p=Math.acos(iy(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(o,p))}a[h].crossVectors(r[h],i[h])}if(!0===t){var v=Math.acos(iy(i[0].dot(i[e]),-1,1));v/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(v=-v);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),BS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],A=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return c(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=l,e.aRotation=A,e}return h(n,[{key:"getPoint",value:function(e,t){for(var n=t||new dy,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),A=s-this.aX,f=u-this.aY;s=A*l-f*c+this.aX,u=A*c+f*l+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return _p(g(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(SS),TS=function(e){v(n,e);var t=w(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,r,i,i,a,o,s)).isArcCurve=!0,u.type="ArcCurve",u}return h(n)}(BS);function IS(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var kS=new Wy,MS=new IS,RS=new IS,US=new IS,FS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return c(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return h(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),u=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===u&&s===a-1&&(s=a-2,u=1),this.closed||s>0?t=i[(s-1)%a]:(kS.subVectors(i[0],i[1]).add(i[0]),t=kS);var l=i[s%a],c=i[(s+1)%a];if(this.closed||s+2<a?n=i[(s+2)%a]:(kS.subVectors(i[a-1],i[a-2]).add(i[a-1]),n=kS),"centripetal"===this.curveType||"chordal"===this.curveType){var A="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(l),A),d=Math.pow(l.distanceToSquared(c),A),h=Math.pow(c.distanceToSquared(n),A);d<1e-4&&(d=1),f<1e-4&&(f=d),h<1e-4&&(h=d),MS.initNonuniformCatmullRom(t.x,l.x,c.x,n.x,f,d,h),RS.initNonuniformCatmullRom(t.y,l.y,c.y,n.y,f,d,h),US.initNonuniformCatmullRom(t.z,l.z,c.z,n.z,f,d,h)}else"catmullrom"===this.curveType&&(MS.initCatmullRom(t.x,l.x,c.x,n.x,this.tension),RS.initCatmullRom(t.y,l.y,c.y,n.y,this.tension),US.initCatmullRom(t.z,l.z,c.z,n.z,this.tension));return r.set(MS.calc(u),RS.calc(u),US.calc(u)),r}},{key:"copy",value:function(e){_p(g(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){_p(g(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Wy).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(SS);function OS(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function PS(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function DS(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var LS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dy,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new dy,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new dy;return c(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return h(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dy,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(DS(e,n.x,r.x,i.x,a.x),DS(e,n.y,r.y,i.y,a.y)),t}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return _p(g(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(SS),NS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wy,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Wy,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Wy;return c(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return h(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(DS(e,n.x,r.x,i.x,a.x),DS(e,n.y,r.y,i.y,a.y),DS(e,n.z,r.z,i.z,a.z)),t}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return _p(g(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(SS),QS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dy,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dy;return c(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return h(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dy;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dy).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return _p(g(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(SS),HS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wy,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy;return c(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return h(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return _p(g(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(SS),jS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dy,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new dy;return c(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return h(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dy,n=this.v0,r=this.v1,i=this.v2;return t.set(PS(e,n.x,r.x,i.x),PS(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return _p(g(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(SS),zS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wy,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Wy;return c(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return h(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy,n=this.v0,r=this.v1,i=this.v2;return t.set(PS(e,n.x,r.x,i.x),PS(e,n.y,r.y,i.y),PS(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return _p(g(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(SS),GS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return h(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dy,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],u=n[i>n.length-2?n.length-1:i+1],l=n[i>n.length-3?n.length-1:i+2];return t.set(OS(a,o.x,s.x,u.x,l.x),OS(a,o.y,s.y,u.y,l.y)),t}},{key:"copy",value:function(e){_p(g(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){_p(g(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new dy).fromArray(i))}return this}}]),n}(SS),VS=Object.freeze({__proto__:null,ArcCurve:TS,CatmullRomCurve3:FS,CubicBezierCurve:LS,CubicBezierCurve3:NS,EllipseCurve:BS,LineCurve:QS,LineCurve3:HS,QuadraticBezierCurve:jS,QuadraticBezierCurve3:zS,SplineCurve:GS}),WS=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return h(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new QS(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),u=0===s?0:1-a/s;return o.getPointAt(u,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){_p(g(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){_p(g(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new VS[i.type]).fromJSON(i))}return this}}]),n}(SS),KS=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).type="Path",r.currentPoint=new dy,e&&r.setFromPoints(e),r}return h(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new QS(this.currentPoint.clone(),new dy(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new jS(this.currentPoint.clone(),new dy(e,t),new dy(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new LS(this.currentPoint.clone(),new dy(e,t),new dy(n,r),new dy(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new GS(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var u=new BS(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return _p(g(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(WS),XS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new dy(0,-.5),new dy(.5,0),new dy(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;c(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=iy(o,0,2*Math.PI);for(var s=[],u=[],l=[],A=[],f=[],d=1/i,h=new Wy,p=new dy,v=new Wy,g=new Wy,m=new Wy,y=0,b=0,w=0;w<=r.length-1;w++)switch(w){case 0:y=r[w+1].x-r[w].x,b=r[w+1].y-r[w].y,v.x=1*b,v.y=-y,v.z=0*b,m.copy(v),v.normalize(),A.push(v.x,v.y,v.z);break;case r.length-1:A.push(m.x,m.y,m.z);break;default:y=r[w+1].x-r[w].x,b=r[w+1].y-r[w].y,v.x=1*b,v.y=-y,v.z=0*b,g.copy(v),v.x+=m.x,v.y+=m.y,v.z+=m.z,v.normalize(),A.push(v.x,v.y,v.z),m.copy(g)}for(var x=0;x<=i;x++)for(var _=a+x*d*o,C=Math.sin(_),E=Math.cos(_),S=0;S<=r.length-1;S++){h.x=r[S].x*C,h.y=r[S].y,h.z=r[S].x*E,u.push(h.x,h.y,h.z),p.x=x/i,p.y=S/(r.length-1),l.push(p.x,p.y);var B=A[3*S+0]*C,T=A[3*S+1],I=A[3*S+0]*E;f.push(B,T,I)}for(var k=0;k<i;k++)for(var M=0;M<r.length-1;M++){var R=M+k*r.length,U=R,F=R+r.length,O=R+r.length+1,P=R+1;s.push(U,F,P),s.push(O,P,F)}return e.setIndex(s),e.setAttribute("position",new Mw(u,3)),e.setAttribute("uv",new Mw(l,2)),e.setAttribute("normal",new Mw(f,3)),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(Qw),qS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;c(this,n);var s=new KS;return s.absarc(0,-i/2,r,1.5*Math.PI,0),s.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,s.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:r,length:i,capSegments:a,radialSegments:o},e}return h(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(XS),YS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;c(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],u=[],l=[],A=[],f=new Wy,d=new dy;u.push(0,0,0),l.push(0,0,1),A.push(.5,.5);for(var h=0,p=3;h<=i;h++,p+=3){var v=a+h/i*o;f.x=r*Math.cos(v),f.y=r*Math.sin(v),u.push(f.x,f.y,f.z),l.push(0,0,1),d.x=(u[p]/r+1)/2,d.y=(u[p+1]/r+1)/2,A.push(d.x,d.y)}for(var g=1;g<=i;g++)s.push(g,g+1,0);return e.setIndex(s),e.setAttribute("position",new Mw(u,3)),e.setAttribute("normal",new Mw(l,3)),e.setAttribute("uv",new Mw(A,2)),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(Qw),ZS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,A=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;c(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:u,thetaStart:l,thetaLength:A};var f=y(e);o=Math.floor(o),s=Math.floor(s);var d=[],h=[],p=[],v=[],g=0,m=[],b=a/2,w=0;function x(e){for(var t=g,n=new dy,a=new Wy,s=0,u=!0===e?r:i,c=!0===e?1:-1,m=1;m<=o;m++)h.push(0,b*c,0),p.push(0,c,0),v.push(.5,.5),g++;for(var y=g,x=0;x<=o;x++){var _=x/o*A+l,C=Math.cos(_),E=Math.sin(_);a.x=u*E,a.y=b*c,a.z=u*C,h.push(a.x,a.y,a.z),p.push(0,c,0),n.x=.5*C+.5,n.y=.5*E*c+.5,v.push(n.x,n.y),g++}for(var S=0;S<o;S++){var B=t+S,T=y+S;!0===e?d.push(T,T+1,B):d.push(T+1,T,B),s+=3}f.addGroup(w,s,!0===e?1:2),w+=s}return function(){for(var e=new Wy,t=new Wy,n=0,u=(i-r)/a,c=0;c<=s;c++){for(var y=[],x=c/s,_=x*(i-r)+r,C=0;C<=o;C++){var E=C/o,S=E*A+l,B=Math.sin(S),T=Math.cos(S);t.x=_*B,t.y=-x*a+b,t.z=_*T,h.push(t.x,t.y,t.z),e.set(B,u,T).normalize(),p.push(e.x,e.y,e.z),v.push(E,1-x),y.push(g++)}m.push(y)}for(var I=0;I<o;I++)for(var k=0;k<s;k++){var M=m[k][I],R=m[k+1][I],U=m[k+1][I+1],F=m[k][I+1];d.push(M,R,F),d.push(R,U,F),n+=6}f.addGroup(w,n,0),w+=n}(),!1===u&&(r>0&&x(!0),i>0&&x(!1)),e.setIndex(d),e.setAttribute("position",new Mw(h,3)),e.setAttribute("normal",new Mw(p,3)),e.setAttribute("uv",new Mw(v,2)),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Qw),JS=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return c(this,n),(e=t.call(this,0,r,i,a,o,s,u,l)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:l},e}return h(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(ZS),$S=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;c(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],u=[];function l(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),u=t.clone().lerp(n,o/i),l=i-o,c=0;c<=l;c++)a[o][c]=0===c&&o===i?s:s.clone().lerp(u,c/l)}for(var f=0;f<i;f++)for(var d=0;d<2*(i-f)-1;d++){var h=Math.floor(d/2);d%2===0?(A(a[f][h+1]),A(a[f+1][h]),A(a[f][h])):(A(a[f][h+1]),A(a[f+1][h+1]),A(a[f+1][h]))}}function A(e){s.push(e.x,e.y,e.z)}function f(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function d(e,t,n,r){r<0&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=r/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new Wy,n=new Wy,r=new Wy,a=0;a<i.length;a+=3)f(i[a+0],t),f(i[a+1],n),f(i[a+2],r),l(t,n,r,e)}(o),function(e){for(var t=new Wy,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}(a),function(){for(var e=new Wy,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=h(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);u.push(n,1-r)}var i;(function(){for(var e=new Wy,t=new Wy,n=new Wy,r=new Wy,i=new dy,a=new dy,o=new dy,l=0,c=0;l<s.length;l+=9,c+=6){e.set(s[l+0],s[l+1],s[l+2]),t.set(s[l+3],s[l+4],s[l+5]),n.set(s[l+6],s[l+7],s[l+8]),i.set(u[c+0],u[c+1]),a.set(u[c+2],u[c+3]),o.set(u[c+4],u[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var A=h(r);d(i,c+0,e,A),d(a,c+2,t,A),d(o,c+4,n,A)}})(),function(){for(var e=0;e<u.length;e+=6){var t=u[e+0],n=u[e+2],r=u[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(u[e+0]+=1),n<.2&&(u[e+2]+=1),r<.2&&(u[e+4]+=1))}}()}(),e.setAttribute("position",new Mw(s,3)),e.setAttribute("normal",new Mw(s.slice(),3)),e.setAttribute("uv",new Mw(u,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(Qw),eB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o];return(e=t.call(this,s,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return h(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}($S),tB=new Wy,nB=new Wy,rB=new Wy,iB=new aw,aB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(c(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=Math.pow(10,4),o=Math.cos(ty*i),s=r.getIndex(),u=r.getAttribute("position"),l=s?s.count:u.count,A=[0,0,0],f=["a","b","c"],d=new Array(3),h={},p=[],v=0;v<l;v+=3){s?(A[0]=s.getX(v),A[1]=s.getX(v+1),A[2]=s.getX(v+2)):(A[0]=v,A[1]=v+1,A[2]=v+2);var g=iB.a,m=iB.b,y=iB.c;if(g.fromBufferAttribute(u,A[0]),m.fromBufferAttribute(u,A[1]),y.fromBufferAttribute(u,A[2]),iB.getNormal(rB),d[0]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),d[1]="".concat(Math.round(m.x*a),",").concat(Math.round(m.y*a),",").concat(Math.round(m.z*a)),d[2]="".concat(Math.round(y.x*a),",").concat(Math.round(y.y*a),",").concat(Math.round(y.z*a)),d[0]!==d[1]&&d[1]!==d[2]&&d[2]!==d[0])for(var b=0;b<3;b++){var w=(b+1)%3,x=d[b],_=d[w],C=iB[f[b]],E=iB[f[w]],S="".concat(x,"_").concat(_),B="".concat(_,"_").concat(x);B in h&&h[B]?(rB.dot(h[B].normal)<=o&&(p.push(C.x,C.y,C.z),p.push(E.x,E.y,E.z)),h[B]=null):S in h||(h[S]={index0:A[b],index1:A[w],normal:rB.clone()})}}for(var T in h)if(h[T]){var I=h[T],k=I.index0,M=I.index1;tB.fromBufferAttribute(u,k),nB.fromBufferAttribute(u,M),p.push(tB.x,tB.y,tB.z),p.push(nB.x,nB.y,nB.z)}e.setAttribute("position",new Mw(p,3))}return e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(Qw),oB=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).uuid=ry(),r.type="Shape",r.holes=[],r}return h(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){_p(g(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){_p(g(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new KS).fromJSON(i))}return this}}]),n}(KS),sB=function(e,t){var n,r,i,a,o,s,u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,A=c?t[0]*l:e.length,f=uB(e,0,A,l,!0),d=[];if(!f||f.next===f.prev)return d;if(c&&(f=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=uB(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(yB(o));for(s.sort(pB),i=0;i<s.length;i++)n=vB(s[i],n);return n}(e,t,f,l)),e.length>80*l){n=i=e[0],r=a=e[1];for(var h=l;h<A;h+=l)(o=e[h])<n&&(n=o),(s=e[h+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);u=0!==(u=Math.max(i-n,a-r))?32767/u:0}return cB(f,d,l,n,r,u,0),d};function uB(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=IB(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=IB(a,e[a],e[a+1],o);return o&&_B(o,o.next)&&(kB(o),o=o.next),o}function lB(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!_B(r,r.next)&&0!==xB(r.prev,r,r.next))r=r.next;else{if(kB(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function cB(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=mB(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?fB(e,r,i,a):AB(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),kB(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?cB(e=dB(lB(e),t,n),t,n,r,i,a,2):2===o&&hB(e,t,n,r,i,a):cB(lB(e),t,n,r,i,a,1);break}}}function AB(e){var t=e.prev,n=e,r=e.next;if(xB(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,u=n.y,l=r.y,c=i<a?i<o?i:o:a<o?a:o,A=s<u?s<l?s:l:u<l?u:l,f=i>a?i>o?i:o:a>o?a:o,d=s>u?s>l?s:l:u>l?u:l,h=r.next;h!==t;){if(h.x>=c&&h.x<=f&&h.y>=A&&h.y<=d&&bB(i,s,a,u,o,l,h.x,h.y)&&xB(h.prev,h,h.next)>=0)return!1;h=h.next}return!0}function fB(e,t,n,r){var i=e.prev,a=e,o=e.next;if(xB(i,a,o)>=0)return!1;for(var s=i.x,u=a.x,l=o.x,c=i.y,A=a.y,f=o.y,d=s<u?s<l?s:l:u<l?u:l,h=c<A?c<f?c:f:A<f?A:f,p=s>u?s>l?s:l:u>l?u:l,v=c>A?c>f?c:f:A>f?A:f,g=mB(d,h,t,n,r),m=mB(p,v,t,n,r),y=e.prevZ,b=e.nextZ;y&&y.z>=g&&b&&b.z<=m;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=v&&y!==i&&y!==o&&bB(s,c,u,A,l,f,y.x,y.y)&&xB(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,b.x>=d&&b.x<=p&&b.y>=h&&b.y<=v&&b!==i&&b!==o&&bB(s,c,u,A,l,f,b.x,b.y)&&xB(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;y&&y.z>=g;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=v&&y!==i&&y!==o&&bB(s,c,u,A,l,f,y.x,y.y)&&xB(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=m;){if(b.x>=d&&b.x<=p&&b.y>=h&&b.y<=v&&b!==i&&b!==o&&bB(s,c,u,A,l,f,b.x,b.y)&&xB(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function dB(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!_B(i,a)&&CB(i,r,r.next,a)&&BB(i,a)&&BB(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),kB(r),kB(r.next),r=e=a),r=r.next}while(r!==e);return lB(r)}function hB(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&wB(o,s)){var u=TB(o,s);return o=lB(o,o.next),u=lB(u,u.next),cB(o,t,n,r,i,a,0),void cB(u,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function pB(e,t){return e.x-t.x}function vB(e,t){var n=function(e,t){var n,r=t,i=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i&&(i=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,c=n.x,A=n.y,f=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&bB(o<A?a:i,o,c,A,o<A?i:a,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(a-r.x),BB(r,e)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&gB(n,r)))&&(n=r,f=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var r=TB(n,e);return lB(r,r.next),lB(n,n.next)}function gB(e,t){return xB(e.prev,e,t.prev)<0&&xB(t.next,e,e.next)<0}function mB(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function yB(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function bB(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function wB(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&CB(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(BB(e,t)&&BB(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(xB(e.prev,e,t.prev)||xB(e,t.prev,t))||_B(e,t)&&xB(e.prev,e,e.next)>0&&xB(t.prev,t,t.next)>0)}function xB(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function _B(e,t){return e.x===t.x&&e.y===t.y}function CB(e,t,n,r){var i=SB(xB(e,t,n)),a=SB(xB(e,t,r)),o=SB(xB(n,r,e)),s=SB(xB(n,r,t));return i!==a&&o!==s||(!(0!==i||!EB(e,n,t))||(!(0!==a||!EB(e,r,t))||(!(0!==o||!EB(n,e,r))||!(0!==s||!EB(n,t,r)))))}function EB(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function SB(e){return e>0?1:e<0?-1:0}function BB(e,t){return xB(e.prev,e,e.next)<0?xB(e,t,e.next)>=0&&xB(e,e.prev,t)>=0:xB(e,t,e.prev)<0||xB(e,e.next,t)<0}function TB(e,t){var n=new MB(e.i,e.x,e.y),r=new MB(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function IB(e,t,n,r){var i=new MB(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function kB(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function MB(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var RB=function(){function e(){c(this,e)}return h(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];UB(e),FB(n,e);var a=e.length;t.forEach(UB);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,FB(n,t[o]);for(var s=sB(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}}]),e}();function UB(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function FB(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var OB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oB([new dy(.5,.5),new dy(-.5,.5),new dy(-.5,-.5),new dy(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=y(e),o=[],s=[],u=0,l=r.length;u<l;u++){A(r[u])}function A(e){var t,n,r,u,l,c=[],A=void 0!==i.curveSegments?i.curveSegments:12,f=void 0!==i.steps?i.steps:1,d=void 0!==i.depth?i.depth:1,h=void 0===i.bevelEnabled||i.bevelEnabled,p=void 0!==i.bevelThickness?i.bevelThickness:.2,v=void 0!==i.bevelSize?i.bevelSize:p-.1,g=void 0!==i.bevelOffset?i.bevelOffset:0,m=void 0!==i.bevelSegments?i.bevelSegments:3,y=i.extrudePath,b=void 0!==i.UVGenerator?i.UVGenerator:PB,w=!1;y&&(t=y.getSpacedPoints(f),w=!0,h=!1,n=y.computeFrenetFrames(f,!1),r=new Wy,u=new Wy,l=new Wy),h||(m=0,p=0,v=0,g=0);var x=e.extractPoints(A),_=x.shape,C=x.holes;if(!RB.isClockWise(_)){_=_.reverse();for(var E=0,S=C.length;E<S;E++){var B=C[E];RB.isClockWise(B)&&(C[E]=B.reverse())}}for(var T=RB.triangulateShape(_,C),I=_,k=0,M=C.length;k<M;k++){var R=C[k];_=_.concat(R)}function U(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}var F=_.length,O=T.length;function P(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s,A=o*l-s*u;if(Math.abs(A)>Number.EPSILON){var f=Math.sqrt(c),d=Math.sqrt(u*u+l*l),h=t.x-s/f,p=t.y+o/f,v=((n.x-l/d-h)*l-(n.y+u/d-p)*u)/(o*l-s*u),g=(r=h+o*v-e.x)*r+(i=p+s*v-e.y)*i;if(g<=2)return new dy(r,i);a=Math.sqrt(g/2)}else{var m=!1;o>Number.EPSILON?u>Number.EPSILON&&(m=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(m=!0):Math.sign(s)===Math.sign(l)&&(m=!0),m?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new dy(r/a,i/a)}for(var D=[],L=0,N=I.length,Q=N-1,H=L+1;L<N;L++,Q++,H++)Q===N&&(Q=0),H===N&&(H=0),D[L]=P(I[L],I[Q],I[H]);for(var j,z=[],G=D.concat(),V=0,W=C.length;V<W;V++){var K=C[V];j=[];for(var X=0,q=K.length,Y=q-1,Z=X+1;X<q;X++,Y++,Z++)Y===q&&(Y=0),Z===q&&(Z=0),j[X]=P(K[X],K[Y],K[Z]);z.push(j),G=G.concat(j)}for(var J=0;J<m;J++){for(var $=J/m,ee=p*Math.cos($*Math.PI/2),te=v*Math.sin($*Math.PI/2)+g,ne=0,re=I.length;ne<re;ne++){var ie=U(I[ne],D[ne],te);Me(ie.x,ie.y,-ee)}for(var ae=0,oe=C.length;ae<oe;ae++){var se=C[ae];j=z[ae];for(var ue=0,le=se.length;ue<le;ue++){var ce=U(se[ue],j[ue],te);Me(ce.x,ce.y,-ee)}}}for(var Ae=v+g,fe=0;fe<F;fe++){var de=h?U(_[fe],G[fe],Ae):_[fe];w?(u.copy(n.normals[0]).multiplyScalar(de.x),r.copy(n.binormals[0]).multiplyScalar(de.y),l.copy(t[0]).add(u).add(r),Me(l.x,l.y,l.z)):Me(de.x,de.y,0)}for(var he=1;he<=f;he++)for(var pe=0;pe<F;pe++){var ve=h?U(_[pe],G[pe],Ae):_[pe];w?(u.copy(n.normals[he]).multiplyScalar(ve.x),r.copy(n.binormals[he]).multiplyScalar(ve.y),l.copy(t[he]).add(u).add(r),Me(l.x,l.y,l.z)):Me(ve.x,ve.y,d/f*he)}for(var ge=m-1;ge>=0;ge--){for(var me=ge/m,ye=p*Math.cos(me*Math.PI/2),be=v*Math.sin(me*Math.PI/2)+g,we=0,xe=I.length;we<xe;we++){var _e=U(I[we],D[we],be);Me(_e.x,_e.y,d+ye)}for(var Ce=0,Ee=C.length;Ce<Ee;Ce++){var Se=C[Ce];j=z[Ce];for(var Be=0,Te=Se.length;Be<Te;Be++){var Ie=U(Se[Be],j[Be],be);w?Me(Ie.x,Ie.y+t[f-1].y,t[f-1].x+ye):Me(Ie.x,Ie.y,d+ye)}}}function ke(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,o=f+2*m;a<o;a++){var s=F*a,u=F*(a+1);Ue(t+r+s,t+i+s,t+i+u,t+r+u)}}}function Me(e,t,n){c.push(e),c.push(t),c.push(n)}function Re(e,t,n){Fe(e),Fe(t),Fe(n);var r=o.length/3,i=b.generateTopUV(a,o,r-3,r-2,r-1);Oe(i[0]),Oe(i[1]),Oe(i[2])}function Ue(e,t,n,r){Fe(e),Fe(t),Fe(r),Fe(t),Fe(n),Fe(r);var i=o.length/3,s=b.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Oe(s[0]),Oe(s[1]),Oe(s[3]),Oe(s[1]),Oe(s[2]),Oe(s[3])}function Fe(e){o.push(c[3*e+0]),o.push(c[3*e+1]),o.push(c[3*e+2])}function Oe(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(h){for(var t=0,n=F*t,r=0;r<O;r++){var i=T[r];Re(i[2]+n,i[1]+n,i[0]+n)}n=F*(t=f+2*m);for(var s=0;s<O;s++){var u=T[s];Re(u[0]+n,u[1]+n,u[2]+n)}}else{for(var l=0;l<O;l++){var c=T[l];Re(c[2],c[1],c[0])}for(var A=0;A<O;A++){var d=T[A];Re(d[0]+F*f,d[1]+F*f,d[2]+F*f)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;ke(I,t),t+=I.length;for(var n=0,r=C.length;n<r;n++){var i=C[n];ke(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new Mw(o,3)),e.setAttribute("uv",new Mw(s,2)),e.computeVertexNormals(),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new VS[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(Qw),PB={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new dy(a,o),new dy(s,u),new dy(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],A=t[3*r+2],f=t[3*i],d=t[3*i+1],h=t[3*i+2],p=t[3*a],v=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<Math.abs(o-l)?[new dy(o,1-u),new dy(l,1-A),new dy(f,1-h),new dy(p,1-g)]:[new dy(s,1-u),new dy(c,1-A),new dy(d,1-h),new dy(v,1-g)]}};var DB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];return(e=t.call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return h(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}($S),LB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c(this,n);return(e=t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return h(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}($S),NB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;c(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:u},a=Math.max(3,a);for(var l=[],A=[],f=[],d=[],h=r,p=(i-r)/(o=Math.max(1,o)),v=new Wy,g=new dy,m=0;m<=o;m++){for(var y=0;y<=a;y++){var b=s+y/a*u;v.x=h*Math.cos(b),v.y=h*Math.sin(b),A.push(v.x,v.y,v.z),f.push(0,0,1),g.x=(v.x/i+1)/2,g.y=(v.y/i+1)/2,d.push(g.x,g.y)}h+=p}for(var w=0;w<o;w++)for(var x=w*(a+1),_=0;_<a;_++){var C=_+x,E=C,S=C+a+1,B=C+a+2,T=C+1;l.push(E,S,T),l.push(S,B,T)}return e.setIndex(l),e.setAttribute("position",new Mw(A,3)),e.setAttribute("normal",new Mw(f,3)),e.setAttribute("uv",new Mw(d,2)),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(Qw),QB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oB([new dy(0,.5),new dy(-.5,-.5),new dy(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;c(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],u=[],l=0,A=0;if(!1===Array.isArray(r))d(r);else for(var f=0;f<r.length;f++)d(r[f]),e.addGroup(l,A,f),l+=A,A=0;function d(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,l=n.holes;!1===RB.isClockWise(r)&&(r=r.reverse());for(var c=0,f=l.length;c<f;c++){var d=l[c];!0===RB.isClockWise(d)&&(l[c]=d.reverse())}for(var h=RB.triangulateShape(r,l),p=0,v=l.length;p<v;p++){var g=l[p];r=r.concat(g)}for(var m=0,y=r.length;m<y;m++){var b=r[m];o.push(b.x,b.y,0),s.push(0,0,1),u.push(b.x,b.y)}for(var w=0,x=h.length;w<x;w++){var _=h[w],C=_[0]+t,E=_[1]+t,S=_[2]+t;a.push(C,E,S),A+=3}}return e.setIndex(a),e.setAttribute("position",new Mw(o,3)),e.setAttribute("normal",new Mw(s,3)),e.setAttribute("uv",new Mw(u,2)),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(Qw);var HB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;c(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:u,thetaLength:l},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var A=Math.min(u+l,Math.PI),f=0,d=[],h=new Wy,p=new Wy,v=[],g=[],m=[],y=[],b=0;b<=a;b++){var w=[],x=b/a,_=0;0===b&&0===u?_=.5/i:b===a&&A===Math.PI&&(_=-.5/i);for(var C=0;C<=i;C++){var E=C/i;h.x=-r*Math.cos(o+E*s)*Math.sin(u+x*l),h.y=r*Math.cos(u+x*l),h.z=r*Math.sin(o+E*s)*Math.sin(u+x*l),g.push(h.x,h.y,h.z),p.copy(h).normalize(),m.push(p.x,p.y,p.z),y.push(E+_,1-x),w.push(f++)}d.push(w)}for(var S=0;S<a;S++)for(var B=0;B<i;B++){var T=d[S][B+1],I=d[S][B],k=d[S+1][B],M=d[S+1][B+1];(0!==S||u>0)&&v.push(T,I,M),(S!==a-1||A<Math.PI)&&v.push(I,k,M)}return e.setIndex(v),e.setAttribute("position",new Mw(g,3)),e.setAttribute("normal",new Mw(m,3)),e.setAttribute("uv",new Mw(y,2)),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(Qw),jB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c(this,n);return(e=t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return h(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}($S),zB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;c(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var u=[],l=[],A=[],f=[],d=new Wy,h=new Wy,p=new Wy,v=0;v<=a;v++)for(var g=0;g<=o;g++){var m=g/o*s,y=v/a*Math.PI*2;h.x=(r+i*Math.cos(y))*Math.cos(m),h.y=(r+i*Math.cos(y))*Math.sin(m),h.z=i*Math.sin(y),l.push(h.x,h.y,h.z),d.x=r*Math.cos(m),d.y=r*Math.sin(m),p.subVectors(h,d).normalize(),A.push(p.x,p.y,p.z),f.push(g/o),f.push(v/a)}for(var b=1;b<=a;b++)for(var w=1;w<=o;w++){var x=(o+1)*b+w-1,_=(o+1)*(b-1)+w-1,C=(o+1)*(b-1)+w,E=(o+1)*b+w;u.push(x,_,E),u.push(_,C,E)}return e.setIndex(u),e.setAttribute("position",new Mw(l,3)),e.setAttribute("normal",new Mw(A,3)),e.setAttribute("uv",new Mw(f,2)),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(Qw),GB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;c(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:u},a=Math.floor(a),o=Math.floor(o);for(var l=[],A=[],f=[],d=[],h=new Wy,p=new Wy,v=new Wy,g=new Wy,m=new Wy,y=new Wy,b=new Wy,w=0;w<=a;++w){var x=w/a*s*Math.PI*2;U(x,s,u,r,v),U(x+.01,s,u,r,g),y.subVectors(g,v),b.addVectors(g,v),m.crossVectors(y,b),b.crossVectors(m,y),m.normalize(),b.normalize();for(var _=0;_<=o;++_){var C=_/o*Math.PI*2,E=-i*Math.cos(C),S=i*Math.sin(C);h.x=v.x+(E*b.x+S*m.x),h.y=v.y+(E*b.y+S*m.y),h.z=v.z+(E*b.z+S*m.z),A.push(h.x,h.y,h.z),p.subVectors(h,v).normalize(),f.push(p.x,p.y,p.z),d.push(w/a),d.push(_/o)}}for(var B=1;B<=a;B++)for(var T=1;T<=o;T++){var I=(o+1)*(B-1)+(T-1),k=(o+1)*B+(T-1),M=(o+1)*B+T,R=(o+1)*(B-1)+T;l.push(I,k,R),l.push(k,M,R)}function U(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*a,i.y=r*(2+u)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(l),e.setAttribute("position",new Mw(A,3)),e.setAttribute("normal",new Mw(f,3)),e.setAttribute("uv",new Mw(d,2)),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(Qw),VB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zS(new Wy(-1,-1,0),new Wy(-1,1,0),new Wy(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];c(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var u=r.computeFrenetFrames(i,s);e.tangents=u.tangents,e.normals=u.normals,e.binormals=u.binormals;var l=new Wy,A=new Wy,f=new dy,d=new Wy,h=[],p=[],v=[],g=[];function m(e){d=r.getPointAt(e/i,d);for(var t=u.normals[e],n=u.binormals[e],s=0;s<=o;s++){var c=s/o*Math.PI*2,f=Math.sin(c),v=-Math.cos(c);A.x=v*t.x+f*n.x,A.y=v*t.y+f*n.y,A.z=v*t.z+f*n.z,A.normalize(),p.push(A.x,A.y,A.z),l.x=d.x+a*A.x,l.y=d.y+a*A.y,l.z=d.z+a*A.z,h.push(l.x,l.y,l.z)}}return function(){for(var e=0;e<i;e++)m(e);m(!1===s?i:0),function(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)f.x=e/i,f.y=t/o,v.push(f.x,f.y)}(),function(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;g.push(n,r,s),g.push(r,a,s)}}()}(),e.setIndex(g),e.setAttribute("position",new Mw(h,3)),e.setAttribute("normal",new Mw(p,3)),e.setAttribute("uv",new Mw(v,2)),e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new VS[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(Qw),WB=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(c(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new Wy,s=new Wy;if(null!==r.index){var u=r.attributes.position,l=r.index,A=r.groups;0===A.length&&(A=[{start:0,count:l.count,materialIndex:0}]);for(var f=0,d=A.length;f<d;++f)for(var h=A[f],p=h.start,v=p,g=p+h.count;v<g;v+=3)for(var m=0;m<3;m++){var y=l.getX(v+m),b=l.getX(v+(m+1)%3);o.fromBufferAttribute(u,y),s.fromBufferAttribute(u,b),!0===KB(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var w=r.attributes.position,x=0,_=w.count/3;x<_;x++)for(var C=0;C<3;C++){var E=3*x+C,S=3*x+(C+1)%3;o.fromBufferAttribute(w,E),s.fromBufferAttribute(w,S),!0===KB(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new Mw(i,3))}return e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(Qw);function KB(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var XB=Object.freeze({__proto__:null,BoxGeometry:ox,CapsuleGeometry:qS,CircleGeometry:YS,ConeGeometry:JS,CylinderGeometry:ZS,DodecahedronGeometry:eB,EdgesGeometry:aB,ExtrudeGeometry:OB,IcosahedronGeometry:DB,LatheGeometry:XS,OctahedronGeometry:LB,PlaneGeometry:Bx,PolyhedronGeometry:$S,RingGeometry:NB,ShapeGeometry:QB,SphereGeometry:HB,TetrahedronGeometry:jB,TorusGeometry:zB,TorusKnotGeometry:GB,TubeGeometry:VB,WireframeGeometry:WB}),qB=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new fw(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(sw),YB=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return h(n)}(Ax),ZB=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new fw(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new fw(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=sm,r.normalScale=new dy(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(sw),JB=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.anisotropyRotation=0,r.anisotropyMap=null,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new dy(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(y(r),"reflectivity",{get:function(){return iy(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new fw(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new fw(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new fw(1,1,1),r.specularColorMap=null,r._anisotropy=0,r._clearcoat=0,r._iridescence=0,r._sheen=0,r._transmission=0,r.setValues(e),r}return h(n,[{key:"anisotropy",get:function(){return this._anisotropy},set:function(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=M(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(ZB),$B=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new fw(16777215),r.specular=new fw(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new fw(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=sm,r.normalScale=new dy(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=pv,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(sw),eT=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new fw(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new fw(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=sm,r.normalScale=new dy(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(sw),tT=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=sm,r.normalScale=new dy(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(sw),nT=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new fw(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new fw(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=sm,r.normalScale=new dy(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=pv,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(sw),rT=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new fw(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=sm,r.normalScale=new dy(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(sw),iT=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(nS);function aT(e,t,n){return sT(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function oT(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function sT(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uT(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function lT(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i}function cT(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var AT={arraySlice:aT,convertArray:oT,isTypedArray:sT,getKeyframeOrder:uT,sortedArray:lT,flattenJSON:cT,subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],A=[],f=0;f<u.times.length;++f){var d=u.times[f]*i;if(!(d<n||d>=r)){c.push(u.times[f]);for(var h=0;h<l;++h)A.push(u.values[f*l+h])}}0!==c.length&&(u.times=oT(c,u.times.constructor),u.values=oT(A,u.values.constructor),o.push(u))}a.tracks=o;for(var p=1/0,v=0;v<a.tracks.length;++v)p>a.tracks[v].times[0]&&(p=a.tracks[v].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*p);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(){var t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)return 0;var i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)return 0;var o=0,u=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=u/3);var l=0,c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var A,f=t.times.length-1;if(a<=t.times[0]){var d=o,h=u-o;A=aT(t.values,d,h)}else if(a>=t.times[f]){var p=f*u+o,v=p+u-o;A=aT(t.values,p,v)}else{var g=t.createInterpolant(),m=o,y=u-o;g.evaluate(a),A=aT(g.resultBuffer,m,y)}"quaternion"===r&&(new Vy).fromArray(A).normalize().conjugate().toArray(A);for(var b=i.times.length,w=0;w<b;++w){var x=w*c+l;if("quaternion"===r)Vy.multiplyQuaternionsFlat(i.values,x,A,0,i.values,x);else for(var _=c-2*l,C=0;C<_;++C)i.values[x+C]-=A[C]}},s=0;s<i;++s)o();return e.blendMode=$g,e}},fT=function(){function e(t,n,r,i){c(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return h(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),dT=function(e){v(n,e);var t=w(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:qg,endingEnd:qg},o}return h(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Yg:i=e,o=2*t-n;break;case Zg:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Yg:a=e,s=2*n-t;break;case Zg:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,A=this._weightPrev,f=this._weightNext,d=(n-t)/(r-t),h=d*d,p=h*d,v=-A*p+2*A*h-A*d,g=(1+A)*p+(-1.5-2*A)*h+(-.5+A)*d+1,m=(-1-f)*p+(1.5+f)*h+.5*d,y=f*p-f*h,b=0;b!==o;++b)i[b]=v*a[l+b]+g*a[u+b]+m*a[s+b]+y*a[c+b];return i}}]),n}(fT),hT=function(e){v(n,e);var t=w(n);function n(e,r,i,a){return c(this,n),t.call(this,e,r,i,a)}return h(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,A=0;A!==o;++A)i[A]=a[u+A]*c+a[s+A]*l;return i}}]),n}(fT),pT=function(e){v(n,e);var t=w(n);function n(e,r,i,a){return c(this,n),t.call(this,e,r,i,a)}return h(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(fT),vT=function(){function e(t,n,r,i){if(c(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=oT(n,this.TimeBufferType),this.values=oT(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return h(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new pT(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new hT(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new dT(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Wg:t=this.InterpolantFactoryMethodDiscrete;break;case Kg:t=this.InterpolantFactoryMethodLinear;break;case Xg:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Wg;case this.InterpolantFactoryMethodLinear:return Kg;case this.InterpolantFactoryMethodSmooth:return Xg}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=aT(n,i,a),this.values=aT(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&sT(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=aT(this.times),t=aT(this.values),n=this.getValueSize(),r=this.getInterpolation()===Xg,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(r)s=!0;else for(var l=o*n,c=l-n,A=l+n,f=0;f!==n;++f){var d=t[l+f];if(d!==t[c+f]||d!==t[A+f]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var h=o*n,p=a*n,v=0;v!==n;++v)t[p+v]=t[h+v]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,m=a*n,y=0;y!==n;++y)t[m+y]=t[g+y];++a}return a!==e.length?(this.times=aT(e,0,a),this.values=aT(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=aT(this.times,0),t=aT(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:oT(e.times,Array),values:oT(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();vT.prototype.TimeBufferType=Float32Array,vT.prototype.ValueBufferType=Float32Array,vT.prototype.DefaultInterpolation=Kg;var gT=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(vT);gT.prototype.ValueTypeName="bool",gT.prototype.ValueBufferType=Array,gT.prototype.DefaultInterpolation=Wg,gT.prototype.InterpolantFactoryMethodLinear=void 0,gT.prototype.InterpolantFactoryMethodSmooth=void 0;var mT=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(vT);mT.prototype.ValueTypeName="color";var yT=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(vT);yT.prototype.ValueTypeName="number";var bT=function(e){v(n,e);var t=w(n);function n(e,r,i,a){return c(this,n),t.call(this,e,r,i,a)}return h(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,l=u+o;u!==l;u+=4)Vy.slerpFlat(i,0,a,u-o,a,u,s);return i}}]),n}(fT),wT=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new bT(this.times,this.values,this.getValueSize(),e)}}]),n}(vT);wT.prototype.ValueTypeName="quaternion",wT.prototype.DefaultInterpolation=Kg,wT.prototype.InterpolantFactoryMethodSmooth=void 0;var xT=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(vT);xT.prototype.ValueTypeName="string",xT.prototype.ValueBufferType=Array,xT.prototype.DefaultInterpolation=Wg,xT.prototype.InterpolantFactoryMethodLinear=void 0,xT.prototype.InterpolantFactoryMethodSmooth=void 0;var _T=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(vT);_T.prototype.ValueTypeName="vector";var CT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jg;c(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=ry(),this.duration<0&&this.resetDuration()}return h(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(ET(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(vT.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=uT(s);s=lT(s,1,l),u=lT(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new yT(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var A=[];for(var f in r)A.push(this.CreateFromMorphTargetSequence(f,r[f],t,n));return A}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];cT(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var A={},f=void 0;for(f=0;f<c.length;f++)if(c[f].morphTargets)for(var d=0;d<c[f].morphTargets.length;d++)A[c[f].morphTargets[d]]=-1;for(var h in A){for(var p=[],v=[],g=0;g!==c[f].morphTargets.length;++g){var m=c[f];p.push(m.time),v.push(m.morphTarget===h?1:0)}r.push(new yT(".morphTargetInfluence["+h+"]",p,v))}s=A.length*a}else{var y=".bones["+t[l].name+"]";n(_T,y+".position",c,"pos",r),n(wT,y+".quaternion",c,"rot",r),n(_T,y+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function ET(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return yT;case"vector":case"vector2":case"vector3":case"vector4":return _T;case"color":return mT;case"quaternion":return wT;case"bool":case"boolean":return gT;case"string":return xT}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];cT(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var ST={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},BT=h((function e(t,n,r){c(this,e);var i=this,a=!1,o=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),TT=new BT,IT=function(){function e(t){c(this,e),this.manager=void 0!==t?t:TT,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return h(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}();IT.DEFAULT_MATERIAL_NAME="__DEFAULT";var kT,MT={},RT=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e)).response=r,i}return h(n)}(B(Error)),UT=function(e){v(n,e);var t=w(n);function n(e){return c(this,n),t.call(this,e)}return h(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=ST.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===MT[e]){MT[e]=[],MT[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=MT[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,u=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,u=r.value;if(i)e.close();else{s+=u.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,A=n.length;c<A;c++){var f=n[c];f.onProgress&&f.onProgress(l)}e.enqueue(u),t()}}))}()}});return new Response(u)}throw new RT('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(u){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){ST.add(e,t);var n=MT[e];delete MT[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=MT[e];if(void 0===n)throw i.manager.itemError(e),t;delete MT[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else MT[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(IT),FT=function(e){v(n,e);var t=w(n);function n(e){return c(this,n),t.call(this,e)}return h(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new UT(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=CT.parse(e[n]);t.push(r)}return t}}]),n}(IT),OT=function(e){v(n,e);var t=w(n);function n(e){return c(this,n),t.call(this,e)}return h(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new xS,s=new UT(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var u=0;function l(l){s.load(e[l],(function(e){var n=i.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=Lv),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,A=e.length;c<A;++c)l(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Lv),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(IT),PT=function(e){v(n,e);var t=w(n);function n(e){return c(this,n),t.call(this,e)}return h(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=ST.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=yy("img");function s(){l(),ST.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(IT),DT=function(e){v(n,e);var t=w(n);function n(e){return c(this,n),t.call(this,e)}return h(n,[{key:"load",value:function(e,t,n,r){var i=new vx;i.colorSpace=cm;var a=new PT(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}]),n}(IT),LT=function(e){v(n,e);var t=w(n);function n(e){return c(this,n),t.call(this,e)}return h(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new zE,o=new UT(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n;try{n=i.parse(e)}catch(o){if(void 0===r)return void console.error(o);r(o)}void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:Mv,a.wrapT=void 0!==n.wrapT?n.wrapT:Mv,a.magFilter=void 0!==n.magFilter?n.magFilter:Lv,a.minFilter=void 0!==n.minFilter?n.minFilter:Lv,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace?a.colorSpace=n.colorSpace:void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Hv),1===n.mipmapCount&&(a.minFilter=Lv),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n)}),n,r),a}}]),n}(IT),NT=function(e){v(n,e);var t=w(n);function n(e){return c(this,n),t.call(this,e)}return h(n,[{key:"load",value:function(e,t,n,r){var i=new Py,a=new PT(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(IT),QT=function(e){v(n,e);var t=w(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return c(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new fw(e),r.intensity=i,r}return h(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=_p(g(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Kb),HT=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(Kb.DEFAULT_UP),a.updateMatrix(),a.groundColor=new fw(r),a}return h(n,[{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(QT),jT=new xb,zT=new Wy,GT=new Wy,VT=function(){function e(t){c(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new dy(512,512),this.map=null,this.mapPass=null,this.matrix=new xb,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Cx,this._frameExtents=new dy(1,1),this._viewportCount=1,this._viewports=[new Dy(0,0,1,1)]}return h(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;zT.setFromMatrixPosition(e.matrixWorld),t.position.copy(zT),GT.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(GT),t.updateMatrixWorld(),jT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jT),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(jT)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),WT=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this,new dx(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return h(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*ny*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),_p(g(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(VT),KT=function(e){v(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return c(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(Kb.DEFAULT_UP),i.updateMatrix(),i.target=new Kb,i.distance=a,i.angle=o,i.penumbra=s,i.decay=u,i.map=null,i.shadow=new WT,i}return h(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(QT),XT=new xb,qT=new Wy,YT=new Wy,ZT=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this,new dx(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new dy(4,2),e._viewportCount=6,e._viewports=[new Dy(2,1,1,1),new Dy(0,1,1,1),new Dy(3,1,1,1),new Dy(1,1,1,1),new Dy(3,0,1,1),new Dy(1,0,1,1)],e._cubeDirections=[new Wy(1,0,0),new Wy(-1,0,0),new Wy(0,0,1),new Wy(0,0,-1),new Wy(0,1,0),new Wy(0,-1,0)],e._cubeUps=[new Wy(0,1,0),new Wy(0,1,0),new Wy(0,1,0),new Wy(0,1,0),new Wy(0,0,1),new Wy(0,0,-1)],e}return h(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),qT.setFromMatrixPosition(e.matrixWorld),n.position.copy(qT),YT.copy(n.position),YT.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(YT),n.updateMatrixWorld(),r.makeTranslation(-qT.x,-qT.y,-qT.z),XT.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XT)}}]),n}(VT),JT=function(e){v(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return c(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new ZT,i}return h(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(QT),$T=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this,new Lx(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return h(n)}(VT),eI=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(Kb.DEFAULT_UP),i.updateMatrix(),i.target=new Kb,i.shadow=new $T,i}return h(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(QT),tI=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return h(n)}(QT),nI=function(e){v(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return c(this,n),(i=t.call(this,e,r)).isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=o,i}return h(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=_p(g(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(QT),rI=function(){function e(){c(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Wy)}return h(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}(),iI=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new rI,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return c(this,n),(e=t.call(this,void 0,i)).isLightProbe=!0,e.sh=r,e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=_p(g(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(QT),aI=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).textures={},r}return h(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new UT(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=n.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new fw).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(i.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(i.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(i.alphaHash=e.alphaHash),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=(new fw).setHex(o.value);break;case"v2":i.uniforms[a].value=(new dy).fromArray(o.value);break;case"v3":i.uniforms[a].value=(new Wy).fromArray(o.value);break;case"v4":i.uniforms[a].value=(new Dy).fromArray(o.value);break;case"m3":i.uniforms[a].value=(new hy).fromArray(o.value);break;case"m4":i.uniforms[a].value=(new xb).fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(var s in e.extensions)i.extensions[s]=e.extensions[s];if(void 0!==e.lights&&(i.lights=e.lights),void 0!==e.clipping&&(i.clipping=e.clipping),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=r(e.map)),void 0!==e.matcap&&(i.matcap=r(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var u=e.normalScale;!1===Array.isArray(u)&&(u=[u,u]),i.normalScale=(new dy).fromArray(u)}return void 0!==e.displacementMap&&(i.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new dy).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=r(e.thicknessMap)),void 0!==e.anisotropyMap&&(i.anisotropyMap=r(e.anisotropyMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}},{key:"setTextures",value:function(e){return this.textures=e,this}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:qB,SpriteMaterial:hE,RawShaderMaterial:YB,ShaderMaterial:Ax,PointsMaterial:dS,MeshPhysicalMaterial:JB,MeshStandardMaterial:ZB,MeshPhongMaterial:$B,MeshToonMaterial:eT,MeshNormalMaterial:tT,MeshLambertMaterial:nT,MeshDepthMaterial:zC,MeshDistanceMaterial:GC,MeshBasicMaterial:hw,MeshMatcapMaterial:rT,LineDashedMaterial:iT,LineBasicMaterial:nS,Material:sw}[e]}}]),n}(IT),oI=function(){function e(){c(this,e)}return h(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),sI=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=_p(g(n.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(Qw),uI=function(e){v(n,e);var t=w(n);function n(e){return c(this,n),t.call(this,e)}return h(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new UT(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=my(i.type,a),s=new AE(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new sI:new Qw,a=e.data.index;if(void 0!==a){var o=my(a.type,a.array);i.setIndex(new xw(o,1))}var s=e.data.attributes;for(var u in s){var l=s[u],c=void 0;if(l.isInterleavedBufferAttribute){var A=r(e.data,l.data);c=new dE(A,l.itemSize,l.offset,l.normalized)}else{var f=my(l.type,l.array);c=new(l.isInstancedBufferAttribute?KE:xw)(f,l.itemSize,l.normalized)}void 0!==l.name&&(c.name=l.name),void 0!==l.usage&&c.setUsage(l.usage),void 0!==l.updateRange&&(c.updateRange.offset=l.updateRange.offset,c.updateRange.count=l.updateRange.count),i.setAttribute(u,c)}var d=e.data.morphAttributes;if(d)for(var h in d){for(var p=d[h],v=[],g=0,m=p.length;g<m;g++){var y=p[g],b=void 0;if(y.isInterleavedBufferAttribute){var w=r(e.data,y.data);b=new dE(w,y.itemSize,y.offset,y.normalized)}else{var x=my(y.type,y.array);b=new xw(x,y.itemSize,y.normalized)}void 0!==y.name&&(b.name=y.name),v.push(b)}i.morphAttributes[h]=v}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var _=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==_)for(var C=0,E=_.length;C!==E;++C){var S=_[C];i.addGroup(S.start,S.count,S.materialIndex)}var B=e.data.boundingSphere;if(void 0!==B){var T=new Wy;void 0!==B.center&&T.fromArray(B.center),i.boundingSphere=new db(T,B.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(IT),lI=function(e){v(n,e);var t=w(n);function n(e){return c(this,n),t.call(this,e)}return h(n,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?oI.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new UT(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(a,t)}),n,r)}},{key:"loadAsync",value:function(){var e=C(x().mark((function e(t,n){var r,i,a,o,s,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?oI.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new UT(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),void 0!==(u=s.metadata)&&void 0!==u.type&&"geometry"!==u.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(u)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,i,s,o,n),l=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,l),void 0!==t){var c=!1;for(var A in a)if(a[A].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(u)}return u}},{key:"parseAsync",value:function(){var e=C(x().mark((function e(t){var n,r,i,a,o,s,u,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),u=this.parseObject(t.object,i,s,o,n),l=this.parseSkeletons(t.skeletons,u),this.bindSkeletons(u,l),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new oB).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new WE).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new uI,i=0,a=e.length;i<a;i++){var o=void 0,s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;default:s.type in XB?o=XB[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new aI;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=CT.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:my(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new BT(t);(n=new PT(o)).setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var l=e[s],c=l.url;if(Array.isArray(c)){for(var A=[],f=0,d=c.length;f<d;f++){var h=a(c[f]);null!==h&&(h instanceof HTMLImageElement?A.push(h):A.push(new zE(h.data,h.width,h.height)))}i[l.uuid]=new Uy(A)}else{var p=a(l.url);i[l.uuid]=new Uy(p)}}}return i}},{key:"parseImagesAsync",value:function(){var e=C(x().mark((function e(t){var n,r,i,a,o,s,u,l,c,A,f,d,h,p,v;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return o=C(x().mark((function e(t){var r,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:my(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)},a=function(e){return o.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(i=new PT(this.manager)).setCrossOrigin(this.crossOrigin),s=0,u=t.length;case 8:if(!(s<u)){e.next=33;break}if(l=t[s],c=l.url,!Array.isArray(c)){e.next=26;break}A=[],f=0,d=c.length;case 14:if(!(f<d)){e.next=23;break}return h=c[f],e.next=18,a(h);case 18:null!==(p=e.sent)&&(p instanceof HTMLImageElement?A.push(p):A.push(new zE(p.data,p.width,p.height)));case 20:f++,e.next=14;break;case 23:r[l.uuid]=new Uy(A),e.next=30;break;case 26:return e.next=28,a(l.url);case 28:v=e.sent,r[l.uuid]=new Uy(v);case 30:s++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=t[o.image],u=s.data,l=void 0;Array.isArray(u)?(l=new vx,6===u.length&&(l.needsUpdate=!0)):(l=u&&u.data?new zE:new Py,u&&(l.needsUpdate=!0)),l.source=s,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,cI)),void 0!==o.channel&&(l.channel=o.channel),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],AI),l.wrapT=n(o.wrap[1],AI)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.colorSpace&&(l.colorSpace=o.colorSpace),void 0!==o.encoding&&(l.encoding=o.encoding),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,fI)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,fI)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.compareFunction&&(l.compareFunction=o.compareFunction),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,o,s;function u(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new cE,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new fw(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new lE(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new uE(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new dx(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Lx(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new tI(e.color,e.intensity);break;case"DirectionalLight":a=new eI(e.color,e.intensity);break;case"PointLight":a=new JT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new nI(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new KT(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new HT(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new iI).fromJSON(e);break;case"SkinnedMesh":o=u(e.geometry),s=l(e.material),a=new HE(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=u(e.geometry),s=l(e.material),a=new ix(o,s);break;case"InstancedMesh":o=u(e.geometry),s=l(e.material);var A=e.count,f=e.instanceMatrix,d=e.instanceColor;(a=new tS(o,s,A)).instanceMatrix=new KE(new Float32Array(f.array),16),void 0!==d&&(a.instanceColor=new KE(new Float32Array(d.array),d.itemSize));break;case"LOD":a=new ME;break;case"Line":a=new uS(u(e.geometry),l(e.material));break;case"LineLoop":a=new fS(u(e.geometry),l(e.material));break;case"LineSegments":a=new AS(u(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new mS(u(e.geometry),l(e.material));break;case"Sprite":a=new BE(l(e.material));break;case"Group":a=new JC;break;case"Bone":a=new jE;break;default:a=new Kb}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var h=e.children,p=0;p<h.length;p++)a.add(this.parseObject(h[p],t,n,r,i));if(void 0!==e.animations)for(var v=e.animations,g=0;g<v.length;g++){var m=v[g];a.animations.push(i[m])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var y=e.levels,b=0;b<y.length;b++){var w=y[b],x=a.getObjectByProperty("uuid",w.object);void 0!==x&&a.addLevel(x,w.distance,w.hysteresis)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}]),n}(IT),cI={UVMapping:Cv,CubeReflectionMapping:Ev,CubeRefractionMapping:Sv,EquirectangularReflectionMapping:Bv,EquirectangularRefractionMapping:Tv,CubeUVReflectionMapping:Iv},AI={RepeatWrapping:kv,ClampToEdgeWrapping:Mv,MirroredRepeatWrapping:Rv},fI={NearestFilter:Uv,NearestMipmapNearestFilter:Fv,NearestMipmapLinearFilter:Pv,LinearFilter:Lv,LinearMipmapNearestFilter:Nv,LinearMipmapLinearFilter:Hv},dI=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return h(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=ST.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){ST.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(IT),hI=function(){function e(){c(this,e)}return h(e,null,[{key:"getContext",value:function(){return void 0===kT&&(kT=new(window.AudioContext||window.webkitAudioContext)),kT}},{key:"setContext",value:function(e){kT=e}}]),e}(),pI=function(e){v(n,e);var t=w(n);function n(e){return c(this,n),t.call(this,e)}return h(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new UT(this.manager);function o(t){r?r(t):console.error(t),i.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){try{var n=e.slice(0);hI.getContext().decodeAudioData(n,(function(e){t(e)}),o)}catch(r){o(r)}}),n,r)}}]),n}(IT),vI=function(e){v(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;c(this,n),(i=t.call(this,void 0,a)).isHemisphereLightProbe=!0;var o=(new fw).set(e),s=(new fw).set(r),u=new Wy(o.r,o.g,o.b),l=new Wy(s.r,s.g,s.b),A=Math.sqrt(Math.PI),f=A*Math.sqrt(.75);return i.sh.coefficients[0].copy(u).add(l).multiplyScalar(A),i.sh.coefficients[1].copy(u).sub(l).multiplyScalar(f),i}return h(n)}(iI),gI=function(e){v(n,e);var t=w(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;c(this,n),(r=t.call(this,void 0,i)).isAmbientLightProbe=!0;var a=(new fw).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return h(n)}(iI),mI=new xb,yI=new xb,bI=new xb,wI=function(){function e(){c(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new dx,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new dx,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return h(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,bI.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(ty*t.fov*.5)/t.zoom;yI.elements[12]=-i,mI.elements[12]=i,n=-o*t.aspect+a,r=o*t.aspect+a,bI.elements[0]=2*t.near/(r-n),bI.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(bI),n=-o*t.aspect-a,r=o*t.aspect-a,bI.elements[0]=2*t.near/(r-n),bI.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(bI)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(yI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(mI)}}]),e}(),xI=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];c(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return h(e,[{key:"start",value:function(){this.startTime=_I(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=_I();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function _I(){return("undefined"===typeof performance?Date:performance).now()}var CI=new Wy,EI=new Vy,SI=new Wy,BI=new Wy,TI=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).type="AudioListener",e.context=hI.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new xI,e}return h(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){_p(g(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(CI,EI,SI),BI.set(0,0,-1).applyQuaternion(EI),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(CI.x,i),t.positionY.linearRampToValueAtTime(CI.y,i),t.positionZ.linearRampToValueAtTime(CI.z,i),t.forwardX.linearRampToValueAtTime(BI.x,i),t.forwardY.linearRampToValueAtTime(BI.y,i),t.forwardZ.linearRampToValueAtTime(BI.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(CI.x,CI.y,CI.z),t.setOrientation(BI.x,BI.y,BI.z,r.x,r.y,r.z)}}]),n}(Kb),II=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return h(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Kb),kI=new Wy,MI=new Vy,RI=new Wy,UI=new Wy,FI=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return h(n,[{key:"connect",value:function(){_p(g(n.prototype),"connect",this).call(this),this.panner.connect(this.gain)}},{key:"disconnect",value:function(){_p(g(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(_p(g(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(kI,MI,RI),UI.set(0,0,1).applyQuaternion(MI);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(kI.x,r),t.positionY.linearRampToValueAtTime(kI.y,r),t.positionZ.linearRampToValueAtTime(kI.z,r),t.orientationX.linearRampToValueAtTime(UI.x,r),t.orientationY.linearRampToValueAtTime(UI.y,r),t.orientationZ.linearRampToValueAtTime(UI.z,r)}else t.setPosition(kI.x,kI.y,kI.z),t.setOrientation(UI.x,UI.y,UI.z)}}}]),n}(II),OI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;c(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return h(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),PI=function(){function e(t,n,r){var i,a,o;switch(c(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return h(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,l=t+t;u!==l;++u)if(n[u]!==n[u+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){Vy.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;Vy.multiplyQuaternionsFlat(e,a,e,t,e,n),Vy.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),DI="\\[\\]\\.:\\/",LI=new RegExp("["+DI+"]","g"),NI="[^"+DI+"]",QI="[^"+DI.replace("\\.","")+"]",HI=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",NI)+/(WCOD+)?/.source.replace("WCOD",QI)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",NI)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",NI)+"$"),jI=["material","materials","bones","map"],zI=function(){function e(t,n,r){c(this,e);var i=r||GI.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return h(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),GI=function(){function e(t,n,r){c(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return h(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[i];if(void 0!==u){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else void 0!==u.fromArray&&void 0!==u.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(c=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var A=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+A+"."+i+" but it wasn't found.",t)}}else console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(LI,"")}},{key:"parseTrackName",value:function(e){var t=HI.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==jI.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();GI.Composite=zI,GI.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},GI.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GI.prototype.GetterByBindingType=[GI.prototype._getValue_direct,GI.prototype._getValue_array,GI.prototype._getValue_arrayElement,GI.prototype._getValue_toArray],GI.prototype.SetterByBindingTypeAndVersioning=[[GI.prototype._setValue_direct,GI.prototype._setValue_direct_setNeedsUpdate,GI.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[GI.prototype._setValue_array,GI.prototype._setValue_array_setNeedsUpdate,GI.prototype._setValue_array_setMatrixWorldNeedsUpdate],[GI.prototype._setValue_arrayElement,GI.prototype._setValue_arrayElement_setNeedsUpdate,GI.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[GI.prototype._setValue_fromArray,GI.prototype._setValue_fromArray_setNeedsUpdate,GI.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var VI=function(){function e(){c(this,e),this.isAnimationObjectGroup=!0,this.uuid=ry(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return h(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,u=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var A=arguments[l],f=A.uuid,d=t[f];if(void 0===d){d=s++,t[f]=d,e.push(A);for(var h=0,p=a;h!==p;++h)i[h].push(new GI(A,n[h],r[h]))}else if(d<u){o=e[d];var v=--u,g=e[v];t[g.uuid]=d,e[d]=g,t[f]=v,e[v]=A;for(var m=0,y=a;m!==y;++m){var b=i[m],w=b[v],x=b[d];b[d]=w,void 0===x&&(x=new GI(A,n[m],r[m])),b[v]=x}}else e[d]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=t[u];if(void 0!==l&&l>=i){var c=i++,A=e[c];t[A.uuid]=l,e[l]=A,t[u]=c,e[c]=s;for(var f=0,d=r;f!==d;++f){var h=n[f],p=h[c],v=h[l];h[l]=p,h[c]=v}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o].uuid,l=t[u];if(void 0!==l)if(delete t[u],l<i){var c=--i,A=e[c],f=--a,d=e[f];t[A.uuid]=l,e[l]=A,t[d.uuid]=c,e[c]=d,e.pop();for(var h=0,p=r;h!==p;++h){var v=n[h],g=v[c],m=v[f];v[l]=g,v[c]=m,v.pop()}}else{var y=--a,b=e[y];y>0&&(t[b.uuid]=l),e[l]=b,e.pop();for(var w=0,x=r;w!==x;++w){var _=n[w];_[l]=_[y],_.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var A=l,f=s.length;A!==f;++A){var d=s[A];c[A]=new GI(d,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}(),WI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;c(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),u={endingStart:qg,endingEnd:qg},l=0;l!==o;++l){var A=a[l].createInterpolant(null);s[l]=A,A.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Gg,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return h(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;if(this.blendMode===$g)for(var c=0,A=u.length;c!==A;++c)u[c].evaluate(o),l[c].accumulateAdditive(s);else for(var f=0,d=u.length;f!==d;++f)u[f].evaluate(o),l[f].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===Vg;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===zg){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Yg,r.endingEnd=Yg):(r.endingStart=e?this.zeroSlopeAtStart?Yg:qg:Zg,r.endingEnd=t?this.zeroSlopeAtEnd?Yg:qg:Zg)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),KI=new Float32Array(1),XI=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return h(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var A=r[c],f=A.name,d=l[f];if(void 0!==d)++d.referenceCount,a[c]=d;else{if(void 0!==(d=a[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,f));continue}var h=t&&t._propertyBindings[c].binding.parsedPath;++(d=new PI(GI.create(n,f,h),A.ValueTypeName,A.getValueSize())).referenceCount,this._addInactiveBinding(d,s,f),a[c]=d}o[c].resultBuffer=d.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new hT(new Float32Array(2),new Float32Array(2),1,KI)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?CT.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==a?a.blendMode:Jg),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;u=s.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;var c=new WI(this,a,t,n);return this._bindAction(c,u),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?CT.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,u=this._nActiveBindings,l=0;l!==u;++l)s[l].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(Jm),qI=function(){function e(t){c(this,e),this.value=t}return h(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),YI=0,ZI=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.call(this)).isUniformsGroup=!0,Object.defineProperty(y(e),"id",{value:YI++}),e.name="",e.usage=Lm,e.uniforms=[],e}return h(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Jm),JI=function(e){v(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return c(this,n),(i=t.call(this,e,r)).isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return h(n,[{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=_p(g(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=_p(g(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(AE),$I=function(){function e(t,n,r,i,a){c(this,e),this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return h(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}(),ek=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;c(this,e),this.ray=new wb(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new Ub,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return h(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return nk(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(tk),t}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)nk(e[r],this,n,t);return n.sort(tk),n}}]),e}();function tk(e,t){return e.distance-t.distance}function nk(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)nk(i[a],t,n,!0)}var rk=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return c(this,e),this.radius=t,this.phi=n,this.theta=r,this}return h(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(iy(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ik=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return c(this,e),this.radius=t,this.theta=n,this.y=r,this}return h(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ak=new dy,ok=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dy(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dy(-1/0,-1/0);c(this,e),this.isBox2=!0,this.min=t,this.max=n}return h(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=ak.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,ak).distanceTo(e)}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),sk=new Wy,uk=new Wy,lk=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wy,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy;c(this,e),this.start=t,this.end=n}return h(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){sk.subVectors(e,this.start),uk.subVectors(this.end,this.start);var n=uk.dot(uk),r=uk.dot(sk)/n;return t&&(r=iy(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ck=new Wy,Ak=function(e){v(n,e);var t=w(n);function n(e,r){var i;c(this,n),(i=t.call(this)).light=e,i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r,i.type="SpotLightHelper";for(var a=new Qw,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,u=1;s<32;s++,u++){var l=s/32*Math.PI*2,A=u/32*Math.PI*2;o.push(Math.cos(l),Math.sin(l),1,Math.cos(A),Math.sin(A),1)}a.setAttribute("position",new Mw(o,3));var f=new nS({fog:!1,toneMapped:!1});return i.cone=new AS(a,f),i.add(i.cone),i.update(),i}return h(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),ck.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ck),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Kb),fk=new Wy,dk=new xb,hk=new xb,pk=function(e){v(n,e);var t=w(n);function n(e){var r;c(this,n);for(var i=vk(e),a=new Qw,o=[],s=[],u=new fw(0,0,1),l=new fw(0,1,0),A=0;A<i.length;A++){var f=i[A];f.parent&&f.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}a.setAttribute("position",new Mw(o,3)),a.setAttribute("color",new Mw(s,3));var d=new nS({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,d)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return h(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");hk.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(dk.multiplyMatrices(hk,s.matrixWorld),fk.setFromMatrixPosition(dk),i.setXYZ(o,fk.x,fk.y,fk.z),dk.multiplyMatrices(hk,s.parent.matrixWorld),fk.setFromMatrixPosition(dk),i.setXYZ(o+1,fk.x,fk.y,fk.z),o+=2)}r.getAttribute("position").needsUpdate=!0,_p(g(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(AS);function vk(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,vk(e.children[n]));return t}var gk=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;c(this,n);var o=new HB(r,4,2),s=new hw({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return h(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(ix),mk=new Wy,yk=new fw,bk=new fw,wk=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;c(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="HemisphereLightHelper";var o=new LB(r);o.rotateY(.5*Math.PI),a.material=new hw({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),u=new Float32Array(3*s.count);return o.setAttribute("color",new xw(u,3)),a.add(new ix(o,a.material)),a.update(),a}return h(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");yk.copy(this.light.color),bk.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?yk:bk;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(mk.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Kb),xk=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;c(this,n),a=new fw(a),o=new fw(o);for(var s=i/2,u=r/i,l=r/2,A=[],f=[],d=0,h=0,p=-l;d<=i;d++,p+=u){A.push(-l,0,p,l,0,p),A.push(p,0,-l,p,0,l);var v=d===s?a:o;v.toArray(f,h),h+=3,v.toArray(f,h),h+=3,v.toArray(f,h),h+=3,v.toArray(f,h),h+=3}var g=new Qw;g.setAttribute("position",new Mw(A,3)),g.setAttribute("color",new Mw(f,3));var m=new nS({vertexColors:!0,toneMapped:!1});return(e=t.call(this,g,m)).type="GridHelper",e}return h(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(AS),_k=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;c(this,n),s=new fw(s),u=new fw(u);var l=[],A=[];if(i>1)for(var f=0;f<i;f++){var d=f/i*(2*Math.PI),h=Math.sin(d)*r,p=Math.cos(d)*r;l.push(0,0,0),l.push(h,0,p);var v=1&f?s:u;A.push(v.r,v.g,v.b),A.push(v.r,v.g,v.b)}for(var g=0;g<a;g++)for(var m=1&g?s:u,y=r-r/a*g,b=0;b<o;b++){var w=b/o*(2*Math.PI),x=Math.sin(w)*y,_=Math.cos(w)*y;l.push(x,0,_),A.push(m.r,m.g,m.b),w=(b+1)/o*(2*Math.PI),x=Math.sin(w)*y,_=Math.cos(w)*y,l.push(x,0,_),A.push(m.r,m.g,m.b)}var C=new Qw;C.setAttribute("position",new Mw(l,3)),C.setAttribute("color",new Mw(A,3));var E=new nS({vertexColors:!0,toneMapped:!1});return(e=t.call(this,C,E)).type="PolarGridHelper",e}return h(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(AS),Ck=new Wy,Ek=new Wy,Sk=new Wy,Bk=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;c(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="DirectionalLightHelper",void 0===r&&(r=1);var o=new Qw;o.setAttribute("position",new Mw([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new nS({fog:!1,toneMapped:!1});return a.lightPlane=new uS(o,s),a.add(a.lightPlane),(o=new Qw).setAttribute("position",new Mw([0,0,0,0,0,1],3)),a.targetLine=new uS(o,s),a.add(a.targetLine),a.update(),a}return h(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Ck.setFromMatrixPosition(this.light.matrixWorld),Ek.setFromMatrixPosition(this.light.target.matrixWorld),Sk.subVectors(Ek,Ck),this.lightPlane.lookAt(Ek),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ek),this.targetLine.scale.z=Sk.length()}}]),n}(Kb),Tk=new Wy,Ik=new fx,kk=function(e){v(n,e);var t=w(n);function n(e){var r;c(this,n);var i=new Qw,a=new nS({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],u={};function l(e,t){A(e),A(t)}function A(e){o.push(0,0,0),s.push(0,0,0),void 0===u[e]&&(u[e]=[]),u[e].push(o.length/3-1)}l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4"),i.setAttribute("position",new Mw(o,3)),i.setAttribute("color",new Mw(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=u,r.update();var f=new fw(16755200),d=new fw(16711680),h=new fw(43775),p=new fw(16777215),v=new fw(3355443);return r.setColors(f,d,h,p,v),r}return h(n,[{key:"setColors",value:function(e,t,n,r,i){var a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;Ik.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Mk("c",t,e,Ik,0,0,-1),Mk("t",t,e,Ik,0,0,1),Mk("n1",t,e,Ik,-1,-1,-1),Mk("n2",t,e,Ik,1,-1,-1),Mk("n3",t,e,Ik,-1,1,-1),Mk("n4",t,e,Ik,1,1,-1),Mk("f1",t,e,Ik,-1,-1,1),Mk("f2",t,e,Ik,1,-1,1),Mk("f3",t,e,Ik,-1,1,1),Mk("f4",t,e,Ik,1,1,1),Mk("u1",t,e,Ik,.7,1.1,-1),Mk("u2",t,e,Ik,-.7,1.1,-1),Mk("u3",t,e,Ik,0,2,-1),Mk("cf1",t,e,Ik,-1,0,1),Mk("cf2",t,e,Ik,1,0,1),Mk("cf3",t,e,Ik,0,-1,1),Mk("cf4",t,e,Ik,0,1,1),Mk("cn1",t,e,Ik,-1,0,-1),Mk("cn2",t,e,Ik,1,0,-1),Mk("cn3",t,e,Ik,0,-1,-1),Mk("cn4",t,e,Ik,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(AS);function Mk(e,t,n,r,i,a,o){Tk.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute("position"),l=0,c=s.length;l<c;l++)u.setXYZ(s[l],Tk.x,Tk.y,Tk.z)}var Rk,Uk,Fk=new qy,Ok=function(e){v(n,e);var t=w(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;c(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new Qw;return s.setIndex(new xw(a,1)),s.setAttribute("position",new xw(o,3)),(r=t.call(this,s,new nS({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return h(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Fk.setFromObject(this.object),!Fk.isEmpty()){var t=Fk.min,n=Fk.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return _p(g(n.prototype),"copy",this).call(this,e,t),this.object=e.object,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(AS),Pk=function(e){v(n,e);var t=w(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;c(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Qw;return o.setIndex(new xw(a,1)),o.setAttribute("position",new Mw([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),(r=t.call(this,o,new nS({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return h(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),_p(g(n.prototype),"updateMatrixWorld",this).call(this,e))}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(AS),Dk=function(e){v(n,e);var t=w(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;c(this,n);var o=a,s=new Qw;s.setAttribute("position",new Mw([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),s.computeBoundingSphere(),(r=t.call(this,s,new nS({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var u=new Qw;return u.setAttribute("position",new Mw([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),u.computeBoundingSphere(),r.add(new ix(u,new hw({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return h(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),_p(g(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}]),n}(uS),Lk=new Wy,Nk=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wy(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wy(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return c(this,n),(e=t.call(this)).type="ArrowHelper",void 0===Rk&&((Rk=new Qw).setAttribute("position",new Mw([0,0,0,0,1,0],3)),(Uk=new ZS(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new uS(Rk,new nS({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new ix(Uk,new hw({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,s,u),e}return h(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Lk.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Lk,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},{key:"dispose",value:function(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}]),n}(Kb),Qk=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;c(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=new Qw;a.setAttribute("position",new Mw(i,3)),a.setAttribute("color",new Mw([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var o=new nS({vertexColors:!0,toneMapped:!1});return(e=t.call(this,a,o)).type="AxesHelper",e}return h(n,[{key:"setColors",value:function(e,t,n){var r=new fw,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(AS),Hk=function(){function e(){c(this,e),this.type="ShapePath",this.color=new fw,this.subPaths=[],this.currentPath=null}return h(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new KS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=RB.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new oB).curves=r.curves,s.push(i),s;var u=!a(o[0].getPoints());u=e?!u:u;var l,c,A=[],f=[],d=[],h=0;f[h]=void 0,d[h]=[];for(var p=0,v=o.length;p<v;p++)n=a(l=(r=o[p]).getPoints()),(n=e?!n:n)?(!u&&f[h]&&h++,f[h]={s:new oB,p:l},f[h].s.curves=r.curves,u&&h++,d[h]=[]):d[h].push({h:r,p:l[0]});if(!f[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new oB;a.curves=i.curves,t.push(a)}return t}(o);if(f.length>1){for(var g=!1,m=0,y=0,b=f.length;y<b;y++)A[y]=[];for(var w=0,x=f.length;w<x;w++)for(var _=d[w],C=0;C<_.length;C++){for(var E=_[C],S=!0,B=0;B<f.length;B++)t(E.p,f[B].p)&&(w!==B&&m++,S?(S=!1,A[B].push(E)):g=!0);S&&A[w].push(E)}m>0&&!1===g&&(d=A)}for(var T=0,I=f.length;T<I;T++){i=f[T].s,s.push(i);for(var k=0,M=(c=d[T]).length;k<M;k++)i.holes.push(c[k].h)}return s}}]),e}();"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Cp}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Cp);var jk=__webpack_require__(223);function zk(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var Gk="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?n.useEffect:n.useLayoutEffect;function Vk(e){var t="function"===typeof e?zk(e):e,r=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,a=(0,n.useReducer)((function(e){return e+1}),0),o=l(a,2)[1],s=t.getState(),u=(0,n.useRef)(s),c=(0,n.useRef)(r),A=(0,n.useRef)(i),f=(0,n.useRef)(!1),d=(0,n.useRef)();void 0===d.current&&(d.current=r(s));var h=!1;(u.current!==s||c.current!==r||A.current!==i||f.current)&&(e=r(s),h=!i(d.current,e)),Gk((function(){h&&(d.current=e),u.current=s,c.current=r,A.current=i,f.current=!1}));var p=(0,n.useRef)(s);Gk((function(){var e=function(){try{var e=t.getState(),n=c.current(e);A.current(d.current,n)||(u.current=e,d.current=n,o())}catch(r){f.current=!0,o()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n}),[]);var v=h?e:d.current;return(0,n.useDebugValue)(v),v};return Object.assign(r,t),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[r,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},r}var Wk=__webpack_require__(5914),Kk=__webpack_require__.n(Wk),Xk=__webpack_require__(2224),qk=[];function Yk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function Zk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(var i=0,a=qk;i<a.length;i++){var o=a[i];if(Yk(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}}var s,u={keys:t,equal:r.equal,remove:function(){var e=qk.indexOf(u);-1!==e&&qk.splice(e,1)},promise:(s=e,"object"===typeof s&&"function"===typeof s.then?e:e.apply(void 0,M(t))).then((function(e){u.response=e,r.lifespan&&r.lifespan>0&&(u.timeout=setTimeout(u.remove,r.lifespan))})).catch((function(e){return u.error=e}))};if(qk.push(u),!n)throw u.promise}var Jk,$k,eM=["args","attach"],tM=["args","children"],nM=["args","children"],rM=["children","key","ref"],iM=["children","key","ref"],aM=["params"],oM={};var sM=function(e){return"colorSpace"in e||"outputColorSpace"in e},uM=function(){var e;return null!=(e=oM.ColorManagement)?e:null},lM=function(e){return e&&e.isOrthographicCamera},cM="undefined"!==typeof window&&(null!=(Jk=window.document)&&Jk.createElement||"ReactNative"===(null==($k=window.navigator)?void 0:$k.product))?n.useLayoutEffect:n.useEffect;function AM(e){var t=n.useRef(e);return cM((function(){t.current=e}),[e]),t}function fM(e){var t=e.set;return cM((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var dM=function(e){v(n,e);var t=w(n);function n(){var e;c(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return h(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(n.Component);dM.getDerivedStateFromError=function(){return{error:!0}};var hM="__default",pM=new Map,vM=function(e){return e&&!!e.memoized&&!!e.changes};function gM(e){var t,n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}var mM=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()},yM={obj:function(e){return e===Object(e)&&!yM.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},boo:function(e){return"boolean"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,i=void 0===r?"shallow":r,a=n.objects,o=void 0===a?"reference":a,s=n.strict,u=void 0===s||s;if(typeof e!==typeof t||!!e!==!!t)return!1;if(yM.str(e)||yM.num(e))return e===t;var l=yM.obj(e);if(l&&"reference"===o)return e===t;var c,A=yM.arr(e);if(A&&"reference"===i)return e===t;if((A||l)&&e===t)return!0;for(c in e)if(!(c in t))return!1;if(l&&"shallow"===i&&"shallow"===o){for(c in u?t:e)if(!yM.equ(e[c],t[c],{strict:u,objects:"reference"}))return!1}else for(c in u?t:e)if(e[c]!==t[c])return!1;if(yM.und(c)){if(A&&0===e.length&&0===t.length)return!0;if(l&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function bM(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function wM(e,t){return e.__r3f=qn({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t),e}function xM(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),i=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:i}}return{target:n,key:t}}var _M=/-\d+$/;function CM(e,t,n){if(yM.str(n)){if(_M.test(n)){var r=xM(e,n.replace(_M,"")),i=r.target,a=r.key;Array.isArray(i[a])||(i[a]=[])}var o=xM(e,n),s=o.target,u=o.key;t.__r3f.previousAttach=s[u],s[u]=t}else t.__r3f.previousAttach=n(e,t)}function EM(e,t,n){var r,i;if(yM.str(n)){var a=xM(e,n),o=a.target,s=a.key,u=t.__r3f.previousAttach;void 0===u?delete o[s]:o[s]=u}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function SM(e,t){t.children,t.key,t.ref;var n,r=Kn(t,rM),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(i.children,i.key,i.ref,Kn(i,iM)),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null!=(n=null==e?void 0:e.__r3f)?n:{},u=Object.entries(r),c=[];if(o)for(var A=Object.keys(a),f=0;f<A.length;f++)r.hasOwnProperty(A[f])||u.unshift([A[f],hM+"remove"]);u.forEach((function(t){var n,i=l(t,2),o=i[0],s=i[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==o)&&!yM.equ(s,a[o])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(o))return c.push([o,s,!0,[]]);var u=[];for(var A in o.includes("-")&&(u=o.split("-")),c.push([o,s,!1,u]),r){var f=r[A];A.startsWith("".concat(o,"-"))&&c.push([A,f,!1,A.split("-")])}}}));var d=qn({},r);return s.memoizedProps&&s.memoizedProps.args&&(d.args=s.memoizedProps.args),s.memoizedProps&&s.memoizedProps.attach&&(d.attach=s.memoizedProps.attach),{memoized:d,changes:c}}function BM(e,t){var n,r,i,a=null!=(n=e.__r3f)?n:{},o=a.root,s=null!=(r=null==o||null==o.getState?void 0:o.getState())?r:{},u=vM(t)?t:SM(e,t),c=u.memoized,A=u.changes,f=a.eventCount;e.__r3f&&(e.__r3f.memoizedProps=c);for(var d=0;d<A.length;d++){var h=l(A[d],4),p=h[0],v=h[1],g=h[2],m=h[3];if(sM(e)){var y="srgb",b="srgb-linear";"encoding"===p?(p="colorSpace",v=3001===v?y:b):"outputEncoding"===p&&(p="outputColorSpace",v=3001===v?y:b)}var w=e,x=w[p];if(m.length&&(x=m.reduce((function(e,t){return e[t]}),e),!x||!x.set)){var _=I(m.reverse()),C=_[0];w=_.slice(1).reverse().reduce((function(e,t){return e[t]}),e),p=C}if(v===hM+"remove")if(w.constructor){var E=pM.get(w.constructor);E||(E=new w.constructor,pM.set(w.constructor,E)),v=E[p]}else v=0;if(g)v?a.handlers[p]=v:delete a.handlers[p],a.eventCount=Object.keys(a.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Ub)){var S;if(Array.isArray(v))x.fromArray?x.fromArray(v):(S=x).set.apply(S,M(v));else if(x.copy&&v&&v.constructor&&x.constructor===v.constructor)x.copy(v);else if(void 0!==v){var B=x instanceof fw;!B&&x.setScalar?x.setScalar(v):x instanceof Ub&&v instanceof Ub?x.mask=v.mask:x.set(v),uM()||s.linear||!B||x.convertSRGBToLinear()}}else if(w[p]=v,w[p]instanceof Py&&w[p].format===tg&&w[p].type===zv){var T=w[p];sM(T)&&sM(s.gl)?T.colorSpace=s.gl.outputColorSpace:T.encoding=s.gl.outputEncoding}TM(e)}if(a.parent&&s.internal&&e.raycast&&f!==a.eventCount){var k=s.internal.interaction.indexOf(e);k>-1&&s.internal.interaction.splice(k,1),a.eventCount&&s.internal.interaction.push(e)}return!(1===A.length&&"onUpdate"===A[0][0])&&A.length&&null!=(i=e.__r3f)&&i.parent&&IM(e),e}function TM(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function IM(e){null==e.onUpdate||e.onUpdate(e)}function kM(e,t){e.manual||(lM(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function MM(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function RM(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function UM(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n,r=e.getState().internal,i=k(r.hovered.values());try{var a=function(){var e=n.value;if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var i=e.eventObject.__r3f,a=null==i?void 0:i.handlers;if(r.hovered.delete(MM(e)),null!=i&&i.eventCount){var o=qn(qn({},e),{},{intersections:t});null==a.onPointerOut||a.onPointerOut(o),null==a.onPointerLeave||a.onPointerLeave(o)}}};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((function(){r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){var o=e.getState(),s=o.onPointerMissed,u=o.internal;u.lastEvent.current=a;var l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,A=function(t,n){for(var r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction,s=0;s<o.length;s++){var u=mM(o[s]);u&&(u.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);var l=o.flatMap((function(e){var n,r=mM(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=mM(e.object),r=mM(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((function(e){var t=MM(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(l=r.events.filter(l,r));var c,A=k(l);try{for(A.s();!(c=A.n()).done;)for(var f=c.value,d=f.object;d;){var h;null!=(h=d.__r3f)&&h.eventCount&&a.push(qn(qn({},f),{},{eventObject:d})),d=d.parent}}catch(m){A.e(m)}finally{A.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var p,v=k(r.internal.capturedMap.get(t.pointerId).values());try{for(v.s();!(p=v.n()).done;){var g=p.value;i.has(MM(g.intersection))||a.push(g.intersection)}}catch(m){v.e(m)}finally{v.f()}}return a}(a,l?t:void 0),f=c?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(u.initialClick=[a.offsetX,a.offsetY],u.initialHits=A.map((function(e){return e.eventObject}))),c&&!A.length&&f<=2&&(r(a,u.interaction),s&&s(a)),l&&n(A),function(t,r,i,a){var o=e.getState();if(t.length){var s,u={stopped:!1},l=k(t);try{var c=function(){var e=s.value,l=mM(e.object)||o,c=l.raycaster,A=l.pointer,f=l.camera,d=l.internal,h=new Wy(A.x,A.y,0).unproject(f),p=function(t){var n,r;return null!=(n=null==(r=d.capturedMap.get(t))?void 0:r.has(e.eventObject))&&n},v=function(t){var n={intersection:e,target:r.target};d.capturedMap.has(t)?d.capturedMap.get(t).set(e.eventObject,n):d.capturedMap.set(t,new Map([[e.eventObject,n]])),r.target.setPointerCapture(t)},g=function(t){var n=d.capturedMap.get(t);n&&RM(d.capturedMap,e.eventObject,n,t)},m={};for(var y in r){var b=r[y];"function"!==typeof b&&(m[y]=b)}var w=qn(qn(qn({},e),m),{},{pointer:A,intersections:t,stopped:u.stopped,delta:i,unprojectedPoint:h,ray:c.ray,camera:f,stopPropagation:function(){var i="pointerId"in r&&d.capturedMap.get(r.pointerId);if((!i||i.has(e.eventObject))&&(w.stopped=u.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find((function(t){return t.eventObject===e.eventObject})))){var a=t.slice(0,t.indexOf(e));n([].concat(M(a),[e]))}},target:{hasPointerCapture:p,setPointerCapture:v,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:v,releasePointerCapture:g},nativeEvent:r});if(a(w),!0===u.stopped)return 1};for(l.s();!(s=l.n()).done&&!c(););}catch(A){l.e(A)}finally{l.f()}}}(A,a,f,(function(e){var t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){var s=MM(e),A=u.hovered.get(s);A?A.stopped&&e.stopPropagation():(u.hovered.set(s,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{var f=o[i];f?c&&!u.initialHits.includes(t)||(r(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)}))),f(e)):c&&u.initialHits.includes(t)&&r(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)})))}}))}}}}var FM,OM=function(e){return!(null==e||!e.render)},PM=n.createContext(null),DM=function(e,t){var r=Vk((function(r,i){var a=new Wy,o=new Wy,s=new Wy;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size,r=n.width,u=n.height,l=n.top,c=n.left,A=r/u;t instanceof Wy?s.copy(t):s.set.apply(s,M(t));var f=e.getWorldPosition(a).distanceTo(s);if(lM(e))return{width:r/e.zoom,height:u/e.zoom,top:l,left:c,factor:1,distance:f,aspect:A};var d=e.fov*Math.PI/180,h=2*Math.tan(d/2)*f,p=h*(r/u);return{width:p,height:h,top:l,left:c,factor:r/p,distance:f,aspect:A}}var l=void 0,c=function(e){return r((function(t){return{performance:qn(qn({},t.performance),{},{current:e})}}))},A=new dy,f={set:r,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:function(e,n){return t(e,n,i())},legacy:!1,linear:!1,flat:!1,controls:null,clock:new xI,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=i();l&&clearTimeout(l),e.performance.current!==e.performance.min&&c(e.performance.min),l=setTimeout((function(){return c(i().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:function(e){return r((function(t){return qn(qn({},t),{},{events:qn(qn({},t.events),e)})}))},setSize:function(e,t,n,a,s){var l=i().camera,c={width:e,height:t,top:a||0,left:s||0,updateStyle:n};r((function(e){return{size:c,viewport:qn(qn({},e.viewport),u(l,o,c))}}))},setDpr:function(e){return r((function(t){var n=gM(e);return{viewport:qn(qn({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:n.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,n){var r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((function(t){return t.ref!==e})))}}}};return f})),i=r.getState(),a=i.size,o=i.viewport.dpr,s=i.camera;return r.subscribe((function(){var e=r.getState(),t=e.camera,n=e.size,i=e.viewport,u=e.gl,l=e.set;if(n!==a||i.dpr!==o){var c;a=n,o=i.dpr,kM(t,n),u.setPixelRatio(i.dpr);var A=null!=(c=n.updateStyle)?c:"undefined"!==typeof HTMLCanvasElement&&u.domElement instanceof HTMLCanvasElement;u.setSize(n.width,n.height,A)}t!==s&&(s=t,l((function(e){return{viewport:qn(qn({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),r.subscribe((function(t){return e(t)})),r};var LM,NM,QM=new Set,HM=new Set,jM=new Set;function zM(e,t){if(e.size){var n,r=k(e.values());try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)(t)}}catch(i){r.e(i)}finally{r.f()}}}function GM(e,t){switch(e){case"before":return zM(QM,t);case"after":return zM(HM,t);case"tail":return zM(jM,t)}}function VM(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),LM=t.internal.subscribers,FM=0;FM<LM.length;FM++)(NM=LM[FM]).ref.current(NM.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function WM(){var e=n.useContext(PM);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function KM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return WM()(e,t)}var XM=new WeakMap;function qM(e,t){return function(n){var r=XM.get(n);r||(r=new n,XM.set(n,r)),e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,bM(e.scene)),n(e)}),t,(function(t){return i(new Error("Could not load ".concat(e,": ").concat(null==t?void 0:t.message)))}))}))}))).finally((function(){return null==r.dispose?void 0:r.dispose()}))}}function YM(e,t,n,r){var i=Array.isArray(t)?t:[t],a=function(e,t,n){return Zk(e,t,!1,n)}(qM(n,r),[e].concat(M(i)),{equal:yM.equ});return Array.isArray(t)?a:a[0]}YM.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){Zk(e,t,!0,n)}(qM(n),[e].concat(M(r)))},YM.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)qk.splice(0,qk.length);else{var t=qk.find((function(t){return Yk(e,t.keys,t.equal)}));t&&t.remove()}}([e].concat(M(n)))};var ZM=new Map,JM=function(e){var t,n,r,i=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,GM("before",o);var s,u=k(e.values());try{for(u.s();!(s=u.n()).done;){var l,c=s.value;!(r=c.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(l=r.gl.xr)&&l.isPresenting||(t+=VM(o,r))}}catch(A){u.e(A)}finally{u.f()}if(GM("after",o),0===t)return GM("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState())}),o);null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+o),i||(i=!0,requestAnimationFrame(a)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&GM("before",t),r)VM(t,r,i);else{var a,o=k(e.values());try{for(o.s();!(a=o.n()).done;){VM(t,a.value.store.getState())}}catch(s){o.e(s)}finally{o.f()}}n&&GM("after",t)}}}(ZM),$M=JM.invalidate,eR=JM.advance,tR=function(e,t){function n(e,t,n){var r,i=t.args,a=void 0===i?[]:i,o=t.attach,s=Kn(t,eM),u="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=wM(s.object,{type:e,root:n,attach:o,primitive:!0})}else{var l=oM[u];if(!l)throw new Error("R3F: ".concat(u," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(a))throw new Error("R3F: The args prop must be an array!");r=wM(S(l,M(a)),{type:e,root:n,attach:o,memoizedProps:{args:a}})}return void 0===r.__r3f.attach&&(r instanceof Qw?r.__r3f.attach="geometry":r instanceof sw&&(r.__r3f.attach="material")),"inject"!==u&&BM(r,s),r}function r(e,t){var n,r,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?CM(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||wM(t,{}),t.__r3f.parent=e,IM(t),TM(t))}function i(e,t,n){var r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)CM(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var o=e.children.filter((function(e){return e!==t})),s=o.indexOf(n);e.children=[].concat(M(o.slice(0,s)),[t],M(o.slice(s))),r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||wM(t,{}),t.__r3f.parent=e,IM(t),TM(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&M(e).forEach((function(e){return o(t,e,n)}))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(i=t.__r3f)&&i.attach)EM(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState().internal;n.interaction=n.interaction.filter((function(e){return e!==t})),n.initialHits=n.initialHits.filter((function(e){return e!==t})),n.hovered.forEach((function(e,r){e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach((function(e,r){RM(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}var u,l=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!l:n;if(!l)a(null==(u=t.__r3f)?void 0:u.objects,t,c),a(t.children,t,c);delete t.__r3f,c&&t.dispose&&"Scene"!==t.type&&(0,Xk.unstable_scheduleCallback)(Xk.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),TM(e)}}var s=function(){return console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.")},u=Kk()({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&o(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&i(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate:function(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];var a=r.args,o=void 0===a?[]:a,s=(r.children,Kn(r,tM)),u=n.args,l=void 0===u?[]:u,c=(n.children,Kn(n,nM));if(!Array.isArray(o))throw new Error("R3F: the args prop must be an array!");if(o.some((function(e,t){return e!==l[t]})))return[!0];var A=SM(e,s,c,!0);return A.changes.length?[!1,A]:null},commitUpdate:function(e,t,i,a,s,u){var c=l(t,2),A=c[0],f=c[1];A?function(e,t,i,a){var s,u=null==(s=e.__r3f)?void 0:s.parent;if(u){var l=n(t,i,e.__r3f.root);if(e.children){var c,A=k(e.children);try{for(A.s();!(c=A.n()).done;){var f=c.value;f.__r3f&&r(l,f)}}catch(d){A.e(d)}finally{A.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(l,e)})),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(u,e),l.parent&&(l.__r3f.autoRemovedBeforeAppend=!0),r(u,l),l.raycast&&l.__r3f.eventCount&&l.__r3f.root.getState().internal.interaction.push(l),[a,a.alternate].forEach((function(e){null!==e&&(e.stateNode=l,e.ref&&("function"===typeof e.ref?e.ref(l):e.ref.current=l))}))}}(e,i,s,u):BM(e,f)},commitMount:function(e,t,n,r){var i,a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return wM(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,i=n.parent;r&&i&&EM(i,e,r),e.isObject3D&&(e.visible=!1),TM(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},i=r.attach,a=r.parent;i&&a&&CM(a,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),TM(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:function(){return t?t():jk.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!==typeof performance&&yM.fun(performance.now)?performance.now:yM.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:yM.fun(setTimeout)?setTimeout:void 0,cancelTimeout:yM.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:u,applyProps:BM}}(0,(function(){var e,t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return jk.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return jk.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return jk.ContinuousEventPriority;default:return jk.DefaultEventPriority}})),nR=tR.reconciler,rR=tR.applyProps,iR={objects:"shallow",strict:!1},aR=function(e,t){var n="function"===typeof e?e(t):e;return OM(n)?n:new aE(qn({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function oR(e){var t=ZM.get(e),r=null==t?void 0:t.fiber,i=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");var a,o="function"===typeof reportError?reportError:console.error,s=i||DM($M,eR),u=r||nR.createContainer(s,jk.ConcurrentRoot,null,!1,null,"",o,null);t||ZM.set(e,{fiber:u,store:s});var l,c=!1;return{configure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gl,r=t.size,i=t.scene,o=t.events,u=t.onCreated,A=t.shadows,f=void 0!==A&&A,d=t.linear,h=void 0!==d&&d,p=t.flat,v=void 0!==p&&p,g=t.legacy,m=void 0!==g&&g,y=t.orthographic,b=void 0!==y&&y,w=t.frameloop,x=void 0===w?"always":w,_=t.dpr,C=void 0===_?[1,2]:_,E=t.performance,S=t.raycaster,B=t.camera,T=t.onPointerMissed,I=s.getState(),k=I.gl;I.gl||I.set({gl:k=aR(n,e)});var M=I.raycaster;M||I.set({raycaster:M=new ek});var R,U=S||{},F=U.params,O=Kn(U,aM);if(yM.equ(O,M,iR)||rR(M,qn({},O)),yM.equ(F,M.params,iR)||rR(M,{params:qn(qn({},M.params),F)}),!I.camera||I.camera===l&&!yM.equ(l,B,iR)){l=B;var P=B instanceof fx,D=P?B:b?new Lx(0,0,0,0,.1,1e3):new dx(75,0,.1,1e3);P||(D.position.z=5,B&&rR(D,B),I.camera||null!=B&&B.rotation||D.lookAt(0,0,0)),I.set({camera:D})}I.scene||(i instanceof cE?R=i:(R=new cE,i&&rR(R,i)),I.set({scene:wM(R)}));if(!I.xr){var L,N=function(e,t){var n=s.getState();"never"!==n.frameloop&&eR(e,!0,n,t)},Q=function(){var e=s.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?N:null),e.gl.xr.isPresenting||$M(e)},H={connect:function(){var e=s.getState().gl;e.xr.addEventListener("sessionstart",Q),e.xr.addEventListener("sessionend",Q)},disconnect:function(){var e=s.getState().gl;e.xr.removeEventListener("sessionstart",Q),e.xr.removeEventListener("sessionend",Q)}};"function"===typeof(null==(L=k.xr)?void 0:L.addEventListener)&&H.connect(),I.set({xr:H})}if(k.shadowMap){var j=k.shadowMap.enabled,z=k.shadowMap.type;if(k.shadowMap.enabled=!!f,yM.boo(f))k.shadowMap.type=Up;else if(yM.str(f)){var G,V={basic:Mp,percentage:Rp,soft:Up,variance:Fp};k.shadowMap.type=null!=(G=V[f])?G:Up}else yM.obj(f)&&Object.assign(k.shadowMap,f);j===k.shadowMap.enabled&&z===k.shadowMap.type||(k.shadowMap.needsUpdate=!0)}var W=uM();W&&("enabled"in W?W.enabled=!m:"legacyMode"in W&&(W.legacyMode=m));rR(k,{outputEncoding:h?3e3:3001,toneMapping:v?mv:xv}),I.legacy!==m&&I.set((function(){return{legacy:m}})),I.linear!==h&&I.set((function(){return{linear:h}})),I.flat!==v&&I.set((function(){return{flat:v}})),!n||yM.fun(n)||OM(n)||yM.equ(n,k,iR)||rR(k,n),o&&!I.events.handlers&&I.set({events:o(s)});var K=function(e,t){if(t)return t;if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){var n=e.parentElement.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,left:n.left}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}(e,r);return yM.equ(K,I.size,iR)||I.setSize(K.width,K.height,K.updateStyle,K.top,K.left),C&&I.viewport.dpr!==gM(C)&&I.setDpr(C),I.frameloop!==x&&I.setFrameloop(x),I.onPointerMissed||I.set({onPointerMissed:T}),E&&!yM.equ(E,I.performance,iR)&&I.set((function(e){return{performance:qn(qn({},e.performance),E)}})),a=u,c=!0,this},render:function(t){return c||this.configure(),nR.updateContainer(n.createElement(sR,{store:s,children:t,onCreated:a,rootElement:e}),u,null,(function(){})),s},unmount:function(){uR(e)}}}function sR(e){var t=e.store,r=e.children,i=e.onCreated,a=e.rootElement;return cM((function(){var e=t.getState();e.set((function(e){return{internal:qn(qn({},e.internal),{},{active:!0})}})),i&&i(e),t.getState().events.connected||null==e.events.connect||e.events.connect(a)}),[]),n.createElement(PM.Provider,{value:t},r)}function uR(e,t){var n=ZM.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),nR.updateContainer(null,r,null,(function(){i&&setTimeout((function(){try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),ZM.delete(e),t&&t(e)}catch(s){}}),500)}))}}nR.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:n.version});n.unstable_act,__webpack_require__(9277);var lR=0,cR=2,AR=h((function e(){c(this,e),this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=lR,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null})),fR=function(){function e(t,n,r,i){c(this,e),this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(t.buffer,t.byteOffset+n,r),this._littleEndian=i,this._offset=0}return h(e,[{key:"_nextUint8",value:function(){var e=this._dataView.getUint8(this._offset);return this._offset+=1,e}},{key:"_nextUint16",value:function(){var e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}},{key:"_nextUint32",value:function(){var e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}},{key:"_nextUint64",value:function(){var e=this._dataView.getUint32(this._offset,this._littleEndian),t=this._dataView.getUint32(this._offset+4,this._littleEndian),n=e+Math.pow(2,32)*t;return this._offset+=8,n}},{key:"_nextInt32",value:function(){var e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}},{key:"_skip",value:function(e){return this._offset+=e,this}},{key:"_scan",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._offset,r=0;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}}]),e}(),dR=("KTX-Parse v".concat("0.4.5"),new Uint8Array([0]),[171,75,84,88,32,50,48,187,13,10,26,10]);function hR(e){return"undefined"!==typeof TextDecoder?(new TextDecoder).decode(e):Buffer.from(e).toString("utf8")}function pR(e){var t=new Uint8Array(e.buffer,e.byteOffset,dR.length);if(t[0]!==dR[0]||t[1]!==dR[1]||t[2]!==dR[2]||t[3]!==dR[3]||t[4]!==dR[4]||t[5]!==dR[5]||t[6]!==dR[6]||t[7]!==dR[7]||t[8]!==dR[8]||t[9]!==dR[9]||t[10]!==dR[10]||t[11]!==dR[11])throw new Error("Missing KTX 2.0 identifier.");var n=new AR,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new fR(e,dR.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();var a=i._nextUint32();n.supercompressionScheme=i._nextUint32();for(var o=i._nextUint32(),s=i._nextUint32(),u=i._nextUint32(),l=i._nextUint32(),c=i._nextUint64(),A=i._nextUint64(),f=new fR(e,dR.length+r,3*a*8,!0),d=0;d<a;d++)n.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+f._nextUint64(),f._nextUint64()),uncompressedByteLength:f._nextUint64()});for(var h=new fR(e,o,s,!0),p={vendorId:h._skip(4)._nextUint16(),descriptorType:h._nextUint16(),versionNumber:h._nextUint16(),descriptorBlockSize:h._nextUint16(),colorModel:h._nextUint8(),colorPrimaries:h._nextUint8(),transferFunction:h._nextUint8(),flags:h._nextUint8(),texelBlockDimension:[h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8()],bytesPlane:[h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8()],samples:[]},v=(p.descriptorBlockSize/4-6)/4,g=0;g<v;g++){var m={bitOffset:h._nextUint16(),bitLength:h._nextUint8(),channelType:h._nextUint8(),samplePosition:[h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&m.channelType?(m.sampleLower=h._nextInt32(),m.sampleUpper=h._nextInt32()):(m.sampleLower=h._nextUint32(),m.sampleUpper=h._nextUint32()),p.samples[g]=m}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(p);for(var y=new fR(e,u,l,!0);y._offset<l;){var b=y._nextUint32(),w=y._scan(b),x=hR(w),_=y._scan(b-w.byteLength);n.keyValue[x]=x.match(/^ktx/i)?hR(_):_,y._offset%4&&y._skip(4-y._offset%4)}if(A<=0)return n;for(var C=new fR(e,c,A,!0),E=C._nextUint16(),S=C._nextUint16(),B=C._nextUint32(),T=C._nextUint32(),I=C._nextUint32(),k=C._nextUint32(),M=[],R=0;R<a;R++)M.push({imageFlags:C._nextUint32(),rgbSliceByteOffset:C._nextUint32(),rgbSliceByteLength:C._nextUint32(),alphaSliceByteOffset:C._nextUint32(),alphaSliceByteLength:C._nextUint32()});var U=c+C._offset,F=U+B,O=F+T,P=O+I,D=new Uint8Array(e.buffer,e.byteOffset+U,B),L=new Uint8Array(e.buffer,e.byteOffset+F,T),N=new Uint8Array(e.buffer,e.byteOffset+O,I),Q=new Uint8Array(e.buffer,e.byteOffset+P,k);return n.globalData={endpointCount:E,selectorCount:S,imageDescs:M,endpointsData:D,selectorsData:L,tablesData:N,extendedData:Q},n}var vR,gR,mR;var yR={env:{emscripten_notify_memory_growth:function(e){mR=new Uint8Array(gR.exports.memory.buffer)}}},bR=function(){function e(){c(this,e)}return h(e,[{key:"init",value:function(){return vR||(vR="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+wR).then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,yR)})).then(this._init):WebAssembly.instantiate(Buffer.from(wR,"base64"),yR).then(this._init))}},{key:"_init",value:function(e){gR=e.instance,yR.env.emscripten_notify_memory_growth(0)}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!gR)throw new Error("ZSTDDecoder: Await .init() before decoding.");var n=e.byteLength,r=gR.exports.malloc(n);mR.set(e,r),t=t||Number(gR.exports.ZSTD_findDecompressedSize(r,n));var i=gR.exports.malloc(t),a=gR.exports.ZSTD_decompress(i,t,r,n),o=mR.slice(i,i+a);return gR.exports.free(r),gR.exports.free(i),o}}]),e}(),wR="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ";String.prototype.codePointAt||function(){var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(r){}return n}(),t=function(e){if(null==this)throw TypeError();var t=String(this),n=t.length,r=e?Number(e):0;if(r!=r&&(r=0),!(r<0||r>=n)){var i,a=t.charCodeAt(r);return a>=55296&&a<=56319&&n>r+1&&(i=t.charCodeAt(r+1))>=56320&&i<=57343?1024*(a-55296)+i-56320+65536:a}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}();function xR(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var _R=new xR,CR=new xR,ER=new Uint8Array(30),SR=new Uint16Array(30),BR=new Uint8Array(30),TR=new Uint16Array(30);new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),new xR,new Uint8Array(320);function IR(e,t,n,r){var i,a;for(i=0;i<n;++i)e[i]=0;for(i=0;i<30-n;++i)e[i+n]=i/n|0;for(a=r,i=0;i<30;++i)t[i]=a,a+=1<<e[i]}new Uint16Array(16);!function(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}(_R,CR),IR(ER,SR,4,3),IR(BR,TR,2,1),ER[28]=0,SR[28]=258;function kR(e,t,n,r,i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function MR(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function RR(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function UR(e){throw new Error(e)}function FR(e,t){e||UR(t)}MR.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},MR.prototype.addPoint=function(e,t){"number"===typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"===typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},MR.prototype.addX=function(e){this.addPoint(e,null)},MR.prototype.addY=function(e){this.addPoint(null,e)},MR.prototype.addBezier=function(e,t,n,r,i,a,o,s){var u=[e,t],l=[n,r],c=[i,a],A=[o,s];this.addPoint(e,t),this.addPoint(o,s);for(var f=0;f<=1;f++){var d=6*u[f]-12*l[f]+6*c[f],h=-3*u[f]+9*l[f]-9*c[f]+3*A[f],p=3*l[f]-3*u[f];if(0!==h){var v=Math.pow(d,2)-4*p*h;if(!(v<0)){var g=(-d+Math.sqrt(v))/(2*h);0<g&&g<1&&(0===f&&this.addX(kR(u[f],l[f],c[f],A[f],g)),1===f&&this.addY(kR(u[f],l[f],c[f],A[f],g)));var m=(-d-Math.sqrt(v))/(2*h);0<m&&m<1&&(0===f&&this.addX(kR(u[f],l[f],c[f],A[f],m)),1===f&&this.addY(kR(u[f],l[f],c[f],A[f],m)))}}else{if(0===d)continue;var y=-p/d;0<y&&y<1&&(0===f&&this.addX(kR(u[f],l[f],c[f],A[f],y)),1===f&&this.addY(kR(u[f],l[f],c[f],A[f],y)))}}},MR.prototype.addQuad=function(e,t,n,r,i,a){var o=e+2/3*(n-e),s=t+2/3*(r-t),u=o+1/3*(i-e),l=s+1/3*(a-t);this.addBezier(e,t,o,s,u,l,i,a)},RR.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},RR.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},RR.prototype.curveTo=RR.prototype.bezierCurveTo=function(e,t,n,r,i,a){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:i,y:a})},RR.prototype.quadTo=RR.prototype.quadraticCurveTo=function(e,t,n,r){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})},RR.prototype.close=RR.prototype.closePath=function(){this.commands.push({type:"Z"})},RR.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof MR){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},RR.prototype.getBoundingBox=function(){for(var e=new MR,t=0,n=0,r=0,i=0,a=0;a<this.commands.length;a++){var o=this.commands[a];switch(o.type){case"M":e.addPoint(o.x,o.y),t=r=o.x,n=i=o.y;break;case"L":e.addPoint(o.x,o.y),r=o.x,i=o.y;break;case"Q":e.addQuad(r,i,o.x1,o.y1,o.x,o.y),r=o.x,i=o.y;break;case"C":e.addBezier(r,i,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,i=o.y;break;case"Z":r=t,i=n;break;default:throw new Error("Unexpected path command "+o.type)}}return e.isEmpty()&&e.addPoint(0,0),e},RR.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},RR.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function n(){for(var e=arguments,n="",r=0;r<arguments.length;r+=1){var i=e[r];i>=0&&r>0&&(n+=" "),n+=t(i)}return n}e=void 0!==e?e:2;for(var r="",i=0;i<this.commands.length;i+=1){var a=this.commands[i];"M"===a.type?r+="M"+n(a.x,a.y):"L"===a.type?r+="L"+n(a.x,a.y):"C"===a.type?r+="C"+n(a.x1,a.y1,a.x2,a.y2,a.x,a.y):"Q"===a.type?r+="Q"+n(a.x1,a.y1,a.x,a.y):"Z"===a.type&&(r+="Z")}return r},RR.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},RR.prototype.toDOMElement=function(e){var t=this.toPathData(e),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n};var OR={fail:UR,argument:FR,assert:FR},PR=2147483648,DR={},LR={},NR={};function QR(e){return function(){return e}}LR.BYTE=function(e){return OR.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]},NR.BYTE=QR(1),LR.CHAR=function(e){return[e.charCodeAt(0)]},NR.CHAR=QR(1),LR.CHARARRAY=function(e){"undefined"===typeof e&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t},NR.CHARARRAY=function(e){return"undefined"===typeof e?0:e.length},LR.USHORT=function(e){return[e>>8&255,255&e]},NR.USHORT=QR(2),LR.SHORT=function(e){return e>=32768&&(e=-(65536-e)),[e>>8&255,255&e]},NR.SHORT=QR(2),LR.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},NR.UINT24=QR(3),LR.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},NR.ULONG=QR(4),LR.LONG=function(e){return e>=PR&&(e=-(2*PR-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},NR.LONG=QR(4),LR.FIXED=LR.ULONG,NR.FIXED=NR.ULONG,LR.FWORD=LR.SHORT,NR.FWORD=NR.SHORT,LR.UFWORD=LR.USHORT,NR.UFWORD=NR.USHORT,LR.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},NR.LONGDATETIME=QR(8),LR.TAG=function(e){return OR.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},NR.TAG=QR(4),LR.Card8=LR.BYTE,NR.Card8=NR.BYTE,LR.Card16=LR.USHORT,NR.Card16=NR.USHORT,LR.OffSize=LR.BYTE,NR.OffSize=NR.BYTE,LR.SID=LR.USHORT,NR.SID=NR.USHORT,LR.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?LR.NUMBER16(e):LR.NUMBER32(e)},NR.NUMBER=function(e){return LR.NUMBER(e).length},LR.NUMBER16=function(e){return[28,e>>8&255,255&e]},NR.NUMBER16=QR(3),LR.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},NR.NUMBER32=QR(5),LR.REAL=function(e){var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));t=(Math.round(e*r)/r).toString()}for(var i="",a=0,o=t.length;a<o;a+=1){var s=t[a];i+="e"===s?"-"===t[++a]?"c":"b":"."===s?"a":"-"===s?"e":s}for(var u=[30],l=0,c=(i+=1&i.length?"f":"ff").length;l<c;l+=2)u.push(parseInt(i.substr(l,2),16));return u},NR.REAL=function(e){return LR.REAL(e).length},LR.NAME=LR.CHARARRAY,NR.NAME=NR.CHARARRAY,LR.STRING=LR.CHARARRAY,NR.STRING=NR.CHARARRAY,DR.UTF8=function(e,t,n){for(var r=[],i=n,a=0;a<i;a++,t+=1)r[a]=e.getUint8(t);return String.fromCharCode.apply(null,r)},DR.UTF16=function(e,t,n){for(var r=[],i=n/2,a=0;a<i;a++,t+=2)r[a]=e.getUint16(t);return String.fromCharCode.apply(null,r)},LR.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t[t.length]=r>>8&255,t[t.length]=255&r}return t},NR.UTF16=function(e){return 2*e.length};var HR={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};DR.MACSTRING=function(e,t,n,r){var i=HR[r];if(void 0!==i){for(var a="",o=0;o<n;o++){var s=e.getUint8(t+o);a+=s<=127?String.fromCharCode(s):i[127&s]}return a}};var jR,zR="function"===typeof WeakMap&&new WeakMap;function GR(e){return e>=-128&&e<=127}function VR(e,t,n){for(var r=0,i=e.length;t<i&&r<64&&0===e[t];)++t,++r;return n.push(128|r-1),t}function WR(e,t,n){for(var r=0,i=e.length,a=t;a<i&&r<64;){var o=e[a];if(!GR(o))break;if(0===o&&a+1<i&&0===e[a+1])break;++a,++r}n.push(r-1);for(var s=t;s<a;++s)n.push(e[s]+256&255);return a}function KR(e,t,n){for(var r=0,i=e.length,a=t;a<i&&r<64;){var o=e[a];if(0===o)break;if(GR(o)&&a+1<i&&GR(e[a+1]))break;++a,++r}n.push(64|r-1);for(var s=t;s<a;++s){var u=e[s];n.push(u+65536>>8&255,u+256&255)}return a}LR.MACSTRING=function(e,t){var n=function(e){if(!jR)for(var t in jR={},HR)jR[t]=new String(t);var n=jR[e];if(void 0!==n){if(zR){var r=zR.get(n);if(void 0!==r)return r}var i=HR[e];if(void 0!==i){for(var a={},o=0;o<i.length;o++)a[i.charCodeAt(o)]=o+128;return zR&&zR.set(n,a),a}}}(t);if(void 0!==n){for(var r=[],i=0;i<e.length;i++){var a=e.charCodeAt(i);if(a>=128&&void 0===(a=n[a]))return;r[i]=a}return r}},NR.MACSTRING=function(e,t){var n=LR.MACSTRING(e,t);return void 0!==n?n.length:0},LR.VARDELTAS=function(e){for(var t=0,n=[];t<e.length;){var r=e[t];t=0===r?VR(e,t,n):r>=-128&&r<=127?WR(e,t,n):KR(e,t,n)}return n},LR.INDEX=function(e){for(var t=1,n=[t],r=[],i=0;i<e.length;i+=1){var a=LR.OBJECT(e[i]);Array.prototype.push.apply(r,a),t+=a.length,n.push(t)}if(0===r.length)return[0,0];for(var o=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,u=[void 0,LR.BYTE,LR.USHORT,LR.UINT24,LR.ULONG][s],l=0;l<n.length;l+=1){var c=u(n[l]);Array.prototype.push.apply(o,c)}return Array.prototype.concat(LR.Card16(e.length),LR.OffSize(s),o,r)},NR.INDEX=function(e){return LR.INDEX(e).length},LR.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var a=parseInt(n[i],0),o=e[a];t=(t=t.concat(LR.OPERAND(o.value,o.type))).concat(LR.OPERATOR(a))}return t},NR.DICT=function(e){return LR.DICT(e).length},LR.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},LR.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)OR.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(LR.OPERAND(e[r],t[r]));else if("SID"===t)n=n.concat(LR.NUMBER(e));else if("offset"===t)n=n.concat(LR.NUMBER32(e));else if("number"===t)n=n.concat(LR.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);n=n.concat(LR.REAL(e))}return n},LR.OP=LR.BYTE,NR.OP=NR.BYTE;var XR="function"===typeof WeakMap&&new WeakMap;function qR(e,t,n){if(t.length&&("coverageFormat"!==t[0].name||1===t[0].value))for(var r=0;r<t.length;r+=1){var i=t[r];this[i.name]=i.value}if(this.tableName=e,this.fields=t,n)for(var a=Object.keys(n),o=0;o<a.length;o+=1){var s=a[o],u=n[s];void 0!==this[s]&&(this[s]=u)}}function YR(e,t,n){void 0===n&&(n=t.length);var r=new Array(t.length+1);r[0]={name:e+"Count",type:"USHORT",value:n};for(var i=0;i<t.length;i++)r[i+1]={name:e+i,type:"USHORT",value:t[i]};return r}function ZR(e,t,n){var r=t.length,i=new Array(r+1);i[0]={name:e+"Count",type:"USHORT",value:r};for(var a=0;a<r;a++)i[a+1]={name:e+a,type:"TABLE",value:n(t[a],a)};return i}function JR(e,t,n){var r=t.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:r};for(var a=0;a<r;a++)i=i.concat(n(t[a],a));return i}function $R(e){1===e.format?qR.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(YR("glyph",e.glyphs))):2===e.format?qR.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(JR("rangeRecord",e.ranges,(function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]})))):OR.assert(!1,"Coverage format must be 1 or 2.")}function eU(e){qR.call(this,"scriptListTable",JR("scriptRecord",e,(function(e,t){var n=e.script,r=n.defaultLangSys;return OR.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new qR("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new qR("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(YR("featureIndex",r.featureIndexes)))}].concat(JR("langSys",n.langSysRecords,(function(e,t){var n=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new qR("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(YR("featureIndex",n.featureIndexes)))}]}))))}]})))}function tU(e){qR.call(this,"featureListTable",JR("featureRecord",e,(function(e,t){var n=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new qR("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(YR("lookupListIndex",n.lookupListIndexes)))}]})))}function nU(e,t){qR.call(this,"lookupListTable",ZR("lookup",e,(function(e){var n=t[e.lookupType];return OR.assert(!!n,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new qR("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(ZR("subtable",e.subtables,n)))})))}LR.CHARSTRING=function(e){if(XR){var t=XR.get(e);if(void 0!==t)return t}for(var n=[],r=e.length,i=0;i<r;i+=1){var a=e[i];n=n.concat(LR[a.type](a.value))}return XR&&XR.set(e,n),n},NR.CHARSTRING=function(e){return LR.CHARSTRING(e).length},LR.OBJECT=function(e){var t=LR[e.type];return OR.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},NR.OBJECT=function(e){var t=NR[e.type];return OR.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},LR.TABLE=function(e){for(var t=[],n=e.fields.length,r=[],i=[],a=0;a<n;a+=1){var o=e.fields[a],s=LR[o.type];OR.argument(void 0!==s,"No encoding function for field type "+o.type+" ("+o.name+")");var u=e[o.name];void 0===u&&(u=o.value);var l=s(u);"TABLE"===o.type?(i.push(t.length),t=t.concat([0,0]),r.push(l)):t=t.concat(l)}for(var c=0;c<r.length;c+=1){var A=i[c],f=t.length;OR.argument(f<65536,"Table "+e.tableName+" too big."),t[A]=f>>8,t[A+1]=255&f,t=t.concat(r[c])}return t},NR.TABLE=function(e){for(var t=0,n=e.fields.length,r=0;r<n;r+=1){var i=e.fields[r],a=NR[i.type];OR.argument(void 0!==a,"No sizeOf function for field type "+i.type+" ("+i.name+")");var o=e[i.name];void 0===o&&(o=i.value),t+=a(o),"TABLE"===i.type&&(t+=2)}return t},LR.RECORD=LR.TABLE,NR.RECORD=NR.TABLE,LR.LITERAL=function(e){return e},NR.LITERAL=function(e){return e.length},qR.prototype.encode=function(){return LR.TABLE(this)},qR.prototype.sizeOf=function(){return NR.TABLE(this)},$R.prototype=Object.create(qR.prototype),$R.prototype.constructor=$R,eU.prototype=Object.create(qR.prototype),eU.prototype.constructor=eU,tU.prototype=Object.create(qR.prototype),tU.prototype.constructor=tU,nU.prototype=Object.create(qR.prototype),nU.prototype.constructor=nU;var rU={Table:qR,Record:qR,Coverage:$R,ScriptList:eU,FeatureList:tU,LookupList:nU,ushortList:YR,tableList:ZR,recordList:JR};function iU(e,t){return e.getUint8(t)}function aU(e,t){return e.getUint16(t,!1)}function oU(e,t){return e.getUint32(t,!1)}function sU(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var uU={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function lU(e,t){this.data=e,this.offset=t,this.relativeOffset=0}lU.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},lU.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},lU.prototype.parseCard8=lU.prototype.parseByte,lU.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},lU.prototype.parseCard16=lU.prototype.parseUShort,lU.prototype.parseSID=lU.prototype.parseUShort,lU.prototype.parseOffset16=lU.prototype.parseUShort,lU.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},lU.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},lU.prototype.parseULong=function(){var e=oU(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},lU.prototype.parseOffset32=lU.prototype.parseULong,lU.prototype.parseFixed=function(){var e=sU(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},lU.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=e;for(var i=0;i<e;i++)r+=String.fromCharCode(t.getUint8(n+i));return r},lU.prototype.parseTag=function(){return this.parseString(4)},lU.prototype.parseLongDateTime=function(){var e=oU(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},lU.prototype.parseVersion=function(e){var t=aU(this.data,this.offset+this.relativeOffset),n=aU(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+n/e/10},lU.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=uU[e]*t},lU.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint32(r),r+=4;return this.relativeOffset+=4*e,t},lU.prototype.parseOffset16List=lU.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint16(r),r+=2;return this.relativeOffset+=2*e,t},lU.prototype.parseShortList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getInt16(r),r+=2;return this.relativeOffset+=2*e,t},lU.prototype.parseByteList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint8(r++);return this.relativeOffset+=e,t},lU.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},lU.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},lU.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var a={},o=0;o<r.length;o++){var s=r[o],u=t[s];a[s]=u.call(this)}n[i]=a}return n},lU.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var a={},o=0;o<r.length;o++){var s=r[o],u=t[s];a[s]=u.call(this)}n[i]=a}return n},lU.prototype.parseStruct=function(e){if("function"===typeof e)return e.call(this);for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r],a=e[i];n[i]=a.call(this)}return n},lU.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},lU.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),n=new Array(t),r=0;r<t;r++)n[r]=this.parseValueRecord(e);return n},lU.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new lU(this.data,this.offset+t).parseStruct(e)},lU.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new lU(this.data,this.offset+t).parseStruct(e)},lU.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),n=t.length,r=this.relativeOffset,i=new Array(n),a=0;a<n;a++){var o=t[a];if(0!==o)if(this.relativeOffset=o,e){for(var s=this.parseOffset16List(),u=new Array(s.length),l=0;l<s.length;l++)this.relativeOffset=o+s[l],u[l]=e.call(this);i[a]=u}else i[a]=this.parseUShortList();else i[a]=void 0}return this.relativeOffset=r,i},lU.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),n=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(n)};if(2===t){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},lU.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:lU.uShort,end:lU.uShort,classId:lU.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},lU.list=function(e,t){return function(){return this.parseList(e,t)}},lU.list32=function(e,t){return function(){return this.parseList32(e,t)}},lU.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},lU.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},lU.pointer=function(e){return function(){return this.parsePointer(e)}},lU.pointer32=function(e){return function(){return this.parsePointer32(e)}},lU.tag=lU.prototype.parseTag,lU.byte=lU.prototype.parseByte,lU.uShort=lU.offset16=lU.prototype.parseUShort,lU.uShortList=lU.prototype.parseUShortList,lU.uLong=lU.offset32=lU.prototype.parseULong,lU.uLongList=lU.prototype.parseULongList,lU.struct=lU.prototype.parseStruct,lU.coverage=lU.prototype.parseCoverage,lU.classDef=lU.prototype.parseClassDef;var cU={reserved:lU.uShort,reqFeatureIndex:lU.uShort,featureIndexes:lU.uShortList};lU.prototype.parseScriptList=function(){return this.parsePointer(lU.recordList({tag:lU.tag,script:lU.pointer({defaultLangSys:lU.pointer(cU),langSysRecords:lU.recordList({tag:lU.tag,langSys:lU.pointer(cU)})})}))||[]},lU.prototype.parseFeatureList=function(){return this.parsePointer(lU.recordList({tag:lU.tag,feature:lU.pointer({featureParams:lU.offset16,lookupListIndexes:lU.uShortList})}))||[]},lU.prototype.parseLookupList=function(e){return this.parsePointer(lU.list(lU.pointer((function(){var t=this.parseUShort();OR.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var n=this.parseUShort(),r=16&n;return{lookupType:t,lookupFlag:n,subtables:this.parseList(lU.pointer(e[t])),markFilteringSet:r?this.parseUShort():void 0}}))))||[]},lU.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var e=this.parseUShort(),t=this.parseUShort();return OR.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:lU.offset32,featureTableSubstitutionOffset:lU.offset32})}))||[]};var AU={getByte:iU,getCard8:iU,getUShort:aU,getCard16:aU,getShort:function(e,t){return e.getInt16(t,!1)},getULong:oU,getFixed:sU,getTag:function(e,t){for(var n="",r=t;r<t+4;r+=1)n+=String.fromCharCode(e.getInt8(r));return n},getOffset:function(e,t,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=e.getUint8(t+i);return r},getBytes:function(e,t,n){for(var r=[],i=t;i<n;i+=1)r.push(e.getUint8(i));return r},bytesToString:function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t},Parser:lU};function fU(e,t,n){e.segments.push({end:t,start:t,delta:-(t-n),offset:0,glyphIndex:n})}var dU={parse:function(e,t){var n={};n.version=AU.getUShort(e,t),OR.argument(0===n.version,"cmap table version should be 0."),n.numTables=AU.getUShort(e,t+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var a=AU.getUShort(e,t+4+8*i),o=AU.getUShort(e,t+4+8*i+2);if(3===a&&(0===o||1===o||10===o)||0===a&&(0===o||1===o||2===o||3===o||4===o)){r=AU.getULong(e,t+4+8*i+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");var s=new AU.Parser(e,t+r);if(n.format=s.parseUShort(),12===n.format)!function(e,t){var n;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=n=t.parseULong(),e.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=t.parseULong(),a=t.parseULong(),o=t.parseULong(),s=i;s<=a;s+=1)e.glyphIndexMap[s]=o,o++}(n,s);else{if(4!==n.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");!function(e,t,n,r,i){var a;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=a=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var o=new AU.Parser(n,r+i+14),s=new AU.Parser(n,r+i+16+2*a),u=new AU.Parser(n,r+i+16+4*a),l=new AU.Parser(n,r+i+16+6*a),c=r+i+16+8*a,A=0;A<a-1;A+=1)for(var f=void 0,d=o.parseUShort(),h=s.parseUShort(),p=u.parseShort(),v=l.parseUShort(),g=h;g<=d;g+=1)0!==v?(c=l.offset+l.relativeOffset-2,c+=v,c+=2*(g-h),0!==(f=AU.getUShort(n,c))&&(f=f+p&65535)):f=g+p&65535,e.glyphIndexMap[g]=f}(n,s,e,t,r)}return n},make:function(e){var t,n=!0;for(t=e.length-1;t>0;t-=1){if(e.get(t).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),n=!1;break}}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:n?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:n?12:20}];n||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var i=new rU.Table("cmap",r);for(i.segments=[],t=0;t<e.length;t+=1){for(var a=e.get(t),o=0;o<a.unicodes.length;o+=1)fU(i,a.unicodes[o],t);i.segments=i.segments.sort((function(e,t){return e.start-t.start}))}!function(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}(i);var s=i.segments.length,u=0,l=[],c=[],A=[],f=[],d=[],h=[];for(t=0;t<s;t+=1){var p=i.segments[t];p.end<=65535&&p.start<=65535?(l=l.concat({name:"end_"+t,type:"USHORT",value:p.end}),c=c.concat({name:"start_"+t,type:"USHORT",value:p.start}),A=A.concat({name:"idDelta_"+t,type:"SHORT",value:p.delta}),f=f.concat({name:"idRangeOffset_"+t,type:"USHORT",value:p.offset}),void 0!==p.glyphId&&(d=d.concat({name:"glyph_"+t,type:"USHORT",value:p.glyphId}))):u+=1,n||void 0===p.glyphIndex||(h=(h=(h=h.concat({name:"cmap12Start_"+t,type:"ULONG",value:p.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:p.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:p.glyphIndex}))}if(i.segCountX2=2*(s-u),i.searchRange=2*Math.pow(2,Math.floor(Math.log(s-u)/Math.log(2))),i.entrySelector=Math.log(i.searchRange/2)/Math.log(2),i.rangeShift=i.segCountX2-i.searchRange,i.fields=i.fields.concat(l),i.fields.push({name:"reservedPad",type:"USHORT",value:0}),i.fields=i.fields.concat(c),i.fields=i.fields.concat(A),i.fields=i.fields.concat(f),i.fields=i.fields.concat(d),i.cmap4Length=14+2*l.length+2+2*c.length+2*A.length+2*f.length+2*d.length,!n){var v=16+4*h.length;i.cmap12Offset=20+i.cmap4Length,i.fields=i.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:v},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:h.length/3}]),i.fields=i.fields.concat(h)}return i}},hU=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],pU=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],vU=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],gU=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function mU(e){this.font=e}function yU(e){this.cmap=e}function bU(e,t){this.encoding=e,this.charset=t}function wU(e){switch(e.version){case 1:this.names=gU.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<gU.length?this.names[t]=gU[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-gU.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=gU[n+e.glyphNameIndex[n]];break;default:this.names=[]}}mU.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.font.glyphs;if(n)for(var r=0;r<n.length;r+=1)for(var i=n.get(r),a=0;a<i.unicodes.length;a+=1)if(i.unicodes[a]===t)return r;return null},yU.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},bU.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.encoding[t];return this.charset.indexOf(n)},wU.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},wU.prototype.glyphIndexToName=function(e){return this.names[e]};var xU={line:function(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke()}};function _U(e){this.bindConstructorValues(e)}function CU(e,t,n){Object.defineProperty(e,t,{get:function(){return e.path,e[n]},set:function(t){e[n]=t},enumerable:!0,configurable:!0})}function EU(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];r.path.unitsPerEm=e.unitsPerEm,this.glyphs[n]=r}this.length=t&&t.length||0}_U.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",function(e,t){var n=t||new RR;return{configurable:!0,get:function(){return"function"===typeof n&&(n=n()),n},set:function(e){n=e}}}(0,e.path))},_U.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},_U.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},_U.prototype.getPath=function(e,t,n,r,i){var a,o;e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72,r||(r={});var s=r.xScale,u=r.yScale;if(r.hinting&&i&&i.hinting&&(o=this.path&&i.hinting.exec(this,n)),o)a=i.hinting.getCommands(o),e=Math.round(e),t=Math.round(t),s=u=1;else{a=this.path.commands;var l=1/(this.path.unitsPerEm||1e3)*n;void 0===s&&(s=l),void 0===u&&(u=l)}for(var c=new RR,A=0;A<a.length;A+=1){var f=a[A];"M"===f.type?c.moveTo(e+f.x*s,t+-f.y*u):"L"===f.type?c.lineTo(e+f.x*s,t+-f.y*u):"Q"===f.type?c.quadraticCurveTo(e+f.x1*s,t+-f.y1*u,e+f.x*s,t+-f.y*u):"C"===f.type?c.curveTo(e+f.x1*s,t+-f.y1*u,e+f.x2*s,t+-f.y2*u,e+f.x*s,t+-f.y*u):"Z"===f.type&&c.closePath()}return c},_U.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return OR.argument(0===t.length,"There are still points left in the current contour."),e},_U.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];"Z"!==i.type&&(t.push(i.x),n.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),n.push(i.y1)),"C"===i.type&&(t.push(i.x2),n.push(i.y2))}var a={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(a.xMin)||(a.xMin=0),isFinite(a.xMax)||(a.xMax=this.advanceWidth),isFinite(a.yMin)||(a.yMin=0),isFinite(a.yMax)||(a.yMax=0),a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),a},_U.prototype.draw=function(e,t,n,r,i){this.getPath(t,n,r,i).draw(e)},_U.prototype.drawPoints=function(e,t,n,r){function i(t,n,r,i){e.beginPath();for(var a=0;a<t.length;a+=1)e.moveTo(n+t[a].x*i,r+t[a].y*i),e.arc(n+t[a].x*i,r+t[a].y*i,2,0,2*Math.PI,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24;for(var a=1/this.path.unitsPerEm*r,o=[],s=[],u=this.path,l=0;l<u.commands.length;l+=1){var c=u.commands[l];void 0!==c.x&&o.push({x:c.x,y:-c.y}),void 0!==c.x1&&s.push({x:c.x1,y:-c.y1}),void 0!==c.x2&&s.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",i(o,t,n,a),e.fillStyle="red",i(s,t,n,a)},_U.prototype.drawMetrics=function(e,t,n,r){var i;t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24,i=1/this.path.unitsPerEm*r,e.lineWidth=1,e.strokeStyle="black",xU.line(e,t,-1e4,t,1e4),xU.line(e,-1e4,n,1e4,n);var a=this.xMin||0,o=this.yMin||0,s=this.xMax||0,u=this.yMax||0,l=this.advanceWidth||0;e.strokeStyle="blue",xU.line(e,t+a*i,-1e4,t+a*i,1e4),xU.line(e,t+s*i,-1e4,t+s*i,1e4),xU.line(e,-1e4,n+-o*i,1e4,n+-o*i),xU.line(e,-1e4,n+-u*i,1e4,n+-u*i),e.strokeStyle="green",xU.line(e,t+l*i,-1e4,t+l*i,1e4)},EU.prototype.get=function(e){if(void 0===this.glyphs[e]){this.font._push(e),"function"===typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],n=this.font._IndexToUnicodeMap[e];if(n)for(var r=0;r<n.unicodes.length;r++)t.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else"function"===typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]},EU.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var SU={GlyphSet:EU,glyphLoader:function(e,t){return new _U({index:t,font:e})},ttfGlyphLoader:function(e,t,n,r,i,a){return function(){var o=new _U({index:t,font:e});return o.path=function(){n(o,r,i);var t=a(e.glyphs,o);return t.unitsPerEm=e.unitsPerEm,t},CU(o,"xMin","_xMin"),CU(o,"xMax","_xMax"),CU(o,"yMin","_yMin"),CU(o,"yMax","_yMax"),o}},cffGlyphLoader:function(e,t,n,r){return function(){var i=new _U({index:t,font:e});return i.path=function(){var t=n(e,i,r);return t.unitsPerEm=e.unitsPerEm,t},i}}};function BU(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!BU(e[n],t[n]))return!1;return!0}return!1}function TU(e){return e.length<1240?107:e.length<33900?1131:32768}function IU(e,t,n){var r,i,a=[],o=[],s=AU.getCard16(e,t);if(0!==s){var u=AU.getByte(e,t+2);r=t+(s+1)*u+2;for(var l=t+3,c=0;c<s+1;c+=1)a.push(AU.getOffset(e,l,u)),l+=u;i=r+a[s]}else i=t+2;for(var A=0;A<a.length-1;A+=1){var f=AU.getBytes(e,r+a[A],r+a[A+1]);n&&(f=n(f)),o.push(f)}return{objects:o,startOffset:t,endOffset:i}}function kU(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){for(var t="",n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=e.parseByte(),i=r>>4,a=15&r;if(15===i)break;if(t+=n[i],15===a)break;t+=n[a]}return parseFloat(t)}(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return 256*(t-247)+e.parseByte()+108;if(t>=251&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function MU(e,t,n){t=void 0!==t?t:0;var r=new AU.Parser(e,t),i=[],a=[];for(n=void 0!==n?n:e.length;r.relativeOffset<n;){var o=r.parseByte();o<=21?(12===o&&(o=1200+r.parseByte()),i.push([o,a]),a=[]):a.push(kU(r,o))}return function(e){for(var t={},n=0;n<e.length;n+=1){var r=e[n][0],i=e[n][1],a=void 0;if(a=1===i.length?i[0]:i,t.hasOwnProperty(r)&&!isNaN(t[r]))throw new Error("Object "+t+" already has key "+r);t[r]=a}return t}(i)}function RU(e,t){return t=t<=390?hU[t]:e[t-391]}function UU(e,t,n){for(var r,i={},a=0;a<t.length;a+=1){var o=t[a];if(Array.isArray(o.type)){var s=[];s.length=o.type.length;for(var u=0;u<o.type.length;u++)void 0===(r=void 0!==e[o.op]?e[o.op][u]:void 0)&&(r=void 0!==o.value&&void 0!==o.value[u]?o.value[u]:null),"SID"===o.type[u]&&(r=RU(n,r)),s[u]=r;i[o.name]=s}else void 0===(r=e[o.op])&&(r=void 0!==o.value?o.value:null),"SID"===o.type&&(r=RU(n,r)),i[o.name]=r}return i}var FU=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],OU=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function PU(e,t){return UU(MU(e,0,e.byteLength),FU,t)}function DU(e,t,n,r){return UU(MU(e,t,n),OU,r)}function LU(e,t,n,r){for(var i=[],a=0;a<n.length;a+=1){var o=PU(new DataView(new Uint8Array(n[a]).buffer),r);o._subrs=[],o._subrsBias=0,o._defaultWidthX=0,o._nominalWidthX=0;var s=o.private[0],u=o.private[1];if(0!==s&&0!==u){var l=DU(e,u+t,s,r);if(o._defaultWidthX=l.defaultWidthX,o._nominalWidthX=l.nominalWidthX,0!==l.subrs){var c=IU(e,u+l.subrs+t);o._subrs=c.objects,o._subrsBias=TU(o._subrs)}o._privateDict=l}i.push(o)}return i}function NU(e,t,n){var r,i,a,o,s,u,l,c,A=new RR,f=[],d=0,h=!1,p=!1,v=0,g=0;if(e.isCIDFont){var m=e.tables.cff.topDict._fdSelect[t.index],y=e.tables.cff.topDict._fdArray[m];s=y._subrs,u=y._subrsBias,l=y._defaultWidthX,c=y._nominalWidthX}else s=e.tables.cff.topDict._subrs,u=e.tables.cff.topDict._subrsBias,l=e.tables.cff.topDict._defaultWidthX,c=e.tables.cff.topDict._nominalWidthX;var b=l;function w(e,t){p&&A.closePath(),A.moveTo(e,t),p=!0}function x(){f.length%2!==0&&!h&&(b=f.shift()+c),d+=f.length>>1,f.length=0,h=!0}return function n(l){for(var m,y,_,C,E,S,B,T,I,k,M,R,U=0;U<l.length;){var F=l[U];switch(U+=1,F){case 1:case 3:case 18:case 23:x();break;case 4:f.length>1&&!h&&(b=f.shift()+c,h=!0),g+=f.pop(),w(v,g);break;case 5:for(;f.length>0;)v+=f.shift(),g+=f.shift(),A.lineTo(v,g);break;case 6:for(;f.length>0&&(v+=f.shift(),A.lineTo(v,g),0!==f.length);)g+=f.shift(),A.lineTo(v,g);break;case 7:for(;f.length>0&&(g+=f.shift(),A.lineTo(v,g),0!==f.length);)v+=f.shift(),A.lineTo(v,g);break;case 8:for(;f.length>0;)r=v+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),v=a+f.shift(),g=o+f.shift(),A.curveTo(r,i,a,o,v,g);break;case 10:E=f.pop()+u,(S=s[E])&&n(S);break;case 11:return;case 12:switch(F=l[U],U+=1,F){case 35:r=v+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),B=a+f.shift(),T=o+f.shift(),I=B+f.shift(),k=T+f.shift(),M=I+f.shift(),R=k+f.shift(),v=M+f.shift(),g=R+f.shift(),f.shift(),A.curveTo(r,i,a,o,B,T),A.curveTo(I,k,M,R,v,g);break;case 34:r=v+f.shift(),i=g,a=r+f.shift(),o=i+f.shift(),B=a+f.shift(),T=o,I=B+f.shift(),k=o,M=I+f.shift(),R=g,v=M+f.shift(),A.curveTo(r,i,a,o,B,T),A.curveTo(I,k,M,R,v,g);break;case 36:r=v+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),B=a+f.shift(),T=o,I=B+f.shift(),k=o,M=I+f.shift(),R=k+f.shift(),v=M+f.shift(),A.curveTo(r,i,a,o,B,T),A.curveTo(I,k,M,R,v,g);break;case 37:r=v+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),B=a+f.shift(),T=o+f.shift(),I=B+f.shift(),k=T+f.shift(),M=I+f.shift(),R=k+f.shift(),Math.abs(M-v)>Math.abs(R-g)?v=M+f.shift():g=R+f.shift(),A.curveTo(r,i,a,o,B,T),A.curveTo(I,k,M,R,v,g);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+F),f.length=0}break;case 14:f.length>0&&!h&&(b=f.shift()+c,h=!0),p&&(A.closePath(),p=!1);break;case 19:case 20:x(),U+=d+7>>3;break;case 21:f.length>2&&!h&&(b=f.shift()+c,h=!0),g+=f.pop(),w(v+=f.pop(),g);break;case 22:f.length>1&&!h&&(b=f.shift()+c,h=!0),w(v+=f.pop(),g);break;case 24:for(;f.length>2;)r=v+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),v=a+f.shift(),g=o+f.shift(),A.curveTo(r,i,a,o,v,g);v+=f.shift(),g+=f.shift(),A.lineTo(v,g);break;case 25:for(;f.length>6;)v+=f.shift(),g+=f.shift(),A.lineTo(v,g);r=v+f.shift(),i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),v=a+f.shift(),g=o+f.shift(),A.curveTo(r,i,a,o,v,g);break;case 26:for(f.length%2&&(v+=f.shift());f.length>0;)r=v,i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),v=a,g=o+f.shift(),A.curveTo(r,i,a,o,v,g);break;case 27:for(f.length%2&&(g+=f.shift());f.length>0;)r=v+f.shift(),i=g,a=r+f.shift(),o=i+f.shift(),v=a+f.shift(),g=o,A.curveTo(r,i,a,o,v,g);break;case 28:m=l[U],y=l[U+1],f.push((m<<24|y<<16)>>16),U+=2;break;case 29:E=f.pop()+e.gsubrsBias,(S=e.gsubrs[E])&&n(S);break;case 30:for(;f.length>0&&(r=v,i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),v=a+f.shift(),g=o+(1===f.length?f.shift():0),A.curveTo(r,i,a,o,v,g),0!==f.length);)r=v+f.shift(),i=g,a=r+f.shift(),o=i+f.shift(),g=o+f.shift(),v=a+(1===f.length?f.shift():0),A.curveTo(r,i,a,o,v,g);break;case 31:for(;f.length>0&&(r=v+f.shift(),i=g,a=r+f.shift(),o=i+f.shift(),g=o+f.shift(),v=a+(1===f.length?f.shift():0),A.curveTo(r,i,a,o,v,g),0!==f.length);)r=v,i=g+f.shift(),a=r+f.shift(),o=i+f.shift(),v=a+f.shift(),g=o+(1===f.length?f.shift():0),A.curveTo(r,i,a,o,v,g);break;default:F<32?console.log("Glyph "+t.index+": unknown operator "+F):F<247?f.push(F-139):F<251?(m=l[U],U+=1,f.push(256*(F-247)+m+108)):F<255?(m=l[U],U+=1,f.push(256*-(F-251)-m-108)):(m=l[U],y=l[U+1],_=l[U+2],C=l[U+3],U+=4,f.push((m<<24|y<<16|_<<8|C)/65536))}}}(n),t.advanceWidth=b,A}function QU(e,t){var n,r=hU.indexOf(e);return r>=0&&(n=r),(r=t.indexOf(e))>=0?n=r+hU.length:(n=hU.length+t.length,t.push(e)),n}function HU(e,t,n){for(var r={},i=0;i<e.length;i+=1){var a=e[i],o=t[a.name];void 0===o||BU(o,a.value)||("SID"===a.type&&(o=QU(o,n)),r[a.op]={name:a.name,type:a.type,value:o})}return r}function jU(e,t){var n=new rU.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=HU(FU,e,t),n}function zU(e){var t=new rU.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function GU(e){var t=[],n=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var r=0,i=0,a=0;a<n.commands.length;a+=1){var o=void 0,s=void 0,u=n.commands[a];if("Q"===u.type){var l=1/3,c=2/3;u={type:"C",x:u.x,y:u.y,x1:Math.round(l*r+c*u.x1),y1:Math.round(l*i+c*u.y1),x2:Math.round(l*u.x+c*u.x1),y2:Math.round(l*u.y+c*u.y1)}}if("M"===u.type)o=Math.round(u.x-r),s=Math.round(u.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(u.x),i=Math.round(u.y);else if("L"===u.type)o=Math.round(u.x-r),s=Math.round(u.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(u.x),i=Math.round(u.y);else if("C"===u.type){var A=Math.round(u.x1-r),f=Math.round(u.y1-i),d=Math.round(u.x2-u.x1),h=Math.round(u.y2-u.y1);o=Math.round(u.x-u.x2),s=Math.round(u.y-u.y2),t.push({name:"dx1",type:"NUMBER",value:A}),t.push({name:"dy1",type:"NUMBER",value:f}),t.push({name:"dx2",type:"NUMBER",value:d}),t.push({name:"dy2",type:"NUMBER",value:h}),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(u.x),i=Math.round(u.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var VU={parse:function(e,t,n,r){n.tables.cff={};var i=function(e,t){var n={};return n.formatMajor=AU.getCard8(e,t),n.formatMinor=AU.getCard8(e,t+1),n.size=AU.getCard8(e,t+2),n.offsetSize=AU.getCard8(e,t+3),n.startOffset=t,n.endOffset=t+4,n}(e,t),a=IU(e,i.endOffset,AU.bytesToString),o=IU(e,a.endOffset),s=IU(e,o.endOffset,AU.bytesToString),u=IU(e,s.endOffset);n.gsubrs=u.objects,n.gsubrsBias=TU(n.gsubrs);var l=LU(e,t,o.objects,s.objects);if(1!==l.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+l.length);var c=l[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),void 0!==c.ros[0]&&void 0!==c.ros[1]&&(n.isCIDFont=!0),n.isCIDFont){var A=c.fdArray,f=c.fdSelect;if(0===A||0===f)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var d=IU(e,A+=t),h=LU(e,t,d.objects,s.objects);c._fdArray=h,f+=t,c._fdSelect=function(e,t,n,r){var i,a=[],o=new AU.Parser(e,t),s=o.parseCard8();if(0===s)for(var u=0;u<n;u++){if((i=o.parseCard8())>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");a.push(i)}else{if(3!==s)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+s);var l,c=o.parseCard16(),A=o.parseCard16();if(0!==A)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+A);for(var f=0;f<c;f++){if(i=o.parseCard8(),l=o.parseCard16(),i>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");if(l>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+l);for(;A<l;A++)a.push(i);A=l}if(l!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+l)}return a}(e,f,n.numGlyphs,h.length)}var p,v=t+c.private[1],g=DU(e,v,c.private[0],s.objects);if(n.defaultWidthX=g.defaultWidthX,n.nominalWidthX=g.nominalWidthX,0!==g.subrs){var m=v+g.subrs,y=IU(e,m);n.subrs=y.objects,n.subrsBias=TU(n.subrs)}else n.subrs=[],n.subrsBias=0;r.lowMemory?(p=function(e,t){var n,r,i=[],a=AU.getCard16(e,t);if(0!==a){var o=AU.getByte(e,t+2);n=t+(a+1)*o+2;for(var s=t+3,u=0;u<a+1;u+=1)i.push(AU.getOffset(e,s,o)),s+=o;r=n+i[a]}else r=t+2;return{offsets:i,startOffset:t,endOffset:r}}(e,t+c.charStrings),n.nGlyphs=p.offsets.length):(p=IU(e,t+c.charStrings),n.nGlyphs=p.objects.length);var b=function(e,t,n,r){var i,a,o=new AU.Parser(e,t);n-=1;var s=[".notdef"],u=o.parseCard8();if(0===u)for(var l=0;l<n;l+=1)i=o.parseSID(),s.push(RU(r,i));else if(1===u)for(;s.length<=n;){i=o.parseSID(),a=o.parseCard8();for(var c=0;c<=a;c+=1)s.push(RU(r,i)),i+=1}else{if(2!==u)throw new Error("Unknown charset format "+u);for(;s.length<=n;){i=o.parseSID(),a=o.parseCard16();for(var A=0;A<=a;A+=1)s.push(RU(r,i)),i+=1}}return s}(e,t+c.charset,n.nGlyphs,s.objects);if(0===c.encoding?n.cffEncoding=new bU(pU,b):1===c.encoding?n.cffEncoding=new bU(vU,b):n.cffEncoding=function(e,t,n){var r,i={},a=new AU.Parser(e,t),o=a.parseCard8();if(0===o)for(var s=a.parseCard8(),u=0;u<s;u+=1)i[r=a.parseCard8()]=u;else{if(1!==o)throw new Error("Unknown encoding format "+o);var l=a.parseCard8();r=1;for(var c=0;c<l;c+=1)for(var A=a.parseCard8(),f=a.parseCard8(),d=A;d<=A+f;d+=1)i[d]=r,r+=1}return new bU(i,n)}(e,t+c.encoding,b),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new SU.GlyphSet(n),r.lowMemory)n._push=function(r){var i=function(e,t,n,r,i){var a=AU.getCard16(n,r),o=0;0!==a&&(o=r+(a+1)*AU.getByte(n,r+2)+2);var s=AU.getBytes(n,o+t[e],o+t[e+1]);return i&&(s=i(s)),s}(r,p.offsets,e,t+c.charStrings);n.glyphs.push(r,SU.cffGlyphLoader(n,r,NU,i))};else for(var w=0;w<n.nGlyphs;w+=1){var x=p.objects[w];n.glyphs.push(w,SU.cffGlyphLoader(n,w,NU,x))}},make:function(e,t){for(var n,r=new rU.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/t.unitsPerEm,a={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o=[],s=1;s<e.length;s+=1)n=e.get(s),o.push(n.name);var u=[];r.header=new rU.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),r.nameIndex=function(e){var t=new rU.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}([t.postScriptName]);var l=jU(a,u);r.topDictIndex=zU(l),r.globalSubrIndex=new rU.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),r.charsets=function(e,t){for(var n=new rU.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var i=QU(e[r],t);n.fields.push({name:"glyph_"+r,type:"SID",value:i})}return n}(o,u),r.charStringsIndex=function(e){for(var t=new rU.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e.get(n),i=GU(r);t.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return t}(e),r.privateDict=function(e,t){var n=new rU.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=HU(OU,e,t),n}({},u),r.stringIndex=function(e){var t=new rU.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}(u);var c=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return a.charset=c,a.encoding=0,a.charStrings=a.charset+r.charsets.sizeOf(),a.private[1]=a.charStrings+r.charStringsIndex.sizeOf(),l=jU(a,u),r.topDictIndex=zU(l),r}};var WU={parse:function(e,t){var n={},r=new AU.Parser(e,t);return n.version=r.parseVersion(),n.fontRevision=Math.round(1e3*r.parseFixed())/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),OR.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,n=t;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new rU.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}};var KU={parse:function(e,t){var n={},r=new AU.Parser(e,t);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n},make:function(e){return new rU.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}};var XU={parse:function(e,t,n,r,i,a,o){o.lowMemory?function(e,t,n,r,i){var a,o;e._hmtxTableData={};for(var s=new AU.Parser(t,n),u=0;u<i;u+=1)u<r&&(a=s.parseUShort(),o=s.parseShort()),e._hmtxTableData[u]={advanceWidth:a,leftSideBearing:o}}(e,t,n,r,i):function(e,t,n,r,i){for(var a,o,s=new AU.Parser(e,t),u=0;u<r;u+=1){u<n&&(a=s.parseUShort(),o=s.parseShort());var l=i.get(u);l.advanceWidth=a,l.leftSideBearing=o}}(t,n,r,i,a)},make:function(e){for(var t=new rU.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=e.get(n),i=r.advanceWidth||0,a=r.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:a})}return t}};var qU={make:function(e){for(var t=new rU.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",r=12+4*e.length,i=0;i<e.length;++i){var a=n.indexOf(e[i]);a<0&&(a=n.length,n+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:r+a}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),t},parse:function(e,t){var n=new AU.Parser(e,t),r=n.parseULong();OR.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),a=[],o=0;o<i;o++){for(var s="",u=t+n.parseUShort(),l=n.parseUShort(),c=u;c<u+l;++c)s+=String.fromCharCode(e.getInt8(c));a.push(s)}return a}};var YU={parse:function(e,t){var n={},r=new AU.Parser(e,t);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n},make:function(e){return new rU.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},ZU=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],JU={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},$U={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},eF={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function tF(e,t,n){switch(e){case 0:if(65535===t)return"und";if(n)return n[t];break;case 1:return JU[t];case 3:return eF[t]}}var nF="utf-16",rF={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},iF={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function aF(e,t,n){switch(e){case 0:return nF;case 1:return iF[n]||rF[t];case 3:if(1===t||10===t)return nF}}function oF(e){var t={};for(var n in e)t[e[n]]=parseInt(n);return t}function sF(e,t,n,r,i,a){return new rU.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:a}])}function uF(e,t){var n=function(e,t){var n=e.length,r=t.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var a=0;a<n;a++)if(t[i+a]!==e[a])continue e;return i}return-1}(e,t);if(n<0){n=t.length;for(var r=0,i=e.length;r<i;++r)t.push(e[r])}return n}var lF={parse:function(e,t,n){for(var r={},i=new AU.Parser(e,t),a=i.parseUShort(),o=i.parseUShort(),s=i.offset+i.parseUShort(),u=0;u<o;u++){var l=i.parseUShort(),c=i.parseUShort(),A=i.parseUShort(),f=i.parseUShort(),d=ZU[f]||f,h=i.parseUShort(),p=i.parseUShort(),v=tF(l,A,n),g=aF(l,c,A);if(void 0!==g&&void 0!==v){var m=void 0;if(m=g===nF?DR.UTF16(e,s+p,h):DR.MACSTRING(e,s+p,h,g)){var y=r[d];void 0===y&&(y=r[d]={}),y[v]=m}}}return 1===a&&i.parseUShort(),r},make:function(e,t){var n,r=[],i={},a=oF(ZU);for(var o in e){var s=a[o];if(void 0===s&&(s=o),n=parseInt(s),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');i[n]=e[o],r.push(n)}for(var u=oF(JU),l=oF(eF),c=[],A=[],f=0;f<r.length;f++){var d=i[n=r[f]];for(var h in d){var p=d[h],v=1,g=u[h],m=$U[g],y=aF(v,m,g),b=LR.MACSTRING(p,y);void 0===b&&(v=0,(g=t.indexOf(h))<0&&(g=t.length,t.push(h)),m=4,b=LR.UTF16(p));var w=uF(b,A);c.push(sF(v,m,g,n,b.length,w));var x=l[h];if(void 0!==x){var _=LR.UTF16(p),C=uF(_,A);c.push(sF(3,1,x,n,_.length,C))}}}c.sort((function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID}));for(var E=new rU.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+12*c.length}]),S=0;S<c.length;S++)E.fields.push({name:"record_"+S,type:"RECORD",value:c[S]});return E.fields.push({name:"strings",type:"LITERAL",value:A}),E}},cF=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var AF={parse:function(e,t){var n={},r=new AU.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n},make:function(e){return new rU.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:cF,getUnicodeRange:function(e){for(var t=0;t<cF.length;t+=1){var n=cF[t];if(e>=n.begin&&e<n.end)return t}return-1}};var fF={parse:function(e,t){var n={},r=new AU.Parser(e,t);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=gU.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var a=0;a<n.numberOfGlyphs;a++)if(n.glyphNameIndex[a]>=gU.length){var o=r.parseChar();n.names.push(r.parseString(o))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var s=0;s<n.numberOfGlyphs;s++)n.offset[s]=r.parseChar()}return n},make:function(){return new rU.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},dF=new Array(9);dF[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(lU.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(lU.coverage),substitute:this.parseOffset16List()}:void OR.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},dF[2]=function(){var e=this.parseUShort();return OR.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(lU.coverage),sequences:this.parseListOfLists()}},dF[3]=function(){var e=this.parseUShort();return OR.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(lU.coverage),alternateSets:this.parseListOfLists()}},dF[4]=function(){var e=this.parseUShort();return OR.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(lU.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}};var hF={sequenceIndex:lU.uShort,lookupListIndex:lU.uShort};dF[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(lU.coverage),ruleSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,hF)}}))};if(2===t)return{substFormat:t,coverage:this.parsePointer(lU.coverage),classDef:this.parsePointer(lU.classDef),classSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,hF)}}))};if(3===t){var n=this.parseUShort(),r=this.parseUShort();return{substFormat:t,coverages:this.parseList(n,lU.pointer(lU.coverage)),lookupRecords:this.parseRecordList(r,hF)}}OR.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},dF[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(lU.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(hF)}}))}:2===t?{substFormat:2,coverage:this.parsePointer(lU.coverage),backtrackClassDef:this.parsePointer(lU.classDef),inputClassDef:this.parsePointer(lU.classDef),lookaheadClassDef:this.parsePointer(lU.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(hF)}}))}:3===t?{substFormat:3,backtrackCoverage:this.parseList(lU.pointer(lU.coverage)),inputCoverage:this.parseList(lU.pointer(lU.coverage)),lookaheadCoverage:this.parseList(lU.pointer(lU.coverage)),lookupRecords:this.parseRecordList(hF)}:void OR.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},dF[7]=function(){var e=this.parseUShort();OR.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),n=new lU(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:dF[t].call(n)}},dF[8]=function(){var e=this.parseUShort();return OR.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(lU.coverage),backtrackCoverage:this.parseList(lU.pointer(lU.coverage)),lookaheadCoverage:this.parseList(lU.pointer(lU.coverage)),substitutes:this.parseUShortList()}};var pF=new Array(9);pF[1]=function(e){return 1===e.substFormat?new rU.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new rU.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new rU.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new rU.Coverage(e.coverage)}].concat(rU.ushortList("substitute",e.substitute)))},pF[2]=function(e){return OR.assert(1===e.substFormat,"Lookup type 2 substFormat must be 1."),new rU.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new rU.Coverage(e.coverage)}].concat(rU.tableList("seqSet",e.sequences,(function(e){return new rU.Table("sequenceSetTable",rU.ushortList("sequence",e))}))))},pF[3]=function(e){return OR.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new rU.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new rU.Coverage(e.coverage)}].concat(rU.tableList("altSet",e.alternateSets,(function(e){return new rU.Table("alternateSetTable",rU.ushortList("alternate",e))}))))},pF[4]=function(e){return OR.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new rU.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new rU.Coverage(e.coverage)}].concat(rU.tableList("ligSet",e.ligatureSets,(function(e){return new rU.Table("ligatureSetTable",rU.tableList("ligature",e,(function(e){return new rU.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(rU.ushortList("component",e.components,e.components.length+1)))})))}))))},pF[6]=function(e){if(1===e.substFormat){var t=new rU.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new rU.Coverage(e.coverage)}].concat(rU.tableList("chainRuleSet",e.chainRuleSets,(function(e){return new rU.Table("chainRuleSetTable",rU.tableList("chainRule",e,(function(e){var t=rU.ushortList("backtrackGlyph",e.backtrack,e.backtrack.length).concat(rU.ushortList("inputGlyph",e.input,e.input.length+1)).concat(rU.ushortList("lookaheadGlyph",e.lookahead,e.lookahead.length)).concat(rU.ushortList("substitution",[],e.lookupRecords.length));return e.lookupRecords.forEach((function(e,n){t=t.concat({name:"sequenceIndex"+n,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+n,type:"USHORT",value:e.lookupListIndex})})),new rU.Table("chainRuleTable",t)})))}))));return t}if(2===e.substFormat)OR.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(3===e.substFormat){var n=[{name:"substFormat",type:"USHORT",value:e.substFormat}];return n.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach((function(e,t){n.push({name:"backtrackCoverage"+t,type:"TABLE",value:new rU.Coverage(e)})})),n.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach((function(e,t){n.push({name:"inputCoverage"+t,type:"TABLE",value:new rU.Coverage(e)})})),n.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach((function(e,t){n.push({name:"lookaheadCoverage"+t,type:"TABLE",value:new rU.Coverage(e)})})),n.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach((function(e,t){n=n.concat({name:"sequenceIndex"+t,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+t,type:"USHORT",value:e.lookupListIndex})})),new rU.Table("chainContextTable",n)}OR.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};var vF={parse:function(e,t){var n=new lU(e,t=t||0),r=n.parseVersion(1);return OR.argument(1===r||1.1===r,"Unsupported GSUB table version."),1===r?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(dF)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(dF),variations:n.parseFeatureVariationsList()}},make:function(e){return new rU.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new rU.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new rU.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new rU.LookupList(e.lookups,pF)}])}};var gF={parse:function(e,t){var n=new AU.Parser(e,t),r=n.parseULong();OR.argument(1===r,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),a={},o=0;o<i;o++){var s=n.parseTag(),u=n.parseULong(),l=n.parseULong(),c=DR.UTF8(e,t+u,l);a[s]=c}return a},make:function(e){var t=Object.keys(e).length,n="",r=16+12*t,i=new rU.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:t}]);for(var a in e){var o=n.length;n+=e[a],i.fields.push({name:"tag "+a,type:"TAG",value:a}),i.fields.push({name:"offset "+a,type:"ULONG",value:r+o}),i.fields.push({name:"length "+a,type:"ULONG",value:e[a].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}};function mF(e){return Math.log(e)/Math.log(2)|0}function yF(e){for(;e.length%4!==0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%=Math.pow(2,32)}function bF(e,t,n,r){return new rU.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function wF(e){var t=new rU.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var n=Math.pow(2,mF(t.numTables));t.searchRange=16*n,t.entrySelector=mF(n),t.rangeShift=16*t.numTables-t.searchRange;for(var r=[],i=[],a=t.sizeOf()+bF().sizeOf()*t.numTables;a%4!==0;)a+=1,i.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<e.length;o+=1){var s=e[o];OR.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid.");var u=s.sizeOf(),l=bF(s.tableName,yF(s.encode()),a,u);for(r.push({name:l.tag+" Table Record",type:"RECORD",value:l}),i.push({name:s.tableName+" table",type:"RECORD",value:s}),a+=u,OR.argument(!isNaN(a),"Something went wrong calculating the offset.");a%4!==0;)a+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort((function(e,t){return e.value.tag>t.value.tag?1:-1})),t.fields=t.fields.concat(r),t.fields=t.fields.concat(i),t}function xF(e,t,n){for(var r=0;r<t.length;r+=1){var i=e.charToGlyphIndex(t[r]);if(i>0)return e.glyphs.get(i).getMetrics()}return n}function _F(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}var CF={make:wF,fontToTable:function(e){for(var t,n=[],r=[],i=[],a=[],o=[],s=[],u=[],l=0,c=0,A=0,f=0,d=0,h=0;h<e.glyphs.length;h+=1){var p=e.glyphs.get(h),v=0|p.unicode;if(isNaN(p.advanceWidth))throw new Error("Glyph "+p.name+" ("+h+"): advanceWidth is not a number.");(t>v||void 0===t)&&v>0&&(t=v),l<v&&(l=v);var g=AF.getUnicodeRange(v);if(g<32)c|=1<<g;else if(g<64)A|=1<<g-32;else if(g<96)f|=1<<g-64;else{if(!(g<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");d|=1<<g-96}if(".notdef"!==p.name){var m=p.getMetrics();n.push(m.xMin),r.push(m.yMin),i.push(m.xMax),a.push(m.yMax),s.push(m.leftSideBearing),u.push(m.rightSideBearing),o.push(p.advanceWidth)}}var y={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,a),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:_F(o),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,u)};y.ascender=e.ascender,y.descender=e.descender;var b=WU.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:y.xMin,yMin:y.yMin,xMax:y.xMax,yMax:y.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),w=KU.make({ascender:y.ascender,descender:y.descender,advanceWidthMax:y.advanceWidthMax,minLeftSideBearing:y.minLeftSideBearing,minRightSideBearing:y.minRightSideBearing,xMaxExtent:y.maxLeftSideBearing+(y.xMax-y.xMin),numberOfHMetrics:e.glyphs.length}),x=YU.make(e.glyphs.length),_=AF.make(Object.assign({xAvgCharWidth:Math.round(y.advanceWidthAvg),usFirstCharIndex:t,usLastCharIndex:l,ulUnicodeRange1:c,ulUnicodeRange2:A,ulUnicodeRange3:f,ulUnicodeRange4:d,sTypoAscender:y.ascender,sTypoDescender:y.descender,sTypoLineGap:0,usWinAscent:y.yMax,usWinDescent:Math.abs(y.yMin),ulCodePageRange1:1,sxHeight:xF(e,"xyvw",{yMax:Math.round(y.ascender/2)}).yMax,sCapHeight:xF(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",y).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),C=XU.make(e.glyphs),E=dU.make(e.glyphs),S=e.getEnglishName("fontFamily"),B=e.getEnglishName("fontSubfamily"),T=S+" "+B,I=e.getEnglishName("postScriptName");I||(I=S.replace(/\s/g,"")+"-"+B);var k={};for(var M in e.names)k[M]=e.names[M];k.uniqueID||(k.uniqueID={en:e.getEnglishName("manufacturer")+":"+T}),k.postScriptName||(k.postScriptName={en:I}),k.preferredFamily||(k.preferredFamily=e.names.fontFamily),k.preferredSubfamily||(k.preferredSubfamily=e.names.fontSubfamily);var R=[],U=lF.make(k,R),F=R.length>0?qU.make(R):void 0,O=fF.make(),P=VU.make(e.glyphs,{version:e.getEnglishName("version"),fullName:T,familyName:S,weightName:B,postScriptName:I,unitsPerEm:e.unitsPerEm,fontBBox:[0,y.yMin,y.ascender,y.advanceWidthMax]}),D=e.metas&&Object.keys(e.metas).length>0?gF.make(e.metas):void 0,L=[b,w,x,_,U,E,O,P,C];F&&L.push(F),e.tables.gsub&&L.push(vF.make(e.tables.gsub)),D&&L.push(D);for(var N=wF(L),Q=yF(N.encode()),H=N.fields,j=!1,z=0;z<H.length;z+=1)if("head table"===H[z].name){H[z].value.checkSumAdjustment=2981146554-Q,j=!0;break}if(!j)throw new Error("Could not find head table with checkSum to adjust.");return N},computeCheckSum:yF};function EF(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,a=e[i].tag;if(a===t)return i;a<t?n=i+1:r=i-1}return-n-1}function SF(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,a=e[i];if(a===t)return i;a<t?n=i+1:r=i-1}return-n-1}function BF(e,t){for(var n,r=0,i=e.length-1;r<=i;){var a=r+i>>>1,o=(n=e[a]).start;if(o===t)return n;o<t?r=a+1:i=a-1}if(r>0)return t>(n=e[r-1]).end?0:n}function TF(e,t){this.font=e,this.tableName=t}function IF(e){TF.call(this,e,"gpos")}function kF(e){TF.call(this,e,"gsub")}function MF(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function RF(e,t,n){for(var r=e.subtables,i=0;i<r.length;i++){var a=r[i];if(a.substFormat===t)return a}if(n)return r.push(n),n}function UF(e,t){if(!e)throw t}function FF(e,t,n,r,i){var a;return(t&r)>0?(a=e.parseByte(),0===(t&i)&&(a=-a),a=n+a):a=(t&i)>0?n:n+e.parseShort(),a}function OF(e,t,n){var r,i,a=new AU.Parser(t,n);if(e.numberOfContours=a.parseShort(),e._xMin=a.parseShort(),e._yMin=a.parseShort(),e._xMax=a.parseShort(),e._yMax=a.parseShort(),e.numberOfContours>0){for(var o=e.endPointIndices=[],s=0;s<e.numberOfContours;s+=1)o.push(a.parseUShort());e.instructionLength=a.parseUShort(),e.instructions=[];for(var u=0;u<e.instructionLength;u+=1)e.instructions.push(a.parseByte());var l=o[o.length-1]+1;r=[];for(var c=0;c<l;c+=1)if(i=a.parseByte(),r.push(i),(8&i)>0)for(var A=a.parseByte(),f=0;f<A;f+=1)r.push(i),c+=1;if(OR.argument(r.length===l,"Bad flags."),o.length>0){var d,h=[];if(l>0){for(var p=0;p<l;p+=1)i=r[p],(d={}).onCurve=!!(1&i),d.lastPointOfContour=o.indexOf(p)>=0,h.push(d);for(var v=0,g=0;g<l;g+=1)i=r[g],(d=h[g]).x=FF(a,i,v,2,16),v=d.x;for(var m=0,y=0;y<l;y+=1)i=r[y],(d=h[y]).y=FF(a,i,m,4,32),m=d.y}e.points=h}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var b=!0;b;){r=a.parseUShort();var w={glyphIndex:a.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&r)>0?(2&r)>0?(w.dx=a.parseShort(),w.dy=a.parseShort()):w.matchedPoints=[a.parseUShort(),a.parseUShort()]:(2&r)>0?(w.dx=a.parseChar(),w.dy=a.parseChar()):w.matchedPoints=[a.parseByte(),a.parseByte()],(8&r)>0?w.xScale=w.yScale=a.parseF2Dot14():(64&r)>0?(w.xScale=a.parseF2Dot14(),w.yScale=a.parseF2Dot14()):(128&r)>0&&(w.xScale=a.parseF2Dot14(),w.scale01=a.parseF2Dot14(),w.scale10=a.parseF2Dot14(),w.yScale=a.parseF2Dot14()),e.components.push(w),b=!!(32&r)}if(256&r){e.instructionLength=a.parseUShort(),e.instructions=[];for(var x=0;x<e.instructionLength;x+=1)e.instructions.push(a.parseByte())}}}function PF(e,t){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],a={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(a)}return n}function DF(e){var t=new RR;if(!e)return t;for(var n=function(e){for(var t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];n.push(i),i.lastPointOfContour&&(t.push(n),n=[])}return OR.argument(0===n.length,"There are still points left in the current contour."),t}(e),r=0;r<n.length;++r){var i=n[r],a=null,o=i[i.length-1],s=i[0];if(o.onCurve)t.moveTo(o.x,o.y);else if(s.onCurve)t.moveTo(s.x,s.y);else{var u={x:.5*(o.x+s.x),y:.5*(o.y+s.y)};t.moveTo(u.x,u.y)}for(var l=0;l<i.length;++l)if(a=o,o=s,s=i[(l+1)%i.length],o.onCurve)t.lineTo(o.x,o.y);else{var c=s;a.onCurve||{x:.5*(o.x+a.x),y:.5*(o.y+a.y)},s.onCurve||(c={x:.5*(o.x+s.x),y:.5*(o.y+s.y)}),t.quadraticCurveTo(o.x,o.y,c.x,c.y)}t.closePath()}return t}function LF(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var r=t.components[n],i=e.get(r.glyphIndex);if(i.getPath(),i.points){var a=void 0;if(void 0===r.matchedPoints)a=PF(i.points,r);else{if(r.matchedPoints[0]>t.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+t.name);var o=t.points[r.matchedPoints[0]],s=i.points[r.matchedPoints[1]],u={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};s=PF([s],u)[0],u.dx=o.x-s.x,u.dy=o.y-s.y,a=PF(i.points,u)}t.points=t.points.concat(a)}}return DF(t.points)}TF.prototype={searchTag:EF,binSearch:SF,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,n=0;n<e.scripts.length;n++){var r=e.scripts[n].tag;if("DFLT"===r)return r;"latn"===r&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var n=this.getTable(t);if(n){e=e||"DFLT";var r=n.scripts,i=EF(n.scripts,e);if(i>=0)return r[i].script;if(t){var a={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,a),a.script}}},getLangSysTable:function(e,t,n){var r=this.getScriptTable(e,n);if(r){if(!t||"dflt"===t||"DFLT"===t)return r.defaultLangSys;var i=EF(r.langSysRecords,t);if(i>=0)return r.langSysRecords[i].langSys;if(n){var a={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,a),a.langSys}}},getFeatureTable:function(e,t,n,r){var i=this.getLangSysTable(e,t,r);if(i){for(var a,o=i.featureIndexes,s=this.font.tables[this.tableName].features,u=0;u<o.length;u++)if((a=s[o[u]]).tag===n)return a.feature;if(r){var l=s.length;return OR.assert(0===l||n>=s[l-1].tag,"Features must be added in alphabetical order."),a={tag:n,feature:{params:0,lookupListIndexes:[]}},s.push(a),o.push(l),a.feature}}},getLookupTables:function(e,t,n,r,i){var a=this.getFeatureTable(e,t,n,i),o=[];if(a){for(var s,u=a.lookupListIndexes,l=this.font.tables[this.tableName].lookups,c=0;c<u.length;c++)(s=l[u[c]]).lookupType===r&&o.push(s);if(0===o.length&&i){s={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var A=l.length;return l.push(s),u.push(A),[s]}}return o},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var n=BF(e.ranges,t);return n?n.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var n=SF(e.glyphs,t);return n>=0?n:-1;case 2:var r=BF(e.ranges,t);return r?r.index+t-r.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],n=e.ranges,r=0;r<n.length;r++)for(var i=n[r],a=i.start,o=i.end,s=a;s<=o;s++)t.push(s);return t}},IF.prototype=TF.prototype,IF.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},IF.prototype.getKerningValue=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=e[r].subtables,a=0;a<i.length;a++){var o=i[a],s=this.getCoverageIndex(o.coverage,t);if(!(s<0))switch(o.posFormat){case 1:for(var u=o.pairSets[s],l=0;l<u.length;l++){var c=u[l];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var A=this.getGlyphClass(o.classDef1,t),f=this.getGlyphClass(o.classDef2,n),d=o.classRecords[A][f];return d.value1&&d.value1.xAdvance||0}}return 0},IF.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},kF.prototype=TF.prototype,kF.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},kF.prototype.getSingle=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,1),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++){var u=o[s],l=this.expandCoverage(u.coverage),c=void 0;if(1===u.substFormat){var A=u.deltaGlyphId;for(c=0;c<l.length;c++){var f=l[c];r.push({sub:f,by:f+A})}}else{var d=u.substitute;for(c=0;c<l.length;c++)r.push({sub:l[c],by:d[c]})}}return r},kF.prototype.getMultiple=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,2),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++){var u=o[s],l=this.expandCoverage(u.coverage),c=void 0;for(c=0;c<l.length;c++){var A=l[c],f=u.sequences[c];r.push({sub:A,by:f})}}return r},kF.prototype.getAlternates=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,3),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++)for(var u=o[s],l=this.expandCoverage(u.coverage),c=u.alternateSets,A=0;A<l.length;A++)r.push({sub:l[A],by:c[A]});return r},kF.prototype.getLigatures=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,4),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++)for(var u=o[s],l=this.expandCoverage(u.coverage),c=u.ligatureSets,A=0;A<l.length;A++)for(var f=l[A],d=c[A],h=0;h<d.length;h++){var p=d[h];r.push({sub:[f].concat(p.components),by:p.ligGlyph})}return r},kF.prototype.addSingle=function(e,t,n,r){var i=RF(this.getLookupTables(n,r,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});OR.assert(1===i.coverage.format,"Single: unable to modify coverage table format "+i.coverage.format);var a=t.sub,o=this.binSearch(i.coverage.glyphs,a);o<0&&(o=-1-o,i.coverage.glyphs.splice(o,0,a),i.substitute.splice(o,0,0)),i.substitute[o]=t.by},kF.prototype.addMultiple=function(e,t,n,r){OR.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=RF(this.getLookupTables(n,r,e,2,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});OR.assert(1===i.coverage.format,"Multiple: unable to modify coverage table format "+i.coverage.format);var a=t.sub,o=this.binSearch(i.coverage.glyphs,a);o<0&&(o=-1-o,i.coverage.glyphs.splice(o,0,a),i.sequences.splice(o,0,0)),i.sequences[o]=t.by},kF.prototype.addAlternate=function(e,t,n,r){var i=RF(this.getLookupTables(n,r,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});OR.assert(1===i.coverage.format,"Alternate: unable to modify coverage table format "+i.coverage.format);var a=t.sub,o=this.binSearch(i.coverage.glyphs,a);o<0&&(o=-1-o,i.coverage.glyphs.splice(o,0,a),i.alternateSets.splice(o,0,0)),i.alternateSets[o]=t.by},kF.prototype.addLigature=function(e,t,n,r){var i=this.getLookupTables(n,r,e,4,!0)[0],a=i.subtables[0];a||(a={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=a),OR.assert(1===a.coverage.format,"Ligature: unable to modify coverage table format "+a.coverage.format);var o=t.sub[0],s=t.sub.slice(1),u={ligGlyph:t.by,components:s},l=this.binSearch(a.coverage.glyphs,o);if(l>=0){for(var c=a.ligatureSets[l],A=0;A<c.length;A++)if(MF(c[A].components,s))return;c.push(u)}else l=-1-l,a.coverage.glyphs.splice(l,0,o),a.ligatureSets.splice(l,0,[u])},kF.prototype.getFeature=function(e,t,n){if(/ss\d\d/.test(e))return this.getSingle(e,t,n);switch(e){case"aalt":case"salt":return this.getSingle(e,t,n).concat(this.getAlternates(e,t,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,n);case"ccmp":return this.getMultiple(e,t,n).concat(this.getLigatures(e,t,n));case"stch":return this.getMultiple(e,t,n)}},kF.prototype.add=function(e,t,n,r){if(/ss\d\d/.test(e))return this.addSingle(e,t,n,r);switch(e){case"aalt":case"salt":return"number"===typeof t.by?this.addSingle(e,t,n,r):this.addAlternate(e,t,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,n,r);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,n,r):this.addLigature(e,t,n,r)}};var NF,QF,HF,jF,zF={getPath:DF,parse:function(e,t,n,r,i){return i.lowMemory?function(e,t,n,r){var i=new SU.GlyphSet(r);return r._push=function(a){var o=n[a];o!==n[a+1]?i.push(a,SU.ttfGlyphLoader(r,a,OF,e,t+o,LF)):i.push(a,SU.glyphLoader(r,a))},i}(e,t,n,r):function(e,t,n,r){for(var i=new SU.GlyphSet(r),a=0;a<n.length-1;a+=1){var o=n[a];o!==n[a+1]?i.push(a,SU.ttfGlyphLoader(r,a,OF,e,t+o,LF)):i.push(a,SU.glyphLoader(r,a))}return i}(e,t,n,r)}};function GF(e){this.font=e,this.getCommands=function(e){return zF.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function VF(e){return e}function WF(e){return Math.sign(e)*Math.round(Math.abs(e))}function KF(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function XF(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function qF(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function YF(e){return Math.sign(e)*Math.floor(Math.abs(e))}var ZF=function(e){var t=this.srPeriod,n=this.srPhase,r=1;return e<0&&(e=-e,r=-1),e+=this.srThreshold-n,e=Math.trunc(e/t)*t,(e+=n)<0?n*r:e*r},JF={x:1,y:0,axis:"x",distance:function(e,t,n,r){return(n?e.xo:e.x)-(r?t.xo:t.x)},interpolate:function(e,t,n,r){var i,a,o,s,u,l,c;if(!r||r===this)return i=e.xo-t.xo,a=e.xo-n.xo,u=t.x-t.xo,l=n.x-n.xo,0===(c=(o=Math.abs(i))+(s=Math.abs(a)))?void(e.x=e.xo+(u+l)/2):void(e.x=e.xo+(u*s+l*o)/c);i=r.distance(e,t,!0,!0),a=r.distance(e,n,!0,!0),u=r.distance(t,t,!1,!0),l=r.distance(n,n,!1,!0),0!==(c=(o=Math.abs(i))+(s=Math.abs(a)))?JF.setRelative(e,e,(u*s+l*o)/c,r,!0):JF.setRelative(e,e,(u+l)/2,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,n,r,i){if(r&&r!==this){var a=i?t.xo:t.x,o=i?t.yo:t.y,s=a+n*r.x,u=o+n*r.y;e.x=s+(e.y-u)/r.normalSlope}else e.x=(i?t.xo:t.x)+n},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},$F={x:0,y:1,axis:"y",distance:function(e,t,n,r){return(n?e.yo:e.y)-(r?t.yo:t.y)},interpolate:function(e,t,n,r){var i,a,o,s,u,l,c;if(!r||r===this)return i=e.yo-t.yo,a=e.yo-n.yo,u=t.y-t.yo,l=n.y-n.yo,0===(c=(o=Math.abs(i))+(s=Math.abs(a)))?void(e.y=e.yo+(u+l)/2):void(e.y=e.yo+(u*s+l*o)/c);i=r.distance(e,t,!0,!0),a=r.distance(e,n,!0,!0),u=r.distance(t,t,!1,!0),l=r.distance(n,n,!1,!0),0!==(c=(o=Math.abs(i))+(s=Math.abs(a)))?$F.setRelative(e,e,(u*s+l*o)/c,r,!0):$F.setRelative(e,e,(u+l)/2,r,!0)},normalSlope:0,setRelative:function(e,t,n,r,i){if(r&&r!==this){var a=i?t.xo:t.x,o=i?t.yo:t.y,s=a+n*r.x,u=o+n*r.y;e.y=u+r.normalSlope*(e.x-s)}else e.y=(i?t.yo:t.y)+n},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function eO(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function tO(e,t){var n=Math.sqrt(e*e+t*t);return t/=n,1===(e/=n)&&0===t?JF:0===e&&1===t?$F:new eO(e,t)}function nO(e,t,n,r){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(JF),Object.freeze($F),eO.prototype.distance=function(e,t,n,r){return this.x*JF.distance(e,t,n,r)+this.y*$F.distance(e,t,n,r)},eO.prototype.interpolate=function(e,t,n,r){var i,a,o,s,u,l,c;o=r.distance(e,t,!0,!0),s=r.distance(e,n,!0,!0),i=r.distance(t,t,!1,!0),a=r.distance(n,n,!1,!0),0!==(c=(u=Math.abs(o))+(l=Math.abs(s)))?this.setRelative(e,e,(i*l+a*u)/c,r,!0):this.setRelative(e,e,(i+a)/2,r,!0)},eO.prototype.setRelative=function(e,t,n,r,i){r=r||this;var a=i?t.xo:t.x,o=i?t.yo:t.y,s=a+n*r.x,u=o+n*r.y,l=r.normalSlope,c=this.slope,A=e.x,f=e.y;e.x=(c*A-l*s+u-f)/(c-l),e.y=c*(e.x-A)+f},eO.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},nO.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},nO.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var rO=Object.freeze(new nO(0,0)),iO={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function aO(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=JF,this.round=WF}}function oO(e){for(var t=e.tZone=new Array(e.gZone.length),n=0;n<t.length;n++)t[n]=new nO(0,0)}function sO(e,t){var n,r=e.prog,i=e.ip,a=1;do{if(88===(n=r[++i]))a++;else if(89===n)a--;else if(64===n)i+=r[i+1]+1;else if(65===n)i+=2*r[i+1]+1;else if(n>=176&&n<=183)i+=n-176+1;else if(n>=184&&n<=191)i+=2*(n-184+1);else if(t&&1===a&&27===n)break}while(a>0);e.ip=i}function uO(e,t){exports.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function lO(e,t){exports.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function cO(e,t){exports.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function AO(e,t){var n,r,i=t.stack,a=i.pop(),o=i.pop(),s=t.z2[a],u=t.z1[o];exports.DEBUG&&console.log("SPVTL["+e+"]",a,o),e?(n=s.y-u.y,r=u.x-s.x):(n=u.x-s.x,r=u.y-s.y),t.pv=t.dpv=tO(n,r)}function fO(e,t){var n,r,i=t.stack,a=i.pop(),o=i.pop(),s=t.z2[a],u=t.z1[o];exports.DEBUG&&console.log("SFVTL["+e+"]",a,o),e?(n=s.y-u.y,r=u.x-s.x):(n=u.x-s.x,r=u.y-s.y),t.fv=tO(n,r)}function dO(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function hO(e,t){var n=t.stack.pop(),r=t.z0[n],i=t.fv,a=t.pv;exports.DEBUG&&console.log(t.step,"MDAP["+e+"]",n);var o=a.distance(r,rO);e&&(o=t.round(o)),i.setRelative(r,rO,o,a),i.touch(r),t.rp0=t.rp1=n}function pO(e,t){var n,r,i,a=t.z2,o=a.length-2;exports.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var s=0;s<o;s++)n=a[s],e.touched(n)||(r=n.prevTouched(e))!==n&&(r===(i=n.nextTouched(e))&&e.setRelative(n,n,e.distance(r,r,!1,!0),e,!0),e.interpolate(n,r,i,e))}function vO(e,t){for(var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],a=t.fv,o=t.pv,s=t.loop,u=t.z2;s--;){var l=n.pop(),c=u[l],A=o.distance(i,i,!1,!0);a.setRelative(c,c,A,o),a.touch(c),exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-s)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",l)}t.loop=1}function gO(e,t){var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],a=t.fv,o=t.pv,s=n.pop(),u=t.z2[t.contours[s]],l=u;exports.DEBUG&&console.log(t.step,"SHC["+e+"]",s);var c=o.distance(i,i,!1,!0);do{l!==i&&a.setRelative(l,l,c,o),l=l.nextPointOnContour}while(l!==u)}function mO(e,t){var n,r,i=t.stack,a=e?t.rp1:t.rp2,o=(e?t.z0:t.z1)[a],s=t.fv,u=t.pv,l=i.pop();switch(exports.DEBUG&&console.log(t.step,"SHZ["+e+"]",l),l){case 0:n=t.tZone;break;case 1:n=t.gZone;break;default:throw new Error("Invalid zone")}for(var c=u.distance(o,o,!1,!0),A=n.length-2,f=0;f<A;f++)r=n[f],s.setRelative(r,r,c,u)}function yO(e,t){var n=t.stack,r=n.pop()/64,i=n.pop(),a=t.z1[i],o=t.z0[t.rp0],s=t.fv,u=t.pv;s.setRelative(a,o,r,u),s.touch(a),exports.DEBUG&&console.log(t.step,"MSIRP["+e+"]",r,i),t.rp1=t.rp0,t.rp2=i,e&&(t.rp0=i)}function bO(e,t){var n=t.stack,r=n.pop(),i=n.pop(),a=t.z0[i],o=t.fv,s=t.pv,u=t.cvt[r];exports.DEBUG&&console.log(t.step,"MIAP["+e+"]",r,"(",u,")",i);var l=s.distance(a,rO);e&&(Math.abs(l-u)<t.cvCutIn&&(l=u),l=t.round(l)),o.setRelative(a,rO,l,s),0===t.zp0&&(a.xo=a.x,a.yo=a.y),o.touch(a),t.rp0=t.rp1=i}function wO(e,t){var n=t.stack,r=n.pop(),i=t.z2[r];exports.DEBUG&&console.log(t.step,"GC["+e+"]",r),n.push(64*t.dpv.distance(i,rO,e,!1))}function xO(e,t){var n=t.stack,r=n.pop(),i=n.pop(),a=t.z1[r],o=t.z0[i],s=t.dpv.distance(o,a,e,e);exports.DEBUG&&console.log(t.step,"MD["+e+"]",r,i,"->",s),t.stack.push(Math.round(64*s))}function _O(e,t){var n=t.stack,r=n.pop(),i=t.fv,a=t.pv,o=t.ppem,s=t.deltaBase+16*(e-1),u=t.deltaShift,l=t.z0;exports.DEBUG&&console.log(t.step,"DELTAP["+e+"]",r,n);for(var c=0;c<r;c++){var A=n.pop(),f=n.pop();if(s+((240&f)>>4)===o){var d=(15&f)-8;d>=0&&d++,exports.DEBUG&&console.log(t.step,"DELTAPFIX",A,"by",d*u);var h=l[A];i.setRelative(h,h,d*u,a)}}}function CO(e,t){var n=t.stack,r=n.pop();exports.DEBUG&&console.log(t.step,"ROUND[]"),n.push(64*t.round(r/64))}function EO(e,t){var n=t.stack,r=n.pop(),i=t.ppem,a=t.deltaBase+16*(e-1),o=t.deltaShift;exports.DEBUG&&console.log(t.step,"DELTAC["+e+"]",r,n);for(var s=0;s<r;s++){var u=n.pop(),l=n.pop();if(a+((240&l)>>4)===i){var c=(15&l)-8;c>=0&&c++;var A=c*o;exports.DEBUG&&console.log(t.step,"DELTACFIX",u,"by",A),t.cvt[u]+=A}}}function SO(e,t){var n,r,i=t.stack,a=i.pop(),o=i.pop(),s=t.z2[a],u=t.z1[o];exports.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",a,o),e?(n=s.y-u.y,r=u.x-s.x):(n=u.x-s.x,r=u.y-s.y),t.dpv=tO(n,r)}function BO(e,t){var n=t.stack,r=t.prog,i=t.ip;exports.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var a=0;a<e;a++)n.push(r[++i]);t.ip=i}function TO(e,t){var n=t.ip,r=t.prog,i=t.stack;exports.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var a=0;a<e;a++){var o=r[++n]<<8|r[++n];32768&o&&(o=-(1+(65535^o))),i.push(o)}t.ip=n}function IO(e,t,n,r,i,a){var o,s,u,l,c=a.stack,A=e&&c.pop(),f=c.pop(),d=a.rp0,h=a.z0[d],p=a.z1[f],v=a.minDis,g=a.fv,m=a.dpv;u=(s=o=m.distance(p,h,!0,!0))>=0?1:-1,s=Math.abs(s),e&&(l=a.cvt[A],r&&Math.abs(s-l)<a.cvCutIn&&(s=l)),n&&s<v&&(s=v),r&&(s=a.round(s)),g.setRelative(p,h,u*s,m),g.touch(p),exports.DEBUG&&console.log(a.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(n?">":"_")+(r?"R":"_")+(0===i?"Gr":1===i?"Bl":2===i?"Wh":"")+"]",e?A+"("+a.cvt[A]+","+l+")":"",f,"(d =",o,"->",u*s,")"),a.rp1=a.rp0,a.rp2=f,t&&(a.rp0=f)}function kO(e){this.char=e,this.state={},this.activeState=null}function MO(e,t,n){this.contextName=n,this.startIndex=e,this.endOffset=t}function RO(e,t,n){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=n}function UO(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function FO(e){this.eventId=e,this.subscribers=[]}function OO(e){var t=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach((function(e){Object.defineProperty(t.events,e,{value:new FO(e)})})),e&&n.forEach((function(n){var r=e[n];"function"===typeof r&&t.events[n].subscribe(r)}));["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach((function(e){t.events[e].subscribe(t.updateContextsRanges)}))}function PO(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],OO.call(this,e)}function DO(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function LO(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function NO(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function QO(e){return/[A-z]/.test(e)}function HO(e){this.font=e,this.features={}}function jO(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function zO(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var n=t.ranges,r=0;r<n.length;r++){var i=n[r];if(e>=i.start&&e<=i.end){var a=e-i.start;return i.index+a}}break;default:return-1}return-1}function GO(e,t){return-1===zO(e,t.coverage)?null:e+t.deltaGlyphId}function VO(e,t){var n=zO(e,t.coverage);return-1===n?null:t.substitute[n]}function WO(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=t.current,o=zO(a=Array.isArray(a)?a[0]:a,i);-1!==o&&n.push(o)}return n.length!==e.length?-1:n}function KO(e,t){var n=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<n)return[];var r=WO(t.inputCoverage,e);if(-1===r)return[];var i=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var a=e.lookahead.slice(i);a.length&&NO(a[0].char);)a.shift();var o=new UO(a,0),s=WO(t.lookaheadCoverage,o),u=[].concat(e.backtrack);for(u.reverse();u.length&&NO(u[0].char);)u.shift();if(u.length<t.backtrackCoverage.length)return[];var l=new UO(u,0),c=WO(t.backtrackCoverage,l),A=[];if(r.length===t.inputCoverage.length&&s.length===t.lookaheadCoverage.length&&c.length===t.backtrackCoverage.length)for(var f=0;f<t.lookupRecords.length;f++)for(var d=t.lookupRecords[f].lookupListIndex,h=this.getLookupByIndex(d),p=0;p<h.subtables.length;p++){var v=h.subtables[p],g=this.getLookupMethod(h,v);if("12"===this.getSubstitutionType(h,v))for(var m=0;m<r.length;m++){var y=g(e.get(m));y&&A.push(y)}}return A}function XO(e,t){var n,r=zO(e.current,t.coverage);if(-1===r)return null;for(var i=t.ligatureSets[r],a=0;a<i.length;a++){n=i[a];for(var o=0;o<n.components.length;o++){if(e.lookahead[o]!==n.components[o])break;if(o===n.components.length-1)return n}}return null}function qO(e,t){var n=zO(e,t.coverage);return-1===n?null:t.sequences[n]}GF.prototype.exec=function(e,t){if("number"!==typeof t)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==t){var i=this._fpgmState;if(!i){aO.prototype=iO,(i=this._fpgmState=new aO("fpgm",n.tables.fpgm)).funcs=[],i.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{QF(i)}catch(l){return console.log("Hinting error in FPGM:"+l),void(this._errorState=3)}}aO.prototype=i,(r=this._prepState=new aO("prep",n.tables.prep)).ppem=t;var a=n.tables.cvt;if(a)for(var o=r.cvt=new Array(a.length),s=t/n.unitsPerEm,u=0;u<a.length;u++)o[u]=a[u]*s;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{QF(r)}catch(l){this._errorState<2&&console.log("Hinting error in PREP:"+l),this._errorState=2}}if(!(this._errorState>1))try{return HF(e,r)}catch(l){return this._errorState<1&&(console.log("Hinting error:"+l),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},HF=function(e,t){var n,r,i,a=t.ppem/t.font.unitsPerEm,o=a,s=e.components;if(aO.prototype=t,s){var u=t.font;r=[],n=[];for(var l=0;l<s.length;l++){var c=s[l],A=u.glyphs.get(c.glyphIndex);i=new aO("glyf",A.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+l+"---"),i.step=-1),jF(A,i,a,o);for(var f=Math.round(c.dx*a),d=Math.round(c.dy*o),h=i.gZone,p=i.contours,v=0;v<h.length;v++){var g=h[v];g.xTouched=g.yTouched=!1,g.xo=g.x=g.x+f,g.yo=g.y=g.y+d}var m=r.length;r.push.apply(r,h);for(var y=0;y<p.length;y++)n.push(p[y]+m)}e.instructions&&!i.inhibitGridFit&&((i=new aO("glyf",e.instructions)).gZone=i.z0=i.z1=i.z2=r,i.contours=n,r.push(new nO(0,0),new nO(Math.round(e.advanceWidth*a),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),i.step=-1),QF(i),r.length-=2)}else i=new aO("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),i.step=-1),jF(e,i,a,o),r=i.gZone;return r},jF=function(e,t,n,r){for(var i,a,o,s=e.points||[],u=s.length,l=t.gZone=t.z0=t.z1=t.z2=[],c=t.contours=[],A=0;A<u;A++)i=s[A],l[A]=new nO(i.x*n,i.y*r,i.lastPointOfContour,i.onCurve);for(var f=0;f<u;f++)i=l[f],a||(a=i,c.push(f)),i.lastPointOfContour?(i.nextPointOnContour=a,a.prevPointOnContour=i,a=void 0):(o=l[f+1],i.nextPointOnContour=o,o.prevPointOnContour=i);if(!t.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var d=0;d<u;d++)console.log(d,l[d].x,l[d].y)}if(l.push(new nO(0,0),new nO(Math.round(e.advanceWidth*n),0)),QF(t),l.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var h=0;h<u;h++)console.log(h,l[h].x,l[h].y)}}},QF=function(e){var t=e.prog;if(t){var n,r=t.length;for(e.ip=0;e.ip<r;e.ip++){if(exports.DEBUG&&e.step++,!(n=NF[t[e.ip]]))throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}},NF=[uO.bind(void 0,$F),uO.bind(void 0,JF),lO.bind(void 0,$F),lO.bind(void 0,JF),cO.bind(void 0,$F),cO.bind(void 0,JF),AO.bind(void 0,0),AO.bind(void 0,1),fO.bind(void 0,0),fO.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.pv=e.dpv=tO(r,n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.fv=tO(r,n)},function(e){var t=e.stack,n=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){var t=e.stack,n=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var t=e.stack,n=t.pop(),r=t.pop(),i=t.pop(),a=t.pop(),o=t.pop(),s=e.z0,u=e.z1,l=s[n],c=s[r],A=u[i],f=u[a],d=e.z2[o];exports.DEBUG&&console.log("ISECT[], ",n,r,i,a,o);var h=l.x,p=l.y,v=c.x,g=c.y,m=A.x,y=A.y,b=f.x,w=f.y,x=(h-v)*(y-w)-(p-g)*(m-b),_=h*g-p*v,C=m*w-y*b;d.x=(_*(m-b)-C*(h-v))/x,d.y=(_*(y-w)-C*(p-g))/x},function(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||oO(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||oO(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||oO(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||oO(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=WF},function(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=XF},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64},function(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),sO(e,!1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64},void 0,void 0,function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])},dO,function(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),t.push(n),t.push(r)},function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",n),t.push(t[t.length-n])},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",n),t.push(t.splice(t.length-n,1)[0])},void 0,void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",n,r);var i=e.ip,a=e.prog;e.prog=e.funcs[n];for(var o=0;o<r;o++)QF(e),exports.DEBUG&&console.log(++e.step,o+1<r?"next loopcall":"done loopcall",o);e.ip=i,e.prog=a},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",t);var n=e.ip,r=e.prog;e.prog=e.funcs[t],QF(e),e.ip=n,e.prog=r,exports.DEBUG&&console.log(++e.step,"returning from",t)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var t=e.stack,n=e.prog,r=e.ip,i=t.pop(),a=r;for(exports.DEBUG&&console.log(e.step,"FDEF[]",i);45!==n[++r];);e.ip=r,e.funcs[i]=n.slice(a+1,r)},void 0,hO.bind(void 0,0),hO.bind(void 0,1),pO.bind(void 0,$F),pO.bind(void 0,JF),vO.bind(void 0,0),vO.bind(void 0,1),gO.bind(void 0,0),gO.bind(void 0,1),mO.bind(void 0,0),mO.bind(void 0,1),function(e){for(var t=e.stack,n=e.loop,r=e.fv,i=t.pop()/64,a=e.z2;n--;){var o=t.pop(),s=a[o];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",o,i),r.setRelative(s,s,i),r.touch(s)}e.loop=1},function(e){for(var t=e.stack,n=e.rp1,r=e.rp2,i=e.loop,a=e.z0[n],o=e.z1[r],s=e.fv,u=e.dpv,l=e.z2;i--;){var c=t.pop(),A=l[c];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"IP[]",c,n,"<->",r),s.interpolate(A,a,o,u),s.touch(A)}e.loop=1},yO.bind(void 0,0),yO.bind(void 0,1),function(e){for(var t=e.stack,n=e.rp0,r=e.z0[n],i=e.loop,a=e.fv,o=e.pv,s=e.z1;i--;){var u=t.pop(),l=s[u];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"ALIGNRP[]",u),a.setRelative(l,r,0,o),a.touch(l)}e.loop=1},function(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=KF},bO.bind(void 0,0),bO.bind(void 0,1),function(e){var t=e.prog,n=e.ip,r=e.stack,i=t[++n];exports.DEBUG&&console.log(e.step,"NPUSHB[]",i);for(var a=0;a<i;a++)r.push(t[++n]);e.ip=n},function(e){var t=e.ip,n=e.prog,r=e.stack,i=n[++t];exports.DEBUG&&console.log(e.step,"NPUSHW[]",i);for(var a=0;a<i;a++){var o=n[++t]<<8|n[++t];32768&o&&(o=-(1+(65535^o))),r.push(o)}e.ip=t},function(e){var t=e.stack,n=e.store;n||(n=e.store=[]);var r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"WS",r,i),n[i]=r},function(e){var t=e.stack,n=e.store,r=t.pop();exports.DEBUG&&console.log(e.step,"RS",r);var i=n&&n[r]||0;t.push(i)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"WCVTP",n,r),e.cvt[r]=n/64},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"RCVT",n),t.push(64*e.cvt[n])},wO.bind(void 0,0),wO.bind(void 0,1),void 0,xO.bind(void 0,0),xO.bind(void 0,1),function(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LT[]",n,r),t.push(r<n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",n,r),t.push(r<=n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"GT[]",n,r),t.push(r>n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",n,r),t.push(r>=n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"EQ[]",n,r),t.push(n===r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",n,r),t.push(n!==r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"ODD[]",n),t.push(Math.trunc(n)%2?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",n),t.push(Math.trunc(n)%2?0:1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",t),t||(sO(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))},function(e){exports.DEBUG&&console.log(e.step,"EIF[]")},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"AND[]",n,r),t.push(n&&r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"OR[]",n,r),t.push(n||r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"NOT[]",n),t.push(n?0:1)},_O.bind(void 0,1),function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDB[]",t),e.deltaBase=t},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDS[]",t),e.deltaShift=Math.pow(.5,t)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"ADD[]",n,r),t.push(r+n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SUB[]",n,r),t.push(r-n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"DIV[]",n,r),t.push(64*r/n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MUL[]",n,r),t.push(r*n/64)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"ABS[]",n),t.push(Math.abs(n))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"NEG[]",n),t.push(-n)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",n),t.push(64*Math.floor(n/64))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",n),t.push(64*Math.ceil(n/64))},CO.bind(void 0,0),CO.bind(void 0,1),CO.bind(void 0,2),CO.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",n,r),e.cvt[r]=n*e.ppem/e.font.unitsPerEm},_O.bind(void 0,2),_O.bind(void 0,3),EO.bind(void 0,1),EO.bind(void 0,2),EO.bind(void 0,3),function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SROUND[]",n),e.round=ZF,192&n){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}n&=15,e.srThreshold=0===n?0:(n/8-.5)*t},function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"S45ROUND[]",n),e.round=ZF,192&n){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}n&=15,e.srThreshold=0===n?0:(n/8-.5)*t},void 0,void 0,function(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=VF},void 0,function(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=qF},function(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=YF},dO,dO,void 0,void 0,void 0,void 0,void 0,function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",t)},SO.bind(void 0,0),SO.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),r=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",n),1&n&&(r=35),32&n&&(r|=4096),t.push(r)},void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),t.push(r),t.push(n),t.push(i)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MAX[]",n,r),t.push(Math.max(r,n))},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MIN[]",n,r),t.push(Math.min(r,n))},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",t)},function(e){var t=e.stack.pop(),n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",t,n),t){case 1:return void(e.inhibitGridFit=!!n);case 2:return void(e.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,BO.bind(void 0,1),BO.bind(void 0,2),BO.bind(void 0,3),BO.bind(void 0,4),BO.bind(void 0,5),BO.bind(void 0,6),BO.bind(void 0,7),BO.bind(void 0,8),TO.bind(void 0,1),TO.bind(void 0,2),TO.bind(void 0,3),TO.bind(void 0,4),TO.bind(void 0,5),TO.bind(void 0,6),TO.bind(void 0,7),TO.bind(void 0,8),IO.bind(void 0,0,0,0,0,0),IO.bind(void 0,0,0,0,0,1),IO.bind(void 0,0,0,0,0,2),IO.bind(void 0,0,0,0,0,3),IO.bind(void 0,0,0,0,1,0),IO.bind(void 0,0,0,0,1,1),IO.bind(void 0,0,0,0,1,2),IO.bind(void 0,0,0,0,1,3),IO.bind(void 0,0,0,1,0,0),IO.bind(void 0,0,0,1,0,1),IO.bind(void 0,0,0,1,0,2),IO.bind(void 0,0,0,1,0,3),IO.bind(void 0,0,0,1,1,0),IO.bind(void 0,0,0,1,1,1),IO.bind(void 0,0,0,1,1,2),IO.bind(void 0,0,0,1,1,3),IO.bind(void 0,0,1,0,0,0),IO.bind(void 0,0,1,0,0,1),IO.bind(void 0,0,1,0,0,2),IO.bind(void 0,0,1,0,0,3),IO.bind(void 0,0,1,0,1,0),IO.bind(void 0,0,1,0,1,1),IO.bind(void 0,0,1,0,1,2),IO.bind(void 0,0,1,0,1,3),IO.bind(void 0,0,1,1,0,0),IO.bind(void 0,0,1,1,0,1),IO.bind(void 0,0,1,1,0,2),IO.bind(void 0,0,1,1,0,3),IO.bind(void 0,0,1,1,1,0),IO.bind(void 0,0,1,1,1,1),IO.bind(void 0,0,1,1,1,2),IO.bind(void 0,0,1,1,1,3),IO.bind(void 0,1,0,0,0,0),IO.bind(void 0,1,0,0,0,1),IO.bind(void 0,1,0,0,0,2),IO.bind(void 0,1,0,0,0,3),IO.bind(void 0,1,0,0,1,0),IO.bind(void 0,1,0,0,1,1),IO.bind(void 0,1,0,0,1,2),IO.bind(void 0,1,0,0,1,3),IO.bind(void 0,1,0,1,0,0),IO.bind(void 0,1,0,1,0,1),IO.bind(void 0,1,0,1,0,2),IO.bind(void 0,1,0,1,0,3),IO.bind(void 0,1,0,1,1,0),IO.bind(void 0,1,0,1,1,1),IO.bind(void 0,1,0,1,1,2),IO.bind(void 0,1,0,1,1,3),IO.bind(void 0,1,1,0,0,0),IO.bind(void 0,1,1,0,0,1),IO.bind(void 0,1,1,0,0,2),IO.bind(void 0,1,1,0,0,3),IO.bind(void 0,1,1,0,1,0),IO.bind(void 0,1,1,0,1,1),IO.bind(void 0,1,1,0,1,2),IO.bind(void 0,1,1,0,1,3),IO.bind(void 0,1,1,1,0,0),IO.bind(void 0,1,1,1,0,1),IO.bind(void 0,1,1,1,0,2),IO.bind(void 0,1,1,1,0,3),IO.bind(void 0,1,1,1,1,0),IO.bind(void 0,1,1,1,1,1),IO.bind(void 0,1,1,1,1,2),IO.bind(void 0,1,1,1,1,3)],kO.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState},kO.prototype.getState=function(e){return this.state[e]||null},PO.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length},PO.prototype.composeRUD=function(e){var t=this,n=e.map((function(e){return t[e[0]].apply(t,e.slice(1).concat(true))})),r=function(e){return"object"===typeof e&&e.hasOwnProperty("FAIL")};if(n.every(r))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:n.filter(r)};this.dispatch("composeRUD",[n.filter((function(e){return!r(e)}))])},PO.prototype.replaceRange=function(e,t,n,r){t=null!==t?t:this.tokens.length;var i=n.every((function(e){return e instanceof kO}));if(!isNaN(e)&&this.inboundIndex(e)&&i){var a=this.tokens.splice.apply(this.tokens,[e,t].concat(n));return r||this.dispatch("replaceToken",[e,t,n]),[a,n]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},PO.prototype.replaceToken=function(e,t,n){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof kO){var r=this.tokens.splice(e,1,t);return n||this.dispatch("replaceToken",[e,t]),[r[0],t]}return{FAIL:"replaceToken: invalid token or index."}},PO.prototype.removeRange=function(e,t,n){t=isNaN(t)?this.tokens.length:t;var r=this.tokens.splice(e,t);return n||this.dispatch("removeRange",[r,e,t]),r},PO.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var n=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[n,e]),n}return{FAIL:"removeToken: invalid token index."}},PO.prototype.insertToken=function(e,t,n){return e.every((function(e){return e instanceof kO}))?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),n||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}},PO.prototype.registerModifier=function(e,t,n){this.events.newToken.subscribe((function(r,i){var a=[r,i],o=[r,i];if(null===t||!0===t.apply(this,a)){var s=n.apply(this,o);r.setState(e,s)}})),this.registeredModifiers.push(e)},FO.prototype.subscribe=function(e){return"function"===typeof e?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},FO.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},UO.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},UO.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case e>0&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},PO.prototype.rangeToText=function(e){if(e instanceof MO)return this.getRangeTokens(e).map((function(e){return e.char})).join("")},PO.prototype.getText=function(){return this.tokens.map((function(e){return e.char})).join("")},PO.prototype.getContext=function(e){var t=this.registeredContexts[e];return t||null},PO.prototype.on=function(e,t){var n=this.events[e];return n?n.subscribe(t):null},PO.prototype.dispatch=function(e,t){var n=this,r=this.events[e];r instanceof FO&&r.subscribers.forEach((function(e){e.apply(n,t||[])}))},PO.prototype.registerContextChecker=function(e,t,n){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if("function"!==typeof t)return{FAIL:"missing context start check."};if("function"!==typeof n)return{FAIL:"missing context end check."};var r=new RO(e,t,n);return this.registeredContexts[e]=r,this.contextCheckers.push(r),r},PO.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))},PO.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}},PO.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e){if(e.hasOwnProperty(t))e[t].ranges=[]}},PO.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map((function(e){return e.char})),t=0;t<e.length;t++){var n=new UO(e,t);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])},PO.prototype.setEndOffset=function(e,t){var n=new MO(this.getContext(t).openRange.startIndex,e,t),r=this.getContext(t).ranges;return n.rangeId=t+"."+r.length,r.push(n),this.getContext(t).openRange=null,n},PO.prototype.runContextCheck=function(e){var t=this,n=e.index;this.contextCheckers.forEach((function(r){var i=r.contextName,a=t.getContext(i).openRange;if(!a&&r.checkStart(e)&&(a=new MO(n,null,i),t.getContext(i).openRange=a,t.dispatch("contextStart",[i,n])),a&&r.checkEnd(e)){var o=n-a.startIndex+1,s=t.setEndOffset(o,i);t.dispatch("contextEnd",[i,s])}}))},PO.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var n=0;n<t.length;n++){var r=t[n],i=new UO(t,n);this.dispatch("next",[i]),this.runContextCheck(i);var a=new kO(r);this.tokens.push(a),this.dispatch("newToken",[a,i])}return this.dispatch("end",[this.tokens]),this.tokens},HO.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var n=e[t];if("DFLT"===n.tag)return n.script.defaultLangSys.featureIndexes}return[]},HO.prototype.getScriptFeaturesIndexes=function(e){if(!this.font.tables.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,n=0;n<t.length;n++){var r=t[n];if(r.tag===e&&r.script.defaultLangSys)return r.script.defaultLangSys.featureIndexes;var i=r.langSysRecords;if(i)for(var a=0;a<i.length;a++){var o=i[a];if(o.tag===e)return o.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},HO.prototype.mapTagsToFeatures=function(e,t){for(var n={},r=0;r<e.length;r++){var i=e[r].tag,a=e[r].feature;n[i]=a}this.features[t].tags=n},HO.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var n=this.getScriptFeaturesIndexes(e);if(!n)return null;var r=this.font.tables.gsub;return t=n.map((function(e){return r.features[e]})),this.features[e]=t,this.mapTagsToFeatures(t,e),t},HO.prototype.getSubstitutionType=function(e,t){return e.lookupType.toString()+t.substFormat.toString()},HO.prototype.getLookupMethod=function(e,t){var n=this;switch(this.getSubstitutionType(e,t)){case"11":return function(e){return GO.apply(n,[e,t])};case"12":return function(e){return VO.apply(n,[e,t])};case"63":return function(e){return KO.apply(n,[e,t])};case"41":return function(e){return XO.apply(n,[e,t])};case"21":return function(e){return qO.apply(n,[e,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}},HO.prototype.lookupFeature=function(e){var t=e.contextParams,n=t.index,r=this.getFeature({tag:e.tag,script:e.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var i=this.getFeatureLookups(r),a=[].concat(t.context),o=0;o<i.length;o++)for(var s=i[o],u=this.getLookupSubtables(s),l=0;l<u.length;l++){var c=u[l],A=this.getSubstitutionType(s,c),f=this.getLookupMethod(s,c),d=void 0;switch(A){case"11":(d=f(t.current))&&a.splice(n,1,new jO({id:11,tag:e.tag,substitution:d}));break;case"12":(d=f(t.current))&&a.splice(n,1,new jO({id:12,tag:e.tag,substitution:d}));break;case"63":d=f(t),Array.isArray(d)&&d.length&&a.splice(n,1,new jO({id:63,tag:e.tag,substitution:d}));break;case"41":(d=f(t))&&a.splice(n,1,new jO({id:41,tag:e.tag,substitution:d}));break;case"21":(d=f(t.current))&&a.splice(n,1,new jO({id:21,tag:e.tag,substitution:d}))}t=new UO(a,n),Array.isArray(d)&&!d.length||(d=null)}return a.length?a:null},HO.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var n=this.features[e.script].some((function(t){return t.tag===e.tag}));return t&&n},HO.prototype.getLookupSubtables=function(e){return e.subtables||null},HO.prototype.getLookupByIndex=function(e){return this.font.tables.gsub.lookups[e]||null},HO.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))},HO.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};var YO={startCheck:function(e){var t=e.current,n=e.get(-1);return null===n&&DO(t)||!DO(n)&&DO(t)},endCheck:function(e){var t=e.get(1);return null===t||!DO(t)}};var ZO={startCheck:function(e){var t=e.current,n=e.get(-1);return(DO(t)||NO(t))&&!DO(n)},endCheck:function(e){var t=e.get(1);switch(!0){case null===t:return!0;case!DO(t)&&!NO(t):var n=function(e){return/\s/.test(e)}(t);if(!n)return!0;if(n){var r;if(r=e.lookahead.some((function(e){return DO(e)||NO(e)})),!r)return!0}break;default:return!1}}};var JO={11:function(e,t,n){t[n].setState(e.tag,e.substitution)},12:function(e,t,n){t[n].setState(e.tag,e.substitution)},63:function(e,t,n){e.substitution.forEach((function(r,i){t[n+i].setState(e.tag,r)}))},41:function(e,t,n){var r=t[n];r.setState(e.tag,e.substitution.ligGlyph);for(var i=e.substitution.components.length,a=0;a<i;a++)(r=t[n+a+1]).setState("deleted",!0)}};function $O(e,t,n){e instanceof jO&&JO[e.id]&&JO[e.id](e,t,n)}function eP(e){var t=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(e);if(1!==i.length){var a=new UO(i.map((function(e){return e.getState("glyphIndex")})),0),o=new UO(i.map((function(e){return e.char})),0);i.forEach((function(e,s){if(!NO(e.char)){a.setCurrentIndex(s),o.setCurrentIndex(s);var u,l=0;switch(function(e){for(var t=[].concat(e.backtrack),n=t.length-1;n>=0;n--){var r=t[n],i=LO(r),a=NO(r);if(!i&&!a)return!0;if(i)return!1}return!1}(o)&&(l|=1),function(e){if(LO(e.current))return!1;for(var t=0;t<e.lookahead.length;t++)if(!NO(e.lookahead[t]))return!0;return!1}(o)&&(l|=2),l){case 1:u="fina";break;case 2:u="init";break;case 3:u="medi"}if(-1!==r.indexOf(u)){var c=t.query.lookupFeature({tag:u,script:n,contextParams:a});if(c instanceof Error)return console.info(c.message);c.forEach((function(e,t){e instanceof jO&&($O(e,i,t),a.context[t]=e.substitution)}))}}}))}}function tP(e,t){return new UO(e.map((function(e){return e.activeState.value})),t||0)}function nP(e){var t=this,n=this.tokenizer.getRangeTokens(e),r=tP(n);r.context.forEach((function(e,i){r.setCurrentIndex(i);var a=t.query.lookupFeature({tag:"rlig",script:"arab",contextParams:r});a.length&&(a.forEach((function(e){return $O(e,n,i)})),r=tP(n))}))}var rP={startCheck:function(e){var t=e.current,n=e.get(-1);return null===n&&QO(t)||!QO(n)&&QO(t)},endCheck:function(e){var t=e.get(1);return null===t||!QO(t)}};function iP(e,t){return new UO(e.map((function(e){return e.activeState.value})),t||0)}function aP(e){var t=this,n=this.tokenizer.getRangeTokens(e),r=iP(n);r.context.forEach((function(e,i){r.setCurrentIndex(i);var a=t.query.lookupFeature({tag:"liga",script:"latn",contextParams:r});a.length&&(a.forEach((function(e){return $O(e,n,i)})),r=iP(n))}))}function oP(e){this.baseDir=e||"ltr",this.tokenizer=new PO,this.featuresTags={}}function sP(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function uP(){return sP.call(this,"latinWord"),sP.call(this,"arabicWord"),sP.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function lP(){var e=this;this.tokenizer.getContextRanges("arabicSentence").forEach((function(t){var n=e.tokenizer.getRangeTokens(t);e.tokenizer.replaceRange(t.startIndex,t.endOffset,n.reverse())}))}function cP(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function AP(){var e=this;this.featuresTags.hasOwnProperty("arab")&&(cP.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){eP.call(e,t)})))}function fP(){var e=this,t="arab";this.featuresTags.hasOwnProperty(t)&&(-1!==this.featuresTags[t].indexOf("rlig")&&(cP.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){nP.call(e,t)}))))}function dP(){var e=this,t="latn";this.featuresTags.hasOwnProperty(t)&&(-1!==this.featuresTags[t].indexOf("liga")&&(cP.call(this),this.tokenizer.getContextRanges("latinWord").forEach((function(t){aP.call(e,t)}))))}function hP(e){(e=e||{}).tables=e.tables||{},e.empty||(UF(e.familyName,"When creating a new Font object, familyName is required."),UF(e.styleName,"When creating a new Font object, styleName is required."),UF(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),UF(e.ascender,"When creating a new Font object, ascender is required."),UF(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new SU.GlyphSet(this,e.glyphs||[]),this.encoding=new mU(this),this.position=new IF(this),this.substitution=new kF(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new GF(this):void 0}})}oP.prototype.setText=function(e){this.text=e},oP.prototype.contextChecks={latinWordCheck:rP,arabicWordCheck:YO,arabicSentenceCheck:ZO},oP.prototype.registerFeatures=function(e,t){var n=this,r=t.filter((function(t){return n.query.supports({script:e,tag:t})}));this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(r):this.featuresTags[e]=r},oP.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new HO(e));for(var n=0;n<t.length;n++){var r=t[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}},oP.prototype.registerModifier=function(e,t,n){this.tokenizer.registerModifier(e,t,n)},oP.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)},oP.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(AP.call(this),fP.call(this)),this.checkContextReady("latinWord")&&dP.call(this),this.checkContextReady("arabicSentence")&&lP.call(this)},oP.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),uP.call(this),this.applyFeaturesToContexts())},oP.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},oP.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;t.push(Array.isArray(i)?i[0]:i)}}return t},hP.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},hP.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},hP.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},hP.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map((function(t){return"latn"===t.script?{script:"latn",tags:t.tags.filter((function(t){return e[t]}))}:t}))},hP.prototype.stringToGlyphs=function(e,t){var n=this,r=new oP;r.registerModifier("glyphIndex",null,(function(e){return n.charToGlyphIndex(e.char)}));var i=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;r.applyFeatures(this,i);for(var a=r.getTextGlyphs(e),o=a.length,s=new Array(o),u=this.glyphs.get(0),l=0;l<o;l+=1)s[l]=this.glyphs.get(a[l])||u;return s},hP.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},hP.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},hP.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},hP.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,t):this.kerningPairs[e+","+t]||0},hP.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},hP.prototype.forEachGlyph=function(e,t,n,r,i,a){t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=Object.assign({},this.defaultRenderOptions,i);var o,s=1/this.unitsPerEm*r,u=this.stringToGlyphs(e,i);if(i.kerning){var l=i.script||this.position.getDefaultScriptName();o=this.position.getKerningTables(l,i.language)}for(var c=0;c<u.length;c+=1){var A=u[c];if(a.call(this,A,t,n,r,i),A.advanceWidth&&(t+=A.advanceWidth*s),i.kerning&&c<u.length-1)t+=(o?this.position.getKerningValue(o,A.index,u[c+1].index):this.getKerningValue(A,u[c+1]))*s;i.letterSpacing?t+=i.letterSpacing*r:i.tracking&&(t+=i.tracking/1e3*r)}return t},hP.prototype.getPath=function(e,t,n,r,i){var a=new RR;return this.forEachGlyph(e,t,n,r,i,(function(e,t,n,r){var o=e.getPath(t,n,r,i,this);a.extend(o)})),a},hP.prototype.getPaths=function(e,t,n,r,i){var a=[];return this.forEachGlyph(e,t,n,r,i,(function(e,t,n,r){var o=e.getPath(t,n,r,i,this);a.push(o)})),a},hP.prototype.getAdvanceWidth=function(e,t,n){return this.forEachGlyph(e,0,0,t,n,(function(){}))},hP.prototype.draw=function(e,t,n,r,i,a){this.getPath(t,n,r,i,a).draw(e)},hP.prototype.drawPoints=function(e,t,n,r,i,a){this.forEachGlyph(t,n,r,i,a,(function(t,n,r,i){t.drawPoints(e,n,r,i)}))},hP.prototype.drawMetrics=function(e,t,n,r,i,a){this.forEachGlyph(t,n,r,i,a,(function(t,n,r,i){t.drawMetrics(e,n,r,i)}))},hP.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},hP.prototype.validate=function(){var e=this;function t(t){var n=e.getEnglishName(t);n&&n.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},hP.prototype.toTables=function(){return CF.fontToTable(this)},hP.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},hP.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e[r];return t},hP.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if("undefined"!==typeof window)if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),a=new Blob([i],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(a),o.download=e;var s=document.createEvent("MouseEvents");s.initEvent("click",!0,!1),o.dispatchEvent(s)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var u=__webpack_require__(6102),l=function(e){for(var t=new Buffer(e.byteLength),n=new Uint8Array(e),r=0;r<t.length;++r)t[r]=n[r];return t}(r);u.writeFileSync(e,l)}},hP.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},hP.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},hP.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var pP=new Array(10);pP[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(lU.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(lU.coverage),values:this.parseValueRecordList()}:void OR.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},pP[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();OR.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(lU.coverage),r=this.parseUShort(),i=this.parseUShort();if(1===t)return{posFormat:t,coverage:n,valueFormat1:r,valueFormat2:i,pairSets:this.parseList(lU.pointer(lU.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(i)}}))))};if(2===t){var a=this.parsePointer(lU.classDef),o=this.parsePointer(lU.classDef),s=this.parseUShort(),u=this.parseUShort();return{posFormat:t,coverage:n,valueFormat1:r,valueFormat2:i,classDef1:a,classDef2:o,class1Count:s,class2Count:u,classRecords:this.parseList(s,lU.list(u,(function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(i)}})))}}},pP[3]=function(){return{error:"GPOS Lookup 3 not supported"}},pP[4]=function(){return{error:"GPOS Lookup 4 not supported"}},pP[5]=function(){return{error:"GPOS Lookup 5 not supported"}},pP[6]=function(){return{error:"GPOS Lookup 6 not supported"}},pP[7]=function(){return{error:"GPOS Lookup 7 not supported"}},pP[8]=function(){return{error:"GPOS Lookup 8 not supported"}},pP[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var vP,gP,mP,yP=Object.defineProperty,bP=function(e,t,n){return function(e,t,n){t in e?yP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n};var wP=function(e,t){return e[t]},xP=function(e){var t=void 0,n=void 0,r=void 0,i=0;if(e.forEach((function(e){return void 0===t&&(t=e.array.constructor),t!==e.array.constructor?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null):(void 0===n&&(n=e.itemSize),n!==e.itemSize?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null):(void 0===r&&(r=e.normalized),r!==e.normalized?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null):void(i+=e.array.length)))})),t&&n){var a=new t(i),o=0;return e.forEach((function(e){a.set(e.array,o),o+=e.array.length})),new xw(a,n,r)}};function _P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},r=e.getIndex(),i=e.getAttribute("position"),a=r?r.count:i.count,o=0,s=Object.keys(e.attributes),u={},l={},c=[],A=["getX","getY","getZ","getW"],f=0,d=s.length;f<d;f++){var h=s[f];u[h]=[];var p=e.morphAttributes[h];p&&(l[h]=new Array(p.length).fill(0).map((function(){return[]})))}for(var v=Math.log10(1/t),g=Math.pow(10,v),m=0;m<a;m++){for(var y=r?r.getX(m):m,b="",w=0,x=s.length;w<x;w++)for(var _=s[w],C=e.getAttribute(_),E=C.itemSize,S=0;S<E;S++)b+="".concat(~~(C[A[S]](y)*g),",");if(b in n)c.push(n[b]);else{for(var B=0,T=s.length;B<T;B++)for(var I=s[B],k=e.getAttribute(I),M=e.morphAttributes[I],R=k.itemSize,U=u[I],F=l[I],O=0;O<R;O++){var P=A[O];if(U.push(k[P](y)),M)for(var D=0,L=M.length;D<L;D++)F[D].push(M[D][P](y))}n[b]=o,c.push(o),o++}}for(var N=e.clone(),Q=0,H=s.length;Q<H;Q++){var j=s[Q],z=e.getAttribute(j),G=new z.array.constructor(u[j]),V=new xw(G,z.itemSize,z.normalized);if(N.setAttribute(j,V),j in l)for(var W=0;W<l[j].length;W++){var K=e.morphAttributes[j][W],X=new K.array.constructor(l[j][W]),q=new xw(X,K.itemSize,K.normalized);N.morphAttributes[j][W]=q}}return N.setIndex(c),N}function CP(e,t){if(t===em)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===nm||t===tm){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(n)if(t===nm)for(var u=1;u<=o;u++)s.push(n.getX(0)),s.push(n.getX(u)),s.push(n.getX(u+1));else for(var l=0;l<o;l++)l%2===0?(s.push(n.getX(l)),s.push(n.getX(l+1)),s.push(n.getX(l+2))):(s.push(n.getX(l+2)),s.push(n.getX(l+1)),s.push(n.getX(l)));s.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c.clearGroups(),c}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}Symbol.toStringTag;var EP,SP,BP,TP;function IP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;SP||(SP=new Bx(2,2,1,1)),BP||(BP=new Ax({uniforms:{blitTexture:new qI(e)},vertexShader:"\n        varying vec2 vUv;\n        void main(){\n            vUv = uv;\n            gl_Position = vec4(position.xy * 1.0,0.,.999999);\n        }\n      ",fragmentShader:"\n          uniform sampler2D blitTexture; \n          varying vec2 vUv;\n\n          void main(){ \n              gl_FragColor = vec4(vUv.xy, 0, 1);\n              \n              #ifdef IS_SRGB\n              gl_FragColor = LinearTosRGB( texture2D( blitTexture, vUv) );\n              #else\n              gl_FragColor = texture2D( blitTexture, vUv);\n              #endif\n          }\n      "})),BP.uniforms.blitTexture.value=e,BP.defines.IS_SRGB="colorSpace"in e?"srgb"===e.colorSpace:3001===e.encoding,BP.needsUpdate=!0,TP||((TP=new ix(SP,BP)).frustrumCulled=!1);var r=new dx,i=new cE;i.add(TP),n||(n=EP=new aE({antialias:!1})),n.setSize(Math.min(e.image.width,t),Math.min(e.image.height,t)),n.clear(),n.render(i,r);var a=new Py(n.domElement);return a.minFilter=e.minFilter,a.magFilter=e.magFilter,a.wrapS=e.wrapS,a.wrapT=e.wrapT,a.name=e.name,EP&&(EP.dispose(),EP=null),a}var kP={POSITION:["byte","byte normalized","unsigned byte","unsigned byte normalized","short","short normalized","unsigned short","unsigned short normalized"],NORMAL:["byte normalized","short normalized"],TANGENT:["byte normalized","short normalized"],TEXCOORD:["byte","byte normalized","unsigned byte","short","short normalized","unsigned short"]},MP=function(){function e(){c(this,e),this.pluginCallbacks=[],this.register((function(e){return new AD(e)})),this.register((function(e){return new fD(e)})),this.register((function(e){return new pD(e)})),this.register((function(e){return new vD(e)})),this.register((function(e){return new gD(e)})),this.register((function(e){return new mD(e)})),this.register((function(e){return new dD(e)})),this.register((function(e){return new hD(e)})),this.register((function(e){return new yD(e)})),this.register((function(e){return new bD(e)})),this.register((function(e){return new wD(e)}))}return h(e,[{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){for(var i=new cD,a=[],o=0,s=this.pluginCallbacks.length;o<s;o++)a.push(this.pluginCallbacks[o](i));i.setPlugins(a),i.write(e,t,r).catch(n)}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,r,i,t)}))}}]),e}(),RP=0,UP=1,FP=2,OP=3,PP=4,DP=5120,LP=5121,NP=5122,QP=5123,HP=5124,jP=5125,zP=5126,GP=34962,VP=34963,WP=9728,KP=9729,XP=9984,qP=9985,YP=9986,ZP=9987,JP=33071,$P=33648,eD=10497,tD="KHR_mesh_quantization",nD={};nD[Uv]=WP,nD[Fv]=XP,nD[Pv]=YP,nD[Lv]=KP,nD[Nv]=qP,nD[Hv]=ZP,nD[Mv]=JP,nD[kv]=eD,nD[Rv]=$P;var rD={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},iD=new fw;function aD(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function oD(e){return 4*Math.ceil(e/4)}function sD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=oD(e.byteLength);if(n!==e.byteLength){var r=new Uint8Array(n);if(r.set(new Uint8Array(e)),0!==t)for(var i=e.byteLength;i<n;i++)r[i]=t;return r.buffer}return e}function uD(){return"undefined"===typeof document&&"undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas")}function lD(e,t){return void 0!==e.toBlob?new Promise((function(n){return e.toBlob(n,t)})):("image/jpeg"===t?n=.92:"image/webp"===t&&(n=.8),e.convertToBlob({type:t,quality:n}));var n}var cD=function(){function e(){c(this,e),this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}return h(e,[{key:"setPlugins",value:function(e){this.plugins=e}},{key:"write",value:function(){var e=C(x().mark((function e(t,n){var r,i,a,o,s,u,l,c,A,f,d,h=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]?h[2]:{},this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},r),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(t),e.next=6,Promise.all(this.pending);case 6:a=(i=this).buffers,o=i.json,r=i.options,s=i.extensionsUsed,u=i.extensionsRequired,l=new Blob(a,{type:"application/octet-stream"}),c=Object.keys(s),A=Object.keys(u),c.length>0&&(o.extensionsUsed=c),A.length>0&&(o.extensionsRequired=A),o.buffers&&o.buffers.length>0&&(o.buffers[0].byteLength=l.size),!0===r.binary?((f=new FileReader).readAsArrayBuffer(l),f.onloadend=function(){var e=sD(f.result),t=new DataView(new ArrayBuffer(8));t.setUint32(0,e.byteLength,!0),t.setUint32(4,5130562,!0);var r,i=sD((r=JSON.stringify(o),(new TextEncoder).encode(r).buffer),32),a=new DataView(new ArrayBuffer(8));a.setUint32(0,i.byteLength,!0),a.setUint32(4,1313821514,!0);var s=new ArrayBuffer(12),u=new DataView(s);u.setUint32(0,1179937895,!0),u.setUint32(4,2,!0);var l=12+a.byteLength+i.byteLength+t.byteLength+e.byteLength;u.setUint32(8,l,!0);var c=new Blob([s,a,i,t,e],{type:"application/octet-stream"}),A=new FileReader;A.readAsArrayBuffer(c),A.onloadend=function(){n(A.result)}}):o.buffers&&o.buffers.length>0?((d=new FileReader).readAsDataURL(l),d.onloadend=function(){var e=d.result;o.buffers[0].uri=e,n(o)}):n(o);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"serializeUserData",value:function(e,t){if(0!==Object.keys(e.userData).length){var n=this.options,r=this.extensionsUsed;try{var i=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&i.gltfExtensions){for(var a in void 0===t.extensions&&(t.extensions={}),i.gltfExtensions)t.extensions[a]=i.gltfExtensions[a],r[a]=!0;delete i.gltfExtensions}Object.keys(i).length>0&&(t.extras=i)}catch(o){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+o.message)}}}},{key:"getUID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!1===this.uids.has(e)){var n=new Map;n.set(!0,this.uid++),n.set(!1,this.uid++),this.uids.set(e,n)}return this.uids.get(e).get(t)}},{key:"isNormalizedNormalAttribute",value:function(e){if(this.cache.attributesNormalized.has(e))return!1;for(var t=new Wy,n=0,r=e.count;n<r;n++)if(Math.abs(t.fromBufferAttribute(e,n).length()-1)>5e-4)return!1;return!0}},{key:"createNormalizedNormalAttribute",value:function(e){var t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);for(var n=e.clone(),r=new Wy,i=0,a=n.count;i<a;i++)r.fromBufferAttribute(n,i),0===r.x&&0===r.y&&0===r.z?r.setX(1):r.normalize(),n.setXYZ(i,r.x,r.y,r.z);return t.attributesNormalized.set(e,n),n}},{key:"applyTextureTransform",value:function(e,t){var n=!1,r={};0===t.offset.x&&0===t.offset.y||(r.offset=t.offset.toArray(),n=!0),0!==t.rotation&&(r.rotation=t.rotation,n=!0),1===t.repeat.x&&1===t.repeat.y||(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}},{key:"buildMetalRoughTexture",value:function(e,t){if(e===t)return e;function n(e){return("colorSpace"in e?"srgb"===e.colorSpace:3001===e.encoding)?function(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}:function(e){return e}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures."),e instanceof xS&&(e=IP(e)),t instanceof xS&&(t=IP(t));var r=e?e.image:null,i=t?t.image:null,a=Math.max(r?r.width:0,i?i.width:0),o=Math.max(r?r.height:0,i?i.height:0),s=uD();s.width=a,s.height=o;var u=s.getContext("2d");u.fillStyle="#00ffff",u.fillRect(0,0,a,o);var l=u.getImageData(0,0,a,o);if(r){u.drawImage(r,0,0,a,o);for(var c=n(e),A=u.getImageData(0,0,a,o).data,f=2;f<A.length;f+=4)l.data[f]=256*c(A[f]/256)}if(i){u.drawImage(i,0,0,a,o);for(var d=n(t),h=u.getImageData(0,0,a,o).data,p=1;p<h.length;p+=4)l.data[p]=256*d(h[p]/256)}u.putImageData(l,0,0);var v=(e||t).clone();return v.source=new Py(s).source,"colorSpace"in v?v.colorSpace="":v.encoding=3e3,v.channel=(e||t).channel,e&&t&&e.channel!==t.channel&&console.warn("THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match."),v}},{key:"processBuffer",value:function(e){var t=this.json,n=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),n.push(e),0}},{key:"processBufferView",value:function(e,t,n,r,i){var a,o=this.json;switch(o.bufferViews||(o.bufferViews=[]),t){case DP:case LP:a=1;break;case NP:case QP:a=2;break;default:a=4}for(var s=oD(r*e.itemSize*a),u=new DataView(new ArrayBuffer(s)),l=0,c=n;c<n+r;c++)for(var A=0;A<e.itemSize;A++){var f=void 0;e.itemSize>4?f=e.array[c*e.itemSize+A]:(0===A?f=e.getX(c):1===A?f=e.getY(c):2===A?f=e.getZ(c):3===A&&(f=e.getW(c)),!0===e.normalized&&(f=fy.normalize(f,e.array))),t===zP?u.setFloat32(l,f,!0):t===HP?u.setInt32(l,f,!0):t===jP?u.setUint32(l,f,!0):t===NP?u.setInt16(l,f,!0):t===QP?u.setUint16(l,f,!0):t===DP?u.setInt8(l,f):t===LP&&u.setUint8(l,f),l+=a}var d={buffer:this.processBuffer(u.buffer),byteOffset:this.byteOffset,byteLength:s};return void 0!==i&&(d.target=i),i===GP&&(d.byteStride=e.itemSize*a),this.byteOffset+=s,o.bufferViews.push(d),{id:o.bufferViews.length-1,byteLength:0}}},{key:"processBufferViewImage",value:function(e){var t=this,n=t.json;return n.bufferViews||(n.bufferViews=[]),new Promise((function(r){var i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){var e=sD(i.result),a={buffer:t.processBuffer(e),byteOffset:t.byteOffset,byteLength:e.byteLength};t.byteOffset+=e.byteLength,r(n.bufferViews.push(a)-1)}}))}},{key:"processAccessor",value:function(e,t,n,r){var i,a=this.json;if(e.array.constructor===Float32Array)i=zP;else if(e.array.constructor===Int32Array)i=HP;else if(e.array.constructor===Uint32Array)i=jP;else if(e.array.constructor===Int16Array)i=NP;else if(e.array.constructor===Uint16Array)i=QP;else if(e.array.constructor===Int8Array)i=DP;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type: "+e.array.constructor.name);i=LP}if(void 0===n&&(n=0),void 0===r&&(r=e.count),0===r)return null;var o,s=function(e,t,n){for(var r={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},i=t;i<t+n;i++)for(var a=0;a<e.itemSize;a++){var o=void 0;e.itemSize>4?o=e.array[i*e.itemSize+a]:(0===a?o=e.getX(i):1===a?o=e.getY(i):2===a?o=e.getZ(i):3===a&&(o=e.getW(i)),!0===e.normalized&&(o=fy.normalize(o,e.array))),r.min[a]=Math.min(r.min[a],o),r.max[a]=Math.max(r.max[a],o)}return r}(e,n,r);void 0!==t&&(o=e===t.index?VP:GP);var u=this.processBufferView(e,i,n,r,o),l={bufferView:u.id,byteOffset:u.byteOffset,componentType:i,count:r,max:s.max,min:s.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",9:"MAT3",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(l.normalized=!0),a.accessors||(a.accessors=[]),a.accessors.push(l)-1}},{key:"processImage",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"image/png";if(null!==e){var i=this,a=i.cache,o=i.json,s=i.options,u=i.pending;a.images.has(e)||a.images.set(e,{});var l=a.images.get(e),c=r+":flipY/"+n.toString();if(void 0!==l[c])return l[c];o.images||(o.images=[]);var A={mimeType:r},f=uD();f.width=Math.min(e.width,s.maxTextureSize),f.height=Math.min(e.height,s.maxTextureSize);var d=f.getContext("2d");if(!0===n&&(d.translate(0,f.height),d.scale(1,-1)),void 0!==e.data){t!==tg&&console.error("GLTFExporter: Only RGBAFormat is supported.",t),(e.width>s.maxTextureSize||e.height>s.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);for(var h=new Uint8ClampedArray(e.height*e.width*4),p=0;p<h.length;p+=4)h[p+0]=e.data[p+0],h[p+1]=e.data[p+1],h[p+2]=e.data[p+2],h[p+3]=e.data[p+3];d.putImageData(new ImageData(h,e.width,e.height),0,0)}else d.drawImage(e,0,0,f.width,f.height);!0===s.binary?u.push(lD(f,r).then((function(e){return i.processBufferViewImage(e)})).then((function(e){A.bufferView=e}))):void 0!==f.toDataURL?A.uri=f.toDataURL(r):u.push(lD(f,r).then((function(e){return(new FileReader).readAsDataURL(e)})).then((function(e){A.uri=e})));var v=o.images.push(A)-1;return l[c]=v,v}throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}},{key:"processSampler",value:function(e){var t=this.json;t.samplers||(t.samplers=[]);var n={magFilter:nD[e.magFilter],minFilter:nD[e.minFilter],wrapS:nD[e.wrapS],wrapT:nD[e.wrapT]};return t.samplers.push(n)-1}},{key:"processTexture",value:function(e){var t=this.options,n=this.cache,r=this.json;if(n.textures.has(e))return n.textures.get(e);r.textures||(r.textures=[]),e instanceof xS&&(e=IP(e,t.maxTextureSize));var i=e.userData.mimeType;"image/webp"===i&&(i="image/png");var a={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,i)};e.name&&(a.name=e.name),this._invokeAll((function(t){t.writeTexture&&t.writeTexture(e,a)}));var o=r.textures.push(a)-1;return n.textures.set(e,o),o}},{key:"processMaterial",value:function(e){var t=this.cache,n=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;n.materials||(n.materials=[]);var r={pbrMetallicRoughness:{}};!0!==e.isMeshStandardMaterial&&!0!==e.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var i=e.color.toArray().concat([e.opacity]);if(aD(i,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=i),e.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=e.metalness,r.pbrMetallicRoughness.roughnessFactor=e.roughness):(r.pbrMetallicRoughness.metallicFactor=.5,r.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){var a=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),o={index:this.processTexture(a),channel:a.channel};this.applyTextureTransform(o,a),r.pbrMetallicRoughness.metallicRoughnessTexture=o}if(e.map){var s={index:this.processTexture(e.map),texCoord:e.map.channel};this.applyTextureTransform(s,e.map),r.pbrMetallicRoughness.baseColorTexture=s}if(e.emissive){var u=e.emissive;if(Math.max(u.r,u.g,u.b)>0&&(r.emissiveFactor=e.emissive.toArray()),e.emissiveMap){var l={index:this.processTexture(e.emissiveMap),texCoord:e.emissiveMap.channel};this.applyTextureTransform(l,e.emissiveMap),r.emissiveTexture=l}}if(e.normalMap){var c={index:this.processTexture(e.normalMap),texCoord:e.normalMap.channel};e.normalScale&&1!==e.normalScale.x&&(c.scale=e.normalScale.x),this.applyTextureTransform(c,e.normalMap),r.normalTexture=c}if(e.aoMap){var A={index:this.processTexture(e.aoMap),texCoord:e.aoMap.channel};1!==e.aoMapIntensity&&(A.strength=e.aoMapIntensity),this.applyTextureTransform(A,e.aoMap),r.occlusionTexture=A}e.transparent?r.alphaMode="BLEND":e.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=e.alphaTest),e.side===Dp&&(r.doubleSided=!0),""!==e.name&&(r.name=e.name),this.serializeUserData(e,r),this._invokeAll((function(t){t.writeMaterial&&t.writeMaterial(e,r)}));var f=n.materials.push(r)-1;return t.materials.set(e,f),f}},{key:"processMesh",value:function(e){var t,n=this.cache,r=this.json,i=[e.geometry.uuid];if(Array.isArray(e.material))for(var a=0,o=e.material.length;a<o;a++)i.push(e.material[a].uuid);else i.push(e.material.uuid);var s=i.join(":");if(n.meshes.has(s))return n.meshes.get(s);var u,l=e.geometry;u=e.isLineSegments?UP:e.isLineLoop?FP:e.isLine?OP:e.isPoints?RP:e.material.wireframe?UP:PP;var c={},A={},f=[],d=[],h=(E(t={uv:"TEXCOORD_0"},Cp.replace(/\D+/g,"")>=152?"uv1":"uv2","TEXCOORD_1"),E(t,"color","COLOR_0"),E(t,"skinWeight","WEIGHTS_0"),E(t,"skinIndex","JOINTS_0"),t),p=l.getAttribute("normal");void 0===p||this.isNormalizedNormalAttribute(p)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),l.setAttribute("normal",this.createNormalizedNormalAttribute(p)));var v=null;for(var g in l.attributes)if("morph"!==g.slice(0,5)){var m=l.attributes[g];g=h[g]||g.toUpperCase();if(/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(g)||(g="_"+g),n.attributes.has(this.getUID(m)))A[g]=n.attributes.get(this.getUID(m));else{v=null;var y=m.array;"JOINTS_0"!==g||y instanceof Uint16Array||y instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),v=new xw(new Uint16Array(y),m.itemSize,m.normalized));var b=this.processAccessor(v||m,l);null!==b&&(g.startsWith("_")||this.detectMeshQuantization(g,m),A[g]=b,n.attributes.set(this.getUID(m),b))}}if(void 0!==p&&l.setAttribute("normal",p),0===Object.keys(A).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){var w=[],x=[],_={};if(void 0!==e.morphTargetDictionary)for(var C in e.morphTargetDictionary)_[e.morphTargetDictionary[C]]=C;for(var S=0;S<e.morphTargetInfluences.length;++S){var B={},T=!1;for(var I in l.morphAttributes)if("position"===I||"normal"===I){var k=l.morphAttributes[I][S],M=I.toUpperCase(),R=l.attributes[I];if(n.attributes.has(this.getUID(k,!0)))B[M]=n.attributes.get(this.getUID(k,!0));else{var U=k.clone();if(!l.morphTargetsRelative)for(var F=0,O=k.count;F<O;F++)for(var P=0;P<k.itemSize;P++)0===P&&U.setX(F,k.getX(F)-R.getX(F)),1===P&&U.setY(F,k.getY(F)-R.getY(F)),2===P&&U.setZ(F,k.getZ(F)-R.getZ(F)),3===P&&U.setW(F,k.getW(F)-R.getW(F));B[M]=this.processAccessor(U,l),n.attributes.set(this.getUID(R,!0),B[M])}}else T||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),T=!0);d.push(B),w.push(e.morphTargetInfluences[S]),void 0!==e.morphTargetDictionary&&x.push(_[S])}c.weights=w,x.length>0&&(c.extras={},c.extras.targetNames=x)}var D=Array.isArray(e.material);if(D&&0===l.groups.length)return null;for(var L=D?e.material:[e.material],N=D?l.groups:[{materialIndex:0,start:void 0,count:void 0}],Q=0,H=N.length;Q<H;Q++){var j={mode:u,attributes:A};if(this.serializeUserData(l,j),d.length>0&&(j.targets=d),null!==l.index){var z=this.getUID(l.index);void 0===N[Q].start&&void 0===N[Q].count||(z+=":"+N[Q].start+":"+N[Q].count),n.attributes.has(z)?j.indices=n.attributes.get(z):(j.indices=this.processAccessor(l.index,l,N[Q].start,N[Q].count),n.attributes.set(z,j.indices)),null===j.indices&&delete j.indices}var G=this.processMaterial(L[N[Q].materialIndex]);null!==G&&(j.material=G),f.push(j)}c.primitives=f,r.meshes||(r.meshes=[]),this._invokeAll((function(t){t.writeMesh&&t.writeMesh(e,c)}));var V=r.meshes.push(c)-1;return n.meshes.set(s,V),V}},{key:"detectMeshQuantization",value:function(e,t){if(!this.extensionsUsed[tD]){var n=void 0;switch(t.array.constructor){case Int8Array:n="byte";break;case Uint8Array:n="unsigned byte";break;case Int16Array:n="short";break;case Uint16Array:n="unsigned short";break;default:return}t.normalized&&(n+=" normalized");var r=e.split("_",1)[0];kP[r]&&kP[r].includes(n)&&(this.extensionsUsed[tD]=!0,this.extensionsRequired[tD]=!0)}}},{key:"processCamera",value:function(e){var t=this.json;t.cameras||(t.cameras=[]);var n=e.isOrthographicCamera,r={type:n?"orthographic":"perspective"};return n?r.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:r.perspective={aspectRatio:e.aspect,yfov:fy.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},""!==e.name&&(r.name=e.type),t.cameras.push(r)-1}},{key:"processAnimation",value:function(e,t){var n=this.json,r=this.nodeMap;n.animations||(n.animations=[]);for(var i=(e=MP.Utils.mergeMorphTargetTracks(e.clone(),t)).tracks,a=[],o=[],s=0;s<i.length;++s){var u=i[s],l=GI.parseTrackName(u.name),c=GI.findNode(t,l.nodeName),A=rD[l.propertyName];if("bones"===l.objectName&&(c=!0===c.isSkinnedMesh?c.skeleton.getBoneByName(l.objectIndex):void 0),!c||!A)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',u.name),null;var f=u.values.length/u.times.length;A===rD.morphTargetInfluences&&(f/=c.morphTargetInfluences.length);var d=void 0;!0===u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(d="CUBICSPLINE",f/=3):d=u.getInterpolation()===Wg?"STEP":"LINEAR",o.push({input:this.processAccessor(new xw(u.times,1)),output:this.processAccessor(new xw(u.values,f)),interpolation:d}),a.push({sampler:o.length-1,target:{node:r.get(c),path:A}})}return n.animations.push({name:e.name||"clip_"+n.animations.length,samplers:o,channels:a}),n.animations.length-1}},{key:"processSkin",value:function(e){var t=this.json,n=this.nodeMap,r=t.nodes[n.get(e)],i=e.skeleton;if(void 0===i)return null;var a=e.skeleton.bones[0];if(void 0===a)return null;for(var o=[],s=new Float32Array(16*i.bones.length),u=new xb,l=0;l<i.bones.length;++l)o.push(n.get(i.bones[l])),u.copy(i.boneInverses[l]),u.multiply(e.bindMatrix).toArray(s,16*l);return void 0===t.skins&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new xw(s,16)),joints:o,skeleton:n.get(a)}),r.skin=t.skins.length-1}},{key:"processNode",value:function(e){var t=this.json,n=this.options,r=this.nodeMap;t.nodes||(t.nodes=[]);var i={};if(n.trs){var a=e.quaternion.toArray(),o=e.position.toArray(),s=e.scale.toArray();aD(a,[0,0,0,1])||(i.rotation=a),aD(o,[0,0,0])||(i.translation=o),aD(s,[1,1,1])||(i.scale=s)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===aD(e.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])&&(i.matrix=e.matrix.elements);if(""!==e.name&&(i.name=String(e.name)),this.serializeUserData(e,i),e.isMesh||e.isLine||e.isPoints){var u=this.processMesh(e);null!==u&&(i.mesh=u)}else e.isCamera&&(i.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){for(var l=[],c=0,A=e.children.length;c<A;c++){var f=e.children[c];if(f.visible||!1===n.onlyVisible){var d=this.processNode(f);null!==d&&l.push(d)}}l.length>0&&(i.children=l)}this._invokeAll((function(t){t.writeNode&&t.writeNode(e,i)}));var h=t.nodes.push(i)-1;return r.set(e,h),h}},{key:"processScene",value:function(e){var t=this.json,n=this.options;t.scenes||(t.scenes=[],t.scene=0);var r={};""!==e.name&&(r.name=e.name),t.scenes.push(r);for(var i=[],a=0,o=e.children.length;a<o;a++){var s=e.children[a];if(s.visible||!1===n.onlyVisible){var u=this.processNode(s);null!==u&&i.push(u)}}i.length>0&&(r.nodes=i),this.serializeUserData(e,r)}},{key:"processObjects",value:function(e){var t=new cE;t.name="AuxScene";for(var n=0;n<e.length;n++)t.children.push(e[n]);this.processScene(t)}},{key:"processInput",value:function(e){var t=this.options;e=e instanceof Array?e:[e],this._invokeAll((function(t){t.beforeParse&&t.beforeParse(e)}));for(var n=[],r=0;r<e.length;r++)e[r]instanceof cE?this.processScene(e[r]):n.push(e[r]);n.length>0&&this.processObjects(n);for(var i=0;i<this.skins.length;++i)this.processSkin(this.skins[i]);for(var a=0;a<t.animations.length;++a)this.processAnimation(t.animations[a],e[0]);this._invokeAll((function(t){t.afterParse&&t.afterParse(e)}))}},{key:"_invokeAll",value:function(e){for(var t=0,n=this.plugins.length;t<n;t++)e(this.plugins[t])}}]),e}(),AD=function(){function e(t){c(this,e),this.writer=t,this.name="KHR_lights_punctual"}return h(e,[{key:"writeNode",value:function(e,t){if(e.isLight)if(e.isDirectionalLight||e.isPointLight||e.isSpotLight){var n=this.writer,r=n.json,i=n.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,a.spot.outerConeAngle=e.angle),void 0!==e.decay&&2!==e.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),!e.target||e.target.parent===e&&0===e.target.position.x&&0===e.target.position.y&&-1===e.target.position.z||console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),i[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},i[this.name]=!0);var o=r.extensions[this.name].lights;o.push(a),t.extensions=t.extensions||{},t.extensions[this.name]={light:o.length-1}}else console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e)}}]),e}(),fD=function(){function e(t){c(this,e),this.writer=t,this.name="KHR_materials_unlit"}return h(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshBasicMaterial){var n=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},n[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}}]),e}(),dD=function(){function e(t){c(this,e),this.writer=t,this.name="KHR_materials_clearcoat"}return h(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.clearcoat){var n=this.writer,r=n.extensionsUsed,i={};if(i.clearcoatFactor=e.clearcoat,e.clearcoatMap){var a={index:n.processTexture(e.clearcoatMap),texCoord:e.clearcoatMap.channel};n.applyTextureTransform(a,e.clearcoatMap),i.clearcoatTexture=a}if(i.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){var o={index:n.processTexture(e.clearcoatRoughnessMap),texCoord:e.clearcoatRoughnessMap.channel};n.applyTextureTransform(o,e.clearcoatRoughnessMap),i.clearcoatRoughnessTexture=o}if(e.clearcoatNormalMap){var s={index:n.processTexture(e.clearcoatNormalMap),texCoord:e.clearcoatNormalMap.channel};n.applyTextureTransform(s,e.clearcoatNormalMap),i.clearcoatNormalTexture=s}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),hD=function(){function e(t){c(this,e),this.writer=t,this.name="KHR_materials_iridescence"}return h(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.iridescence){var n=this.writer,r=n.extensionsUsed,i={};if(i.iridescenceFactor=e.iridescence,e.iridescenceMap){var a={index:n.processTexture(e.iridescenceMap),texCoord:e.iridescenceMap.channel};n.applyTextureTransform(a,e.iridescenceMap),i.iridescenceTexture=a}if(i.iridescenceIor=e.iridescenceIOR,i.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],i.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){var o={index:n.processTexture(e.iridescenceThicknessMap),texCoord:e.iridescenceThicknessMap.channel};n.applyTextureTransform(o,e.iridescenceThicknessMap),i.iridescenceThicknessTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),pD=function(){function e(t){c(this,e),this.writer=t,this.name="KHR_materials_transmission"}return h(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var n=this.writer,r=n.extensionsUsed,i={};if(i.transmissionFactor=e.transmission,e.transmissionMap){var a={index:n.processTexture(e.transmissionMap),texCoord:e.transmissionMap.channel};n.applyTextureTransform(a,e.transmissionMap),i.transmissionTexture=a}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),vD=function(){function e(t){c(this,e),this.writer=t,this.name="KHR_materials_volume"}return h(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var n=this.writer,r=n.extensionsUsed,i={};if(i.thicknessFactor=e.thickness,e.thicknessMap){var a={index:n.processTexture(e.thicknessMap),texCoord:e.thicknessMap.channel};n.applyTextureTransform(a,e.thicknessMap),i.thicknessTexture=a}i.attenuationDistance=e.attenuationDistance,i.attenuationColor=e.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),gD=function(){function e(t){c(this,e),this.writer=t,this.name="KHR_materials_ior"}return h(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&1.5!==e.ior){var n=this.writer.extensionsUsed,r={};r.ior=e.ior,t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}}}]),e}(),mD=function(){function e(t){c(this,e),this.writer=t,this.name="KHR_materials_specular"}return h(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&(1!==e.specularIntensity||!e.specularColor.equals(iD)||e.specularIntensityMap||e.specularColorTexture)){var n=this.writer,r=n.extensionsUsed,i={};if(e.specularIntensityMap){var a={index:n.processTexture(e.specularIntensityMap),texCoord:e.specularIntensityMap.channel};n.applyTextureTransform(a,e.specularIntensityMap),i.specularTexture=a}if(e.specularColorMap){var o={index:n.processTexture(e.specularColorMap),texCoord:e.specularColorMap.channel};n.applyTextureTransform(o,e.specularColorMap),i.specularColorTexture=o}i.specularFactor=e.specularIntensity,i.specularColorFactor=e.specularColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),yD=function(){function e(t){c(this,e),this.writer=t,this.name="KHR_materials_sheen"}return h(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!=e.sheen){var n=this.writer,r=n.extensionsUsed,i={};if(e.sheenRoughnessMap){var a={index:n.processTexture(e.sheenRoughnessMap),texCoord:e.sheenRoughnessMap.channel};n.applyTextureTransform(a,e.sheenRoughnessMap),i.sheenRoughnessTexture=a}if(e.sheenColorMap){var o={index:n.processTexture(e.sheenColorMap),texCoord:e.sheenColorMap.channel};n.applyTextureTransform(o,e.sheenColorMap),i.sheenColorTexture=o}i.sheenRoughnessFactor=e.sheenRoughness,i.sheenColorFactor=e.sheenColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),bD=function(){function e(t){c(this,e),this.writer=t,this.name="KHR_materials_anisotropy"}return h(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!=e.anisotropy){var n=this.writer,r=n.extensionsUsed,i={};if(e.anisotropyMap){var a={index:n.processTexture(e.anisotropyMap)};n.applyTextureTransform(a,e.anisotropyMap),i.anisotropyTexture=a}i.anisotropyStrength=e.anisotropy,i.anisotropyRotation=e.anisotropyRotation,t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),wD=function(){function e(t){c(this,e),this.writer=t,this.name="KHR_materials_emissive_strength"}return h(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshStandardMaterial&&1!==e.emissiveIntensity){var n=this.writer.extensionsUsed,r={};r.emissiveStrength=e.emissiveIntensity,t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}}}]),e}();MP.Utils={insertKeyframe:function(e,t){var n,r=.001,i=e.getValueSize(),a=new e.TimeBufferType(e.times.length+1),o=new e.ValueBufferType(e.values.length+i),s=e.createInterpolant(new e.ValueBufferType(i));if(0===e.times.length){a[0]=t;for(var u=0;u<i;u++)o[u]=0;n=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<r)return 0;a[0]=t,a.set(e.times,1),o.set(s.evaluate(t),0),o.set(e.values,i),n=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<r)return e.times.length-1;a[a.length-1]=t,a.set(e.times,0),o.set(e.values,0),o.set(s.evaluate(t),e.values.length),n=a.length-1}else for(var l=0;l<e.times.length;l++){if(Math.abs(e.times[l]-t)<r)return l;if(e.times[l]<t&&e.times[l+1]>t){a.set(e.times.slice(0,l+1),0),a[l+1]=t,a.set(e.times.slice(l+1),l+2),o.set(e.values.slice(0,(l+1)*i),0),o.set(s.evaluate(t),(l+1)*i),o.set(e.values.slice((l+1)*i),(l+2)*i),n=l+1;break}}return e.times=a,e.values=o,n},mergeMorphTargetTracks:function(e,t){for(var n=[],r={},i=e.tracks,a=0;a<i.length;++a){var o=i[a],s=GI.parseTrackName(o.name),u=GI.findNode(t,s.nodeName);if("morphTargetInfluences"===s.propertyName&&void 0!==s.propertyIndex){if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(o=o.clone()).setInterpolation(Kg)}var l=u.morphTargetInfluences.length,c=u.morphTargetDictionary[s.propertyIndex];if(void 0===c)throw new Error("THREE.GLTFExporter: Morph target name not found: "+s.propertyIndex);var A=void 0;if(void 0!==r[u.uuid]){var f=o.createInterpolant(new o.ValueBufferType(1));A=r[u.uuid];for(var d=0;d<A.times.length;d++)A.values[d*l+c]=f.evaluate(A.times[d]);for(var h=0;h<o.times.length;h++){var p=this.insertKeyframe(A,o.times[h]);A.values[p*l+c]=o.values[h]}}else{for(var v=new((A=o.clone()).ValueBufferType)(l*A.times.length),g=0;g<A.times.length;g++)v[g*l+c]=A.values[g];A.name=(s.nodeName||"")+".morphTargetInfluences",A.values=v,r[u.uuid]=A,n.push(A)}}else n.push(o)}return e.tracks=n,e}};var xD=function(){function e(){c(this,e)}return h(e,[{key:"parse",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{decodeSpeed:5,encodeSpeed:5,encoderMethod:e.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1};if(t instanceof Qw&&t.isBufferGeometry)throw new Error("DRACOExporter: The first parameter of parse() is now an instance of Mesh or Points.");if(void 0===DracoEncoderModule)throw new Error("THREE.DRACOExporter: required the draco_encoder to work.");var r,i,a=t.geometry,o=DracoEncoderModule(),s=new o.Encoder;if(!a.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.BufferGeometry instance.");if(t instanceof ix&&t.isMesh){r=new o.MeshBuilder,i=new o.Mesh;var u=a.getAttribute("position");r.AddFloatAttributeToMesh(i,o.POSITION,u.count,u.itemSize,u.array);var l=a.getIndex();if(null!==l)r.AddFacesToMesh(i,l.count/3,l.array);else{for(var c=new(u.count>65535?Uint32Array:Uint16Array)(u.count),A=0;A<c.length;A++)c[A]=A;r.AddFacesToMesh(i,u.count,c)}if(n.exportNormals){var f=a.getAttribute("normal");void 0!==f&&r.AddFloatAttributeToMesh(i,o.NORMAL,f.count,f.itemSize,f.array)}if(n.exportUvs){var d=a.getAttribute("uv");void 0!==d&&r.AddFloatAttributeToMesh(i,o.TEX_COORD,d.count,d.itemSize,d.array)}if(n.exportColor){var h=a.getAttribute("color");void 0!==h&&r.AddFloatAttributeToMesh(i,o.COLOR,h.count,h.itemSize,h.array)}}else{if(!(t instanceof mS&&t.isPoints))throw new Error("DRACOExporter: Unsupported object type.");r=new o.PointCloudBuilder,i=new o.PointCloud;var p=a.getAttribute("position");if(r.AddFloatAttribute(i,o.POSITION,p.count,p.itemSize,p.array),n.exportColor){var v=a.getAttribute("color");void 0!==v&&r.AddFloatAttribute(i,o.COLOR,v.count,v.itemSize,v.array)}}var g,m=new o.DracoInt8Array,y=void 0!==n.encodeSpeed?n.encodeSpeed:5,b=void 0!==n.decodeSpeed?n.decodeSpeed:5;if(s.SetSpeedOptions(y,b),void 0!==n.encoderMethod&&s.SetEncodingMethod(n.encoderMethod),void 0!==n.quantization)for(var w=0;w<5;w++)void 0!==n.quantization[w]&&s.SetAttributeQuantization(w,n.quantization[w]);if(g=t instanceof ix&&t.isMesh?s.EncodeMeshToDracoBuffer(i,m):s.EncodePointCloudToDracoBuffer(i,!0,m),o.destroy(i),0===g)throw new Error("THREE.DRACOExporter: Draco encoding failed.");for(var x=new Int8Array(new ArrayBuffer(g)),_=0;_<g;_++)x[_]=m.GetValue(_);return o.destroy(m),o.destroy(s),o.destroy(r),x}}]),e}(),_D=xD;bP(_D,"MESH_EDGEBREAKER_ENCODING",1),bP(_D,"MESH_SEQUENTIAL_ENCODING",0),bP(_D,"POINT_CLOUD",0),bP(_D,"TRIANGULAR_MESH",1),bP(_D,"INVALID",-1),bP(_D,"POSITION",0),bP(_D,"NORMAL",1),bP(_D,"COLOR",2),bP(_D,"TEX_COORD",3),bP(_D,"GENERIC",4);var CD=function(e){v(n,e);var t=w(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,n),(r=t.call(this,e)).isReflector=!0,r.type="Reflector",r.camera=new dx;var a=y(r),o=void 0!==i.color?new fw(i.color):new fw(8355711),s=i.textureWidth||512,u=i.textureHeight||512,l=i.clipBias||0,A=i.shader||n.ReflectorShader,f=void 0!==i.multisample?i.multisample:4,d=new wx,h=new Wy,p=new Wy,v=new Wy,g=new xb,m=new Wy(0,0,-1),b=new Dy,w=new Wy,x=new Wy,_=new Dy,C=new xb,E=r.camera,S=new Ny(s,u,{samples:f,type:Yv}),B=new Ax({uniforms:cx.clone(A.uniforms),fragmentShader:A.fragmentShader,vertexShader:A.vertexShader});return B.uniforms.tDiffuse.value=S.texture,B.uniforms.color.value=o,B.uniforms.textureMatrix.value=C,r.material=B,r.onBeforeRender=function(e,t,n){if(p.setFromMatrixPosition(a.matrixWorld),v.setFromMatrixPosition(n.matrixWorld),g.extractRotation(a.matrixWorld),h.set(0,0,1),h.applyMatrix4(g),w.subVectors(p,v),!(w.dot(h)>0)){w.reflect(h).negate(),w.add(p),g.extractRotation(n.matrixWorld),m.set(0,0,-1),m.applyMatrix4(g),m.add(v),x.subVectors(p,m),x.reflect(h).negate(),x.add(p),E.position.copy(w),E.up.set(0,1,0),E.up.applyMatrix4(g),E.up.reflect(h),E.lookAt(x),E.far=n.far,E.updateMatrixWorld(),E.projectionMatrix.copy(n.projectionMatrix),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(E.projectionMatrix),C.multiply(E.matrixWorldInverse),C.multiply(a.matrixWorld),d.setFromNormalAndCoplanarPoint(h,p),d.applyMatrix4(E.matrixWorldInverse),b.set(d.normal.x,d.normal.y,d.normal.z,d.constant);var r=E.projectionMatrix;_.x=(Math.sign(b.x)+r.elements[8])/r.elements[0],_.y=(Math.sign(b.y)+r.elements[9])/r.elements[5],_.z=-1,_.w=(1+r.elements[10])/r.elements[14],b.multiplyScalar(2/b.dot(_)),r.elements[2]=b.x,r.elements[6]=b.y,r.elements[10]=b.z+1-l,r.elements[14]=b.w,a.visible=!1;var i=e.getRenderTarget(),o=e.xr.enabled,s=e.shadowMap.autoUpdate,u=e.toneMapping,c=!1;c="outputColorSpace"in e?"srgb"===e.outputColorSpace:3001===e.outputEncoding,e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,"outputColorSpace"in e?e.outputColorSpace="linear-srgb":e.outputEncoding=3e3,e.toneMapping=mv,e.setRenderTarget(S),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,E),e.xr.enabled=o,e.shadowMap.autoUpdate=s,e.toneMapping=u,"outputColorSpace"in e?e.outputColorSpace=c?"srgb":"srgb-linear":e.outputEncoding=c?3001:3e3,e.setRenderTarget(i);var A=n.viewport;void 0!==A&&e.state.viewport(A),a.visible=!0}},r.getRenderTarget=function(){return S},r.dispose=function(){S.dispose(),a.material.dispose()},r}return h(n)}(ix),ED=CD;bP(ED,"ReflectorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:"\n\t\tuniform mat4 textureMatrix;\n\t\tvarying vec4 vUv;\n\n\t\t#include <common>\n\t\t#include <logdepthbuf_pars_vertex>\n\n\t\tvoid main() {\n\n\t\t\tvUv = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t\t#include <logdepthbuf_vertex>\n\n\t\t}",fragmentShader:"\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\t\tvarying vec4 vUv;\n\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tfloat blendOverlay( float base, float blend ) {\n\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n\t\t}\n\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <".concat(parseInt(Cp.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment",">\n\n\t\t}")});var SD=function(e){v(n,e);var t=w(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,n),(r=t.call(this,e)).isRefractor=!0,r.type="Refractor",r.camera=new dx;var a=y(r),o=void 0!==i.color?new fw(i.color):new fw(8355711),s=i.textureWidth||512,u=i.textureHeight||512,l=i.clipBias||0,A=i.shader||n.RefractorShader,f=void 0!==i.multisample?i.multisample:4,d=r.camera;d.matrixAutoUpdate=!1,d.userData.refractor=!0;var h=new wx,p=new xb,v=new Ny(s,u,{samples:f,type:Yv});r.material=new Ax({uniforms:cx.clone(A.uniforms),vertexShader:A.vertexShader,fragmentShader:A.fragmentShader,transparent:!0}),r.material.uniforms.color.value=o,r.material.uniforms.tDiffuse.value=v.texture,r.material.uniforms.textureMatrix.value=p;var g=function(){var e=new Wy,t=new Wy,n=new xb,r=new Wy,i=new Wy;return function(o){return e.setFromMatrixPosition(a.matrixWorld),t.setFromMatrixPosition(o.matrixWorld),r.subVectors(e,t),n.extractRotation(a.matrixWorld),i.set(0,0,1),i.applyMatrix4(n),r.dot(i)<0}}(),m=function(){var e=new Wy,t=new Wy,n=new Vy,r=new Wy;return function(){a.matrixWorld.decompose(t,n,r),e.set(0,0,1).applyQuaternion(n).normalize(),e.negate(),h.setFromNormalAndCoplanarPoint(e,t)}}(),b=function(){var e=new wx,t=new Dy,n=new Dy;return function(r){d.matrixWorld.copy(r.matrixWorld),d.matrixWorldInverse.copy(d.matrixWorld).invert(),d.projectionMatrix.copy(r.projectionMatrix),d.far=r.far,e.copy(h),e.applyMatrix4(d.matrixWorldInverse),t.set(e.normal.x,e.normal.y,e.normal.z,e.constant);var i=d.projectionMatrix;n.x=(Math.sign(t.x)+i.elements[8])/i.elements[0],n.y=(Math.sign(t.y)+i.elements[9])/i.elements[5],n.z=-1,n.w=(1+i.elements[10])/i.elements[14],t.multiplyScalar(2/t.dot(n)),i.elements[2]=t.x,i.elements[6]=t.y,i.elements[10]=t.z+1-l,i.elements[14]=t.w}}();return r.onBeforeRender=function(e,t,n){!0!==n.userData.refractor&&!0!==!g(n)&&(m(),function(e){p.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),p.multiply(e.projectionMatrix),p.multiply(e.matrixWorldInverse),p.multiply(a.matrixWorld)}(n),b(n),function(e,t,n){a.visible=!1;var r=e.getRenderTarget(),i=e.xr.enabled,o=e.shadowMap.autoUpdate,s=e.toneMapping,u=!1;u="outputColorSpace"in e?"srgb"===e.outputColorSpace:3001===e.outputEncoding,e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,"outputColorSpace"in e?e.outputColorSpace="linear-srgb":e.outputEncoding=3e3,e.toneMapping=mv,e.setRenderTarget(v),!1===e.autoClear&&e.clear(),e.render(t,d),e.xr.enabled=i,e.shadowMap.autoUpdate=o,e.toneMapping=s,e.setRenderTarget(r),"outputColorSpace"in e?e.outputColorSpace=u?"srgb":"srgb-linear":e.outputEncoding=u?3001:3e3;var l=n.viewport;void 0!==l&&e.state.viewport(l),a.visible=!0}(e,t,n))},r.getRenderTarget=function(){return v},r.dispose=function(){v.dispose(),a.material.dispose()},r}return h(n)}(ix),BD=SD;bP(BD,"RefractorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:"\n\n\t\tuniform mat4 textureMatrix;\n\n\t\tvarying vec4 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = textureMatrix * vec4( position, 1.0 );\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec4 vUv;\n\n\t\tfloat blendOverlay( float base, float blend ) {\n\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n\t\t}\n\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <".concat(parseInt(Cp.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment",">\n\n\t\t}")});var TD=new Qw,ID=function(e){v(n,e);var t=w(n);function n(){var e;c(this,n),(e=t.call(this,n.Geometry,new hw({opacity:0,transparent:!0}))).isLensflare=!0,e.type="Lensflare",e.frustumCulled=!1,e.renderOrder=1/0;var r=new Wy,i=new Wy,a=new zE(new Uint8Array(768),16,16,tg);a.minFilter=Uv,a.magFilter=Uv,a.wrapS=Mv,a.wrapT=Mv;var o=new zE(new Uint8Array(768),16,16,tg);o.minFilter=Uv,o.magFilter=Uv,o.wrapS=Mv,o.wrapT=Mv;var s=n.Geometry,u=new YB({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform vec3 screenPosition;\n\t\t\t\tuniform vec2 scale;\n\n\t\t\t\tattribute vec3 position;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );\n\n\t\t\t\t}",fragmentShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );\n\n\t\t\t\t}",depthTest:!0,depthWrite:!1,transparent:!1}),l=new YB({uniforms:{map:{value:a},scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform vec3 screenPosition;\n\t\t\t\tuniform vec2 scale;\n\n\t\t\t\tattribute vec3 position;\n\t\t\t\tattribute vec2 uv;\n\n\t\t\t\tvarying vec2 vUV;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvUV = uv;\n\n\t\t\t\t\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );\n\n\t\t\t\t}",fragmentShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform sampler2D map;\n\n\t\t\t\tvarying vec2 vUV;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_FragColor = texture2D( map, vUV );\n\n\t\t\t\t}",depthTest:!1,depthWrite:!1,transparent:!1}),A=new ix(s,u),f=[],d=kD.Shader,h=new YB({uniforms:{map:{value:null},occlusionMap:{value:o},color:{value:new fw(16777215)},scale:{value:new dy},screenPosition:{value:new Wy}},vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,blending:Hp,transparent:!0,depthWrite:!1}),p=new ix(s,h);e.addElement=function(e){f.push(e)};var v=new dy,g=new dy,m=new ok,y=new Dy;return e.onBeforeRender=function(e,t,n){e.getCurrentViewport(y);var c=y.w/y.z,d=y.z/2,b=y.w/2,w=16/y.w;if(v.set(w*c,w),m.min.set(y.x,y.y),m.max.set(y.x+(y.z-16),y.y+(y.w-16)),i.setFromMatrixPosition(this.matrixWorld),i.applyMatrix4(n.matrixWorldInverse),!(i.z>0)&&(r.copy(i).applyMatrix4(n.projectionMatrix),g.x=y.x+r.x*d+d-8,g.y=y.y+r.y*b+b-8,m.containsPoint(g))){e.copyFramebufferToTexture(g,a);var x=u.uniforms;x.scale.value=v,x.screenPosition.value=r,e.renderBufferDirect(n,null,s,u,A,null),e.copyFramebufferToTexture(g,o),(x=l.uniforms).scale.value=v,x.screenPosition.value=r,e.renderBufferDirect(n,null,s,l,A,null);for(var _=2*-r.x,C=2*-r.y,E=0,S=f.length;E<S;E++){var B=f[E],T=h.uniforms;T.color.value.copy(B.color),T.map.value=B.texture,T.screenPosition.value.x=r.x+_*B.distance,T.screenPosition.value.y=r.y+C*B.distance,w=B.size/y.w;var I=y.w/y.z;T.scale.value.set(w*I,w),h.uniformsNeedUpdate=!0,e.renderBufferDirect(n,null,s,h,p,null)}}},e.dispose=function(){u.dispose(),l.dispose(),h.dispose(),a.dispose(),o.dispose();for(var e=0,t=f.length;e<t;e++)f[e].texture.dispose()},e}return h(n)}(ix);bP(ID,"Geometry",TD);var kD=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new fw(16777215);c(this,e),this.texture=t,this.size=n,this.distance=r,this.color=i}));bP(kD,"Shader",{uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\tprecision highp float;\n\n\t\tuniform vec3 screenPosition;\n\t\tuniform vec2 scale;\n\n\t\tuniform sampler2D occlusionMap;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\n\t\tvarying vec2 vUV;\n\t\tvarying float vVisibility;\n\n\t\tvoid main() {\n\n\t\t\tvUV = uv;\n\n\t\t\tvec2 pos = position.xy;\n\n\t\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\n\n\t\t\tvVisibility =        visibility.r / 9.0;\n\t\t\tvVisibility *= 1.0 - visibility.g / 9.0;\n\t\t\tvVisibility *=       visibility.b / 9.0;\n\n\t\t\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tprecision highp float;\n\n\t\tuniform sampler2D map;\n\t\tuniform vec3 color;\n\n\t\tvarying vec2 vUV;\n\t\tvarying float vVisibility;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texture = texture2D( map, vUV );\n\t\t\ttexture.a *= vVisibility;\n\t\t\tgl_FragColor = texture;\n\t\t\tgl_FragColor.rgb *= color;\n\n\t\t}"});new Int32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0]),new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);var MD=h((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math;c(this,e),bP(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),bP(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),bP(this,"p",[]),bP(this,"perm",[]),bP(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),bP(this,"dot",(function(e,t,n){return e[0]*t+e[1]*n})),bP(this,"dot3",(function(e,t,n,r){return e[0]*t+e[1]*n+e[2]*r})),bP(this,"dot4",(function(e,t,n,r,i){return e[0]*t+e[1]*n+e[2]*r+e[3]*i})),bP(this,"noise",(function(e,n){var r=(e+n)*(.5*(Math.sqrt(3)-1)),i=Math.floor(e+r),a=Math.floor(n+r),o=(3-Math.sqrt(3))/6,s=(i+a)*o,u=e-(i-s),l=n-(a-s),c=0,A=1;u>l&&(c=1,A=0);var f=u-c+o,d=l-A+o,h=u-1+2*o,p=l-1+2*o,v=255&i,g=255&a,m=t.perm[v+t.perm[g]]%12,y=t.perm[v+c+t.perm[g+A]]%12,b=t.perm[v+1+t.perm[g+1]]%12,w=.5-u*u-l*l,x=.5-f*f-d*d,_=.5-h*h-p*p;return 70*((w<0?0:(w*=w)*w*t.dot(t.grad3[m],u,l))+(x<0?0:(x*=x)*x*t.dot(t.grad3[y],f,d))+(_<0?0:(_*=_)*_*t.dot(t.grad3[b],h,p)))})),bP(this,"noise3d",(function(e,n,r){var i,a,o,s,u,l,c=(e+n+r)*(1/3),A=Math.floor(e+c),f=Math.floor(n+c),d=Math.floor(r+c),h=1/6,p=(A+f+d)*h,v=e-(A-p),g=n-(f-p),m=r-(d-p);v>=g?g>=m?(i=1,a=0,o=0,s=1,u=1,l=0):v>=m?(i=1,a=0,o=0,s=1,u=0,l=1):(i=0,a=0,o=1,s=1,u=0,l=1):g<m?(i=0,a=0,o=1,s=0,u=1,l=1):v<m?(i=0,a=1,o=0,s=0,u=1,l=1):(i=0,a=1,o=0,s=1,u=1,l=0);var y=v-i+h,b=g-a+h,w=m-o+h,x=v-s+2*h,_=g-u+2*h,C=m-l+2*h,E=v-1+.5,S=g-1+.5,B=m-1+.5,T=255&A,I=255&f,k=255&d,M=t.perm[T+t.perm[I+t.perm[k]]]%12,R=t.perm[T+i+t.perm[I+a+t.perm[k+o]]]%12,U=t.perm[T+s+t.perm[I+u+t.perm[k+l]]]%12,F=t.perm[T+1+t.perm[I+1+t.perm[k+1]]]%12,O=.6-v*v-g*g-m*m,P=.6-y*y-b*b-w*w,D=.6-x*x-_*_-C*C,L=.6-E*E-S*S-B*B;return 32*((O<0?0:(O*=O)*O*t.dot3(t.grad3[M],v,g,m))+(P<0?0:(P*=P)*P*t.dot3(t.grad3[R],y,b,w))+(D<0?0:(D*=D)*D*t.dot3(t.grad3[U],x,_,C))+(L<0?0:(L*=L)*L*t.dot3(t.grad3[F],E,S,B)))})),bP(this,"noise4d",(function(e,n,r,i){var a,o,s,u,l,c,A,f,d,h,p,v,g=t.grad4,m=t.simplex,y=t.perm,b=(Math.sqrt(5)-1)/4,w=(5-Math.sqrt(5))/20,x=(e+n+r+i)*b,_=Math.floor(e+x),C=Math.floor(n+x),E=Math.floor(r+x),S=Math.floor(i+x),B=(_+C+E+S)*w,T=e-(_-B),I=n-(C-B),k=r-(E-B),M=i-(S-B),R=(T>I?32:0)+(T>k?16:0)+(I>k?8:0)+(T>M?4:0)+(I>M?2:0)+(k>M?1:0),U=T-(a=m[R][0]>=3?1:0)+w,F=I-(o=m[R][1]>=3?1:0)+w,O=k-(s=m[R][2]>=3?1:0)+w,P=M-(u=m[R][3]>=3?1:0)+w,D=T-(l=m[R][0]>=2?1:0)+2*w,L=I-(c=m[R][1]>=2?1:0)+2*w,N=k-(A=m[R][2]>=2?1:0)+2*w,Q=M-(f=m[R][3]>=2?1:0)+2*w,H=T-(d=m[R][0]>=1?1:0)+3*w,j=I-(h=m[R][1]>=1?1:0)+3*w,z=k-(p=m[R][2]>=1?1:0)+3*w,G=M-(v=m[R][3]>=1?1:0)+3*w,V=T-1+4*w,W=I-1+4*w,K=k-1+4*w,X=M-1+4*w,q=255&_,Y=255&C,Z=255&E,J=255&S,$=y[q+y[Y+y[Z+y[J]]]]%32,ee=y[q+a+y[Y+o+y[Z+s+y[J+u]]]]%32,te=y[q+l+y[Y+c+y[Z+A+y[J+f]]]]%32,ne=y[q+d+y[Y+h+y[Z+p+y[J+v]]]]%32,re=y[q+1+y[Y+1+y[Z+1+y[J+1]]]]%32,ie=.6-T*T-I*I-k*k-M*M,ae=.6-U*U-F*F-O*O-P*P,oe=.6-D*D-L*L-N*N-Q*Q,se=.6-H*H-j*j-z*z-G*G,ue=.6-V*V-W*W-K*K-X*X;return 27*((ie<0?0:(ie*=ie)*ie*t.dot4(g[$],T,I,k,M))+(ae<0?0:(ae*=ae)*ae*t.dot4(g[ee],U,F,O,P))+(oe<0?0:(oe*=oe)*oe*t.dot4(g[te],D,L,N,Q))+(se<0?0:(se*=se)*se*t.dot4(g[ne],H,j,z,G))+(ue<0?0:(ue*=ue)*ue*t.dot4(g[re],V,W,K,X)))}));for(var r=0;r<256;r++)this.p[r]=Math.floor(256*n.random());for(var i=0;i<512;i++)this.perm[i]=this.p[255&i]})),RD=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(this,n),(e=t.call(this)).isLightningStrike=!0,e.type="LightningStrike",e.init(n.copyParameters(r,r)),e.createMesh(),e}return h(n,[{key:"update",value:function(e){this.isStatic||(this.rayParameters.isEternal||this.rayParameters.birthTime<=e&&e<=this.rayParameters.deathTime?(this.updateMesh(e),e<this.subrays[0].endPropagationTime?this.state=n.RAY_PROPAGATING:e>this.subrays[0].beginVanishingTime?this.state=n.RAY_VANISHING:this.state=n.RAY_STEADY,this.visible=!0):(this.visible=!1,e<this.rayParameters.birthTime?this.state=n.RAY_UNBORN:this.state=n.RAY_EXTINGUISHED))}},{key:"init",value:function(e){this.rayParameters=e,this.maxIterations=void 0!==e.maxIterations?Math.floor(e.maxIterations):9,e.maxIterations=this.maxIterations,this.isStatic=void 0!==e.isStatic&&e.isStatic,e.isStatic=this.isStatic,this.ramification=void 0!==e.ramification?Math.floor(e.ramification):5,e.ramification=this.ramification,this.maxSubrayRecursion=void 0!==e.maxSubrayRecursion?Math.floor(e.maxSubrayRecursion):3,e.maxSubrayRecursion=this.maxSubrayRecursion,this.recursionProbability=void 0!==e.recursionProbability?e.recursionProbability:.6,e.recursionProbability=this.recursionProbability,this.generateUVs=void 0!==e.generateUVs&&e.generateUVs,e.generateUVs=this.generateUVs,void 0!==e.randomGenerator?(this.randomGenerator=e.randomGenerator,this.seedGenerator=e.randomGenerator,void 0!==e.noiseSeed&&this.seedGenerator.setSeed(e.noiseSeed)):(this.randomGenerator=n.createRandomGenerator(),this.seedGenerator=Math),void 0!==e.onDecideSubrayCreation?this.onDecideSubrayCreation=e.onDecideSubrayCreation:(this.createDefaultSubrayCreationCallbacks(),void 0!==e.onSubrayCreation&&(this.onSubrayCreation=e.onSubrayCreation)),this.state=n.RAY_INITIALIZED,this.maxSubrays=Math.ceil(1+Math.pow(this.ramification,Math.max(0,this.maxSubrayRecursion-1))),e.maxSubrays=this.maxSubrays,this.maxRaySegments=2*(1<<this.maxIterations),this.subrays=[];for(var t=0;t<this.maxSubrays;t++)this.subrays.push(this.createSubray());this.raySegments=[];for(var r=0;r<this.maxRaySegments;r++)this.raySegments.push(this.createSegment());this.time=0,this.timeFraction=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this.generateUVs?this.createTriangleVerticesWithUVs:this.createTriangleVerticesWithoutUVs,this.numSubrays=0,this.currentSubray=null,this.currentSegmentIndex=0,this.isInitialSegment=!1,this.subrayProbability=0,this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.vertices=null,this.uvs=null,this.indices=null,this.positionAttribute=null,this.uvsAttribute=null,this.simplexX=new MD(this.seedGenerator),this.simplexY=new MD(this.seedGenerator),this.simplexZ=new MD(this.seedGenerator),this.forwards=new Wy,this.forwardsFill=new Wy,this.side=new Wy,this.down=new Wy,this.middlePos=new Wy,this.middleLinPos=new Wy,this.newPos=new Wy,this.vPos=new Wy,this.cross1=new Wy}},{key:"createMesh",value:function(){var e=1<<this.maxIterations,t=3*(e+1)*this.maxSubrays,n=18*e*this.maxSubrays;this.vertices=new Float32Array(3*t),this.indices=new Uint32Array(n),this.generateUVs&&(this.uvs=new Float32Array(2*t)),this.fillMesh(0),this.setIndex(new Iw(this.indices,1)),this.positionAttribute=new Mw(this.vertices,3),this.setAttribute("position",this.positionAttribute),this.generateUVs&&(this.uvsAttribute=new Mw(new Float32Array(this.uvs),2),this.setAttribute("uv",this.uvsAttribute)),this.isStatic||(this.index.usage=Nm,this.positionAttribute.usage=Nm,this.generateUVs&&(this.uvsAttribute.usage=Nm)),this.vertices=this.positionAttribute.array,this.indices=this.index.array,this.generateUVs&&(this.uvs=this.uvsAttribute.array)}},{key:"updateMesh",value:function(e){this.fillMesh(e),this.drawRange.count=this.currentIndex,this.index.needsUpdate=!0,this.positionAttribute.needsUpdate=!0,this.generateUVs&&(this.uvsAttribute.needsUpdate=!0)}},{key:"fillMesh",value:function(e){var t=this;this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.fractalRay(e,(function(n){var r=t.currentSubray;e<r.birthTime||(this.rayParameters.isEternal&&0==t.currentSubray.recursion?(t.createPrism(n),t.onDecideSubrayCreation(n,t)):e<r.endPropagationTime?t.timeFraction>=n.fraction0*r.propagationTimeFactor&&(t.createPrism(n),t.onDecideSubrayCreation(n,t)):e<r.beginVanishingTime?(t.createPrism(n),t.onDecideSubrayCreation(n,t)):(t.timeFraction<=r.vanishingTimeFactor+n.fraction1*(1-r.vanishingTimeFactor)&&t.createPrism(n),t.onDecideSubrayCreation(n,t)))}))}},{key:"addNewSubray",value:function(){return this.subrays[this.numSubrays++]}},{key:"initSubray",value:function(e,t){e.pos0.copy(t.sourceOffset),e.pos1.copy(t.destOffset),e.up0.copy(t.up0),e.up1.copy(t.up1),e.radius0=t.radius0,e.radius1=t.radius1,e.birthTime=t.birthTime,e.deathTime=t.deathTime,e.timeScale=t.timeScale,e.roughness=t.roughness,e.straightness=t.straightness,e.propagationTimeFactor=t.propagationTimeFactor,e.vanishingTimeFactor=t.vanishingTimeFactor,e.maxIterations=this.maxIterations,e.seed=void 0!==t.noiseSeed?t.noiseSeed:0,e.recursion=0}},{key:"fractalRay",value:function(e,t){this.time=e,this.currentSegmentCallback=t,this.numSubrays=0,this.initSubray(this.addNewSubray(),this.rayParameters);for(var n=0;n<this.numSubrays;n++){var r=this.subrays[n];this.currentSubray=r,this.randomGenerator.setSeed(r.seed),r.endPropagationTime=fy.lerp(r.birthTime,r.deathTime,r.propagationTimeFactor),r.beginVanishingTime=fy.lerp(r.deathTime,r.birthTime,1-r.vanishingTimeFactor);var i=this.randomGenerator.random;r.linPos0.set(i(),i(),i()).multiplyScalar(1e3),r.linPos1.set(i(),i(),i()).multiplyScalar(1e3),this.timeFraction=(e-r.birthTime)/(r.deathTime-r.birthTime),this.currentSegmentIndex=0,this.isInitialSegment=!0;var a=this.getNewSegment();a.iteration=0,a.pos0.copy(r.pos0),a.pos1.copy(r.pos1),a.linPos0.copy(r.linPos0),a.linPos1.copy(r.linPos1),a.up0.copy(r.up0),a.up1.copy(r.up1),a.radius0=r.radius0,a.radius1=r.radius1,a.fraction0=0,a.fraction1=1,a.positionVariationFactor=1-r.straightness,this.subrayProbability=this.ramification*Math.pow(this.recursionProbability,r.recursion)/(1<<r.maxIterations),this.fractalRayRecursive(a)}this.currentSegmentCallback=null,this.currentSubray=null}},{key:"fractalRayRecursive",value:function(e){if(e.iteration>=this.currentSubray.maxIterations)this.currentSegmentCallback(e);else{this.forwards.subVectors(e.pos1,e.pos0);var t=this.forwards.length();t<1e-6&&(this.forwards.set(0,0,.01),t=this.forwards.length());var n=.5*(e.radius0+e.radius1),r=.5*(e.fraction0+e.fraction1),i=this.time*this.currentSubray.timeScale*Math.pow(2,e.iteration);this.middlePos.lerpVectors(e.pos0,e.pos1,.5),this.middleLinPos.lerpVectors(e.linPos0,e.linPos1,.5);var a=this.middleLinPos;this.newPos.set(this.simplexX.noise4d(a.x,a.y,a.z,i),this.simplexY.noise4d(a.x,a.y,a.z,i),this.simplexZ.noise4d(a.x,a.y,a.z,i)),this.newPos.multiplyScalar(e.positionVariationFactor*t),this.newPos.add(this.middlePos);var o=this.getNewSegment();o.pos0.copy(e.pos0),o.pos1.copy(this.newPos),o.linPos0.copy(e.linPos0),o.linPos1.copy(this.middleLinPos),o.up0.copy(e.up0),o.up1.copy(e.up1),o.radius0=e.radius0,o.radius1=n,o.fraction0=e.fraction0,o.fraction1=r,o.positionVariationFactor=e.positionVariationFactor*this.currentSubray.roughness,o.iteration=e.iteration+1;var s=this.getNewSegment();s.pos0.copy(this.newPos),s.pos1.copy(e.pos1),s.linPos0.copy(this.middleLinPos),s.linPos1.copy(e.linPos1),this.cross1.crossVectors(e.up0,this.forwards.normalize()),s.up0.crossVectors(this.forwards,this.cross1).normalize(),s.up1.copy(e.up1),s.radius0=n,s.radius1=e.radius1,s.fraction0=r,s.fraction1=e.fraction1,s.positionVariationFactor=e.positionVariationFactor*this.currentSubray.roughness,s.iteration=e.iteration+1,this.fractalRayRecursive(o),this.fractalRayRecursive(s)}}},{key:"createPrism",value:function(e){this.forwardsFill.subVectors(e.pos1,e.pos0).normalize(),this.isInitialSegment&&(this.currentCreateTriangleVertices(e.pos0,e.up0,this.forwardsFill,e.radius0,0),this.isInitialSegment=!1),this.currentCreateTriangleVertices(e.pos1,e.up0,this.forwardsFill,e.radius1,e.fraction1),this.createPrismFaces()}},{key:"createTriangleVerticesWithoutUVs",value:function(e,t,r,i){this.side.crossVectors(t,r).multiplyScalar(i*n.COS30DEG),this.down.copy(t).multiplyScalar(-i*n.SIN30DEG);var a=this.vPos,o=this.vertices;a.copy(e).sub(this.side).add(this.down),o[this.currentCoordinate++]=a.x,o[this.currentCoordinate++]=a.y,o[this.currentCoordinate++]=a.z,a.copy(e).add(this.side).add(this.down),o[this.currentCoordinate++]=a.x,o[this.currentCoordinate++]=a.y,o[this.currentCoordinate++]=a.z,a.copy(t).multiplyScalar(i).add(e),o[this.currentCoordinate++]=a.x,o[this.currentCoordinate++]=a.y,o[this.currentCoordinate++]=a.z,this.currentVertex+=3}},{key:"createTriangleVerticesWithUVs",value:function(e,t,r,i,a){this.side.crossVectors(t,r).multiplyScalar(i*n.COS30DEG),this.down.copy(t).multiplyScalar(-i*n.SIN30DEG);var o=this.vPos,s=this.vertices,u=this.uvs;o.copy(e).sub(this.side).add(this.down),s[this.currentCoordinate++]=o.x,s[this.currentCoordinate++]=o.y,s[this.currentCoordinate++]=o.z,u[this.currentUVCoordinate++]=a,u[this.currentUVCoordinate++]=0,o.copy(e).add(this.side).add(this.down),s[this.currentCoordinate++]=o.x,s[this.currentCoordinate++]=o.y,s[this.currentCoordinate++]=o.z,u[this.currentUVCoordinate++]=a,u[this.currentUVCoordinate++]=.5,o.copy(t).multiplyScalar(i).add(e),s[this.currentCoordinate++]=o.x,s[this.currentCoordinate++]=o.y,s[this.currentCoordinate++]=o.z,u[this.currentUVCoordinate++]=a,u[this.currentUVCoordinate++]=1,this.currentVertex+=3}},{key:"createPrismFaces",value:function(e){var t=this.indices;e=this.currentVertex-6,t[this.currentIndex++]=e+1,t[this.currentIndex++]=e+2,t[this.currentIndex++]=e+5,t[this.currentIndex++]=e+1,t[this.currentIndex++]=e+5,t[this.currentIndex++]=e+4,t[this.currentIndex++]=e+0,t[this.currentIndex++]=e+1,t[this.currentIndex++]=e+4,t[this.currentIndex++]=e+0,t[this.currentIndex++]=e+4,t[this.currentIndex++]=e+3,t[this.currentIndex++]=e+2,t[this.currentIndex++]=e+0,t[this.currentIndex++]=e+3,t[this.currentIndex++]=e+2,t[this.currentIndex++]=e+3,t[this.currentIndex++]=e+5}},{key:"createDefaultSubrayCreationCallbacks",value:function(){var e=this.randomGenerator.random;this.onDecideSubrayCreation=function(t,n){var r=n.currentSubray,i=n.rayParameters.subrayPeriod,a=n.rayParameters.subrayDutyCycle,o=n.rayParameters.isEternal&&0==r.recursion?-e()*i:fy.lerp(r.birthTime,r.endPropagationTime,t.fraction0)-e()*i,s=n.time-o,u=Math.floor(s/i),l=e()*(u+1),c=0;if(s%i<=a*i&&(c=n.subrayProbability),r.recursion<n.maxSubrayRecursion&&n.numSubrays<n.maxSubrays&&e()<c){var A=n.addNewSubray(),f=n.randomGenerator.getSeed();A.seed=l,n.randomGenerator.setSeed(l),A.recursion=r.recursion+1,A.maxIterations=Math.max(1,r.maxIterations-1),A.linPos0.set(e(),e(),e()).multiplyScalar(1e3),A.linPos1.set(e(),e(),e()).multiplyScalar(1e3),A.up0.copy(r.up0),A.up1.copy(r.up1),A.radius0=t.radius0*n.rayParameters.radius0Factor,A.radius1=Math.min(n.rayParameters.minRadius,t.radius1*n.rayParameters.radius1Factor),A.birthTime=o+u*i,A.deathTime=A.birthTime+i*a,n.rayParameters.isEternal||0!=r.recursion||(A.birthTime=Math.max(A.birthTime,r.birthTime),A.deathTime=Math.min(A.deathTime,r.deathTime)),A.timeScale=2*r.timeScale,A.roughness=r.roughness,A.straightness=r.straightness,A.propagationTimeFactor=r.propagationTimeFactor,A.vanishingTimeFactor=r.vanishingTimeFactor,n.onSubrayCreation(t,r,A,n),n.randomGenerator.setSeed(f)}};var t=new Wy,n=new Wy,r=new Wy,i=new Wy;this.onSubrayCreation=function(e,t,n,r){r.subrayCylinderPosition(e,t,n,.5,.6,.2)},this.subrayConePosition=function(a,o,s,u,l,c){s.pos0.copy(a.pos0),t.subVectors(o.pos1,o.pos0),n.copy(t).normalize(),t.multiplyScalar(a.fraction0+(1-a.fraction0)*(e()*u));var A=t.length();r.crossVectors(o.up0,n);var f=2*Math.PI*e();r.multiplyScalar(Math.cos(f)),i.copy(o.up0).multiplyScalar(Math.sin(f)),s.pos1.copy(r).add(i).multiplyScalar(A*l*(c+e()*(1-c))).add(t).add(o.pos0)},this.subrayCylinderPosition=function(a,o,s,u,l,c){s.pos0.copy(a.pos0),t.subVectors(o.pos1,o.pos0),n.copy(t).normalize(),t.multiplyScalar(a.fraction0+(1-a.fraction0)*((2*e()-1)*u));var A=t.length();r.crossVectors(o.up0,n);var f=2*Math.PI*e();r.multiplyScalar(Math.cos(f)),i.copy(o.up0).multiplyScalar(Math.sin(f)),s.pos1.copy(r).add(i).multiplyScalar(A*l*(c+e()*(1-c))).add(t).add(o.pos0)}}},{key:"createSubray",value:function(){return{seed:0,maxIterations:0,recursion:0,pos0:new Wy,pos1:new Wy,linPos0:new Wy,linPos1:new Wy,up0:new Wy,up1:new Wy,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}},{key:"createSegment",value:function(){return{iteration:0,pos0:new Wy,pos1:new Wy,linPos0:new Wy,linPos1:new Wy,up0:new Wy,up1:new Wy,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}},{key:"getNewSegment",value:function(){return this.raySegments[this.currentSegmentIndex++]}},{key:"copy",value:function(e){return _p(g(n.prototype),"copy",this).call(this,e),this.init(n.copyParameters({},e.rayParameters)),this}},{key:"clone",value:function(){return new this.constructor(n.copyParameters({},this.rayParameters))}}],[{key:"createRandomGenerator",value:function(){for(var e=2053,t=[],n=0;n<e;n++)t.push(Math.random());var r={currentSeed:0,random:function(){var n=t[r.currentSeed];return r.currentSeed=(r.currentSeed+1)%e,n},getSeed:function(){return r.currentSeed/e},setSeed:function(t){r.currentSeed=Math.floor(t*e)%e}};return r}},{key:"copyParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(n){return t===e?n:n.clone()};return e.sourceOffset=void 0!==t.sourceOffset?n(t.sourceOffset):new Wy(0,100,0),e.destOffset=void 0!==t.destOffset?n(t.destOffset):new Wy(0,0,0),e.timeScale=void 0!==t.timeScale?t.timeScale:1,e.roughness=void 0!==t.roughness?t.roughness:.9,e.straightness=void 0!==t.straightness?t.straightness:.7,e.up0=void 0!==t.up0?n(t.up0):new Wy(0,0,1),e.up1=void 0!==t.up1?n(t.up1):new Wy(0,0,1),e.radius0=void 0!==t.radius0?t.radius0:1,e.radius1=void 0!==t.radius1?t.radius1:1,e.radius0Factor=void 0!==t.radius0Factor?t.radius0Factor:.5,e.radius1Factor=void 0!==t.radius1Factor?t.radius1Factor:.2,e.minRadius=void 0!==t.minRadius?t.minRadius:.2,e.isEternal=void 0!==t.isEternal?t.isEternal:void 0===t.birthTime||void 0===t.deathTime,e.birthTime=t.birthTime,e.deathTime=t.deathTime,e.propagationTimeFactor=void 0!==t.propagationTimeFactor?t.propagationTimeFactor:.1,e.vanishingTimeFactor=void 0!==t.vanishingTimeFactor?t.vanishingTimeFactor:.9,e.subrayPeriod=void 0!==t.subrayPeriod?t.subrayPeriod:4,e.subrayDutyCycle=void 0!==t.subrayDutyCycle?t.subrayDutyCycle:.6,e.maxIterations=void 0!==t.maxIterations?t.maxIterations:9,e.isStatic=void 0!==t.isStatic&&t.isStatic,e.ramification=void 0!==t.ramification?t.ramification:5,e.maxSubrayRecursion=void 0!==t.maxSubrayRecursion?t.maxSubrayRecursion:3,e.recursionProbability=void 0!==t.recursionProbability?t.recursionProbability:.6,e.generateUVs=void 0!==t.generateUVs&&t.generateUVs,e.randomGenerator=t.randomGenerator,e.noiseSeed=t.noiseSeed,e.onDecideSubrayCreation=t.onDecideSubrayCreation,e.onSubrayCreation=t.onSubrayCreation,e}}]),n}(Qw),UD=RD;bP(UD,"RAY_INITIALIZED",0),bP(UD,"RAY_UNBORN",1),bP(UD,"RAY_PROPAGATING",2),bP(UD,"RAY_STEADY",3),bP(UD,"RAY_VANISHING",4),bP(UD,"RAY_EXTINGUISHED",5),bP(UD,"COS30DEG",Math.cos(30*Math.PI/180)),bP(UD,"SIN30DEG",Math.sin(30*Math.PI/180));var FD=function(e){v(n,e);var t=w(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,n),(r=t.call(this,e)).isReflectorForSSRPass=!0,r.type="ReflectorForSSRPass";var a=y(r),o=void 0!==i.color?new fw(i.color):new fw(8355711),s=i.textureWidth||512,u=i.textureHeight||512,l=i.clipBias||0,A=i.shader||n.ReflectorShader,f=!0===i.useDepthTexture,d=new Wy(0,1,0),h=new Wy,p=new Wy;a.needsUpdate=!1,a.maxDistance=n.ReflectorShader.uniforms.maxDistance.value,a.opacity=n.ReflectorShader.uniforms.opacity.value,a.color=o,a.resolution=i.resolution||new dy(window.innerWidth,window.innerHeight),a._distanceAttenuation=n.ReflectorShader.defines.DISTANCE_ATTENUATION,Object.defineProperty(a,"distanceAttenuation",{get:function(){return a._distanceAttenuation},set:function(e){a._distanceAttenuation!==e&&(a._distanceAttenuation=e,a.material.defines.DISTANCE_ATTENUATION=e,a.material.needsUpdate=!0)}}),a._fresnel=n.ReflectorShader.defines.FRESNEL,Object.defineProperty(a,"fresnel",{get:function(){return a._fresnel},set:function(e){a._fresnel!==e&&(a._fresnel=e,a.material.defines.FRESNEL=e,a.material.needsUpdate=!0)}});var v,g=new Wy,m=new Wy,b=new Wy,w=new xb,x=new Wy(0,0,-1),_=new Wy,C=new Wy,E=new xb,S=new dx;f&&((v=new tE).type=Wv,v.minFilter=Uv,v.magFilter=Uv);var B=new Ny(s,u,{depthTexture:f?v:null,type:Yv}),T=new Ax({transparent:f,defines:Object.assign({},n.ReflectorShader.defines,{useDepthTexture:f}),uniforms:cx.clone(A.uniforms),fragmentShader:A.fragmentShader,vertexShader:A.vertexShader});T.uniforms.tDiffuse.value=B.texture,T.uniforms.color.value=a.color,T.uniforms.textureMatrix.value=E,f&&(T.uniforms.tDepth.value=B.depthTexture),r.material=T;var I=[new wx(new Wy(0,1,0),l)];return r.doRender=function(e,t,n){if(T.uniforms.maxDistance.value=a.maxDistance,T.uniforms.color.value=a.color,T.uniforms.opacity.value=a.opacity,h.copy(n.position).normalize(),p.copy(h).reflect(d),T.uniforms.fresnelCoe.value=(h.dot(p)+1)/2,m.setFromMatrixPosition(a.matrixWorld),b.setFromMatrixPosition(n.matrixWorld),w.extractRotation(a.matrixWorld),g.set(0,0,1),g.applyMatrix4(w),_.subVectors(m,b),!(_.dot(g)>0)){_.reflect(g).negate(),_.add(m),w.extractRotation(n.matrixWorld),x.set(0,0,-1),x.applyMatrix4(w),x.add(b),C.subVectors(m,x),C.reflect(g).negate(),C.add(m),S.position.copy(_),S.up.set(0,1,0),S.up.applyMatrix4(w),S.up.reflect(g),S.lookAt(C),S.far=n.far,S.updateMatrixWorld(),S.projectionMatrix.copy(n.projectionMatrix),T.uniforms.virtualCameraNear.value=n.near,T.uniforms.virtualCameraFar.value=n.far,T.uniforms.virtualCameraMatrixWorld.value=S.matrixWorld,T.uniforms.virtualCameraProjectionMatrix.value=n.projectionMatrix,T.uniforms.virtualCameraProjectionMatrixInverse.value=n.projectionMatrixInverse,T.uniforms.resolution.value=a.resolution,E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(S.projectionMatrix),E.multiply(S.matrixWorldInverse),E.multiply(a.matrixWorld);var r=e.getRenderTarget(),i=e.xr.enabled,o=e.shadowMap.autoUpdate,s=e.clippingPlanes;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.clippingPlanes=I,e.setRenderTarget(B),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,S),e.xr.enabled=i,e.shadowMap.autoUpdate=o,e.clippingPlanes=s,e.setRenderTarget(r);var u=n.viewport;void 0!==u&&e.state.viewport(u)}},r.getRenderTarget=function(){return B},r}return h(n)}(ix);bP(FD,"ReflectorShader",{defines:{DISTANCE_ATTENUATION:!0,FRESNEL:!0},uniforms:{color:{value:null},tDiffuse:{value:null},tDepth:{value:null},textureMatrix:{value:new xb},maxDistance:{value:180},opacity:{value:.5},fresnelCoe:{value:null},virtualCameraNear:{value:null},virtualCameraFar:{value:null},virtualCameraProjectionMatrix:{value:new xb},virtualCameraMatrixWorld:{value:new xb},virtualCameraProjectionMatrixInverse:{value:new xb},resolution:{value:new dy}},vertexShader:"\n\t\tuniform mat4 textureMatrix;\n\t\tvarying vec4 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform sampler2D tDepth;\n\t\tuniform float maxDistance;\n\t\tuniform float opacity;\n\t\tuniform float fresnelCoe;\n\t\tuniform float virtualCameraNear;\n\t\tuniform float virtualCameraFar;\n\t\tuniform mat4 virtualCameraProjectionMatrix;\n\t\tuniform mat4 virtualCameraProjectionMatrixInverse;\n\t\tuniform mat4 virtualCameraMatrixWorld;\n\t\tuniform vec2 resolution;\n\t\tvarying vec4 vUv;\n\t\t#include <packing>\n\t\tfloat blendOverlay( float base, float blend ) {\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\t\t}\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\t\t}\n\t\tfloat getDepth( const in vec2 uv ) {\n\t\t\treturn texture2D( tDepth, uv ).x;\n\t\t}\n\t\tfloat getViewZ( const in float depth ) {\n\t\t\treturn perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );\n\t\t}\n\t\tvec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {\n\t\t\tvec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc\n\t\t\tclipPosition *= clipW; //clip\n\t\t\treturn ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view\n\t\t}\n\t\tvoid main() {\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\t#ifdef useDepthTexture\n\t\t\t\tvec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;\n\t\t\t\tuv.x=1.-uv.x;\n\t\t\t\tfloat depth = texture2DProj( tDepth, vUv ).r;\n\t\t\t\tfloat viewZ = getViewZ( depth );\n\t\t\t\tfloat clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];\n\t\t\t\tvec3 viewPosition=getViewPosition( uv, depth, clipW );\n\t\t\t\tvec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;\n\t\t\t\tif(worldPosition.y>maxDistance) discard;\n\t\t\t\tfloat op=opacity;\n\t\t\t\t#ifdef DISTANCE_ATTENUATION\n\t\t\t\t\tfloat ratio=1.-(worldPosition.y/maxDistance);\n\t\t\t\t\tfloat attenuation=ratio*ratio;\n\t\t\t\t\top=opacity*attenuation;\n\t\t\t\t#endif\n\t\t\t\t#ifdef FRESNEL\n\t\t\t\t\top*=fresnelCoe;\n\t\t\t\t#endif\n\t\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), op );\n\t\t\t#else\n\t\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\t\t\t#endif\n\t\t}\n\t"});var OD={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new Wy},up:{value:new Wy(0,1,0)}},vertexShader:"\n      uniform vec3 sunPosition;\n      uniform float rayleigh;\n      uniform float turbidity;\n      uniform float mieCoefficient;\n      uniform vec3 up;\n\n      varying vec3 vWorldPosition;\n      varying vec3 vSunDirection;\n      varying float vSunfade;\n      varying vec3 vBetaR;\n      varying vec3 vBetaM;\n      varying float vSunE;\n\n      // constants for atmospheric scattering\n      const float e = 2.71828182845904523536028747135266249775724709369995957;\n      const float pi = 3.141592653589793238462643383279502884197169;\n\n      // wavelength of used primaries, according to preetham\n      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n\n      // mie stuff\n      // K coefficient for the primaries\n      const float v = 4.0;\n      const vec3 K = vec3( 0.686, 0.678, 0.666 );\n      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n\n      // earth shadow hack\n      // cutoffAngle = pi / 1.95;\n      const float cutoffAngle = 1.6110731556870734;\n      const float steepness = 1.5;\n      const float EE = 1000.0;\n\n      float sunIntensity( float zenithAngleCos ) {\n        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n      }\n\n      vec3 totalMie( float T ) {\n        float c = ( 0.2 * T ) * 10E-18;\n        return 0.434 * c * MieConst;\n      }\n\n      void main() {\n\n        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n        vWorldPosition = worldPosition.xyz;\n\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        gl_Position.z = gl_Position.w; // set z to camera.far\n\n        vSunDirection = normalize( sunPosition );\n\n        vSunE = sunIntensity( dot( vSunDirection, up ) );\n\n        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n      // extinction (absorbtion + out scattering)\n      // rayleigh coefficients\n        vBetaR = totalRayleigh * rayleighCoefficient;\n\n      // mie coefficients\n        vBetaM = totalMie( turbidity ) * mieCoefficient;\n\n      }\n    ",fragmentShader:"\n      varying vec3 vWorldPosition;\n      varying vec3 vSunDirection;\n      varying float vSunfade;\n      varying vec3 vBetaR;\n      varying vec3 vBetaM;\n      varying float vSunE;\n\n      uniform float mieDirectionalG;\n      uniform vec3 up;\n\n      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );\n\n      // constants for atmospheric scattering\n      const float pi = 3.141592653589793238462643383279502884197169;\n\n      const float n = 1.0003; // refractive index of air\n      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)\n\n      // optical length at zenith for molecules\n      const float rayleighZenithLength = 8.4E3;\n      const float mieZenithLength = 1.25E3;\n      // 66 arc seconds -> degrees, and the cosine of that\n      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n      // 3.0 / ( 16.0 * pi )\n      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n      // 1.0 / ( 4.0 * pi )\n      const float ONE_OVER_FOURPI = 0.07957747154594767;\n\n      float rayleighPhase( float cosTheta ) {\n        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n      }\n\n      float hgPhase( float cosTheta, float g ) {\n        float g2 = pow( g, 2.0 );\n        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n      }\n\n      void main() {\n\n        vec3 direction = normalize( vWorldPosition - cameraPos );\n\n      // optical length\n      // cutoff angle at 90 to avoid singularity in next formula.\n        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );\n        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n        float sR = rayleighZenithLength * inverse;\n        float sM = mieZenithLength * inverse;\n\n      // combined extinction factor\n        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n      // in scattering\n        float cosTheta = dot( direction, vSunDirection );\n\n        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n        vec3 betaRTheta = vBetaR * rPhase;\n\n        float mPhase = hgPhase( cosTheta, mieDirectionalG );\n        vec3 betaMTheta = vBetaM * mPhase;\n\n        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n      // nightsky\n        float theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]\n        float phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]\n        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n        vec3 L0 = vec3( 0.1 ) * Fex;\n\n      // composition + solar disc\n        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n        gl_FragColor = vec4( retColor, 1.0 );\n\n      #include <tonemapping_fragment>\n      #include <".concat(parseInt(Cp.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment",">\n\n      }\n    ")},PD=new Ax({name:"SkyShader",fragmentShader:OD.fragmentShader,vertexShader:OD.vertexShader,uniforms:cx.clone(OD.uniforms),side:Pp,depthWrite:!1}),DD=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.call(this,new ox(1,1,1),PD)}return h(n)}(ix);bP(DD,"SkyShader",OD),bP(DD,"material",PD);var LD=function(e){v(n,e);var t=w(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,n),(r=t.call(this,e)).isWater=!0,r.type="Water";var a=y(r),o=void 0!==i.color?new fw(i.color):new fw(16777215),s=i.textureWidth||512,u=i.textureHeight||512,l=i.clipBias||0,A=i.flowDirection||new dy(1,0),f=i.flowSpeed||.03,d=i.reflectivity||.02,h=i.scale||1,p=i.shader||n.WaterShader,v=void 0!==i.encoding?i.encoding:3e3,g=i.flowMap||void 0,m=i.normalMap0,w=i.normalMap1,x=.15,_=.075,C=new xb,E=new xI;if(void 0===ED)return console.error("THREE.Water: Required component Reflector not found."),b(r);if(void 0===BD)return console.error("THREE.Water: Required component Refractor not found."),b(r);var S=new ED(e,{textureWidth:s,textureHeight:u,clipBias:l,encoding:v}),B=new BD(e,{textureWidth:s,textureHeight:u,clipBias:l,encoding:v});return S.matrixAutoUpdate=!1,B.matrixAutoUpdate=!1,r.material=new Ax({uniforms:cx.merge([Ix.fog,p.uniforms]),vertexShader:p.vertexShader,fragmentShader:p.fragmentShader,transparent:!0,fog:!0}),void 0!==g?(r.material.defines.USE_FLOWMAP="",r.material.uniforms.tFlowMap={type:"t",value:g}):r.material.uniforms.flowDirection={type:"v2",value:A},m.wrapS=m.wrapT=kv,w.wrapS=w.wrapT=kv,r.material.uniforms.tReflectionMap.value=S.getRenderTarget().texture,r.material.uniforms.tRefractionMap.value=B.getRenderTarget().texture,r.material.uniforms.tNormalMap0.value=m,r.material.uniforms.tNormalMap1.value=w,r.material.uniforms.color.value=o,r.material.uniforms.reflectivity.value=d,r.material.uniforms.textureMatrix.value=C,r.material.uniforms.config.value.x=0,r.material.uniforms.config.value.y=_,r.material.uniforms.config.value.z=_,r.material.uniforms.config.value.w=h,r.onBeforeRender=function(e,t,n){!function(e){C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(e.projectionMatrix),C.multiply(e.matrixWorldInverse),C.multiply(a.matrixWorld)}(n),function(){var e=E.getDelta(),t=a.material.uniforms.config;t.value.x+=f*e,t.value.y=t.value.x+_,t.value.x>=x?(t.value.x=0,t.value.y=_):t.value.y>=x&&(t.value.y=t.value.y-x)}(),a.visible=!1,S.matrixWorld.copy(a.matrixWorld),B.matrixWorld.copy(a.matrixWorld),S.onBeforeRender(e,t,n),B.onBeforeRender(e,t,n),a.visible=!0},r}return h(n)}(ix);bP(LD,"WaterShader",{uniforms:{color:{value:null},reflectivity:{value:0},tReflectionMap:{value:null},tRefractionMap:{value:null},tNormalMap0:{value:null},tNormalMap1:{value:null},textureMatrix:{value:null},config:{value:new Dy}},vertexShader:"\n\n\t\t#include <common>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\n\t\tuniform mat4 textureMatrix;\n\n\t\tvarying vec4 vCoord;\n\t\tvarying vec2 vUv;\n\t\tvarying vec3 vToEye;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tvCoord = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\tvToEye = cameraPosition - worldPosition.xyz;\n\n\t\t\tvec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}",fragmentShader:"\n\n\t\t#include <common>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tuniform sampler2D tReflectionMap;\n\t\tuniform sampler2D tRefractionMap;\n\t\tuniform sampler2D tNormalMap0;\n\t\tuniform sampler2D tNormalMap1;\n\n\t\t#ifdef USE_FLOWMAP\n\t\t\tuniform sampler2D tFlowMap;\n\t\t#else\n\t\t\tuniform vec2 flowDirection;\n\t\t#endif\n\n\t\tuniform vec3 color;\n\t\tuniform float reflectivity;\n\t\tuniform vec4 config;\n\n\t\tvarying vec4 vCoord;\n\t\tvarying vec2 vUv;\n\t\tvarying vec3 vToEye;\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tfloat flowMapOffset0 = config.x;\n\t\t\tfloat flowMapOffset1 = config.y;\n\t\t\tfloat halfCycle = config.z;\n\t\t\tfloat scale = config.w;\n\n\t\t\tvec3 toEye = normalize( vToEye );\n\n\t\t\t// determine flow direction\n\t\t\tvec2 flow;\n\t\t\t#ifdef USE_FLOWMAP\n\t\t\t\tflow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;\n\t\t\t#else\n\t\t\t\tflow = flowDirection;\n\t\t\t#endif\n\t\t\tflow.x *= - 1.0;\n\n\t\t\t// sample normal maps (distort uvs with flowdata)\n\t\t\tvec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );\n\t\t\tvec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );\n\n\t\t\t// linear interpolate to get the final normal color\n\t\t\tfloat flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;\n\t\t\tvec4 normalColor = mix( normalColor0, normalColor1, flowLerp );\n\n\t\t\t// calculate normal vector\n\t\t\tvec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n\n\t\t\t// calculate the fresnel term to blend reflection and refraction maps\n\t\t\tfloat theta = max( dot( toEye, normal ), 0.0 );\n\t\t\tfloat reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );\n\n\t\t\t// calculate final uv coords\n\t\t\tvec3 coord = vCoord.xyz / vCoord.w;\n\t\t\tvec2 uv = coord.xy + coord.z * normal.xz * 0.05;\n\n\t\t\tvec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );\n\t\t\tvec4 refractColor = texture2D( tRefractionMap, uv );\n\n\t\t\t// multiply water color with the mix of both textures\n\t\t\tgl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <".concat(parseInt(Cp.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment",">\n\t\t\t#include <fog_fragment>\n\n\t\t}")});var ND={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","\tfloat depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","\tgl_FragColor = vec4( vec3( depth ), opacity );","}"].join("\n")};["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["#include <common>","varying vec2 vUv;","uniform sampler2D tColor;","uniform sampler2D tDepth;","uniform float textureWidth;","uniform float textureHeight;","uniform float focalDepth;  //focal distance value in meters, but you may use autofocus option below","uniform float focalLength; //focal length in mm","uniform float fstop; //f-stop value","uniform bool showFocus; //show debug focus point and focal range (red = focal point, green = focal range)","/*","make sure that these two values are the same for your camera, otherwise distances will be wrong.","*/","uniform float znear; // camera clipping start","uniform float zfar; // camera clipping end","//------------------------------------------","//user variables","const int samples = SAMPLES; //samples on the first ring","const int rings = RINGS; //ring count","const int maxringsamples = rings * samples;","uniform bool manualdof; // manual dof calculation","float ndofstart = 1.0; // near dof blur start","float ndofdist = 2.0; // near dof blur falloff distance","float fdofstart = 1.0; // far dof blur start","float fdofdist = 3.0; // far dof blur falloff distance","float CoC = 0.03; //circle of confusion size in mm (35mm film = 0.03mm)","uniform bool vignetting; // use optical lens vignetting","float vignout = 1.3; // vignetting outer border","float vignin = 0.0; // vignetting inner border","float vignfade = 22.0; // f-stops till vignete fades","uniform bool shaderFocus;","// disable if you use external focalDepth value","uniform vec2 focusCoords;","// autofocus point on screen (0.0,0.0 - left lower corner, 1.0,1.0 - upper right)","// if center of screen use vec2(0.5, 0.5);","uniform float maxblur;","//clamp value of max blur (0.0 = no blur, 1.0 default)","uniform float threshold; // highlight threshold;","uniform float gain; // highlight gain;","uniform float bias; // bokeh edge bias","uniform float fringe; // bokeh chromatic aberration / fringing","uniform bool noise; //use noise instead of pattern for sample dithering","uniform float dithering;","uniform bool depthblur; // blur the depth buffer","float dbsize = 1.25; // depth blur size","/*","next part is experimental","not looking good with small sample and ring count","looks okay starting from samples = 4, rings = 4","*/","uniform bool pentagon; //use pentagon as bokeh shape?","float feather = 0.4; //pentagon shape feather","//------------------------------------------","float penta(vec2 coords) {","\t//pentagonal shape","\tfloat scale = float(rings) - 1.3;","\tvec4  HS0 = vec4( 1.0,         0.0,         0.0,  1.0);","\tvec4  HS1 = vec4( 0.309016994, 0.951056516, 0.0,  1.0);","\tvec4  HS2 = vec4(-0.809016994, 0.587785252, 0.0,  1.0);","\tvec4  HS3 = vec4(-0.809016994,-0.587785252, 0.0,  1.0);","\tvec4  HS4 = vec4( 0.309016994,-0.951056516, 0.0,  1.0);","\tvec4  HS5 = vec4( 0.0        ,0.0         , 1.0,  1.0);","\tvec4  one = vec4( 1.0 );","\tvec4 P = vec4((coords),vec2(scale, scale));","\tvec4 dist = vec4(0.0);","\tfloat inorout = -4.0;","\tdist.x = dot( P, HS0 );","\tdist.y = dot( P, HS1 );","\tdist.z = dot( P, HS2 );","\tdist.w = dot( P, HS3 );","\tdist = smoothstep( -feather, feather, dist );","\tinorout += dot( dist, one );","\tdist.x = dot( P, HS4 );","\tdist.y = HS5.w - abs( P.z );","\tdist = smoothstep( -feather, feather, dist );","\tinorout += dist.x;","\treturn clamp( inorout, 0.0, 1.0 );","}","float bdepth(vec2 coords) {","\t// Depth buffer blur","\tfloat d = 0.0;","\tfloat kernel[9];","\tvec2 offset[9];","\tvec2 wh = vec2(1.0/textureWidth,1.0/textureHeight) * dbsize;","\toffset[0] = vec2(-wh.x,-wh.y);","\toffset[1] = vec2( 0.0, -wh.y);","\toffset[2] = vec2( wh.x -wh.y);","\toffset[3] = vec2(-wh.x,  0.0);","\toffset[4] = vec2( 0.0,   0.0);","\toffset[5] = vec2( wh.x,  0.0);","\toffset[6] = vec2(-wh.x, wh.y);","\toffset[7] = vec2( 0.0,  wh.y);","\toffset[8] = vec2( wh.x, wh.y);","\tkernel[0] = 1.0/16.0;   kernel[1] = 2.0/16.0;   kernel[2] = 1.0/16.0;","\tkernel[3] = 2.0/16.0;   kernel[4] = 4.0/16.0;   kernel[5] = 2.0/16.0;","\tkernel[6] = 1.0/16.0;   kernel[7] = 2.0/16.0;   kernel[8] = 1.0/16.0;","\tfor( int i=0; i<9; i++ ) {","\t\tfloat tmp = texture2D(tDepth, coords + offset[i]).r;","\t\td += tmp * kernel[i];","\t}","\treturn d;","}","vec3 color(vec2 coords,float blur) {","\t//processing the sample","\tvec3 col = vec3(0.0);","\tvec2 texel = vec2(1.0/textureWidth,1.0/textureHeight);","\tcol.r = texture2D(tColor,coords + vec2(0.0,1.0)*texel*fringe*blur).r;","\tcol.g = texture2D(tColor,coords + vec2(-0.866,-0.5)*texel*fringe*blur).g;","\tcol.b = texture2D(tColor,coords + vec2(0.866,-0.5)*texel*fringe*blur).b;","\tvec3 lumcoeff = vec3(0.299,0.587,0.114);","\tfloat lum = dot(col.rgb, lumcoeff);","\tfloat thresh = max((lum-threshold)*gain, 0.0);","\treturn col+mix(vec3(0.0),col,thresh*blur);","}","vec3 debugFocus(vec3 col, float blur, float depth) {","\tfloat edge = 0.002*depth; //distance based edge smoothing","\tfloat m = clamp(smoothstep(0.0,edge,blur),0.0,1.0);","\tfloat e = clamp(smoothstep(1.0-edge,1.0,blur),0.0,1.0);","\tcol = mix(col,vec3(1.0,0.5,0.0),(1.0-m)*0.6);","\tcol = mix(col,vec3(0.0,0.5,1.0),((1.0-e)-(1.0-m))*0.2);","\treturn col;","}","float linearize(float depth) {","\treturn -zfar * znear / (depth * (zfar - znear) - zfar);","}","float vignette() {","\tfloat dist = distance(vUv.xy, vec2(0.5,0.5));","\tdist = smoothstep(vignout+(fstop/vignfade), vignin+(fstop/vignfade), dist);","\treturn clamp(dist,0.0,1.0);","}","float gather(float i, float j, int ringsamples, inout vec3 col, float w, float h, float blur) {","\tfloat rings2 = float(rings);","\tfloat step = PI*2.0 / float(ringsamples);","\tfloat pw = cos(j*step)*i;","\tfloat ph = sin(j*step)*i;","\tfloat p = 1.0;","\tif (pentagon) {","\t\tp = penta(vec2(pw,ph));","\t}","\tcol += color(vUv.xy + vec2(pw*w,ph*h), blur) * mix(1.0, i/rings2, bias) * p;","\treturn 1.0 * mix(1.0, i /rings2, bias) * p;","}","void main() {","\t//scene depth calculation","\tfloat depth = linearize(texture2D(tDepth,vUv.xy).x);","\t// Blur depth?","\tif ( depthblur ) {","\t\tdepth = linearize(bdepth(vUv.xy));","\t}","\t//focal plane calculation","\tfloat fDepth = focalDepth;","\tif (shaderFocus) {","\t\tfDepth = linearize(texture2D(tDepth,focusCoords).x);","\t}","\t// dof blur factor calculation","\tfloat blur = 0.0;","\tif (manualdof) {","\t\tfloat a = depth-fDepth; // Focal plane","\t\tfloat b = (a-fdofstart)/fdofdist; // Far DoF","\t\tfloat c = (-a-ndofstart)/ndofdist; // Near Dof","\t\tblur = (a>0.0) ? b : c;","\t} else {","\t\tfloat f = focalLength; // focal length in mm","\t\tfloat d = fDepth*1000.0; // focal plane in mm","\t\tfloat o = depth*1000.0; // depth in mm","\t\tfloat a = (o*f)/(o-f);","\t\tfloat b = (d*f)/(d-f);","\t\tfloat c = (d-f)/(d*fstop*CoC);","\t\tblur = abs(a-b)*c;","\t}","\tblur = clamp(blur,0.0,1.0);","\t// calculation of pattern for dithering","\tvec2 noise = vec2(rand(vUv.xy), rand( vUv.xy + vec2( 0.4, 0.6 ) ) )*dithering*blur;","\t// getting blur x and y step factor","\tfloat w = (1.0/textureWidth)*blur*maxblur+noise.x;","\tfloat h = (1.0/textureHeight)*blur*maxblur+noise.y;","\t// calculation of final color","\tvec3 col = vec3(0.0);","\tif(blur < 0.05) {","\t\t//some optimization thingy","\t\tcol = texture2D(tColor, vUv.xy).rgb;","\t} else {","\t\tcol = texture2D(tColor, vUv.xy).rgb;","\t\tfloat s = 1.0;","\t\tint ringsamples;","\t\tfor (int i = 1; i <= rings; i++) {","\t\t\t/*unboxstart*/","\t\t\tringsamples = i * samples;","\t\t\tfor (int j = 0 ; j < maxringsamples ; j++) {","\t\t\t\tif (j >= ringsamples) break;","\t\t\t\ts += gather(float(i), float(j), ringsamples, col, w, h, blur);","\t\t\t}","\t\t\t/*unboxend*/","\t\t}","\t\tcol /= s; //divide by sample count","\t}","\tif (showFocus) {","\t\tcol = debugFocus(col, blur, depth);","\t}","\tif (vignetting) {","\t\tcol *= vignette();","\t}","\tgl_FragColor.rgb = col;","\tgl_FragColor.a = 1.0;","} "].join("\n"),["varying float vViewZDepth;","void main() {","\t#include <begin_vertex>","\t#include <project_vertex>","\tvViewZDepth = - mvPosition.z;","}"].join("\n"),["uniform float mNear;","uniform float mFar;","varying float vViewZDepth;","void main() {","\tfloat color = 1.0 - smoothstep( mNear, mFar, vViewZDepth );","\tgl_FragColor = vec4( vec3( color ), 1.0 );","} "].join("\n");Math.PI;var QD=new wb,HD=new wx,jD=Math.cos(70*fy.DEG2RAD),zD=function(e,t){return(e%t+t)%t},GD=function(e){v(n,e);var t=w(n);function n(e,r){var i;c(this,n),i=t.call(this),bP(y(i),"object"),bP(y(i),"domElement"),bP(y(i),"enabled",!0),bP(y(i),"target",new Wy),bP(y(i),"minDistance",0),bP(y(i),"maxDistance",1/0),bP(y(i),"minZoom",0),bP(y(i),"maxZoom",1/0),bP(y(i),"minPolarAngle",0),bP(y(i),"maxPolarAngle",Math.PI),bP(y(i),"minAzimuthAngle",-1/0),bP(y(i),"maxAzimuthAngle",1/0),bP(y(i),"enableDamping",!1),bP(y(i),"dampingFactor",.05),bP(y(i),"enableZoom",!0),bP(y(i),"zoomSpeed",1),bP(y(i),"enableRotate",!0),bP(y(i),"rotateSpeed",1),bP(y(i),"enablePan",!0),bP(y(i),"panSpeed",1),bP(y(i),"screenSpacePanning",!0),bP(y(i),"keyPanSpeed",7),bP(y(i),"zoomToCursor",!1),bP(y(i),"autoRotate",!1),bP(y(i),"autoRotateSpeed",2),bP(y(i),"reverseOrbit",!1),bP(y(i),"reverseHorizontalOrbit",!1),bP(y(i),"reverseVerticalOrbit",!1),bP(y(i),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),bP(y(i),"mouseButtons",{LEFT:Ep.ROTATE,MIDDLE:Ep.DOLLY,RIGHT:Ep.PAN}),bP(y(i),"touches",{ONE:Sp.ROTATE,TWO:Sp.DOLLY_PAN}),bP(y(i),"target0"),bP(y(i),"position0"),bP(y(i),"zoom0"),bP(y(i),"_domElementKeyEvents",null),bP(y(i),"getPolarAngle"),bP(y(i),"getAzimuthalAngle"),bP(y(i),"setPolarAngle"),bP(y(i),"setAzimuthalAngle"),bP(y(i),"getDistance"),bP(y(i),"listenToKeyEvents"),bP(y(i),"stopListenToKeyEvents"),bP(y(i),"saveState"),bP(y(i),"reset"),bP(y(i),"update"),bP(y(i),"connect"),bP(y(i),"dispose"),i.object=e,i.domElement=r,i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i.getPolarAngle=function(){return d.phi},i.getAzimuthalAngle=function(){return d.theta},i.setPolarAngle=function(e){var t=zD(e,2*Math.PI),n=d.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),h.phi=t-n,a.update()},i.setAzimuthalAngle=function(e){var t=zD(e,2*Math.PI),n=d.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),h.theta=t-n,a.update()},i.getDistance=function(){return a.object.position.distanceTo(a.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",te),i._domElementKeyEvents=e},i.stopListenToKeyEvents=function(){i._domElementKeyEvents.removeEventListener("keydown",te),i._domElementKeyEvents=null},i.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},i.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(o),a.update(),A=l.NONE},i.update=function(){var t=new Wy,n=new Wy(0,1,0),r=(new Vy).setFromUnitVectors(e.up,n),i=r.clone().invert(),s=new Wy,u=new Vy,c=2*Math.PI;return function(){var g=a.object.position;r.setFromUnitVectors(e.up,n),i.copy(r).invert(),t.copy(g).sub(a.target),t.applyQuaternion(r),d.setFromVector3(t),a.autoRotate&&A===l.NONE&&U(2*Math.PI/60/60*a.autoRotateSpeed),a.enableDamping?(d.theta+=h.theta*a.dampingFactor,d.phi+=h.phi*a.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);var m=a.minAzimuthAngle,y=a.maxAzimuthAngle;isFinite(m)&&isFinite(y)&&(m<-Math.PI?m+=c:m>Math.PI&&(m-=c),y<-Math.PI?y+=c:y>Math.PI&&(y-=c),d.theta=m<=y?Math.max(m,Math.min(y,d.theta)):d.theta>(m+y)/2?Math.max(m,d.theta):Math.min(y,d.theta)),d.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,d.phi)),d.makeSafe(),!0===a.enableDamping?a.target.addScaledVector(v,a.dampingFactor):a.target.add(v),a.zoomToCursor&&I||a.object.isOrthographicCamera?d.radius=H(d.radius):d.radius=H(d.radius*p),t.setFromSpherical(d),t.applyQuaternion(i),g.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(h.theta*=1-a.dampingFactor,h.phi*=1-a.dampingFactor,v.multiplyScalar(1-a.dampingFactor)):(h.set(0,0,0),v.set(0,0,0));var b=!1;if(a.zoomToCursor&&I){var w=null;if(a.object instanceof dx&&a.object.isPerspectiveCamera){var x=t.length(),_=x-(w=H(x*p));a.object.position.addScaledVector(B,_),a.object.updateMatrixWorld()}else if(a.object.isOrthographicCamera){var C=new Wy(T.x,T.y,0);C.unproject(a.object),a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/p)),a.object.updateProjectionMatrix(),b=!0;var E=new Wy(T.x,T.y,0);E.unproject(a.object),a.object.position.sub(E).add(C),a.object.updateMatrixWorld(),w=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),a.zoomToCursor=!1;null!==w&&(a.screenSpacePanning?a.target.set(0,0,-1).transformDirection(a.object.matrix).multiplyScalar(w).add(a.object.position):(QD.origin.copy(a.object.position),QD.direction.set(0,0,-1).transformDirection(a.object.matrix),Math.abs(a.object.up.dot(QD.direction))<jD?e.lookAt(a.target):(HD.setFromNormalAndCoplanarPoint(a.object.up,a.target),QD.intersectPlane(HD,a.target))))}else a.object instanceof Lx&&a.object.isOrthographicCamera&&(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/p)),a.object.updateProjectionMatrix(),b=!0);return p=1,I=!1,!!(b||s.distanceToSquared(a.object.position)>f||8*(1-u.dot(a.object.quaternion))>f)&&(a.dispatchEvent(o),s.copy(a.object.position),u.copy(a.object.quaternion),b=!1,!0)}}(),i.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.style.touchAction="none",a.domElement.addEventListener("contextmenu",ne),a.domElement.addEventListener("pointerdown",Y),a.domElement.addEventListener("pointercancel",$),a.domElement.addEventListener("wheel",ee)},i.dispose=function(){var e,t,n,r,i,o;null==(e=a.domElement)||e.removeEventListener("contextmenu",ne),null==(t=a.domElement)||t.removeEventListener("pointerdown",Y),null==(n=a.domElement)||n.removeEventListener("pointercancel",$),null==(r=a.domElement)||r.removeEventListener("wheel",ee),null==(i=a.domElement)||i.ownerDocument.removeEventListener("pointermove",Z),null==(o=a.domElement)||o.ownerDocument.removeEventListener("pointerup",J),null!==a._domElementKeyEvents&&a._domElementKeyEvents.removeEventListener("keydown",te)};var a=y(i),o={type:"change"},s={type:"start"},u={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},A=l.NONE,f=1e-6,d=new rk,h=new rk,p=1,v=new Wy,g=new dy,m=new dy,b=new dy,w=new dy,x=new dy,_=new dy,C=new dy,E=new dy,S=new dy,B=new Wy,T=new dy,I=!1,k=[],M={};function R(){return Math.pow(.95,a.zoomSpeed)}function U(e){a.reverseOrbit||a.reverseHorizontalOrbit?h.theta+=e:h.theta-=e}function F(e){a.reverseOrbit||a.reverseVerticalOrbit?h.phi+=e:h.phi-=e}var O=function(){var e=new Wy;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),v.add(e)}}(),P=function(){var e=new Wy;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),v.add(e)}}(),D=function(){var e=new Wy;return function(t,n){var r=a.domElement;if(r&&a.object instanceof dx&&a.object.isPerspectiveCamera){var i=a.object.position;e.copy(i).sub(a.target);var o=e.length();o*=Math.tan(a.object.fov/2*Math.PI/180),O(2*t*o/r.clientHeight,a.object.matrix),P(2*n*o/r.clientHeight,a.object.matrix)}else r&&a.object instanceof Lx&&a.object.isOrthographicCamera?(O(t*(a.object.right-a.object.left)/a.object.zoom/r.clientWidth,a.object.matrix),P(n*(a.object.top-a.object.bottom)/a.object.zoom/r.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function L(e){a.object instanceof dx&&a.object.isPerspectiveCamera||a.object instanceof Lx&&a.object.isOrthographicCamera?p/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function N(e){a.object instanceof dx&&a.object.isPerspectiveCamera||a.object instanceof Lx&&a.object.isOrthographicCamera?p*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function Q(e){if(a.zoomToCursor&&a.domElement){I=!0;var t=a.domElement.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,i=t.width,o=t.height;T.x=n/i*2-1,T.y=-r/o*2+1,B.set(T.x,T.y,1).unproject(a.object).sub(a.object.position).normalize()}}function H(e){return Math.max(a.minDistance,Math.min(a.maxDistance,e))}function j(e){g.set(e.clientX,e.clientY)}function z(e){w.set(e.clientX,e.clientY)}function G(){if(1==k.length)g.set(k[0].pageX,k[0].pageY);else{var e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);g.set(e,t)}}function V(){if(1==k.length)w.set(k[0].pageX,k[0].pageY);else{var e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);w.set(e,t)}}function W(){var e=k[0].pageX-k[1].pageX,t=k[0].pageY-k[1].pageY,n=Math.sqrt(e*e+t*t);C.set(0,n)}function K(e){if(1==k.length)m.set(e.pageX,e.pageY);else{var t=ae(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);m.set(n,r)}b.subVectors(m,g).multiplyScalar(a.rotateSpeed);var i=a.domElement;i&&(U(2*Math.PI*b.x/i.clientHeight),F(2*Math.PI*b.y/i.clientHeight)),g.copy(m)}function X(e){if(1==k.length)x.set(e.pageX,e.pageY);else{var t=ae(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);x.set(n,r)}_.subVectors(x,w).multiplyScalar(a.panSpeed),D(_.x,_.y),w.copy(x)}function q(e){var t=ae(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);E.set(0,i),S.set(0,Math.pow(E.y/C.y,a.zoomSpeed)),L(S.y),C.copy(E)}function Y(e){var t,n;!1!==a.enabled&&(0===k.length&&(null==(t=a.domElement)||t.ownerDocument.addEventListener("pointermove",Z),null==(n=a.domElement)||n.ownerDocument.addEventListener("pointerup",J)),function(e){k.push(e)}(e),"touch"===e.pointerType?function(e){switch(ie(e),k.length){case 1:switch(a.touches.ONE){case Sp.ROTATE:if(!1===a.enableRotate)return;G(),A=l.TOUCH_ROTATE;break;case Sp.PAN:if(!1===a.enablePan)return;V(),A=l.TOUCH_PAN;break;default:A=l.NONE}break;case 2:switch(a.touches.TWO){case Sp.DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;a.enableZoom&&W(),a.enablePan&&V(),A=l.TOUCH_DOLLY_PAN;break;case Sp.DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;a.enableZoom&&W(),a.enableRotate&&G(),A=l.TOUCH_DOLLY_ROTATE;break;default:A=l.NONE}break;default:A=l.NONE}A!==l.NONE&&a.dispatchEvent(s)}(e):function(e){var t;switch(e.button){case 0:t=a.mouseButtons.LEFT;break;case 1:t=a.mouseButtons.MIDDLE;break;case 2:t=a.mouseButtons.RIGHT;break;default:t=-1}switch(t){case Ep.DOLLY:if(!1===a.enableZoom)return;!function(e){Q(e),C.set(e.clientX,e.clientY)}(e),A=l.DOLLY;break;case Ep.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;z(e),A=l.PAN}else{if(!1===a.enableRotate)return;j(e),A=l.ROTATE}break;case Ep.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enableRotate)return;j(e),A=l.ROTATE}else{if(!1===a.enablePan)return;z(e),A=l.PAN}break;default:A=l.NONE}A!==l.NONE&&a.dispatchEvent(s)}(e))}function Z(e){!1!==a.enabled&&("touch"===e.pointerType?function(e){switch(ie(e),A){case l.TOUCH_ROTATE:if(!1===a.enableRotate)return;K(e),a.update();break;case l.TOUCH_PAN:if(!1===a.enablePan)return;X(e),a.update();break;case l.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&q(e),a.enablePan&&X(e)}(e),a.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&q(e),a.enableRotate&&K(e)}(e),a.update();break;default:A=l.NONE}}(e):function(e){if(!1===a.enabled)return;switch(A){case l.ROTATE:if(!1===a.enableRotate)return;!function(e){m.set(e.clientX,e.clientY),b.subVectors(m,g).multiplyScalar(a.rotateSpeed);var t=a.domElement;t&&(U(2*Math.PI*b.x/t.clientHeight),F(2*Math.PI*b.y/t.clientHeight)),g.copy(m),a.update()}(e);break;case l.DOLLY:if(!1===a.enableZoom)return;!function(e){E.set(e.clientX,e.clientY),S.subVectors(E,C),S.y>0?L(R()):S.y<0&&N(R()),C.copy(E),a.update()}(e);break;case l.PAN:if(!1===a.enablePan)return;!function(e){x.set(e.clientX,e.clientY),_.subVectors(x,w).multiplyScalar(a.panSpeed),D(_.x,_.y),w.copy(x),a.update()}(e)}}(e))}function J(e){var t,n,r;re(e),0===k.length&&(null==(t=a.domElement)||t.releasePointerCapture(e.pointerId),null==(n=a.domElement)||n.ownerDocument.removeEventListener("pointermove",Z),null==(r=a.domElement)||r.ownerDocument.removeEventListener("pointerup",J)),a.dispatchEvent(u),A=l.NONE}function $(e){re(e)}function ee(e){!1===a.enabled||!1===a.enableZoom||A!==l.NONE&&A!==l.ROTATE||(e.preventDefault(),a.dispatchEvent(s),function(e){Q(e),e.deltaY<0?N(R()):e.deltaY>0&&L(R()),a.update()}(e),a.dispatchEvent(u))}function te(e){!1!==a.enabled&&!1!==a.enablePan&&function(e){var t=!1;switch(e.code){case a.keys.UP:D(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:D(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:D(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:D(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function ne(e){!1!==a.enabled&&e.preventDefault()}function re(e){delete M[e.pointerId];for(var t=0;t<k.length;t++)if(k[t].pointerId==e.pointerId)return void k.splice(t,1)}function ie(e){var t=M[e.pointerId];void 0===t&&(t=new dy,M[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ae(e){var t=e.pointerId===k[0].pointerId?k[1]:k[0];return M[t.pointerId]}return void 0!==r&&i.connect(r),i.update(),i}return h(n)}(Jm);Symbol(),Symbol(),Symbol(),Symbol(),Symbol(),Symbol(),Symbol(),Symbol(),Symbol(),Symbol(),Symbol(),Symbol(),Symbol(),Symbol(),Symbol(),Symbol();var VD=function(){function e(){c(this,e),bP(this,"enabled",!0),bP(this,"needsSwap",!0),bP(this,"clear",!1),bP(this,"renderToScreen",!1)}return h(e,[{key:"setSize",value:function(e,t){}},{key:"render",value:function(e,t,n,r,i){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}]),e}(),WD=function(){function e(t){c(this,e),bP(this,"camera",new Lx(-1,1,1,-1,0,1)),bP(this,"geometry",new Bx(2,2)),bP(this,"mesh"),this.mesh=new ix(this.geometry,t)}return h(e,[{key:"material",get:function(){return this.mesh.material},set:function(e){this.mesh.material=e}},{key:"dispose",value:function(){this.mesh.geometry.dispose()}},{key:"render",value:function(e){e.render(this.mesh,this.camera)}}]),e}(),KD=(Math.PI,Math.PI,Math.PI,["varying vec2 vUV;","void main() {","\tvUV = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),["#define SQRT2_MINUS_ONE 0.41421356","#define SQRT2_HALF_MINUS_ONE 0.20710678","#define PI2 6.28318531","#define SHAPE_DOT 1","#define SHAPE_ELLIPSE 2","#define SHAPE_LINE 3","#define SHAPE_SQUARE 4","#define BLENDING_LINEAR 1","#define BLENDING_MULTIPLY 2","#define BLENDING_ADD 3","#define BLENDING_LIGHTER 4","#define BLENDING_DARKER 5","uniform sampler2D tDiffuse;","uniform float radius;","uniform float rotateR;","uniform float rotateG;","uniform float rotateB;","uniform float scatter;","uniform float width;","uniform float height;","uniform int shape;","uniform bool disable;","uniform float blending;","uniform int blendingMode;","varying vec2 vUV;","uniform bool greyscale;","const int samples = 8;","float blend( float a, float b, float t ) {","\treturn a * ( 1.0 - t ) + b * t;","}","float hypot( float x, float y ) {","\treturn sqrt( x * x + y * y );","}","float rand( vec2 seed ){","return fract( sin( dot( seed.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );","}","float distanceToDotRadius( float channel, vec2 coord, vec2 normal, vec2 p, float angle, float rad_max ) {","\tfloat dist = hypot( coord.x - p.x, coord.y - p.y );","\tfloat rad = channel;","\tif ( shape == SHAPE_DOT ) {","\t\trad = pow( abs( rad ), 1.125 ) * rad_max;","\t} else if ( shape == SHAPE_ELLIPSE ) {","\t\trad = pow( abs( rad ), 1.125 ) * rad_max;","\t\tif ( dist != 0.0 ) {","\t\t\tfloat dot_p = abs( ( p.x - coord.x ) / dist * normal.x + ( p.y - coord.y ) / dist * normal.y );","\t\t\tdist = ( dist * ( 1.0 - SQRT2_HALF_MINUS_ONE ) ) + dot_p * dist * SQRT2_MINUS_ONE;","\t\t}","\t} else if ( shape == SHAPE_LINE ) {","\t\trad = pow( abs( rad ), 1.5) * rad_max;","\t\tfloat dot_p = ( p.x - coord.x ) * normal.x + ( p.y - coord.y ) * normal.y;","\t\tdist = hypot( normal.x * dot_p, normal.y * dot_p );","\t} else if ( shape == SHAPE_SQUARE ) {","\t\tfloat theta = atan( p.y - coord.y, p.x - coord.x ) - angle;","\t\tfloat sin_t = abs( sin( theta ) );","\t\tfloat cos_t = abs( cos( theta ) );","\t\trad = pow( abs( rad ), 1.4 );","\t\trad = rad_max * ( rad + ( ( sin_t > cos_t ) ? rad - sin_t * rad : rad - cos_t * rad ) );","\t}","\treturn rad - dist;","}","struct Cell {","\tvec2 normal;","\tvec2 p1;","\tvec2 p2;","\tvec2 p3;","\tvec2 p4;","\tfloat samp2;","\tfloat samp1;","\tfloat samp3;","\tfloat samp4;","};","vec4 getSample( vec2 point ) {","\tvec4 tex = texture2D( tDiffuse, vec2( point.x / width, point.y / height ) );","\tfloat base = rand( vec2( floor( point.x ), floor( point.y ) ) ) * PI2;","\tfloat step = PI2 / float( samples );","\tfloat dist = radius * 0.66;","\tfor ( int i = 0; i < samples; ++i ) {","\t\tfloat r = base + step * float( i );","\t\tvec2 coord = point + vec2( cos( r ) * dist, sin( r ) * dist );","\t\ttex += texture2D( tDiffuse, vec2( coord.x / width, coord.y / height ) );","\t}","\ttex /= float( samples ) + 1.0;","\treturn tex;","}","float getDotColour( Cell c, vec2 p, int channel, float angle, float aa ) {","\tfloat dist_c_1, dist_c_2, dist_c_3, dist_c_4, res;","\tif ( channel == 0 ) {","\t\tc.samp1 = getSample( c.p1 ).r;","\t\tc.samp2 = getSample( c.p2 ).r;","\t\tc.samp3 = getSample( c.p3 ).r;","\t\tc.samp4 = getSample( c.p4 ).r;","\t} else if (channel == 1) {","\t\tc.samp1 = getSample( c.p1 ).g;","\t\tc.samp2 = getSample( c.p2 ).g;","\t\tc.samp3 = getSample( c.p3 ).g;","\t\tc.samp4 = getSample( c.p4 ).g;","\t} else {","\t\tc.samp1 = getSample( c.p1 ).b;","\t\tc.samp3 = getSample( c.p3 ).b;","\t\tc.samp2 = getSample( c.p2 ).b;","\t\tc.samp4 = getSample( c.p4 ).b;","\t}","\tdist_c_1 = distanceToDotRadius( c.samp1, c.p1, c.normal, p, angle, radius );","\tdist_c_2 = distanceToDotRadius( c.samp2, c.p2, c.normal, p, angle, radius );","\tdist_c_3 = distanceToDotRadius( c.samp3, c.p3, c.normal, p, angle, radius );","\tdist_c_4 = distanceToDotRadius( c.samp4, c.p4, c.normal, p, angle, radius );","\tres = ( dist_c_1 > 0.0 ) ? clamp( dist_c_1 / aa, 0.0, 1.0 ) : 0.0;","\tres += ( dist_c_2 > 0.0 ) ? clamp( dist_c_2 / aa, 0.0, 1.0 ) : 0.0;","\tres += ( dist_c_3 > 0.0 ) ? clamp( dist_c_3 / aa, 0.0, 1.0 ) : 0.0;","\tres += ( dist_c_4 > 0.0 ) ? clamp( dist_c_4 / aa, 0.0, 1.0 ) : 0.0;","\tres = clamp( res, 0.0, 1.0 );","\treturn res;","}","Cell getReferenceCell( vec2 p, vec2 origin, float grid_angle, float step ) {","\tCell c;","\tvec2 n = vec2( cos( grid_angle ), sin( grid_angle ) );","\tfloat threshold = step * 0.5;","\tfloat dot_normal = n.x * ( p.x - origin.x ) + n.y * ( p.y - origin.y );","\tfloat dot_line = -n.y * ( p.x - origin.x ) + n.x * ( p.y - origin.y );","\tvec2 offset = vec2( n.x * dot_normal, n.y * dot_normal );","\tfloat offset_normal = mod( hypot( offset.x, offset.y ), step );","\tfloat normal_dir = ( dot_normal < 0.0 ) ? 1.0 : -1.0;","\tfloat normal_scale = ( ( offset_normal < threshold ) ? -offset_normal : step - offset_normal ) * normal_dir;","\tfloat offset_line = mod( hypot( ( p.x - offset.x ) - origin.x, ( p.y - offset.y ) - origin.y ), step );","\tfloat line_dir = ( dot_line < 0.0 ) ? 1.0 : -1.0;","\tfloat line_scale = ( ( offset_line < threshold ) ? -offset_line : step - offset_line ) * line_dir;","\tc.normal = n;","\tc.p1.x = p.x - n.x * normal_scale + n.y * line_scale;","\tc.p1.y = p.y - n.y * normal_scale - n.x * line_scale;","\tif ( scatter != 0.0 ) {","\t\tfloat off_mag = scatter * threshold * 0.5;","\t\tfloat off_angle = rand( vec2( floor( c.p1.x ), floor( c.p1.y ) ) ) * PI2;","\t\tc.p1.x += cos( off_angle ) * off_mag;","\t\tc.p1.y += sin( off_angle ) * off_mag;","\t}","\tfloat normal_step = normal_dir * ( ( offset_normal < threshold ) ? step : -step );","\tfloat line_step = line_dir * ( ( offset_line < threshold ) ? step : -step );","\tc.p2.x = c.p1.x - n.x * normal_step;","\tc.p2.y = c.p1.y - n.y * normal_step;","\tc.p3.x = c.p1.x + n.y * line_step;","\tc.p3.y = c.p1.y - n.x * line_step;","\tc.p4.x = c.p1.x - n.x * normal_step + n.y * line_step;","\tc.p4.y = c.p1.y - n.y * normal_step - n.x * line_step;","\treturn c;","}","float blendColour( float a, float b, float t ) {","\tif ( blendingMode == BLENDING_LINEAR ) {","\t\treturn blend( a, b, 1.0 - t );","\t} else if ( blendingMode == BLENDING_ADD ) {","\t\treturn blend( a, min( 1.0, a + b ), t );","\t} else if ( blendingMode == BLENDING_MULTIPLY ) {","\t\treturn blend( a, max( 0.0, a * b ), t );","\t} else if ( blendingMode == BLENDING_LIGHTER ) {","\t\treturn blend( a, max( a, b ), t );","\t} else if ( blendingMode == BLENDING_DARKER ) {","\t\treturn blend( a, min( a, b ), t );","\t} else {","\t\treturn blend( a, b, 1.0 - t );","\t}","}","void main() {","\tif ( ! disable ) {","\t\tvec2 p = vec2( vUV.x * width, vUV.y * height );","\t\tvec2 origin = vec2( 0, 0 );","\t\tfloat aa = ( radius < 2.5 ) ? radius * 0.5 : 1.25;","\t\tCell cell_r = getReferenceCell( p, origin, rotateR, radius );","\t\tCell cell_g = getReferenceCell( p, origin, rotateG, radius );","\t\tCell cell_b = getReferenceCell( p, origin, rotateB, radius );","\t\tfloat r = getDotColour( cell_r, p, 0, rotateR, aa );","\t\tfloat g = getDotColour( cell_g, p, 1, rotateG, aa );","\t\tfloat b = getDotColour( cell_b, p, 2, rotateB, aa );","\t\tvec4 colour = texture2D( tDiffuse, vUV );","\t\tr = blendColour( r, colour.r, blending );","\t\tg = blendColour( g, colour.g, blending );","\t\tb = blendColour( b, colour.b, blending );","\t\tif ( greyscale ) {","\t\t\tr = g = b = (r + b + g) / 3.0;","\t\t}","\t\tgl_FragColor = vec4( r, g, b, 1.0 );","\t} else {","\t\tgl_FragColor = texture2D( tDiffuse, vUV );","\t}","}"].join("\n"),["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","void SMAAEdgeDetectionVS( vec2 texcoord ) {","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 );","\tvOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 );","}","void main() {","\tvUv = uv;","\tSMAAEdgeDetectionVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {","\tvec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );","\tvec4 delta;","\tvec3 C = texture2D( colorTex, texcoord ).rgb;","\tvec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;","\tvec3 t = abs( C - Cleft );","\tdelta.x = max( max( t.r, t.g ), t.b );","\tvec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;","\tt = abs( C - Ctop );","\tdelta.y = max( max( t.r, t.g ), t.b );","\tvec2 edges = step( threshold, delta.xy );","\tif ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )","\t\tdiscard;","\tvec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;","\tt = abs( C - Cright );","\tdelta.z = max( max( t.r, t.g ), t.b );","\tvec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;","\tt = abs( C - Cbottom );","\tdelta.w = max( max( t.r, t.g ), t.b );","\tfloat maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );","\tvec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;","\tt = abs( C - Cleftleft );","\tdelta.z = max( max( t.r, t.g ), t.b );","\tvec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;","\tt = abs( C - Ctoptop );","\tdelta.w = max( max( t.r, t.g ), t.b );","\tmaxDelta = max( max( maxDelta, delta.z ), delta.w );","\tedges.xy *= step( 0.5 * maxDelta, delta.xy );","\treturn vec4( edges, 0.0, 0.0 );","}","void main() {","\tgl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );","}"].join("\n"),["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","varying vec2 vPixcoord;","void SMAABlendingWeightCalculationVS( vec2 texcoord ) {","\tvPixcoord = texcoord / resolution;","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 );","\tvOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );","}","void main() {","\tvUv = uv;","\tSMAABlendingWeightCalculationVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )","uniform sampler2D tDiffuse;","uniform sampler2D tArea;","uniform sampler2D tSearch;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[3];","varying vec2 vPixcoord;","#if __VERSION__ == 100","vec2 round( vec2 x ) {","\treturn sign( x ) * floor( abs( x ) + 0.5 );","}","#endif","float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {","\te.r = bias + e.r * scale;","\treturn 255.0 * texture2D( searchTex, e, 0.0 ).r;","}","float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 0.0, 1.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord -= vec2( 2.0, 0.0 ) * resolution;","\t\tif ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;","\t}","\ttexcoord.x += 0.25 * resolution.x;","\ttexcoord.x += resolution.x;","\ttexcoord.x += 2.0 * resolution.x;","\ttexcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);","\treturn texcoord.x;","}","float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 0.0, 1.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord += vec2( 2.0, 0.0 ) * resolution;","\t\tif ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;","\t}","\ttexcoord.x -= 0.25 * resolution.x;","\ttexcoord.x -= resolution.x;","\ttexcoord.x -= 2.0 * resolution.x;","\ttexcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );","\treturn texcoord.x;","}","float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 1.0, 0.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord += vec2( 0.0, 2.0 ) * resolution;","\t\tif ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;","\t}","\ttexcoord.y -= 0.25 * resolution.y;","\ttexcoord.y -= resolution.y;","\ttexcoord.y -= 2.0 * resolution.y;","\ttexcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 );","\treturn texcoord.y;","}","float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 1.0, 0.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord -= vec2( 0.0, 2.0 ) * resolution;","\t\tif ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;","\t}","\ttexcoord.y += 0.25 * resolution.y;","\ttexcoord.y += resolution.y;","\ttexcoord.y += 2.0 * resolution.y;","\ttexcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 );","\treturn texcoord.y;","}","vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {","\tvec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;","\ttexcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );","\ttexcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;","\treturn texture2D( areaTex, texcoord, 0.0 ).rg;","}","vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {","\tvec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );","\tvec2 e = texture2D( edgesTex, texcoord ).rg;","\tif ( e.g > 0.0 ) {","\t\tvec2 d;","\t\tvec2 coords;","\t\tcoords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );","\t\tcoords.y = offset[ 1 ].y;","\t\td.x = coords.x;","\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).r;","\t\tcoords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );","\t\td.y = coords.x;","\t\td = d / resolution.x - pixcoord.x;","\t\tvec2 sqrt_d = sqrt( abs( d ) );","\t\tcoords.y -= 1.0 * resolution.y;","\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;","\t\tweights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );","\t}","\tif ( e.r > 0.0 ) {","\t\tvec2 d;","\t\tvec2 coords;","\t\tcoords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );","\t\tcoords.x = offset[ 0 ].x;","\t\td.x = coords.y;","\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).g;","\t\tcoords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );","\t\td.y = coords.y;","\t\td = d / resolution.y - pixcoord.y;","\t\tvec2 sqrt_d = sqrt( abs( d ) );","\t\tcoords.y -= 1.0 * resolution.y;","\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;","\t\tweights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );","\t}","\treturn weights;","}","void main() {","\tgl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );","}"].join("\n"),["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","void SMAANeighborhoodBlendingVS( vec2 texcoord ) {","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 );","}","void main() {","\tvUv = uv;","\tSMAANeighborhoodBlendingVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform sampler2D tColor;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {","\tvec4 a;","\ta.xz = texture2D( blendTex, texcoord ).xz;","\ta.y = texture2D( blendTex, offset[ 1 ].zw ).g;","\ta.w = texture2D( blendTex, offset[ 1 ].xy ).a;","\tif ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {","\t\treturn texture2D( colorTex, texcoord, 0.0 );","\t} else {","\t\tvec2 offset;","\t\toffset.x = a.a > a.b ? a.a : -a.b;","\t\toffset.y = a.g > a.r ? -a.g : a.r;","\t\tif ( abs( offset.x ) > abs( offset.y )) {","\t\t\toffset.y = 0.0;","\t\t} else {","\t\t\toffset.x = 0.0;","\t\t}","\t\tvec4 C = texture2D( colorTex, texcoord, 0.0 );","\t\ttexcoord += sign( offset ) * resolution;","\t\tvec4 Cop = texture2D( colorTex, texcoord, 0.0 );","\t\tfloat s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );","\t\tC.xyz = pow(C.xyz, vec3(2.2));","\t\tCop.xyz = pow(Cop.xyz, vec3(2.2));","\t\tvec4 mixed = mix(C, Cop, s);","\t\tmixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));","\t\treturn mixed;","\t}","}","void main() {","\tgl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["#include <common>","uniform float time;","uniform bool grayscale;","uniform float nIntensity;","uniform float sIntensity;","uniform float sCount;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 cTextureScreen = texture2D( tDiffuse, vUv );","\tfloat dx = rand( vUv + time );","\tvec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx, 0.0, 1.0 );","\tvec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );","\tcResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;","\tcResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );","\tif( grayscale ) {","\t\tcResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );","\t}","\tgl_FragColor =  vec4( cResult, cTextureScreen.a );","}"].join("\n"),{uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")}),XD={defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new dy},cameraProjectionMatrix:{value:new xb},cameraInverseProjectionMatrix:{value:new xb},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","\treturn texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","\t#if PERSPECTIVE_CAMERA == 1","\t\tfloat fragCoordZ = texture2D( tDepth, screenPosition ).x;","\t\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","\t\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","\t#else","\t\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\t\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","\t#else","\t\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );","\t#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","\tfloat clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","\tvec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","\tclipPosition *= clipW; // unprojection.","\treturn ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","\treturn unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","\tfloat depth = getDepth( vUv );","\tfloat viewZ = getViewZ( depth );","\tvec3 viewPosition = getViewPosition( vUv, depth, viewZ );","\tvec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","\tvec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","\tvec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","\tvec3 bitangent = cross( viewNormal, tangent );","\tmat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","\t\tvec3 sampleVector = kernelMatrix * kernel[ i ];","\t\tvec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","\t\tvec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","\t\tsamplePointNDC /= samplePointNDC.w;","\t\tvec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","\t\tfloat realDepth = getLinearDepth( samplePointUv );","\t\tfloat sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","\t\tfloat delta = sampleDepth - realDepth;","\t\tif ( delta > minDistance && delta < maxDistance ) {","\t\t\tocclusion += 1.0;","\t\t}","\t}","\tocclusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","\tgl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join("\n")},qD={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","\t#if PERSPECTIVE_CAMERA == 1","\t\tfloat fragCoordZ = texture2D( tDepth, screenPosition ).x;","\t\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","\t\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","\t#else","\t\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","void main() {","\tfloat depth = getLinearDepth( vUv );","\tgl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join("\n")},YD={uniforms:{tDiffuse:{value:null},resolution:{value:new dy}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","\tvec2 texelSize = ( 1.0 / resolution );","\tfloat result = 0.0;","\tfor ( int i = - 2; i <= 2; i ++ ) {","\t\tfor ( int j = - 2; j <= 2; j ++ ) {","\t\t\tvec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","\t\t\tresult += texture2D( tDiffuse, vUv + offset ).r;","\t\t}","\t}","\tgl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join("\n")},ZD=function(e){v(n,e);var t=w(n);function n(e,r,i,a){var o;c(this,n),(o=t.call(this)).width=void 0!==i?i:512,o.height=void 0!==a?a:512,o.clear=!0,o.camera=r,o.scene=e,o.kernelRadius=8,o.kernelSize=32,o.kernel=[],o.noiseTexture=null,o.output=0,o.minDistance=.005,o.maxDistance=.1,o._visibilityCache=new Map,o.generateSampleKernel(),o.generateRandomKernelRotations();var s=new tE;return s.format=ag,s.type=$v,o.beautyRenderTarget=new Ny(o.width,o.height),o.normalRenderTarget=new Ny(o.width,o.height,{minFilter:Uv,magFilter:Uv,depthTexture:s}),o.ssaoRenderTarget=new Ny(o.width,o.height),o.blurRenderTarget=o.ssaoRenderTarget.clone(),void 0===XD&&console.error("THREE.SSAOPass: The pass relies on SSAOShader."),o.ssaoMaterial=new Ax({defines:Object.assign({},XD.defines),uniforms:cx.clone(XD.uniforms),vertexShader:XD.vertexShader,fragmentShader:XD.fragmentShader,blending:Np}),o.ssaoMaterial.uniforms.tDiffuse.value=o.beautyRenderTarget.texture,o.ssaoMaterial.uniforms.tNormal.value=o.normalRenderTarget.texture,o.ssaoMaterial.uniforms.tDepth.value=o.normalRenderTarget.depthTexture,o.ssaoMaterial.uniforms.tNoise.value=o.noiseTexture,o.ssaoMaterial.uniforms.kernel.value=o.kernel,o.ssaoMaterial.uniforms.cameraNear.value=o.camera.near,o.ssaoMaterial.uniforms.cameraFar.value=o.camera.far,o.ssaoMaterial.uniforms.resolution.value.set(o.width,o.height),o.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(o.camera.projectionMatrix),o.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(o.camera.projectionMatrixInverse),o.normalMaterial=new tT,o.normalMaterial.blending=Np,o.blurMaterial=new Ax({defines:Object.assign({},YD.defines),uniforms:cx.clone(YD.uniforms),vertexShader:YD.vertexShader,fragmentShader:YD.fragmentShader}),o.blurMaterial.uniforms.tDiffuse.value=o.ssaoRenderTarget.texture,o.blurMaterial.uniforms.resolution.value.set(o.width,o.height),o.depthRenderMaterial=new Ax({defines:Object.assign({},qD.defines),uniforms:cx.clone(qD.uniforms),vertexShader:qD.vertexShader,fragmentShader:qD.fragmentShader,blending:Np}),o.depthRenderMaterial.uniforms.tDepth.value=o.normalRenderTarget.depthTexture,o.depthRenderMaterial.uniforms.cameraNear.value=o.camera.near,o.depthRenderMaterial.uniforms.cameraFar.value=o.camera.far,o.copyMaterial=new Ax({uniforms:cx.clone(KD.uniforms),vertexShader:KD.vertexShader,fragmentShader:KD.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:iv,blendDst:Yp,blendEquation:Vp,blendSrcAlpha:nv,blendDstAlpha:Yp,blendEquationAlpha:Vp}),o.fsQuad=new WD(null),o.originalClearColor=new fw,o}return h(n,[{key:"dispose",value:function(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}},{key:"render",value:function(e,t){switch(!1===e.capabilities.isWebGL2&&(this.noiseTexture.format=ng),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(e,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(e,this.blurMaterial,this.blurRenderTarget),this.output){case n.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case n.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case n.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case n.OUTPUT.Depth:this.renderPass(e,this.depthRenderMaterial,this.renderToScreen?null:t);break;case n.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case n.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Gp,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}},{key:"renderPass",value:function(e,t,n,r,i){e.getClearColor(this.originalClearColor);var a=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,void 0!==r&&null!==r&&(e.setClearColor(r),e.setClearAlpha(i||0),e.clear()),this.fsQuad.material=t,this.fsQuad.render(e),e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)}},{key:"renderOverride",value:function(e,t,n,r,i){e.getClearColor(this.originalClearColor);var a=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,r=t.clearColor||r,i=t.clearAlpha||i,void 0!==r&&null!==r&&(e.setClearColor(r),e.setClearAlpha(i||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)}},{key:"setSize",value:function(e,t){this.width=e,this.height=t,this.beautyRenderTarget.setSize(e,t),this.ssaoRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.blurRenderTarget.setSize(e,t),this.ssaoMaterial.uniforms.resolution.value.set(e,t),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(e,t)}},{key:"generateSampleKernel",value:function(){for(var e=this.kernelSize,t=this.kernel,n=0;n<e;n++){var r=new Wy;r.x=2*Math.random()-1,r.y=2*Math.random()-1,r.z=Math.random(),r.normalize();var i=n/e;i=fy.lerp(.1,1,i*i),r.multiplyScalar(i),t.push(r)}}},{key:"generateRandomKernelRotations",value:function(){void 0===MD&&console.error("THREE.SSAOPass: The pass relies on SimplexNoise.");for(var e=new MD,t=new Float32Array(16),n=0;n<16;n++){var r=2*Math.random()-1,i=2*Math.random()-1;t[n]=e.noise3d(r,i,0)}this.noiseTexture=new zE(t,4,4,og,qv),this.noiseTexture.wrapS=kv,this.noiseTexture.wrapT=kv,this.noiseTexture.needsUpdate=!0}},{key:"overrideVisibility",value:function(){var e=this.scene,t=this._visibilityCache;e.traverse((function(e){t.set(e,e.visible),(e.isPoints||e.isLine)&&(e.visible=!1)}))}},{key:"restoreVisibility",value:function(){var e=this.scene,t=this._visibilityCache;e.traverse((function(e){var n=t.get(e);e.visible=n})),t.clear()}}]),n}(VD);bP(ZD,"OUTPUT",{Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5});["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["#include <common>","varying vec2 vUv;","uniform sampler2D tColor;","uniform sampler2D tDepth;","uniform float maxblur;","uniform float aperture;","uniform float nearClip;","uniform float farClip;","uniform float focus;","uniform float aspect;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","\t#if DEPTH_PACKING == 1","\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","\t#else","\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\treturn perspectiveDepthToViewZ( depth, nearClip, farClip );","\t#else","\treturn orthographicDepthToViewZ( depth, nearClip, farClip );","\t#endif","}","void main() {","\tvec2 aspectcorrect = vec2( 1.0, aspect );","\tfloat viewZ = getViewZ( getDepth( vUv ) );","\tfloat factor = ( focus + viewZ );","\tvec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );","\tvec2 dofblur9 = dofblur * 0.9;","\tvec2 dofblur7 = dofblur * 0.7;","\tvec2 dofblur4 = dofblur * 0.4;","\tvec4 col = vec4( 0.0 );","\tcol += texture2D( tColor, vUv.xy );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );","\tgl_FragColor = col / 41.0;","\tgl_FragColor.a = 1.0;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["#include <common>","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tfloat l = linearToRelativeLuminance( texel.rgb );","\tgl_FragColor = vec4( l, l, l, texel.w );","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["#include <common>","uniform sampler2D tDiffuse;","varying vec2 vUv;","uniform float middleGrey;","uniform float minLuminance;","uniform float maxLuminance;","#ifdef ADAPTED_LUMINANCE","\tuniform sampler2D luminanceMap;","#else","\tuniform float averageLuminance;","#endif","vec3 ToneMap( vec3 vColor ) {","\t#ifdef ADAPTED_LUMINANCE","\t\tfloat fLumAvg = texture2D(luminanceMap, vec2(0.5, 0.5)).r;","\t#else","\t\tfloat fLumAvg = averageLuminance;","\t#endif","\tfloat fLumPixel = linearToRelativeLuminance( vColor );","\tfloat fLumScaled = (fLumPixel * middleGrey) / max( minLuminance, fLumAvg );","\tfloat fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (maxLuminance * maxLuminance)))) / (1.0 + fLumScaled);","\treturn fLumCompressed * vColor;","}","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = vec4( ToneMap( texel.xyz ), texel.w );","}"].join("\n");var JD={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new fw(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tvec3 luma = vec3( 0.299, 0.587, 0.114 );","\tfloat v = dot( texel.xyz, luma );","\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","\tgl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")},$D=function(e){v(n,e);var t=w(n);function n(e,r,i,a){var o;c(this,n),(o=t.call(this)).strength=void 0!==r?r:1,o.radius=i,o.threshold=a,o.resolution=void 0!==e?new dy(e.x,e.y):new dy(256,256),o.clearColor=new fw(0,0,0),o.renderTargetsHorizontal=[],o.renderTargetsVertical=[],o.nMips=5;var s=Math.round(o.resolution.x/2),u=Math.round(o.resolution.y/2);o.renderTargetBright=new Ny(s,u,{type:Yv}),o.renderTargetBright.texture.name="UnrealBloomPass.bright",o.renderTargetBright.texture.generateMipmaps=!1;for(var l=0;l<o.nMips;l++){var A=new Ny(s,u,{type:Yv});A.texture.name="UnrealBloomPass.h"+l,A.texture.generateMipmaps=!1,o.renderTargetsHorizontal.push(A);var f=new Ny(s,u,{type:Yv});f.texture.name="UnrealBloomPass.v"+l,f.texture.generateMipmaps=!1,o.renderTargetsVertical.push(f),s=Math.round(s/2),u=Math.round(u/2)}var d=JD;o.highPassUniforms=cx.clone(d.uniforms),o.highPassUniforms.luminosityThreshold.value=a,o.highPassUniforms.smoothWidth.value=.01,o.materialHighPassFilter=new Ax({uniforms:o.highPassUniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,defines:{}}),o.separableBlurMaterials=[];var h=[3,5,7,9,11];s=Math.round(o.resolution.x/2),u=Math.round(o.resolution.y/2);for(var p=0;p<o.nMips;p++)o.separableBlurMaterials.push(o.getSeperableBlurMaterial(h[p])),o.separableBlurMaterials[p].uniforms.texSize.value=new dy(s,u),s=Math.round(s/2),u=Math.round(u/2);o.compositeMaterial=o.getCompositeMaterial(o.nMips),o.compositeMaterial.uniforms.blurTexture1.value=o.renderTargetsVertical[0].texture,o.compositeMaterial.uniforms.blurTexture2.value=o.renderTargetsVertical[1].texture,o.compositeMaterial.uniforms.blurTexture3.value=o.renderTargetsVertical[2].texture,o.compositeMaterial.uniforms.blurTexture4.value=o.renderTargetsVertical[3].texture,o.compositeMaterial.uniforms.blurTexture5.value=o.renderTargetsVertical[4].texture,o.compositeMaterial.uniforms.bloomStrength.value=r,o.compositeMaterial.uniforms.bloomRadius.value=.1,o.compositeMaterial.needsUpdate=!0;o.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],o.bloomTintColors=[new Wy(1,1,1),new Wy(1,1,1),new Wy(1,1,1),new Wy(1,1,1),new Wy(1,1,1)],o.compositeMaterial.uniforms.bloomTintColors.value=o.bloomTintColors;var v=KD;return o.copyUniforms=cx.clone(v.uniforms),o.copyUniforms.opacity.value=1,o.materialCopy=new Ax({uniforms:o.copyUniforms,vertexShader:v.vertexShader,fragmentShader:v.fragmentShader,blending:Hp,depthTest:!1,depthWrite:!1,transparent:!0}),o.enabled=!0,o.needsSwap=!1,o._oldClearColor=new fw,o.oldClearAlpha=1,o.basic=new hw,o.fsQuad=new WD(null),o}return h(n,[{key:"dispose",value:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(var t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(var n=0;n<this.separableBlurMaterials.length;n++)this.separableBlurMaterials[n].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}},{key:"setSize",value:function(e,t){var n=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(n,r);for(var i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,r),this.renderTargetsVertical[i].setSize(n,r),this.separableBlurMaterials[i].uniforms.texSize.value=new dy(n,r),n=Math.round(n/2),r=Math.round(r/2)}},{key:"render",value:function(e,t,r,i,a){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();var o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),a&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=r.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);for(var s=this.renderTargetBright,u=0;u<this.nMips;u++)this.fsQuad.material=this.separableBlurMaterials[u],this.separableBlurMaterials[u].uniforms.colorTexture.value=s.texture,this.separableBlurMaterials[u].uniforms.direction.value=n.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[u]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[u].uniforms.colorTexture.value=this.renderTargetsHorizontal[u].texture,this.separableBlurMaterials[u].uniforms.direction.value=n.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[u]),e.clear(),this.fsQuad.render(e),s=this.renderTargetsVertical[u];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,a&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o}},{key:"getSeperableBlurMaterial",value:function(e){return new Ax({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new dy(.5,.5)},direction:{value:new dy(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat fSigma = float(SIGMA);\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})}},{key:"getCompositeMaterial",value:function(e){return new Ax({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}"})}}]),n}(VD),eL=$D;bP(eL,"BlurDirectionX",new dy(1,0)),bP(eL,"BlurDirectionY",new dy(0,1));var tL={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new dy(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new xb},cameraInverseProjectionMatrix:{value:new xb},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","\t#if DIFFUSE_TEXTURE == 1","\treturn texture2D( tDiffuse, vUv );","\t#else","\treturn vec4( 1.0 );","\t#endif","}","float getDepth( const in vec2 screenPosition ) {","\t#if DEPTH_PACKING == 1","\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","\t#else","\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","\t#else","\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );","\t#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","\tfloat clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","\tvec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","\tclipPosition *= clipW; // unprojection.","\treturn ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","\t#if NORMAL_TEXTURE == 1","\treturn unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","\t#else","\treturn normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","\t#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","\tvec3 viewDelta = sampleViewPosition - centerViewPosition;","\tfloat viewDistance = length( viewDelta );","\tfloat scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","\treturn max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","\t// precompute some variables require in getOcclusion.","\tscaleDividedByCameraFar = scale / cameraFar;","\tminResolutionMultipliedByCameraFar = minResolution * cameraFar;","\tvec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","\t// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","\tfloat angle = rand( vUv + randomSeed ) * PI2;","\tvec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","\tvec2 radiusStep = radius;","\tfloat occlusionSum = 0.0;","\tfloat weightSum = 0.0;","\tfor( int i = 0; i < NUM_SAMPLES; i ++ ) {","\t\tvec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","\t\tradius += radiusStep;","\t\tangle += ANGLE_STEP;","\t\tfloat sampleDepth = getDepth( sampleUv );","\t\tif( sampleDepth >= ( 1.0 - EPSILON ) ) {","\t\t\tcontinue;","\t\t}","\t\tfloat sampleViewZ = getViewZ( sampleDepth );","\t\tvec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","\t\tocclusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","\t\tweightSum += 1.0;","\t}","\tif( weightSum == 0.0 ) discard;","\treturn occlusionSum * ( intensity / weightSum );","}","void main() {","\tfloat centerDepth = getDepth( vUv );","\tif( centerDepth >= ( 1.0 - EPSILON ) ) {","\t\tdiscard;","\t}","\tfloat centerViewZ = getViewZ( centerDepth );","\tvec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","\tfloat ambientOcclusion = getAmbientOcclusion( viewPosition );","\tgl_FragColor = getDefaultColor( vUv );","\tgl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join("\n")},nL={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new dy(512,512)},sampleUvOffsets:{value:[new dy(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","\tvUv = uv;","\tvInvSize = 1.0 / size;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","\t#if DEPTH_PACKING == 1","\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","\t#else","\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","\t#else","\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );","\t#endif","}","void main() {","\tfloat depth = getDepth( vUv );","\tif( depth >= ( 1.0 - EPSILON ) ) {","\t\tdiscard;","\t}","\tfloat centerViewZ = -getViewZ( depth );","\tbool rBreak = false, lBreak = false;","\tfloat weightSum = sampleWeights[0];","\tvec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","\tfor( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","\t\tfloat sampleWeight = sampleWeights[i];","\t\tvec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","\t\tvec2 sampleUv = vUv + sampleUvOffset;","\t\tfloat viewZ = -getViewZ( getDepth( sampleUv ) );","\t\tif( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","\t\tif( ! rBreak ) {","\t\t\tdiffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","\t\t\tweightSum += sampleWeight;","\t\t}","\t\tsampleUv = vUv - sampleUvOffset;","\t\tviewZ = -getViewZ( getDepth( sampleUv ) );","\t\tif( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","\t\tif( ! lBreak ) {","\t\t\tdiffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","\t\t\tweightSum += sampleWeight;","\t\t}","\t}","\tgl_FragColor = diffuseSum / weightSum;","}"].join("\n")},rL={createSampleWeights:function(e,t){for(var n,r,i=[],a=0;a<=e;a++)i.push((n=a,r=t,Math.exp(-n*n/(r*r*2))/(Math.sqrt(2*Math.PI)*r)));return i},createSampleOffsets:function(e,t){for(var n=[],r=0;r<=e;r++)n.push(t.clone().multiplyScalar(r));return n},configure:function(e,t,n,r){e.defines.KERNEL_RADIUS=t,e.uniforms.sampleUvOffsets.value=rL.createSampleOffsets(t,r),e.uniforms.sampleWeights.value=rL.createSampleWeights(t,n),e.needsUpdate=!0}},iL=function(e){v(n,e);var t=w(n);function n(e,r){var i,a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new dy(256,256);return c(this,n),(i=t.call(this)).scene=e,i.camera=r,i.clear=!0,i.needsSwap=!1,i.supportsDepthTextureExtension=o,i.supportsNormalTexture=s,i.originalClearColor=new fw,i._oldClearColor=new fw,i.oldClearAlpha=1,i.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},i.resolution=new dy(u.x,u.y),i.saoRenderTarget=new Ny(i.resolution.x,i.resolution.y,{type:Yv}),i.blurIntermediateRenderTarget=i.saoRenderTarget.clone(),i.beautyRenderTarget=i.saoRenderTarget.clone(),i.normalRenderTarget=new Ny(i.resolution.x,i.resolution.y,{minFilter:Uv,magFilter:Uv,type:Yv}),i.depthRenderTarget=i.normalRenderTarget.clone(),i.supportsDepthTextureExtension&&((a=new tE).type=Wv,i.beautyRenderTarget.depthTexture=a,i.beautyRenderTarget.depthBuffer=!0),i.depthMaterial=new zC,i.depthMaterial.depthPacking=om,i.depthMaterial.blending=Np,i.normalMaterial=new tT,i.normalMaterial.blending=Np,i.saoMaterial=new Ax({defines:Object.assign({},tL.defines),fragmentShader:tL.fragmentShader,vertexShader:tL.vertexShader,uniforms:cx.clone(tL.uniforms)}),i.saoMaterial.extensions.derivatives=!0,i.saoMaterial.defines.DEPTH_PACKING=i.supportsDepthTextureExtension?0:1,i.saoMaterial.defines.NORMAL_TEXTURE=i.supportsNormalTexture?1:0,i.saoMaterial.defines.PERSPECTIVE_CAMERA=i.camera.isPerspectiveCamera?1:0,i.saoMaterial.uniforms.tDepth.value=i.supportsDepthTextureExtension?a:i.depthRenderTarget.texture,i.saoMaterial.uniforms.tNormal.value=i.normalRenderTarget.texture,i.saoMaterial.uniforms.size.value.set(i.resolution.x,i.resolution.y),i.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(i.camera.projectionMatrixInverse),i.saoMaterial.uniforms.cameraProjectionMatrix.value=i.camera.projectionMatrix,i.saoMaterial.blending=Np,i.vBlurMaterial=new Ax({uniforms:cx.clone(nL.uniforms),defines:Object.assign({},nL.defines),vertexShader:nL.vertexShader,fragmentShader:nL.fragmentShader}),i.vBlurMaterial.defines.DEPTH_PACKING=i.supportsDepthTextureExtension?0:1,i.vBlurMaterial.defines.PERSPECTIVE_CAMERA=i.camera.isPerspectiveCamera?1:0,i.vBlurMaterial.uniforms.tDiffuse.value=i.saoRenderTarget.texture,i.vBlurMaterial.uniforms.tDepth.value=i.supportsDepthTextureExtension?a:i.depthRenderTarget.texture,i.vBlurMaterial.uniforms.size.value.set(i.resolution.x,i.resolution.y),i.vBlurMaterial.blending=Np,i.hBlurMaterial=new Ax({uniforms:cx.clone(nL.uniforms),defines:Object.assign({},nL.defines),vertexShader:nL.vertexShader,fragmentShader:nL.fragmentShader}),i.hBlurMaterial.defines.DEPTH_PACKING=i.supportsDepthTextureExtension?0:1,i.hBlurMaterial.defines.PERSPECTIVE_CAMERA=i.camera.isPerspectiveCamera?1:0,i.hBlurMaterial.uniforms.tDiffuse.value=i.blurIntermediateRenderTarget.texture,i.hBlurMaterial.uniforms.tDepth.value=i.supportsDepthTextureExtension?a:i.depthRenderTarget.texture,i.hBlurMaterial.uniforms.size.value.set(i.resolution.x,i.resolution.y),i.hBlurMaterial.blending=Np,i.materialCopy=new Ax({uniforms:cx.clone(KD.uniforms),vertexShader:KD.vertexShader,fragmentShader:KD.fragmentShader,blending:Np}),i.materialCopy.transparent=!0,i.materialCopy.depthTest=!1,i.materialCopy.depthWrite=!1,i.materialCopy.blending=Gp,i.materialCopy.blendSrc=iv,i.materialCopy.blendDst=Yp,i.materialCopy.blendEquation=Vp,i.materialCopy.blendSrcAlpha=nv,i.materialCopy.blendDstAlpha=Yp,i.materialCopy.blendEquationAlpha=Vp,i.depthCopy=new Ax({uniforms:cx.clone(ND.uniforms),vertexShader:ND.vertexShader,fragmentShader:ND.fragmentShader,blending:Np}),i.fsQuad=new WD(null),i}return h(n,[{key:"render",value:function(e,t,n){if(this.renderToScreen&&(this.materialCopy.blending=Np,this.materialCopy.uniforms.tDiffuse.value=n.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),1!==this.params.output){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();var r=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;var i=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=i,this.hBlurMaterial.uniforms.depthCutoff.value=i,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),this.prevStdDev===this.params.saoBlurStdDev&&this.prevNumSamples===this.params.saoBlurRadius||(rL.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new dy(0,1)),rL.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new dy(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));var a=this.materialCopy;3===this.params.output?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,a=this.depthCopy):4===this.params.output?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),0===this.params.output?a.blending=Gp:a.blending=Np,this.renderPass(e,a,this.renderToScreen?null:n),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=r}}},{key:"renderPass",value:function(e,t,n,r,i){e.getClearColor(this.originalClearColor);var a=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,void 0!==r&&null!==r&&(e.setClearColor(r),e.setClearAlpha(i||0),e.clear()),this.fsQuad.material=t,this.fsQuad.render(e),e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)}},{key:"renderOverride",value:function(e,t,n,r,i){e.getClearColor(this.originalClearColor);var a=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,r=t.clearColor||r,i=t.clearAlpha||i,void 0!==r&&null!==r&&(e.setClearColor(r),e.setClearAlpha(i||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)}},{key:"setSize",value:function(e,t){this.beautyRenderTarget.setSize(e,t),this.saoRenderTarget.setSize(e,t),this.blurIntermediateRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.depthRenderTarget.setSize(e,t),this.saoMaterial.uniforms.size.value.set(e,t),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,t),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,t),this.hBlurMaterial.needsUpdate=!0}},{key:"dispose",value:function(){this.saoRenderTarget.dispose(),this.blurIntermediateRenderTarget.dispose(),this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.depthRenderTarget.dispose(),this.depthMaterial.dispose(),this.normalMaterial.dispose(),this.saoMaterial.dispose(),this.vBlurMaterial.dispose(),this.hBlurMaterial.dispose(),this.materialCopy.dispose(),this.depthCopy.dispose(),this.fsQuad.dispose()}}]),n}(VD);bP(iL,"OUTPUT",{Beauty:1,Default:0,SAO:2,Depth:3,Normal:4});["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform float damp;","uniform sampler2D tOld;","uniform sampler2D tNew;","varying vec2 vUv;","vec4 when_gt( vec4 x, float y ) {","\treturn max( sign( x - y ), 0.0 );","}","void main() {","\tvec4 texelOld = texture2D( tOld, vUv );","\tvec4 texelNew = texture2D( tNew, vUv );","\ttexelOld *= damp * when_gt( texelOld, 0.1 );","\tgl_FragColor = max(texelNew, texelOld);","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform vec2 center;","uniform float angle;","uniform float scale;","uniform vec2 tSize;","uniform sampler2D tDiffuse;","varying vec2 vUv;","float pattern() {","\tfloat s = sin( angle ), c = cos( angle );","\tvec2 tex = vUv * tSize - center;","\tvec2 point = vec2( c * tex.x - s * tex.y, s * tex.x + c * tex.y ) * scale;","\treturn ( sin( point.x ) * sin( point.y ) ) * 4.0;","}","void main() {","\tvec4 color = texture2D( tDiffuse, vUv );","\tfloat average = ( color.r + color.g + color.b ) / 3.0;","\tgl_FragColor = vec4( vec3( average * 10.0 - 5.0 + pattern() ), color.a );","}"].join("\n");var aL={defines:{MAX_STEP:0,isPerspectiveCamera:!0,isDistanceAttenuation:!0,isFresnel:!0,isInfiniteThick:!1,isSelective:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new dy},cameraProjectionMatrix:{value:new xb},cameraInverseProjectionMatrix:{value:new xb},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},surfDist:{value:.007},thickTolerance:{value:.03}},vertexShader:"\n\n    varying vec2 vUv;\n\n    void main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n\n  ",fragmentShader:"\n\t\t// precision highp float;\n\t\tprecision highp sampler2D;\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D tDepth;\n\t\tuniform sampler2D tNormal;\n\t\tuniform sampler2D tMetalness;\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float cameraRange;\n\t\tuniform vec2 resolution;\n\t\tuniform float opacity;\n\t\tuniform float cameraNear;\n\t\tuniform float cameraFar;\n\t\tuniform float maxDistance;\n\t\tuniform float surfDist;\n\t\tuniform mat4 cameraProjectionMatrix;\n\t\tuniform mat4 cameraInverseProjectionMatrix;\n\t\tuniform float thickTolerance;\n\t\t#include <packing>\n\t\tfloat pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {\n\t\t\t//x0: point, x1: linePointA, x2: linePointB\n\t\t\t//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html\n\t\t\treturn length(cross(x0-x1,x0-x2))/length(x2-x1);\n\t\t}\n\t\tfloat pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){\n\t\t\t// https://mathworld.wolfram.com/Point-PlaneDistance.html\n\t\t\t//// https://en.wikipedia.org/wiki/Plane_(geometry)\n\t\t\t//// http://paulbourke.net/geometry/pointlineplane/\n\t\t\tfloat a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;\n\t\t\tfloat x0=point.x,y0=point.y,z0=point.z;\n\t\t\tfloat x=planePoint.x,y=planePoint.y,z=planePoint.z;\n\t\t\tfloat d=-(a*x+b*y+c*z);\n\t\t\tfloat distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);\n\t\t\treturn distance;\n\t\t}\n\t\tfloat getDepth( const in vec2 uv ) {\n\t\t\treturn texture2D( tDepth, uv ).x;\n\t\t}\n\t\tfloat getViewZ( const in float depth ) {\n\t\t\t#ifdef isPerspectiveCamera\n\t\t\t\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );\n\t\t\t#else\n\t\t\t\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );\n\t\t\t#endif\n\t\t}\n\t\tvec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {\n\t\t\tvec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc\n\t\t\tclipPosition *= clipW; //clip\n\t\t\treturn ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view\n\t\t}\n\t\tvec3 getViewNormal( const in vec2 uv ) {\n\t\t\treturn unpackRGBToNormal( texture2D( tNormal, uv ).xyz );\n\t\t}\n\t\tvec2 viewPositionToXY(vec3 viewPosition){\n\t\t\tvec2 xy;\n\t\t\tvec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);\n\t\t\txy=clip.xy;//clip\n\t\t\tfloat clipW=clip.w;\n\t\t\txy/=clipW;//NDC\n\t\t\txy=(xy+1.)/2.;//uv\n\t\t\txy*=resolution;//screen\n\t\t\treturn xy;\n\t\t}\n\t\tvoid main(){\n\t\t\t#ifdef isSelective\n\t\t\t\tfloat metalness=texture2D(tMetalness,vUv).r;\n\t\t\t\tif(metalness==0.) return;\n\t\t\t#endif\n\n\t\t\tfloat depth = getDepth( vUv );\n\t\t\tfloat viewZ = getViewZ( depth );\n\t\t\tif(-viewZ>=cameraFar) return;\n\n\t\t\tfloat clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];\n\t\t\tvec3 viewPosition=getViewPosition( vUv, depth, clipW );\n\n\t\t\tvec2 d0=gl_FragCoord.xy;\n\t\t\tvec2 d1;\n\n\t\t\tvec3 viewNormal=getViewNormal( vUv );\n\n\t\t\t#ifdef isPerspectiveCamera\n\t\t\t\tvec3 viewIncidenceDir=normalize(viewPosition);\n\t\t\t\tvec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);\n\t\t\t#else\n\t\t\t\tvec3 viewIncidenceDir=vec3(0,0,-1);\n\t\t\t\tvec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);\n\t\t\t#endif\n\n\t\t\tfloat maxReflectRayLen=maxDistance/dot(-viewIncidenceDir,viewNormal);\n\t\t\t// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html\n\t\t\t// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)\n\t\t\t// maxDistance/maxReflectRayLen=cos(theta)\n\t\t\t// maxDistance/maxReflectRayLen==dot(a,b)\n\t\t\t// maxReflectRayLen==maxDistance/dot(a,b)\n\n\t\t\tvec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;\n\t\t\t#ifdef isPerspectiveCamera\n\t\t\t\tif(d1viewPosition.z>-cameraNear){\n\t\t\t\t\t//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx\n\t\t\t\t\tfloat t=(-cameraNear-viewPosition.z)/viewReflectDir.z;\n\t\t\t\t\td1viewPosition=viewPosition+viewReflectDir*t;\n\t\t\t\t}\n\t\t\t#endif\n\t\t\td1=viewPositionToXY(d1viewPosition);\n\n\t\t\tfloat totalLen=length(d1-d0);\n\t\t\tfloat xLen=d1.x-d0.x;\n\t\t\tfloat yLen=d1.y-d0.y;\n\t\t\tfloat totalStep=max(abs(xLen),abs(yLen));\n\t\t\tfloat xSpan=xLen/totalStep;\n\t\t\tfloat ySpan=yLen/totalStep;\n\t\t\tfor(float i=0.;i<MAX_STEP;i++){\n\t\t\t\tif(i>=totalStep) break;\n\t\t\t\tvec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);\n\t\t\t\tif(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;\n\t\t\t\tfloat s=length(xy-d0)/totalLen;\n\t\t\t\tvec2 uv=xy/resolution;\n\n\t\t\t\tfloat d = getDepth(uv);\n\t\t\t\tfloat vZ = getViewZ( d );\n\t\t\t\tif(-vZ>=cameraFar) continue;\n\t\t\t\tfloat cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];\n\t\t\t\tvec3 vP=getViewPosition( uv, d, cW );\n\n\t\t\t\t#ifdef isPerspectiveCamera\n\t\t\t\t\t// https://www.comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf\n\t\t\t\t\tfloat recipVPZ=1./viewPosition.z;\n\t\t\t\t\tfloat viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));\n\t\t\t\t\tfloat sD=surfDist*cW;\n\t\t\t\t#else\n\t\t\t\t\tfloat viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);\n\t\t\t\t\tfloat sD=surfDist;\n\t\t\t\t#endif\n\t\t\t\tif(viewReflectRayZ-sD>vZ) continue;\n\n\t\t\t\t#ifdef isInfiniteThick\n\t\t\t\t\tif(viewReflectRayZ+thickTolerance*clipW<vP.z) break;\n\t\t\t\t#endif\n\t\t\t\tfloat away=pointToLineDistance(vP,viewPosition,d1viewPosition);\n\n\t\t\t\tfloat op=opacity;\n\n\t\t\t\tif(away<sD){\n\t\t\t\t\tvec3 vN=getViewNormal( uv );\n\t\t\t\t\tif(dot(viewReflectDir,vN)>=0.) continue;\n\t\t\t\t\tfloat distance=pointPlaneDistance(vP,viewPosition,viewNormal);\n\t\t\t\t\tif(distance>maxDistance) break;\n\t\t\t\t\t#ifdef isDistanceAttenuation\n\t\t\t\t\t\tfloat ratio=1.-(distance/maxDistance);\n\t\t\t\t\t\tfloat attenuation=ratio*ratio;\n\t\t\t\t\t\top=opacity*attenuation;\n\t\t\t\t\t#endif\n\t\t\t\t\t#ifdef isFresnel\n\t\t\t\t\t\tfloat fresnel=(dot(viewIncidenceDir,viewReflectDir)+1.)/2.;\n\t\t\t\t\t\top*=fresnel;\n\t\t\t\t\t#endif\n\t\t\t\t\tvec4 reflectColor=texture2D(tDiffuse,uv);\n\t\t\t\t\tgl_FragColor.xyz=reflectColor.xyz;\n\t\t\t\t\tgl_FragColor.a=op;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t"},oL={PERSPECTIVE_CAMERA:1},sL={tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},uL="\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvUv = uv;\n    \tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n\n  ",lL="\n\n    uniform sampler2D tDepth;\n\n    uniform float cameraNear;\n    uniform float cameraFar;\n\n    varying vec2 vUv;\n\n    #include <packing>\n\n\t\tfloat getLinearDepth( const in vec2 uv ) {\n\n\t\t\t#if PERSPECTIVE_CAMERA == 1\n\n\t\t\t\tfloat fragCoordZ = texture2D( tDepth, uv ).x;\n\t\t\t\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );\n\t\t\t\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );\n\n\t\t\t#else\n\n\t\t\t\treturn texture2D( tDepth, uv ).x;\n\n\t\t\t#endif\n\n\t\t}\n\n    void main() {\n\n    \tfloat depth = getLinearDepth( vUv );\n\t\t\tfloat d = 1.0 - depth;\n\t\t\t// d=(d-.999)*1000.;\n    \tgl_FragColor = vec4( vec3( d ), 1.0 );\n\n    }\n\n  ",cL={uniforms:{tDiffuse:{value:null},resolution:{value:new dy},opacity:{value:.5}},vertexShader:"\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvUv = uv;\n    \tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n\n  ",fragmentShader:"\n\n    uniform sampler2D tDiffuse;\n    uniform vec2 resolution;\n    varying vec2 vUv;\n    void main() {\n\t\t\t//reverse engineering from PhotoShop blur filter, then change coefficient\n\n    \tvec2 texelSize = ( 1.0 / resolution );\n\n\t\t\tvec4 c=texture2D(tDiffuse,vUv);\n\n\t\t\tvec2 offset;\n\n\t\t\toffset=(vec2(-1,0))*texelSize;\n\t\t\tvec4 cl=texture2D(tDiffuse,vUv+offset);\n\n\t\t\toffset=(vec2(1,0))*texelSize;\n\t\t\tvec4 cr=texture2D(tDiffuse,vUv+offset);\n\n\t\t\toffset=(vec2(0,-1))*texelSize;\n\t\t\tvec4 cb=texture2D(tDiffuse,vUv+offset);\n\n\t\t\toffset=(vec2(0,1))*texelSize;\n\t\t\tvec4 ct=texture2D(tDiffuse,vUv+offset);\n\n\t\t\t// float coeCenter=.5;\n\t\t\t// float coeSide=.125;\n\t\t\tfloat coeCenter=.2;\n\t\t\tfloat coeSide=.2;\n\t\t\tfloat a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;\n\t\t\tvec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;\n\t\t\tgl_FragColor=vec4(rgb,a);\n\n\t\t}\n\t"};bP(function(e){v(n,e);var t=w(n);function n(e){var r,i=e.renderer,a=e.scene,o=e.camera,s=e.width,u=e.height,l=e.selects,A=e.bouncing,f=void 0!==A&&A,d=e.groundReflector;c(this,n),(r=t.call(this)).width=void 0!==s?s:512,r.height=void 0!==u?u:512,r.clear=!0,r.renderer=i,r.scene=a,r.camera=o,r.groundReflector=d,r.opacity=aL.uniforms.opacity.value,r.output=0,r.maxDistance=aL.uniforms.maxDistance.value,r.thickness=aL.uniforms.thickness.value,r.tempColor=new fw,r._selects=l,r.selective=Array.isArray(r._selects),Object.defineProperty(y(r),"selects",{get:function(){return this._selects},set:function(e){this._selects!==e&&(this._selects=e,Array.isArray(e)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),r._bouncing=f,Object.defineProperty(y(r),"bouncing",{get:function(){return this._bouncing},set:function(e){this._bouncing!==e&&(this._bouncing=e,this.ssrMaterial.uniforms.tDiffuse.value=e?this.prevRenderTarget.texture:this.beautyRenderTarget.texture)}}),r.blur=!0,r._distanceAttenuation=aL.defines.DISTANCE_ATTENUATION,Object.defineProperty(y(r),"distanceAttenuation",{get:function(){return this._distanceAttenuation},set:function(e){this._distanceAttenuation!==e&&(this._distanceAttenuation=e,this.ssrMaterial.defines.DISTANCE_ATTENUATION=e,this.ssrMaterial.needsUpdate=!0)}}),r._fresnel=aL.defines.FRESNEL,Object.defineProperty(y(r),"fresnel",{get:function(){return this._fresnel},set:function(e){this._fresnel!==e&&(this._fresnel=e,this.ssrMaterial.defines.FRESNEL=e,this.ssrMaterial.needsUpdate=!0)}}),r._infiniteThick=aL.defines.INFINITE_THICK,Object.defineProperty(y(r),"infiniteThick",{get:function(){return this._infiniteThick},set:function(e){this._infiniteThick!==e&&(this._infiniteThick=e,this.ssrMaterial.defines.INFINITE_THICK=e,this.ssrMaterial.needsUpdate=!0)}});var h=new tE;return h.type=Wv,h.minFilter=Uv,h.magFilter=Uv,r.beautyRenderTarget=new Ny(r.width,r.height,{minFilter:Uv,magFilter:Uv,type:Yv,depthTexture:h,depthBuffer:!0}),r.prevRenderTarget=new Ny(r.width,r.height,{minFilter:Uv,magFilter:Uv}),r.normalRenderTarget=new Ny(r.width,r.height,{minFilter:Uv,magFilter:Uv,type:Yv}),r.metalnessRenderTarget=new Ny(r.width,r.height,{minFilter:Uv,magFilter:Uv,type:Yv}),r.ssrRenderTarget=new Ny(r.width,r.height,{minFilter:Uv,magFilter:Uv}),r.blurRenderTarget=r.ssrRenderTarget.clone(),r.blurRenderTarget2=r.ssrRenderTarget.clone(),r.ssrMaterial=new Ax({defines:Object.assign({},aL.defines,{MAX_STEP:Math.sqrt(r.width*r.width+r.height*r.height)}),uniforms:cx.clone(aL.uniforms),vertexShader:aL.vertexShader,fragmentShader:aL.fragmentShader,blending:Np}),r.ssrMaterial.uniforms.tDiffuse.value=r.beautyRenderTarget.texture,r.ssrMaterial.uniforms.tNormal.value=r.normalRenderTarget.texture,r.ssrMaterial.defines.SELECTIVE=r.selective,r.ssrMaterial.needsUpdate=!0,r.ssrMaterial.uniforms.tMetalness.value=r.metalnessRenderTarget.texture,r.ssrMaterial.uniforms.tDepth.value=r.beautyRenderTarget.depthTexture,r.ssrMaterial.uniforms.cameraNear.value=r.camera.near,r.ssrMaterial.uniforms.cameraFar.value=r.camera.far,r.ssrMaterial.uniforms.thickness.value=r.thickness,r.ssrMaterial.uniforms.resolution.value.set(r.width,r.height),r.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(r.camera.projectionMatrix),r.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(r.camera.projectionMatrixInverse),r.normalMaterial=new tT,r.normalMaterial.blending=Np,r.metalnessOnMaterial=new hw({color:"white"}),r.metalnessOffMaterial=new hw({color:"black"}),r.blurMaterial=new Ax({defines:Object.assign({},cL.defines),uniforms:cx.clone(cL.uniforms),vertexShader:cL.vertexShader,fragmentShader:cL.fragmentShader}),r.blurMaterial.uniforms.tDiffuse.value=r.ssrRenderTarget.texture,r.blurMaterial.uniforms.resolution.value.set(r.width,r.height),r.blurMaterial2=new Ax({defines:Object.assign({},cL.defines),uniforms:cx.clone(cL.uniforms),vertexShader:cL.vertexShader,fragmentShader:cL.fragmentShader}),r.blurMaterial2.uniforms.tDiffuse.value=r.blurRenderTarget.texture,r.blurMaterial2.uniforms.resolution.value.set(r.width,r.height),r.depthRenderMaterial=new Ax({defines:Object.assign({},oL),uniforms:cx.clone(sL),vertexShader:uL,fragmentShader:lL,blending:Np}),r.depthRenderMaterial.uniforms.tDepth.value=r.beautyRenderTarget.depthTexture,r.depthRenderMaterial.uniforms.cameraNear.value=r.camera.near,r.depthRenderMaterial.uniforms.cameraFar.value=r.camera.far,r.copyMaterial=new Ax({uniforms:cx.clone(KD.uniforms),vertexShader:KD.vertexShader,fragmentShader:KD.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:ev,blendDst:tv,blendEquation:Vp,blendSrcAlpha:ev,blendDstAlpha:tv,blendEquationAlpha:Vp}),r.fsQuad=new WD(null),r.originalClearColor=new fw,r}return h(n,[{key:"dispose",value:function(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}},{key:"render",value:function(e,t){switch(e.setRenderTarget(this.beautyRenderTarget),e.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),e.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(e,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(e,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(e,this.blurMaterial,this.blurRenderTarget),this.renderPass(e,this.blurMaterial2,this.blurRenderTarget2)),this.output){case n.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Qp,this.renderPass(e,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Qp,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t));break;case n.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Qp,this.renderPass(e,this.copyMaterial,this.prevRenderTarget));break;case n.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case n.OUTPUT.Depth:this.renderPass(e,this.depthRenderMaterial,this.renderToScreen?null:t);break;case n.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case n.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=Np,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}},{key:"renderPass",value:function(e,t,n,r,i){this.originalClearColor.copy(e.getClearColor(this.tempColor));var a=e.getClearAlpha(this.tempColor),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,void 0!==r&&null!==r&&(e.setClearColor(r),e.setClearAlpha(i||0),e.clear()),this.fsQuad.material=t,this.fsQuad.render(e),e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)}},{key:"renderOverride",value:function(e,t,n,r,i){this.originalClearColor.copy(e.getClearColor(this.tempColor));var a=e.getClearAlpha(this.tempColor),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,r=t.clearColor||r,i=t.clearAlpha||i,void 0!==r&&null!==r&&(e.setClearColor(r),e.setClearAlpha(i||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)}},{key:"renderMetalness",value:function(e,t,n,r,i){var a=this;this.originalClearColor.copy(e.getClearColor(this.tempColor));var o=e.getClearAlpha(this.tempColor),s=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,r=t.clearColor||r,i=t.clearAlpha||i,void 0!==r&&null!==r&&(e.setClearColor(r),e.setClearAlpha(i||0),e.clear()),this.scene.traverseVisible((function(e){e._SSRPassBackupMaterial=e.material,a._selects.includes(e)?e.material=a.metalnessOnMaterial:e.material=a.metalnessOffMaterial})),e.render(this.scene,this.camera),this.scene.traverseVisible((function(e){e.material=e._SSRPassBackupMaterial})),e.autoClear=s,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}},{key:"setSize",value:function(e,t){this.width=e,this.height=t,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(e*e+t*t),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(e,t),this.prevRenderTarget.setSize(e,t),this.ssrRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.metalnessRenderTarget.setSize(e,t),this.blurRenderTarget.setSize(e,t),this.blurRenderTarget2.setSize(e,t),this.ssrMaterial.uniforms.resolution.value.set(e,t),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(e,t),this.blurMaterial2.uniforms.resolution.value.set(e,t)}}]),n}(VD),"OUTPUT",{Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7});["uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","\tvUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform float cKernel[ KERNEL_SIZE_INT ];","uniform sampler2D tDiffuse;","uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","\tvec2 imageCoord = vUv;","\tvec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );","\tfor( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {","\t\tsum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];","\t\timageCoord += uImageIncrement;","\t}","\tgl_FragColor = sum;","}"].join("\n");Int8Array,Uint8Array,Int16Array,Uint16Array,Uint32Array,Float32Array,qn(qn({POSITION:"position",NORMAL:"normal",TANGENT:"tangent"},Cp.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"}),{},{COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"});var AL=function(){function e(){c(this,e)}return h(e,null,[{key:"createButton",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement("button");function i(){r.style.display="",r.style.cursor="auto",r.style.left="calc(50% - 75px)",r.style.width="150px",r.onmouseenter=null,r.onmouseleave=null,r.onclick=null,r.textContent="VR NOT SUPPORTED"}function a(e){e.style.position="absolute",e.style.bottom="20px",e.style.padding="12px 6px",e.style.border="1px solid #fff",e.style.borderRadius="4px",e.style.background="rgba(0,0,0,0.1)",e.style.color="#fff",e.style.font="normal 13px sans-serif",e.style.textAlign="center",e.style.opacity="0.5",e.style.outline="none",e.style.zIndex="999"}if("xr"in navigator)return a(r),r.id="VRButton",r.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then((function(a){a?function(){var e=null;function i(e){return a.apply(this,arguments)}function a(){return(a=C(x().mark((function n(i){return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.addEventListener("end",o),n.next=3,t.xr.setSession(i);case 3:r.textContent="EXIT VR",e=i;case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function o(){e.removeEventListener("end",o),r.textContent="ENTER VR",e=null}r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="ENTER VR",r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){var t;if(null===e){var r=[n.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);null==(t=navigator.xr)||t.requestSession("immersive-vr",qn(qn({},n),{},{optionalFeatures:r})).then(i)}else e.end()}}():i(),a&&e.xrSessionIsGranted&&r.click()})),r;var o=document.createElement("a");return!1===window.isSecureContext?(o.href=document.location.href.replace(/^http:/,"https:"),o.innerHTML="WEBXR NEEDS HTTPS"):(o.href="https://immersiveweb.dev/",o.innerHTML="WEBXR NOT AVAILABLE"),o.style.left="calc(50% - 90px)",o.style.width="180px",o.style.textDecoration="none",a(o),o}},{key:"registerSessionGrantedListener",value:function(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",(function(){e.xrSessionIsGranted=!0}))}}]),e}();bP(AL,"xrSessionIsGranted",!1);var fL={Handedness:{NONE:"none",LEFT:"left",RIGHT:"right"},ComponentState:{DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"},ComponentProperty:{BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"},ComponentType:{TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"},ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:{TRANSFORM:"transform",VISIBILITY:"visibility"}};fL.ComponentState.DEFAULT;["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["#define saturate(a) clamp( a, 0.0, 1.0 )","uniform sampler2D tDiffuse;","uniform float exposure;","varying vec2 vUv;","vec3 RRTAndODTFit( vec3 v ) {","\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;","\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;","\treturn a / b;","}","vec3 ACESFilmicToneMapping( vec3 color ) {","\tconst mat3 ACESInputMat = mat3(","\t\tvec3( 0.59719, 0.07600, 0.02840 ),","\t\tvec3( 0.35458, 0.90834, 0.13383 ),","\t\tvec3( 0.04823, 0.01566, 0.83777 )","\t);","\tconst mat3 ACESOutputMat = mat3(","\t\tvec3(  1.60475, -0.10208, -0.00327 ),","\t\tvec3( -0.53108,  1.10813, -0.07276 ),","\t\tvec3( -0.07367, -0.00605,  1.07602 )","\t);","\tcolor = ACESInputMat * color;","\tcolor = RRTAndODTFit( color );","\tcolor = ACESOutputMat * color;","\treturn saturate( color );","}","void main() {","\tvec4 tex = texture2D( tDiffuse, vUv );","\ttex.rgb *= exposure / 0.6;","\tgl_FragColor = vec4( ACESFilmicToneMapping( tex.rgb ), tex.a );","}"].join("\n"),["void main() {","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["void main() {","\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 0.5 );","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 base = texture2D( tDiffuse, vUv );","\tvec3 lumCoeff = vec3( 0.25, 0.65, 0.1 );","\tfloat lum = dot( lumCoeff, base.rgb );","\tvec3 blend = vec3( lum );","\tfloat L = min( 1.0, max( 0.0, 10.0 * ( lum - 0.45 ) ) );","\tvec3 result1 = 2.0 * base.rgb * blend;","\tvec3 result2 = 1.0 - 2.0 * ( 1.0 - blend ) * ( 1.0 - base.rgb );","\tvec3 newColor = mix( result1, result2, L );","\tfloat A2 = opacity * base.a;","\tvec3 mixRGB = A2 * newColor.rgb;","\tmixRGB += ( ( 1.0 - A2 ) * base.rgb );","\tgl_FragColor = vec4( mixRGB, base.a );","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform float opacity;","uniform float mixRatio;","uniform sampler2D tDiffuse1;","uniform sampler2D tDiffuse2;","varying vec2 vUv;","void main() {","\tvec4 texel1 = texture2D( tDiffuse1, vUv );","\tvec4 texel2 = texture2D( tDiffuse2, vUv );","\tgl_FragColor = opacity * mix( texel1, texel2, mixRatio );","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float brightness;","uniform float contrast;","varying vec2 vUv;","void main() {","\tgl_FragColor = texture2D( tDiffuse, vUv );","\tgl_FragColor.rgb += brightness;","\tif (contrast > 0.0) {","\t\tgl_FragColor.rgb = (gl_FragColor.rgb - 0.5) / (1.0 - contrast) + 0.5;","\t} else {","\t\tgl_FragColor.rgb = (gl_FragColor.rgb - 0.5) * (1.0 + contrast) + 0.5;","\t}","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform vec3 powRGB;","uniform vec3 mulRGB;","uniform vec3 addRGB;","varying vec2 vUv;","void main() {","\tgl_FragColor = texture2D( tDiffuse, vUv );","\tgl_FragColor.rgb = mulRGB * pow( ( gl_FragColor.rgb + addRGB ), powRGB );","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tvec3 luma = vec3( 0.299, 0.587, 0.114 );","\tfloat v = dot( texel.xyz, luma );","\tgl_FragColor = vec4( v * color, texel.w );","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform float focus;","uniform float maxblur;","uniform sampler2D tColor;","uniform sampler2D tDepth;","varying vec2 vUv;","void main() {","\tvec4 depth = texture2D( tDepth, vUv );","\tfloat factor = depth.x - focus;","\tvec4 col = texture2D( tColor, vUv, 2.0 * maxblur * abs( focus - depth.x ) );","\tgl_FragColor = col;","\tgl_FragColor.a = 1.0;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["precision highp float;","","uniform sampler2D tDiffuse;","","uniform vec2 resolution;","","varying vec2 vUv;","","// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)","","//----------------------------------------------------------------------------------","// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag","// SDK Version: v3.00","// Email:       gameworks@nvidia.com","// Site:        http://developer.nvidia.com/","//","// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.","//","// Redistribution and use in source and binary forms, with or without","// modification, are permitted provided that the following conditions","// are met:","//  * Redistributions of source code must retain the above copyright","//    notice, this list of conditions and the following disclaimer.","//  * Redistributions in binary form must reproduce the above copyright","//    notice, this list of conditions and the following disclaimer in the","//    documentation and/or other materials provided with the distribution.","//  * Neither the name of NVIDIA CORPORATION nor the names of its","//    contributors may be used to endorse or promote products derived","//    from this software without specific prior written permission.","//","// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY","// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE","// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR","// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR","// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,","// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,","// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR","// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY","// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT","// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE","// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","//","//----------------------------------------------------------------------------------","","#define FXAA_PC 1","#define FXAA_GLSL_100 1","#define FXAA_QUALITY_PRESET 12","","#define FXAA_GREEN_AS_LUMA 1","","/*--------------------------------------------------------------------------*/","#ifndef FXAA_PC_CONSOLE","    //","    // The console algorithm for PC is included","    // for developers targeting really low spec machines.","    // Likely better to just run FXAA_PC, and use a really low preset.","    //","    #define FXAA_PC_CONSOLE 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_120","    #define FXAA_GLSL_120 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_130","    #define FXAA_GLSL_130 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_3","    #define FXAA_HLSL_3 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_4","    #define FXAA_HLSL_4 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_5","    #define FXAA_HLSL_5 0","#endif","/*==========================================================================*/","#ifndef FXAA_GREEN_AS_LUMA","    //","    // For those using non-linear color,","    // and either not able to get luma in alpha, or not wanting to,","    // this enables FXAA to run using green as a proxy for luma.","    // So with this enabled, no need to pack luma in alpha.","    //","    // This will turn off AA on anything which lacks some amount of green.","    // Pure red and blue or combination of only R and B, will get no AA.","    //","    // Might want to lower the settings for both,","    //    fxaaConsoleEdgeThresholdMin","    //    fxaaQualityEdgeThresholdMin","    // In order to insure AA does not get turned off on colors","    // which contain a minor amount of green.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_GREEN_AS_LUMA 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_EARLY_EXIT","    //","    // Controls algorithm's early exit path.","    // On PS3 turning this ON adds 2 cycles to the shader.","    // On 360 turning this OFF adds 10ths of a millisecond to the shader.","    // Turning this off on console will result in a more blurry image.","    // So this defaults to on.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_EARLY_EXIT 1","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_DISCARD","    //","    // Only valid for PC OpenGL currently.","    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.","    //","    // 1 = Use discard on pixels which don't need AA.","    //     For APIs which enable concurrent TEX+ROP from same surface.","    // 0 = Return unchanged color on pixels which don't need AA.","    //","    #define FXAA_DISCARD 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_FAST_PIXEL_OFFSET","    //","    // Used for GLSL 120 only.","    //","    // 1 = GL API supports fast pixel offsets","    // 0 = do not use fast pixel offsets","    //","    #ifdef GL_EXT_gpu_shader4","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifndef FXAA_FAST_PIXEL_OFFSET","        #define FXAA_FAST_PIXEL_OFFSET 0","    #endif","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GATHER4_ALPHA","    //","    // 1 = API supports gather4 on alpha channel.","    // 0 = API does not support gather4 on alpha channel.","    //","    #if (FXAA_HLSL_5 == 1)","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifndef FXAA_GATHER4_ALPHA","        #define FXAA_GATHER4_ALPHA 0","    #endif","#endif","","","/*============================================================================","                        FXAA QUALITY - TUNING KNOBS","------------------------------------------------------------------------------","NOTE the other tuning knobs are now in the shader function inputs!","============================================================================*/","#ifndef FXAA_QUALITY_PRESET","    //","    // Choose the quality preset.","    // This needs to be compiled into the shader as it effects code.","    // Best option to include multiple presets is to","    // in each shader define the preset, then include this file.","    //","    // OPTIONS","    // -----------------------------------------------------------------------","    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)","    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)","    // 39       - no dither, very expensive","    //","    // NOTES","    // -----------------------------------------------------------------------","    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)","    // 13 = about same speed as FXAA 3.9 and better than 12","    // 23 = closest to FXAA 3.9 visually and performance wise","    //  _ = the lowest digit is directly related to performance","    // _  = the highest digit is directly related to style","    //","    #define FXAA_QUALITY_PRESET 12","#endif","","","/*============================================================================","","                           FXAA QUALITY - PRESETS","","============================================================================*/","","/*============================================================================","                     FXAA QUALITY - MEDIUM DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 10)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 3.0","    #define FXAA_QUALITY_P2 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 11)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 3.0","    #define FXAA_QUALITY_P3 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 12)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 4.0","    #define FXAA_QUALITY_P4 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 13)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 4.0","    #define FXAA_QUALITY_P5 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 14)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 4.0","    #define FXAA_QUALITY_P6 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 15)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 12.0","#endif","","/*============================================================================","                     FXAA QUALITY - LOW DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 20)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 2.0","    #define FXAA_QUALITY_P2 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 21)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 22)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 23)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 24)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 3.0","    #define FXAA_QUALITY_P6 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 25)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 26)","    #define FXAA_QUALITY_PS 9","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 4.0","    #define FXAA_QUALITY_P8 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 27)","    #define FXAA_QUALITY_PS 10","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 4.0","    #define FXAA_QUALITY_P9 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 28)","    #define FXAA_QUALITY_PS 11","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 4.0","    #define FXAA_QUALITY_P10 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 29)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","/*============================================================================","                     FXAA QUALITY - EXTREME QUALITY","============================================================================*/","#if (FXAA_QUALITY_PRESET == 39)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.0","    #define FXAA_QUALITY_P2 1.0","    #define FXAA_QUALITY_P3 1.0","    #define FXAA_QUALITY_P4 1.0","    #define FXAA_QUALITY_P5 1.5","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","","","/*============================================================================","","                                API PORTING","","============================================================================*/","#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)","    #define FxaaBool bool","    #define FxaaDiscard discard","    #define FxaaFloat float","    #define FxaaFloat2 vec2","    #define FxaaFloat3 vec3","    #define FxaaFloat4 vec4","    #define FxaaHalf float","    #define FxaaHalf2 vec2","    #define FxaaHalf3 vec3","    #define FxaaHalf4 vec4","    #define FxaaInt2 ivec2","    #define FxaaSat(x) clamp(x, 0.0, 1.0)","    #define FxaaTex sampler2D","#else","    #define FxaaBool bool","    #define FxaaDiscard clip(-1)","    #define FxaaFloat float","    #define FxaaFloat2 float2","    #define FxaaFloat3 float3","    #define FxaaFloat4 float4","    #define FxaaHalf half","    #define FxaaHalf2 half2","    #define FxaaHalf3 half3","    #define FxaaHalf4 half4","    #define FxaaSat(x) saturate(x)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_100 == 1)","  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)","  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_120 == 1)","    // Requires,","    //  #version 120","    // And at least,","    //  #extension GL_EXT_gpu_shader4 : enable","    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)","    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)","    #if (FXAA_FAST_PIXEL_OFFSET == 1)","        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)","    #else","        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)","    #endif","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_130 == 1)",'    // Requires "#version 130" or better',"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)","    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_3 == 1)","    #define FxaaInt2 float2","    #define FxaaTex sampler2D","    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))","    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_4 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_5 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)","    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)","    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)","    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)","#endif","","","/*============================================================================","                   GREEN AS LUMA OPTION SUPPORT FUNCTION","============================================================================*/","#if (FXAA_GREEN_AS_LUMA == 0)","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }","#else","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }","#endif","","","","","/*============================================================================","","                             FXAA3 QUALITY - PC","","============================================================================*/","#if (FXAA_PC == 1)","/*--------------------------------------------------------------------------*/","FxaaFloat4 FxaaPixelShader(","    //","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy} = center of pixel","    FxaaFloat2 pos,","    //","    // Used only for FXAA Console, and not used on the 360 version.","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy_} = upper left of pixel","    // {_zw} = lower right of pixel","    FxaaFloat4 fxaaConsolePosPos,","    //","    // Input color texture.","    // {rgb_} = color in linear or perceptual color space","    // if (FXAA_GREEN_AS_LUMA == 0)","    //     {__a} = luma in perceptual color space (not linear)","    FxaaTex tex,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 2nd sampler.","    // This sampler needs to have an exponent bias of -1.","    FxaaTex fxaaConsole360TexExpBiasNegOne,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 3nd sampler.","    // This sampler needs to have an exponent bias of -2.","    FxaaTex fxaaConsole360TexExpBiasNegTwo,","    //","    // Only used on FXAA Quality.","    // This must be from a constant/uniform.","    // {x_} = 1.0/screenWidthInPixels","    // {_y} = 1.0/screenHeightInPixels","    FxaaFloat2 fxaaQualityRcpFrame,","    //","    // Only used on FXAA Console.","    // This must be from a constant/uniform.","    // This effects sub-pixel AA quality and inversely sharpness.","    //   Where N ranges between,","    //     N = 0.50 (default)","    //     N = 0.33 (sharper)","    // {x__} = -N/screenWidthInPixels","    // {_y_} = -N/screenHeightInPixels","    // {_z_} =  N/screenWidthInPixels","    // {__w} =  N/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt,","    //","    // Only used on FXAA Console.","    // Not used on 360, but used on PS3 and PC.","    // This must be from a constant/uniform.","    // {x__} = -2.0/screenWidthInPixels","    // {_y_} = -2.0/screenHeightInPixels","    // {_z_} =  2.0/screenWidthInPixels","    // {__w} =  2.0/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt2,","    //","    // Only used on FXAA Console.","    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.","    // This must be from a constant/uniform.","    // {x__} =  8.0/screenWidthInPixels","    // {_y_} =  8.0/screenHeightInPixels","    // {_z_} = -4.0/screenWidthInPixels","    // {__w} = -4.0/screenHeightInPixels","    FxaaFloat4 fxaaConsole360RcpFrameOpt2,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_SUBPIX define.","    // It is here now to allow easier tuning.","    // Choose the amount of sub-pixel aliasing removal.","    // This can effect sharpness.","    //   1.00 - upper limit (softer)","    //   0.75 - default amount of filtering","    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)","    //   0.25 - almost off","    //   0.00 - completely off","    FxaaFloat fxaaQualitySubpix,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // The minimum amount of local contrast required to apply algorithm.","    //   0.333 - too little (faster)","    //   0.250 - low quality","    //   0.166 - default","    //   0.125 - high quality","    //   0.063 - overkill (slower)","    FxaaFloat fxaaQualityEdgeThreshold,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    //   0.0833 - upper limit (default, the start of visible unfiltered edges)","    //   0.0625 - high quality (faster)","    //   0.0312 - visible limit (slower)","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaQualityEdgeThresholdMin,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only three safe values here: 2 and 4 and 8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // For all other platforms can be a non-power of two.","    //   8.0 is sharper (default!!!)","    //   4.0 is softer","    //   2.0 is really soft (good only for vector graphics inputs)","    FxaaFloat fxaaConsoleEdgeSharpness,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only two safe values here: 1/4 and 1/8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // The console setting has a different mapping than the quality setting.","    // Other platforms can use other values.","    //   0.125 leaves less aliasing, but is softer (default!!!)","    //   0.25 leaves more aliasing, and is sharper","    FxaaFloat fxaaConsoleEdgeThreshold,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    // The console setting has a different mapping than the quality setting.","    // This only applies when FXAA_EARLY_EXIT is 1.","    // This does not apply to PS3,","    // PS3 was simplified to avoid more shader instructions.","    //   0.06 - faster but more aliasing in darks","    //   0.05 - default","    //   0.04 - slower and less aliasing in darks","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaConsoleEdgeThresholdMin,","    //","    // Extra constants for 360 FXAA Console only.","    // Use zeros or anything else for other platforms.","    // These must be in physical constant registers and NOT immediates.","    // Immediates will result in compiler un-optimizing.","    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)","    FxaaFloat4 fxaaConsole360ConstDir",") {","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posM;","    posM.x = pos.x;","    posM.y = pos.y;","    #if (FXAA_GATHER4_ALPHA == 1)","        #if (FXAA_DISCARD == 0)","            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","            #if (FXAA_GREEN_AS_LUMA == 0)","                #define lumaM rgbyM.w","            #else","                #define lumaM rgbyM.y","            #endif","        #endif","        #if (FXAA_GREEN_AS_LUMA == 0)","            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));","        #else","            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));","        #endif","        #if (FXAA_DISCARD == 1)","            #define lumaM luma4A.w","        #endif","        #define lumaE luma4A.z","        #define lumaS luma4A.x","        #define lumaSE luma4A.y","        #define lumaNW luma4B.w","        #define lumaN luma4B.z","        #define lumaW luma4B.x","    #else","        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","        #if (FXAA_GREEN_AS_LUMA == 0)","            #define lumaM rgbyM.w","        #else","            #define lumaM rgbyM.y","        #endif","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));","        #endif","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat maxSM = max(lumaS, lumaM);","    FxaaFloat minSM = min(lumaS, lumaM);","    FxaaFloat maxESM = max(lumaE, maxSM);","    FxaaFloat minESM = min(lumaE, minSM);","    FxaaFloat maxWN = max(lumaN, lumaW);","    FxaaFloat minWN = min(lumaN, lumaW);","    FxaaFloat rangeMax = max(maxWN, maxESM);","    FxaaFloat rangeMin = min(minWN, minESM);","    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;","    FxaaFloat range = rangeMax - rangeMin;","    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);","    FxaaBool earlyExit = range < rangeMaxClamped;","/*--------------------------------------------------------------------------*/","    if(earlyExit)","        #if (FXAA_DISCARD == 1)","            FxaaDiscard;","        #else","            return rgbyM;","        #endif","/*--------------------------------------------------------------------------*/","    #if (FXAA_GATHER4_ALPHA == 0)","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","        #endif","    #else","        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));","        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNS = lumaN + lumaS;","    FxaaFloat lumaWE = lumaW + lumaE;","    FxaaFloat subpixRcpRange = 1.0/range;","    FxaaFloat subpixNSWE = lumaNS + lumaWE;","    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;","    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNESE = lumaNE + lumaSE;","    FxaaFloat lumaNWNE = lumaNW + lumaNE;","    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;","    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNWSW = lumaNW + lumaSW;","    FxaaFloat lumaSWSE = lumaSW + lumaSE;","    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);","    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);","    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;","    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;","    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;","    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;","/*--------------------------------------------------------------------------*/","    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;","    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;","    FxaaBool horzSpan = edgeHorz >= edgeVert;","    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;","/*--------------------------------------------------------------------------*/","    if(!horzSpan) lumaN = lumaW;","    if(!horzSpan) lumaS = lumaE;","    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;","    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;","/*--------------------------------------------------------------------------*/","    FxaaFloat gradientN = lumaN - lumaM;","    FxaaFloat gradientS = lumaS - lumaM;","    FxaaFloat lumaNN = lumaN + lumaM;","    FxaaFloat lumaSS = lumaS + lumaM;","    FxaaBool pairN = abs(gradientN) >= abs(gradientS);","    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));","    if(pairN) lengthSign = -lengthSign;","    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posB;","    posB.x = posM.x;","    posB.y = posM.y;","    FxaaFloat2 offNP;","    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;","    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;","    if(!horzSpan) posB.x += lengthSign * 0.5;","    if( horzSpan) posB.y += lengthSign * 0.5;","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posN;","    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;","    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;","    FxaaFloat2 posP;","    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;","    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;","    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;","    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));","    FxaaFloat subpixE = subpixC * subpixC;","    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));","/*--------------------------------------------------------------------------*/","    if(!pairN) lumaNN = lumaSS;","    FxaaFloat gradientScaled = gradient * 1.0/4.0;","    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;","    FxaaFloat subpixF = subpixD * subpixE;","    FxaaBool lumaMLTZero = lumaMM < 0.0;","/*--------------------------------------------------------------------------*/","    lumaEndN -= lumaNN * 0.5;","    lumaEndP -= lumaNN * 0.5;","    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;","    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;","    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;","    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;","    FxaaBool doneNP = (!doneN) || (!doneP);","    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;","    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;","/*--------------------------------------------------------------------------*/","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 3)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 4)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 5)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 6)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;","/*--------------------------------------------------------------------------*/","                        #if (FXAA_QUALITY_PS > 7)","                        if(doneNP) {","                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                            doneN = abs(lumaEndN) >= gradientScaled;","                            doneP = abs(lumaEndP) >= gradientScaled;","                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;","                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;","                            doneNP = (!doneN) || (!doneP);","                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;","                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;","/*--------------------------------------------------------------------------*/","    #if (FXAA_QUALITY_PS > 8)","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 9)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 10)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 11)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 12)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","    #endif","/*--------------------------------------------------------------------------*/","                        }","                        #endif","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","/*--------------------------------------------------------------------------*/","    FxaaFloat dstN = posM.x - posN.x;","    FxaaFloat dstP = posP.x - posM.x;","    if(!horzSpan) dstN = posM.y - posN.y;","    if(!horzSpan) dstP = posP.y - posM.y;","/*--------------------------------------------------------------------------*/","    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;","    FxaaFloat spanLength = (dstP + dstN);","    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;","    FxaaFloat spanLengthRcp = 1.0/spanLength;","/*--------------------------------------------------------------------------*/","    FxaaBool directionN = dstN < dstP;","    FxaaFloat dst = min(dstN, dstP);","    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;","    FxaaFloat subpixG = subpixF * subpixF;","    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;","    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;","/*--------------------------------------------------------------------------*/","    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;","    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);","    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;","    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;","    #if (FXAA_DISCARD == 1)","        return FxaaTexTop(tex, posM);","    #else","        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);","    #endif","}","/*==========================================================================*/","#endif","","void main() {","  gl_FragColor = FxaaPixelShader(","    vUv,","    vec4(0.0),","    tDiffuse,","    tDiffuse,","    tDiffuse,","    resolution,","    vec4(0.0),","    vec4(0.0),","    vec4(0.0),","    0.75,","    0.166,","    0.0833,","    0.0,","    0.0,","    0.0,","    vec4(0.0)","  );","","  // TODO avoid querying texture twice for same texel","  gl_FragColor.a = texture2D(tDiffuse, vUv).a;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform float screenWidth;","uniform float screenHeight;","uniform float sampleDistance;","uniform float waveFactor;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 color, org, tmp, add;","\tfloat sample_dist, f;","\tvec2 vin;","\tvec2 uv = vUv;","\tadd = color = org = texture2D( tDiffuse, uv );","\tvin = ( uv - vec2( 0.5 ) ) * vec2( 1.4 );","\tsample_dist = dot( vin, vin ) * 2.0;","\tf = ( waveFactor * 100.0 + sample_dist ) * sampleDistance * 4.0;","\tvec2 sampleSize = vec2(  1.0 / screenWidth, 1.0 / screenHeight ) * vec2( f );","\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.111964, 0.993712 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.846724, 0.532032 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.943883, -0.330279 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.330279, -0.943883 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( -0.532032, -0.846724 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( -0.993712, -0.111964 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( -0.707107, 0.707107 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tcolor = color * vec4( 2.0 ) - ( add / vec4( 8.0 ) );","\tcolor = color + ( add / vec4( 8.0 ) - color ) * ( vec4( 1.0 ) - vec4( sample_dist * 0.5 ) );","\tgl_FragColor = vec4( color.rgb * color.rgb * vec3( 0.95 ) + color.rgb, 1.0 );","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","varying vec2 vUv;","uniform vec2 aspect;","vec2 texel = vec2(1.0 / aspect.x, 1.0 / aspect.y);","mat3 G[9];","const mat3 g0 = mat3( 0.3535533845424652, 0, -0.3535533845424652, 0.5, 0, -0.5, 0.3535533845424652, 0, -0.3535533845424652 );","const mat3 g1 = mat3( 0.3535533845424652, 0.5, 0.3535533845424652, 0, 0, 0, -0.3535533845424652, -0.5, -0.3535533845424652 );","const mat3 g2 = mat3( 0, 0.3535533845424652, -0.5, -0.3535533845424652, 0, 0.3535533845424652, 0.5, -0.3535533845424652, 0 );","const mat3 g3 = mat3( 0.5, -0.3535533845424652, 0, -0.3535533845424652, 0, 0.3535533845424652, 0, 0.3535533845424652, -0.5 );","const mat3 g4 = mat3( 0, -0.5, 0, 0.5, 0, 0.5, 0, -0.5, 0 );","const mat3 g5 = mat3( -0.5, 0, 0.5, 0, 0, 0, 0.5, 0, -0.5 );","const mat3 g6 = mat3( 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.6666666865348816, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204 );","const mat3 g7 = mat3( -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, 0.6666666865348816, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408 );","const mat3 g8 = mat3( 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408 );","void main(void)","{","\tG[0] = g0,","\tG[1] = g1,","\tG[2] = g2,","\tG[3] = g3,","\tG[4] = g4,","\tG[5] = g5,","\tG[6] = g6,","\tG[7] = g7,","\tG[8] = g8;","\tmat3 I;","\tfloat cnv[9];","\tvec3 sample;","\tfor (float i=0.0; i<3.0; i++) {","\t\tfor (float j=0.0; j<3.0; j++) {","\t\t\tsample = texture2D(tDiffuse, vUv + texel * vec2(i-1.0,j-1.0) ).rgb;","\t\t\tI[int(i)][int(j)] = length(sample);","\t\t}","\t}","\tfor (int i=0; i<9; i++) {","\t\tfloat dp3 = dot(G[i][0], I[0]) + dot(G[i][1], I[1]) + dot(G[i][2], I[2]);","\t\tcnv[i] = dp3 * dp3;","\t}","\tfloat M = (cnv[0] + cnv[1]) + (cnv[2] + cnv[3]);","\tfloat S = (cnv[4] + cnv[5]) + (cnv[6] + cnv[7]) + (cnv[8] + M);","\tgl_FragColor = vec4(vec3(sqrt(M/S)), 1.0);","}"].join("\n"),["uniform float mRefractionRatio;","uniform float mFresnelBias;","uniform float mFresnelScale;","uniform float mFresnelPower;","varying vec3 vReflect;","varying vec3 vRefract[3];","varying float vReflectionFactor;","void main() {","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvec3 worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );","\tvec3 I = worldPosition.xyz - cameraPosition;","\tvReflect = reflect( I, worldNormal );","\tvRefract[0] = refract( normalize( I ), worldNormal, mRefractionRatio );","\tvRefract[1] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.99 );","\tvRefract[2] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.98 );","\tvReflectionFactor = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( I ), worldNormal ), mFresnelPower );","\tgl_Position = projectionMatrix * mvPosition;","}"].join("\n"),["uniform samplerCube tCube;","varying vec3 vReflect;","varying vec3 vRefract[3];","varying float vReflectionFactor;","void main() {","\tvec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","\tvec4 refractedColor = vec4( 1.0 );","\trefractedColor.r = textureCube( tCube, vec3( -vRefract[0].x, vRefract[0].yz ) ).r;","\trefractedColor.g = textureCube( tCube, vec3( -vRefract[1].x, vRefract[1].yz ) ).g;","\trefractedColor.b = textureCube( tCube, vec3( -vRefract[2].x, vRefract[2].yz ) ).b;","\tgl_FragColor = mix( refractedColor, reflectedColor, clamp( vReflectionFactor, 0.0, 1.0 ) );","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 tex = texture2D( tDiffuse, vUv );","\tgl_FragColor = LinearTosRGB( tex );","}"].join("\n"),["varying vec2 vUv;","void main() {"," vUv = uv;"," gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["varying vec2 vUv;","uniform sampler2D tInput;","void main() {","\tgl_FragColor = vec4( 1.0 ) - texture2D( tInput, vUv );","}"].join("\n"),["varying vec2 vUv;","void main() {"," vUv = uv;"," gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["#define TAPS_PER_PASS 6.0","varying vec2 vUv;","uniform sampler2D tInput;","uniform vec3 vSunPositionScreenSpace;","uniform float fStepSize;","void main() {","\tvec2 delta = vSunPositionScreenSpace.xy - vUv;","\tfloat dist = length( delta );","\tvec2 stepv = fStepSize * delta / dist;","\tfloat iters = dist/fStepSize;","\tvec2 uv = vUv.xy;","\tfloat col = 0.0;","\tfloat f = min( 1.0, max( vSunPositionScreenSpace.z / 1000.0, 0.0 ) );","\tif ( 0.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;","\tuv += stepv;","\tif ( 1.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;","\tuv += stepv;","\tif ( 2.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;","\tuv += stepv;","\tif ( 3.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;","\tuv += stepv;","\tif ( 4.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;","\tuv += stepv;","\tif ( 5.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;","\tuv += stepv;","\tgl_FragColor = vec4( col/TAPS_PER_PASS );","\tgl_FragColor.a = 1.0;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["varying vec2 vUv;","uniform sampler2D tColors;","uniform sampler2D tGodRays;","uniform float fGodRayIntensity;","void main() {","\tgl_FragColor = texture2D( tColors, vUv ) + fGodRayIntensity * vec4( 1.0 - texture2D( tGodRays, vUv ).r );","\tgl_FragColor.a = 1.0;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["varying vec2 vUv;","uniform vec3 vSunPositionScreenSpace;","uniform float fAspect;","uniform vec3 sunColor;","uniform vec3 bgColor;","void main() {","\tvec2 diff = vUv - vSunPositionScreenSpace.xy;","\tdiff.x *= fAspect;","\tfloat prop = clamp( length( diff ) / 0.5, 0.0, 1.0 );","\tprop = 0.35 * pow( 1.0 - prop, 3.0 );","\tgl_FragColor.xyz = ( vSunPositionScreenSpace.z > 0.0 ) ? mix( sunColor, bgColor, 1.0 - prop ) : bgColor;","\tgl_FragColor.w = 1.0;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float h;","uniform float r;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tfloat hh = h * abs( r - vUv.y );","\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * hh, vUv.y ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * hh, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * hh, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * hh, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * hh, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * hh, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * hh, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * hh, vUv.y ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float hue;","uniform float saturation;","varying vec2 vUv;","void main() {","\tgl_FragColor = texture2D( tDiffuse, vUv );","\tfloat angle = hue * 3.14159265;","\tfloat s = sin(angle), c = cos(angle);","\tvec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;","\tfloat len = length(gl_FragColor.rgb);","\tgl_FragColor.rgb = vec3(","\t\tdot(gl_FragColor.rgb, weights.xyz),","\t\tdot(gl_FragColor.rgb, weights.zxy),","\t\tdot(gl_FragColor.rgb, weights.yzx)","\t);","\tfloat average = (gl_FragColor.r + gl_FragColor.g + gl_FragColor.b) / 3.0;","\tif (saturation > 0.0) {","\t\tgl_FragColor.rgb += (average - gl_FragColor.rgb) * (1.0 - 1.0 / (1.001 - saturation));","\t} else {","\t\tgl_FragColor.rgb += (average - gl_FragColor.rgb) * (-saturation);","\t}","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float sides;","uniform float angle;","varying vec2 vUv;","void main() {","\tvec2 p = vUv - 0.5;","\tfloat r = length(p);","\tfloat a = atan(p.y, p.x) + angle;","\tfloat tau = 2. * 3.1416 ;","\ta = mod(a, tau/sides);","\ta = abs(a - tau/sides/2.) ;","\tp = r * vec2(cos(a), sin(a));","\tvec4 color = texture2D(tDiffuse, p + 0.5);","\tgl_FragColor = color;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform int side;","varying vec2 vUv;","void main() {","\tvec2 p = vUv;","\tif (side == 0){","\t\tif (p.x > 0.5) p.x = 1.0 - p.x;","\t}else if (side == 1){","\t\tif (p.x < 0.5) p.x = 1.0 - p.x;","\t}else if (side == 2){","\t\tif (p.y < 0.5) p.y = 1.0 - p.y;","\t}else if (side == 3){","\t\tif (p.y > 0.5) p.y = 1.0 - p.y;","\t} ","\tvec4 color = texture2D(tDiffuse, p);","\tgl_FragColor = color;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform float height;","uniform vec2 resolution;","uniform sampler2D heightMap;","varying vec2 vUv;","void main() {","\tfloat val = texture2D( heightMap, vUv ).x;","\tfloat valU = texture2D( heightMap, vUv + vec2( 1.0 / resolution.x, 0.0 ) ).x;","\tfloat valV = texture2D( heightMap, vUv + vec2( 0.0, 1.0 / resolution.y ) ).x;","\tgl_FragColor = vec4( ( 0.5 * normalize( vec3( val - valU, val - valV, height  ) ) + 0.5 ), 1.0 );","}"].join("\n"),["varying vec2 vUv;","varying vec3 vViewPosition;","varying vec3 vNormal;","void main() {","\tvUv = uv;","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tvViewPosition = -mvPosition.xyz;","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * mvPosition;","}"].join("\n"),["uniform sampler2D bumpMap;","uniform sampler2D map;","uniform float parallaxScale;","uniform float parallaxMinLayers;","uniform float parallaxMaxLayers;","varying vec2 vUv;","varying vec3 vViewPosition;","varying vec3 vNormal;","#ifdef USE_BASIC_PARALLAX","\tvec2 parallaxMap( in vec3 V ) {","\t\tfloat initialHeight = texture2D( bumpMap, vUv ).r;","\t\tvec2 texCoordOffset = parallaxScale * V.xy * initialHeight;","\t\treturn vUv - texCoordOffset;","\t}","#else","\tvec2 parallaxMap( in vec3 V ) {","\t\tfloat numLayers = mix( parallaxMaxLayers, parallaxMinLayers, abs( dot( vec3( 0.0, 0.0, 1.0 ), V ) ) );","\t\tfloat layerHeight = 1.0 / numLayers;","\t\tfloat currentLayerHeight = 0.0;","\t\tvec2 dtex = parallaxScale * V.xy / V.z / numLayers;","\t\tvec2 currentTextureCoords = vUv;","\t\tfloat heightFromTexture = texture2D( bumpMap, currentTextureCoords ).r;","\t\tfor ( int i = 0; i < 30; i += 1 ) {","\t\t\tif ( heightFromTexture <= currentLayerHeight ) {","\t\t\t\tbreak;","\t\t\t}","\t\t\tcurrentLayerHeight += layerHeight;","\t\t\tcurrentTextureCoords -= dtex;","\t\t\theightFromTexture = texture2D( bumpMap, currentTextureCoords ).r;","\t\t}","\t\t#ifdef USE_STEEP_PARALLAX","\t\t\treturn currentTextureCoords;","\t\t#elif defined( USE_RELIEF_PARALLAX )","\t\t\tvec2 deltaTexCoord = dtex / 2.0;","\t\t\tfloat deltaHeight = layerHeight / 2.0;","\t\t\tcurrentTextureCoords += deltaTexCoord;","\t\t\tcurrentLayerHeight -= deltaHeight;","\t\t\tconst int numSearches = 5;","\t\t\tfor ( int i = 0; i < numSearches; i += 1 ) {","\t\t\t\tdeltaTexCoord /= 2.0;","\t\t\t\tdeltaHeight /= 2.0;","\t\t\t\theightFromTexture = texture2D( bumpMap, currentTextureCoords ).r;","\t\t\t\tif( heightFromTexture > currentLayerHeight ) {","\t\t\t\t\tcurrentTextureCoords -= deltaTexCoord;","\t\t\t\t\tcurrentLayerHeight += deltaHeight;","\t\t\t\t} else {","\t\t\t\t\tcurrentTextureCoords += deltaTexCoord;","\t\t\t\t\tcurrentLayerHeight -= deltaHeight;","\t\t\t\t}","\t\t\t}","\t\t\treturn currentTextureCoords;","\t\t#elif defined( USE_OCLUSION_PARALLAX )","\t\t\tvec2 prevTCoords = currentTextureCoords + dtex;","\t\t\tfloat nextH = heightFromTexture - currentLayerHeight;","\t\t\tfloat prevH = texture2D( bumpMap, prevTCoords ).r - currentLayerHeight + layerHeight;","\t\t\tfloat weight = nextH / ( nextH - prevH );","\t\t\treturn prevTCoords * weight + currentTextureCoords * ( 1.0 - weight );","\t\t#else","\t\t\treturn vUv;","\t\t#endif","\t}","#endif","vec2 perturbUv( vec3 surfPosition, vec3 surfNormal, vec3 viewPosition ) {","\tvec2 texDx = dFdx( vUv );","\tvec2 texDy = dFdy( vUv );","\tvec3 vSigmaX = dFdx( surfPosition );","\tvec3 vSigmaY = dFdy( surfPosition );","\tvec3 vR1 = cross( vSigmaY, surfNormal );","\tvec3 vR2 = cross( surfNormal, vSigmaX );","\tfloat fDet = dot( vSigmaX, vR1 );","\tvec2 vProjVscr = ( 1.0 / fDet ) * vec2( dot( vR1, viewPosition ), dot( vR2, viewPosition ) );","\tvec3 vProjVtex;","\tvProjVtex.xy = texDx * vProjVscr.x + texDy * vProjVscr.y;","\tvProjVtex.z = dot( surfNormal, viewPosition );","\treturn parallaxMap( vProjVtex );","}","void main() {","\tvec2 mapUv = perturbUv( -vViewPosition, normalize( vNormal ), normalize( vViewPosition ) );","\tgl_FragColor = texture2D( map, mapUv );","}"].join("\n"),["varying highp vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float pixelSize;","uniform vec2 resolution;","varying highp vec2 vUv;","void main(){","vec2 dxy = pixelSize / resolution;","vec2 coord = dxy * floor( vUv / dxy );","gl_FragColor = texture2D(tDiffuse, coord);","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float amount;","uniform float angle;","varying vec2 vUv;","void main() {","\tvec2 offset = amount * vec2( cos(angle), sin(angle));","\tvec4 cr = texture2D(tDiffuse, vUv + offset);","\tvec4 cga = texture2D(tDiffuse, vUv);","\tvec4 cb = texture2D(tDiffuse, vUv - offset);","\tgl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform float amount;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 color = texture2D( tDiffuse, vUv );","\tvec3 c = color.rgb;","\tcolor.r = dot( c, vec3( 1.0 - 0.607 * amount, 0.769 * amount, 0.189 * amount ) );","\tcolor.g = dot( c, vec3( 0.349 * amount, 1.0 - 0.314 * amount, 0.168 * amount ) );","\tcolor.b = dot( c, vec3( 0.272 * amount, 0.534 * amount, 1.0 - 0.869 * amount ) );","\tgl_FragColor = vec4( min( vec3( 1.0 ), color.rgb ), color.a );","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","\tvec2 texel = vec2( 1.0 / resolution.x, 1.0 / resolution.y );","\tconst mat3 Gx = mat3( -1, -2, -1, 0, 0, 0, 1, 2, 1 );","\tconst mat3 Gy = mat3( -1, 0, 1, -2, 0, 2, -1, 0, 1 );","\tfloat tx0y0 = texture2D( tDiffuse, vUv + texel * vec2( -1, -1 ) ).r;","\tfloat tx0y1 = texture2D( tDiffuse, vUv + texel * vec2( -1,  0 ) ).r;","\tfloat tx0y2 = texture2D( tDiffuse, vUv + texel * vec2( -1,  1 ) ).r;","\tfloat tx1y0 = texture2D( tDiffuse, vUv + texel * vec2(  0, -1 ) ).r;","\tfloat tx1y1 = texture2D( tDiffuse, vUv + texel * vec2(  0,  0 ) ).r;","\tfloat tx1y2 = texture2D( tDiffuse, vUv + texel * vec2(  0,  1 ) ).r;","\tfloat tx2y0 = texture2D( tDiffuse, vUv + texel * vec2(  1, -1 ) ).r;","\tfloat tx2y1 = texture2D( tDiffuse, vUv + texel * vec2(  1,  0 ) ).r;","\tfloat tx2y2 = texture2D( tDiffuse, vUv + texel * vec2(  1,  1 ) ).r;","\tfloat valueGx = Gx[0][0] * tx0y0 + Gx[1][0] * tx1y0 + Gx[2][0] * tx2y0 + ","\t\tGx[0][1] * tx0y1 + Gx[1][1] * tx1y1 + Gx[2][1] * tx2y1 + ","\t\tGx[0][2] * tx0y2 + Gx[1][2] * tx1y2 + Gx[2][2] * tx2y2; ","\tfloat valueGy = Gy[0][0] * tx0y0 + Gy[1][0] * tx1y0 + Gy[2][0] * tx2y0 + ","\t\tGy[0][1] * tx0y1 + Gy[1][1] * tx1y1 + Gy[2][1] * tx2y1 + ","\t\tGy[0][2] * tx0y2 + Gy[1][2] * tx1y2 + Gy[2][2] * tx2y2; ","\tfloat G = sqrt( ( valueGx * valueGx ) + ( valueGy * valueGy ) );","\tgl_FragColor = vec4( vec3( G ), 1 );","}"].join("\n");["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 tex = texture2D( tDiffuse, vec2( vUv.x, vUv.y ) );","\tvec4 newTex = vec4(tex.r, (tex.g + tex.b) * .5, (tex.g + tex.b) * .5, 1.0);","\tgl_FragColor = newTex;","}"].join("\n"),["varying vec3 vNormal;","varying vec3 vRefract;","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tvec3 worldNormal = normalize ( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );","\tvNormal = normalize( normalMatrix * normal );","\tvec3 I = worldPosition.xyz - cameraPosition;","\tvRefract = refract( normalize( I ), worldNormal, 1.02 );","\tgl_Position = projectionMatrix * mvPosition;","}"].join("\n"),["uniform vec3 uBaseColor;","uniform vec3 uDirLightPos;","uniform vec3 uDirLightColor;","uniform vec3 uAmbientLightColor;","varying vec3 vNormal;","varying vec3 vRefract;","void main() {","\tfloat directionalLightWeighting = max( dot( normalize( vNormal ), uDirLightPos ), 0.0);","\tvec3 lightWeighting = uAmbientLightColor + uDirLightColor * directionalLightWeighting;","\tfloat intensity = smoothstep( - 0.5, 1.0, pow( length(lightWeighting), 20.0 ) );","\tintensity += length(lightWeighting) * 0.2;","\tfloat cameraWeighting = dot( normalize( vNormal ), vRefract );","\tintensity += pow( 1.0 - length( cameraWeighting ), 6.0 );","\tintensity = intensity * 0.2 + 0.3;","\tif ( intensity < 0.50 ) {","\t\tgl_FragColor = vec4( 2.0 * intensity * uBaseColor, 1.0 );","\t} else {","\t\tgl_FragColor = vec4( 1.0 - 2.0 * ( 1.0 - intensity ) * ( 1.0 - uBaseColor ), 1.0 );","}","}"].join("\n"),["varying vec3 vNormal;","void main() {","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tvNormal = normalize( normalMatrix * normal );","}"].join("\n"),["uniform vec3 uBaseColor;","uniform vec3 uLineColor1;","uniform vec3 uLineColor2;","uniform vec3 uLineColor3;","uniform vec3 uLineColor4;","uniform vec3 uDirLightPos;","uniform vec3 uDirLightColor;","uniform vec3 uAmbientLightColor;","varying vec3 vNormal;","void main() {","\tfloat camera = max( dot( normalize( vNormal ), vec3( 0.0, 0.0, 1.0 ) ), 0.4);","\tfloat light = max( dot( normalize( vNormal ), uDirLightPos ), 0.0);","\tgl_FragColor = vec4( uBaseColor, 1.0 );","\tif ( length(uAmbientLightColor + uDirLightColor * light) < 1.00 ) {","\t\tgl_FragColor *= vec4( uLineColor1, 1.0 );","\t}","\tif ( length(uAmbientLightColor + uDirLightColor * camera) < 0.50 ) {","\t\tgl_FragColor *= vec4( uLineColor2, 1.0 );","\t}","}"].join("\n"),["varying vec3 vNormal;","void main() {","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tvNormal = normalize( normalMatrix * normal );","}"].join("\n"),["uniform vec3 uBaseColor;","uniform vec3 uLineColor1;","uniform vec3 uLineColor2;","uniform vec3 uLineColor3;","uniform vec3 uLineColor4;","uniform vec3 uDirLightPos;","uniform vec3 uDirLightColor;","uniform vec3 uAmbientLightColor;","varying vec3 vNormal;","void main() {","\tfloat directionalLightWeighting = max( dot( normalize(vNormal), uDirLightPos ), 0.0);","\tvec3 lightWeighting = uAmbientLightColor + uDirLightColor * directionalLightWeighting;","\tgl_FragColor = vec4( uBaseColor, 1.0 );","\tif ( length(lightWeighting) < 1.00 ) {","\t\tif ( mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {","\t\t\tgl_FragColor = vec4( uLineColor1, 1.0 );","\t\t}","\t}","\tif ( length(lightWeighting) < 0.75 ) {","\t\tif (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {","\t\t\tgl_FragColor = vec4( uLineColor2, 1.0 );","\t\t}","\t}","\tif ( length(lightWeighting) < 0.50 ) {","\t\tif (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {","\t\t\tgl_FragColor = vec4( uLineColor3, 1.0 );","\t\t}","\t}","\tif ( length(lightWeighting) < 0.3465 ) {","\t\tif (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {","\t\t\tgl_FragColor = vec4( uLineColor4, 1.0 );","\t}","\t}","}"].join("\n"),["varying vec3 vNormal;","void main() {","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tvNormal = normalize( normalMatrix * normal );","}"].join("\n"),["uniform vec3 uBaseColor;","uniform vec3 uLineColor1;","uniform vec3 uLineColor2;","uniform vec3 uLineColor3;","uniform vec3 uLineColor4;","uniform vec3 uDirLightPos;","uniform vec3 uDirLightColor;","uniform vec3 uAmbientLightColor;","varying vec3 vNormal;","void main() {","float directionalLightWeighting = max( dot( normalize(vNormal), uDirLightPos ), 0.0);","vec3 lightWeighting = uAmbientLightColor + uDirLightColor * directionalLightWeighting;","gl_FragColor = vec4( uBaseColor, 1.0 );","if ( length(lightWeighting) < 1.00 ) {","\t\tif ( ( mod(gl_FragCoord.x, 4.001) + mod(gl_FragCoord.y, 4.0) ) > 6.00 ) {","\t\t\tgl_FragColor = vec4( uLineColor1, 1.0 );","\t\t}","\t}","\tif ( length(lightWeighting) < 0.50 ) {","\t\tif ( ( mod(gl_FragCoord.x + 2.0, 4.001) + mod(gl_FragCoord.y + 2.0, 4.0) ) > 6.00 ) {","\t\t\tgl_FragColor = vec4( uLineColor1, 1.0 );","\t\t}","\t}","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["#include <common>","#define ITERATIONS 10.0","uniform sampler2D texture;","uniform vec2 delta;","varying vec2 vUv;","void main() {","\tvec4 color = vec4( 0.0 );","\tfloat total = 0.0;","\tfloat offset = rand( vUv );","\tfor ( float t = -ITERATIONS; t <= ITERATIONS; t ++ ) {","\t\tfloat percent = ( t + offset - 0.5 ) / ITERATIONS;","\t\tfloat weight = 1.0 - abs( percent );","\t\tcolor += texture2D( texture, vUv + delta * percent ) * weight;","\t\ttotal += weight;","\t}","\tgl_FragColor = color / total;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float v;","uniform float r;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tfloat vv = v * abs( r - vUv.y );","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * vv ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * vv ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * vv ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * vv ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * vv ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * vv ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * vv ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * vv ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform float offset;","uniform float darkness;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tvec2 uv = ( vUv - vec2( 0.5 ) ) * vec2( offset );","\tgl_FragColor = vec4( mix( texel.rgb, vec3( 1.0 - darkness ), dot( uv, uv ) ), texel.a );","}"].join("\n"),["\t\tvarying vec4 v_nearpos;","\t\tvarying vec4 v_farpos;","\t\tvarying vec3 v_position;","\t\tvoid main() {","\t\t\t\tmat4 viewtransformf = modelViewMatrix;","\t\t\t\tmat4 viewtransformi = inverse(modelViewMatrix);","\t\t\t\tvec4 position4 = vec4(position, 1.0);","\t\t\t\tvec4 pos_in_cam = viewtransformf * position4;","\t\t\t\tpos_in_cam.z = -pos_in_cam.w;","\t\t\t\tv_nearpos = viewtransformi * pos_in_cam;","\t\t\t\tpos_in_cam.z = pos_in_cam.w;","\t\t\t\tv_farpos = viewtransformi * pos_in_cam;","\t\t\t\tv_position = position;","\t\t\t\tgl_Position = projectionMatrix * viewMatrix * modelMatrix * position4;","\t\t}"].join("\n"),["\t\tprecision highp float;","\t\tprecision mediump sampler3D;","\t\tuniform vec3 u_size;","\t\tuniform int u_renderstyle;","\t\tuniform float u_renderthreshold;","\t\tuniform vec2 u_clim;","\t\tuniform sampler3D u_data;","\t\tuniform sampler2D u_cmdata;","\t\tvarying vec3 v_position;","\t\tvarying vec4 v_nearpos;","\t\tvarying vec4 v_farpos;","\t\tconst int MAX_STEPS = 887;\t// 887 for 512^3, 1774 for 1024^3","\t\tconst int REFINEMENT_STEPS = 4;","\t\tconst float relative_step_size = 1.0;","\t\tconst vec4 ambient_color = vec4(0.2, 0.4, 0.2, 1.0);","\t\tconst vec4 diffuse_color = vec4(0.8, 0.2, 0.2, 1.0);","\t\tconst vec4 specular_color = vec4(1.0, 1.0, 1.0, 1.0);","\t\tconst float shininess = 40.0;","\t\tvoid cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);","\t\tvoid cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);","\t\tfloat sample1(vec3 texcoords);","\t\tvec4 apply_colormap(float val);","\t\tvec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray);","\t\tvoid main() {","\t\t\t\tvec3 farpos = v_farpos.xyz / v_farpos.w;","\t\t\t\tvec3 nearpos = v_nearpos.xyz / v_nearpos.w;","\t\t\t\tvec3 view_ray = normalize(nearpos.xyz - farpos.xyz);","\t\t\t\tfloat distance = dot(nearpos - v_position, view_ray);","\t\t\t\tdistance = max(distance, min((-0.5 - v_position.x) / view_ray.x,","\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(u_size.x - 0.5 - v_position.x) / view_ray.x));","\t\t\t\tdistance = max(distance, min((-0.5 - v_position.y) / view_ray.y,","\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(u_size.y - 0.5 - v_position.y) / view_ray.y));","\t\t\t\tdistance = max(distance, min((-0.5 - v_position.z) / view_ray.z,","\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(u_size.z - 0.5 - v_position.z) / view_ray.z));","\t\t\t\tvec3 front = v_position + view_ray * distance;","\t\t\t\tint nsteps = int(-distance / relative_step_size + 0.5);","\t\t\t\tif ( nsteps < 1 )","\t\t\t\t\t\tdiscard;","\t\t\t\tvec3 step = ((v_position - front) / u_size) / float(nsteps);","\t\t\t\tvec3 start_loc = front / u_size;","\t\t\t\tif (u_renderstyle == 0)","\t\t\t\t\t\tcast_mip(start_loc, step, nsteps, view_ray);","\t\t\t\telse if (u_renderstyle == 1)","\t\t\t\t\t\tcast_iso(start_loc, step, nsteps, view_ray);","\t\t\t\tif (gl_FragColor.a < 0.05)","\t\t\t\t\t\tdiscard;","\t\t}","\t\tfloat sample1(vec3 texcoords) {","\t\t\t\t/* Sample float value from a 3D texture. Assumes intensity data. */","\t\t\t\treturn texture(u_data, texcoords.xyz).r;","\t\t}","\t\tvec4 apply_colormap(float val) {","\t\t\t\tval = (val - u_clim[0]) / (u_clim[1] - u_clim[0]);","\t\t\t\treturn texture2D(u_cmdata, vec2(val, 0.5));","\t\t}","\t\tvoid cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {","\t\t\t\tfloat max_val = -1e6;","\t\t\t\tint max_i = 100;","\t\t\t\tvec3 loc = start_loc;","\t\t\t\tfor (int iter=0; iter<MAX_STEPS; iter++) {","\t\t\t\t\t\tif (iter >= nsteps)","\t\t\t\t\t\t\t\tbreak;","\t\t\t\t\t\tfloat val = sample1(loc);","\t\t\t\t\t\tif (val > max_val) {","\t\t\t\t\t\t\t\tmax_val = val;","\t\t\t\t\t\t\t\tmax_i = iter;","\t\t\t\t\t\t}","\t\t\t\t\t\tloc += step;","\t\t\t\t}","\t\t\t\tvec3 iloc = start_loc + step * (float(max_i) - 0.5);","\t\t\t\tvec3 istep = step / float(REFINEMENT_STEPS);","\t\t\t\tfor (int i=0; i<REFINEMENT_STEPS; i++) {","\t\t\t\t\t\tmax_val = max(max_val, sample1(iloc));","\t\t\t\t\t\tiloc += istep;","\t\t\t\t}","\t\t\t\tgl_FragColor = apply_colormap(max_val);","\t\t}","\t\tvoid cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {","\t\t\t\tgl_FragColor = vec4(0.0);\t// init transparent","\t\t\t\tvec4 color3 = vec4(0.0);\t// final color","\t\t\t\tvec3 dstep = 1.5 / u_size;\t// step to sample derivative","\t\t\t\tvec3 loc = start_loc;","\t\t\t\tfloat low_threshold = u_renderthreshold - 0.02 * (u_clim[1] - u_clim[0]);","\t\t\t\tfor (int iter=0; iter<MAX_STEPS; iter++) {","\t\t\t\t\t\tif (iter >= nsteps)","\t\t\t\t\t\t\t\tbreak;","\t\t\t\t\t\tfloat val = sample1(loc);","\t\t\t\t\t\tif (val > low_threshold) {","\t\t\t\t\t\t\t\tvec3 iloc = loc - 0.5 * step;","\t\t\t\t\t\t\t\tvec3 istep = step / float(REFINEMENT_STEPS);","\t\t\t\t\t\t\t\tfor (int i=0; i<REFINEMENT_STEPS; i++) {","\t\t\t\t\t\t\t\t\t\tval = sample1(iloc);","\t\t\t\t\t\t\t\t\t\tif (val > u_renderthreshold) {","\t\t\t\t\t\t\t\t\t\t\t\tgl_FragColor = add_lighting(val, iloc, dstep, view_ray);","\t\t\t\t\t\t\t\t\t\t\t\treturn;","\t\t\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t\t\t\tiloc += istep;","\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t\tloc += step;","\t\t\t\t}","\t\t}","\t\tvec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray)","\t\t{","\t\t\t\tvec3 V = normalize(view_ray);","\t\t\t\tvec3 N;","\t\t\t\tfloat val1, val2;","\t\t\t\tval1 = sample1(loc + vec3(-step[0], 0.0, 0.0));","\t\t\t\tval2 = sample1(loc + vec3(+step[0], 0.0, 0.0));","\t\t\t\tN[0] = val1 - val2;","\t\t\t\tval = max(max(val1, val2), val);","\t\t\t\tval1 = sample1(loc + vec3(0.0, -step[1], 0.0));","\t\t\t\tval2 = sample1(loc + vec3(0.0, +step[1], 0.0));","\t\t\t\tN[1] = val1 - val2;","\t\t\t\tval = max(max(val1, val2), val);","\t\t\t\tval1 = sample1(loc + vec3(0.0, 0.0, -step[2]));","\t\t\t\tval2 = sample1(loc + vec3(0.0, 0.0, +step[2]));","\t\t\t\tN[2] = val1 - val2;","\t\t\t\tval = max(max(val1, val2), val);","\t\t\t\tfloat gm = length(N); // gradient magnitude","\t\t\t\tN = normalize(N);","\t\t\t\tfloat Nselect = float(dot(N, V) > 0.0);","\t\t\t\tN = (2.0 * Nselect - 1.0) * N;\t// ==\tNselect * N - (1.0-Nselect)*N;","\t\t\t\tvec4 ambient_color = vec4(0.0, 0.0, 0.0, 0.0);","\t\t\t\tvec4 diffuse_color = vec4(0.0, 0.0, 0.0, 0.0);","\t\t\t\tvec4 specular_color = vec4(0.0, 0.0, 0.0, 0.0);","\t\t\t\tfor (int i=0; i<1; i++)","\t\t\t\t{","\t\t\t\t\t\tvec3 L = normalize(view_ray);\t//lightDirs[i];","\t\t\t\t\t\tfloat lightEnabled = float( length(L) > 0.0 );","\t\t\t\t\t\tL = normalize(L + (1.0 - lightEnabled));","\t\t\t\t\t\tfloat lambertTerm = clamp(dot(N, L), 0.0, 1.0);","\t\t\t\t\t\tvec3 H = normalize(L+V); // Halfway vector","\t\t\t\t\t\tfloat specularTerm = pow(max(dot(H, N), 0.0), shininess);","\t\t\t\t\t\tfloat mask1 = lightEnabled;","\t\t\t\t\t\tambient_color +=\tmask1 * ambient_color;\t// * gl_LightSource[i].ambient;","\t\t\t\t\t\tdiffuse_color +=\tmask1 * lambertTerm;","\t\t\t\t\t\tspecular_color += mask1 * specularTerm * specular_color;","\t\t\t\t}","\t\t\t\tvec4 final_color;","\t\t\t\tvec4 color = apply_colormap(val);","\t\t\t\tfinal_color = color * (ambient_color + diffuse_color) + specular_color;","\t\t\t\tfinal_color.a = color.a;","\t\t\t\treturn final_color;","\t\t}"].join("\n"),["uniform mat4 textureMatrix;","varying vec2 vUv;","varying vec4 vUvRefraction;","void main() {","\tvUv = uv;","\tvUvRefraction = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform vec3 color;","uniform float time;","uniform sampler2D tDiffuse;","uniform sampler2D tDudv;","varying vec2 vUv;","varying vec4 vUvRefraction;","float blendOverlay( float base, float blend ) {","\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","vec3 blendOverlay( vec3 base, vec3 blend ) {","\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ),blendOverlay( base.b, blend.b ) );","}","void main() {"," float waveStrength = 0.1;"," float waveSpeed = 0.03;","\tvec2 distortedUv = texture2D( tDudv, vec2( vUv.x + time * waveSpeed, vUv.y ) ).rg * waveStrength;","\tdistortedUv = vUv.xy + vec2( distortedUv.x, distortedUv.y + time * waveSpeed );","\tvec2 distortion = ( texture2D( tDudv, distortedUv ).rg * 2.0 - 1.0 ) * waveStrength;"," vec4 uv = vec4( vUvRefraction );"," uv.xy += distortion;","\tvec4 base = texture2DProj( tDiffuse, uv );","\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );","}"].join("\n");var dL=function(){function e(t){c(this,e),bP(this,"data"),this.data=t}return h(e,[{key:"generateShapes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],r=qn({letterSpacing:0,lineHeight:1},arguments.length>2?arguments[2]:void 0),i=function(e,t,n,r){for(var i=Array.from(e),a=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*a,s=[],u=0,l=0,c=0;c<i.length;c++){var A=i[c];if("\n"===A)u=0,l-=o*r.lineHeight;else{var f=hL(A,a,u,l,n);f&&(u+=f.offsetX+r.letterSpacing,s.push(f.path))}}return s}(e,t,this.data,r),a=0,o=i.length;a<o;a++)Array.prototype.push.apply(n,i[a].toShapes(!1));return n}}]),e}();function hL(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,u,l,c,A,f,d,h=new Hk;if(a.o)for(var p=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=p.length;v<g;){switch(p[v++]){case"m":o=parseInt(p[v++])*t+n,s=parseInt(p[v++])*t+r,h.moveTo(o,s);break;case"l":o=parseInt(p[v++])*t+n,s=parseInt(p[v++])*t+r,h.lineTo(o,s);break;case"q":u=parseInt(p[v++])*t+n,l=parseInt(p[v++])*t+r,c=parseInt(p[v++])*t+n,A=parseInt(p[v++])*t+r,h.quadraticCurveTo(c,A,u,l);break;case"b":u=parseInt(p[v++])*t+n,l=parseInt(p[v++])*t+r,c=parseInt(p[v++])*t+n,A=parseInt(p[v++])*t+r,f=parseInt(p[v++])*t+n,d=parseInt(p[v++])*t+r,h.bezierCurveTo(c,A,f,d,u,l)}}return{offsetX:a.ha*t,path:h}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}bP(dL,"isFont"),bP(dL,"type");var pL=function(e){v(n,e);var t=w(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return c(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Uv,e.minFilter=Uv,e.wrapR=Mv,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return h(n)}(Py),vL="object"==typeof global&&global&&global.Object===Object&&global,gL="object"==typeof self&&self&&self.Object===Object&&self,mL=vL||gL||Function("return this")(),yL=mL.Symbol,bL=Object.prototype,wL=bL.hasOwnProperty,xL=bL.toString,_L=yL?yL.toStringTag:void 0;var CL=Object.prototype.toString;var EL="[object Null]",SL="[object Undefined]",BL=yL?yL.toStringTag:void 0;function TL(e){return null==e?void 0===e?SL:EL:BL&&BL in Object(e)?function(e){var t=wL.call(e,_L),n=e[_L];try{e[_L]=void 0;var r=!0}catch(a){}var i=xL.call(e);return r&&(t?e[_L]=n:delete e[_L]),i}(e):function(e){return CL.call(e)}(e)}function IL(e){return null!=e&&"object"==typeof e}var kL="[object Symbol]";function ML(e){return"symbol"==typeof e||IL(e)&&TL(e)==kL}function RL(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var UL=Array.isArray,FL=1/0,OL=yL?yL.prototype:void 0,PL=OL?OL.toString:void 0;function DL(e){if("string"==typeof e)return e;if(UL(e))return RL(e,DL)+"";if(ML(e))return PL?PL.call(e):"";var t=e+"";return"0"==t&&1/e==-FL?"-0":t}var LL=/\s/;var NL=/^\s+/;function QL(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&LL.test(e.charAt(t)););return t}(e)+1).replace(NL,""):e}function HL(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var jL=NaN,zL=/^[-+]0x[0-9a-f]+$/i,GL=/^0b[01]+$/i,VL=/^0o[0-7]+$/i,WL=parseInt;var KL=1/0,XL=17976931348623157e292;function qL(e){return e?(e=function(e){if("number"==typeof e)return e;if(ML(e))return jL;if(HL(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=HL(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=QL(e);var n=GL.test(e);return n||VL.test(e)?WL(e.slice(2),n?2:8):zL.test(e)?jL:+e}(e))===KL||e===-KL?(e<0?-1:1)*XL:e===e?e:0:0===e?e:0}function YL(e){var t=qL(e),n=t%1;return t===t?n?t-n:t:0}function ZL(e){return e}var JL="[object AsyncFunction]",$L="[object Function]",eN="[object GeneratorFunction]",tN="[object Proxy]";function nN(e){if(!HL(e))return!1;var t=TL(e);return t==$L||t==eN||t==JL||t==tN}var rN=mL["__core-js_shared__"],iN=function(){var e=/[^.]+$/.exec(rN&&rN.keys&&rN.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var aN=Function.prototype.toString;function oN(e){if(null!=e){try{return aN.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var sN=/^\[object .+?Constructor\]$/,uN=Function.prototype,lN=Object.prototype,cN=uN.toString,AN=lN.hasOwnProperty,fN=RegExp("^"+cN.call(AN).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dN(e){return!(!HL(e)||(t=e,iN&&iN in t))&&(nN(e)?fN:sN).test(oN(e));var t}function hN(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return dN(n)?n:void 0}var pN=hN(mL,"WeakMap"),vN=Object.create,gN=function(){function e(){}return function(t){if(!HL(t))return{};if(vN)return vN(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function mN(){}var yN=Date.now;var bN=function(){try{var e=hN(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),wN=function(e){var t=0,n=0;return function(){var r=yN(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(bN?function(e,t){return bN(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:ZL),xN=wN;function _N(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function CN(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function EN(e){return e!==e}function SN(e,t,n){return t===t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):CN(e,EN,n)}function BN(e,t){return!!(null==e?0:e.length)&&SN(e,t,0)>-1}var TN=9007199254740991,IN=/^(?:0|[1-9]\d*)$/;function kN(e,t){var n=typeof e;return!!(t=null==t?TN:t)&&("number"==n||"symbol"!=n&&IN.test(e))&&e>-1&&e%1==0&&e<t}function MN(e,t,n){"__proto__"==t&&bN?bN(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function RN(e,t){return e===t||e!==e&&t!==t}var UN=Object.prototype.hasOwnProperty;function FN(e,t,n){var r=e[t];UN.call(e,t)&&RN(r,n)&&(void 0!==n||t in e)||MN(e,t,n)}function ON(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?MN(n,s,u):FN(n,s,u)}return n}var PN=Math.max;function DN(e,t){return xN(function(e,t,n){return t=PN(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=PN(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,ZL),e+"")}var LN=9007199254740991;function NN(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=LN}function QN(e){return null!=e&&NN(e.length)&&!nN(e)}function HN(e,t,n){if(!HL(n))return!1;var r=typeof t;return!!("number"==r?QN(n)&&kN(t,n.length):"string"==r&&t in n)&&RN(n[t],e)}var jN=Object.prototype;function zN(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||jN)}function GN(e){return IL(e)&&"[object Arguments]"==TL(e)}var VN=Object.prototype,WN=VN.hasOwnProperty,KN=VN.propertyIsEnumerable,XN=GN(function(){return arguments}())?GN:function(e){return IL(e)&&WN.call(e,"callee")&&!KN.call(e,"callee")},qN=XN;var YN="object"==typeof exports&&exports&&!exports.nodeType&&exports,ZN=YN&&"object"==typeof module&&module&&!module.nodeType&&module,JN=ZN&&ZN.exports===YN?mL.Buffer:void 0,$N=(JN?JN.isBuffer:void 0)||function(){return!1},eQ={};function tQ(e){return function(t){return e(t)}}eQ["[object Float32Array]"]=eQ["[object Float64Array]"]=eQ["[object Int8Array]"]=eQ["[object Int16Array]"]=eQ["[object Int32Array]"]=eQ["[object Uint8Array]"]=eQ["[object Uint8ClampedArray]"]=eQ["[object Uint16Array]"]=eQ["[object Uint32Array]"]=!0,eQ["[object Arguments]"]=eQ["[object Array]"]=eQ["[object ArrayBuffer]"]=eQ["[object Boolean]"]=eQ["[object DataView]"]=eQ["[object Date]"]=eQ["[object Error]"]=eQ["[object Function]"]=eQ["[object Map]"]=eQ["[object Number]"]=eQ["[object Object]"]=eQ["[object RegExp]"]=eQ["[object Set]"]=eQ["[object String]"]=eQ["[object WeakMap]"]=!1;var nQ="object"==typeof exports&&exports&&!exports.nodeType&&exports,rQ=nQ&&"object"==typeof module&&module&&!module.nodeType&&module,iQ=rQ&&rQ.exports===nQ&&vL.process,aQ=function(){try{var e=rQ&&rQ.require&&rQ.require("util").types;return e||iQ&&iQ.binding&&iQ.binding("util")}catch(t){}}(),oQ=aQ&&aQ.isTypedArray,sQ=oQ?tQ(oQ):function(e){return IL(e)&&NN(e.length)&&!!eQ[TL(e)]},uQ=Object.prototype.hasOwnProperty;function lQ(e,t){var n=UL(e),r=!n&&qN(e),i=!n&&!r&&$N(e),a=!n&&!r&&!i&&sQ(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var l in e)!t&&!uQ.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||kN(l,u))||s.push(l);return s}function cQ(e,t){return function(n){return e(t(n))}}var AQ=cQ(Object.keys,Object),fQ=Object.prototype.hasOwnProperty;function dQ(e){if(!zN(e))return AQ(e);var t=[];for(var n in Object(e))fQ.call(e,n)&&"constructor"!=n&&t.push(n);return t}function hQ(e){return QN(e)?lQ(e):dQ(e)}var pQ,vQ=Object.prototype.hasOwnProperty,gQ=(pQ=function(e,t){if(zN(t)||QN(t))ON(t,hQ(t),e);else for(var n in t)vQ.call(t,n)&&FN(e,n,t[n])},DN((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=pQ.length>3&&"function"==typeof i?(r--,i):void 0,a&&HN(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&pQ(e,o,n,i)}return e})));var mQ=Object.prototype.hasOwnProperty;function yQ(e){if(!HL(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=zN(e),n=[];for(var r in e)("constructor"!=r||!t&&mQ.call(e,r))&&n.push(r);return n}function bQ(e){return QN(e)?lQ(e,!0):yQ(e)}var wQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xQ=/^\w*$/;function _Q(e,t){if(UL(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ML(e))||(xQ.test(e)||!wQ.test(e)||null!=t&&e in Object(t))}var CQ=hN(Object,"create");var EQ=Object.prototype.hasOwnProperty;var SQ=Object.prototype.hasOwnProperty;function BQ(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function TQ(e,t){for(var n=e.length;n--;)if(RN(e[n][0],t))return n;return-1}BQ.prototype.clear=function(){this.__data__=CQ?CQ(null):{},this.size=0},BQ.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},BQ.prototype.get=function(e){var t=this.__data__;if(CQ){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return EQ.call(t,e)?t[e]:void 0},BQ.prototype.has=function(e){var t=this.__data__;return CQ?void 0!==t[e]:SQ.call(t,e)},BQ.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=CQ&&void 0===t?"__lodash_hash_undefined__":t,this};var IQ=Array.prototype.splice;function kQ(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kQ.prototype.clear=function(){this.__data__=[],this.size=0},kQ.prototype.delete=function(e){var t=this.__data__,n=TQ(t,e);return!(n<0)&&(n==t.length-1?t.pop():IQ.call(t,n,1),--this.size,!0)},kQ.prototype.get=function(e){var t=this.__data__,n=TQ(t,e);return n<0?void 0:t[n][1]},kQ.prototype.has=function(e){return TQ(this.__data__,e)>-1},kQ.prototype.set=function(e,t){var n=this.__data__,r=TQ(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var MQ=hN(mL,"Map");function RQ(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function UQ(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}UQ.prototype.clear=function(){this.size=0,this.__data__={hash:new BQ,map:new(MQ||kQ),string:new BQ}},UQ.prototype.delete=function(e){var t=RQ(this,e).delete(e);return this.size-=t?1:0,t},UQ.prototype.get=function(e){return RQ(this,e).get(e)},UQ.prototype.has=function(e){return RQ(this,e).has(e)},UQ.prototype.set=function(e,t){var n=RQ(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var FQ="Expected a function";function OQ(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(FQ);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(OQ.Cache||UQ),n}OQ.Cache=UQ;var PQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DQ=/\\(\\)?/g,LQ=function(e){var t=OQ(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(PQ,(function(e,n,r,i){t.push(r?i.replace(DQ,"$1"):n||e)})),t})),NQ=LQ;function QQ(e,t){return UL(e)?e:_Q(e,t)?[e]:NQ(function(e){return null==e?"":DL(e)}(e))}var HQ=1/0;function jQ(e){if("string"==typeof e||ML(e))return e;var t=e+"";return"0"==t&&1/e==-HQ?"-0":t}function zQ(e,t){for(var n=0,r=(t=QQ(t,e)).length;null!=e&&n<r;)e=e[jQ(t[n++])];return n&&n==r?e:void 0}function GQ(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var VQ=yL?yL.isConcatSpreadable:void 0;function WQ(e){return UL(e)||qN(e)||!!(VQ&&e&&e[VQ])}function KQ(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=WQ),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?KQ(s,t-1,n,r,i):GQ(i,s):r||(i[i.length]=s)}return i}function XQ(e){return(null==e?0:e.length)?KQ(e,1):[]}var qQ=cQ(Object.getPrototypeOf,Object);function YQ(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}function ZQ(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function JQ(e){var t=this.__data__=new kQ(e);this.size=t.size}JQ.prototype.clear=function(){this.__data__=new kQ,this.size=0},JQ.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},JQ.prototype.get=function(e){return this.__data__.get(e)},JQ.prototype.has=function(e){return this.__data__.has(e)},JQ.prototype.set=function(e,t){var n=this.__data__;if(n instanceof kQ){var r=n.__data__;if(!MQ||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new UQ(r)}return n.set(e,t),this.size=n.size,this};var $Q="object"==typeof exports&&exports&&!exports.nodeType&&exports,eH=$Q&&"object"==typeof module&&module&&!module.nodeType&&module,tH=eH&&eH.exports===$Q?mL.Buffer:void 0,nH=tH?tH.allocUnsafe:void 0;function rH(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function iH(){return[]}var aH=Object.prototype.propertyIsEnumerable,oH=Object.getOwnPropertySymbols,sH=oH?function(e){return null==e?[]:(e=Object(e),rH(oH(e),(function(t){return aH.call(e,t)})))}:iH;var uH=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)GQ(t,sH(e)),e=qQ(e);return t}:iH;function lH(e,t,n){var r=t(e);return UL(e)?r:GQ(r,n(e))}function cH(e){return lH(e,hQ,sH)}function AH(e){return lH(e,bQ,uH)}var fH=hN(mL,"DataView"),dH=hN(mL,"Promise"),hH=hN(mL,"Set"),pH="[object Map]",vH="[object Promise]",gH="[object Set]",mH="[object WeakMap]",yH="[object DataView]",bH=oN(fH),wH=oN(MQ),xH=oN(dH),_H=oN(hH),CH=oN(pN),EH=TL;(fH&&EH(new fH(new ArrayBuffer(1)))!=yH||MQ&&EH(new MQ)!=pH||dH&&EH(dH.resolve())!=vH||hH&&EH(new hH)!=gH||pN&&EH(new pN)!=mH)&&(EH=function(e){var t=TL(e),n="[object Object]"==t?e.constructor:void 0,r=n?oN(n):"";if(r)switch(r){case bH:return yH;case wH:return pH;case xH:return vH;case _H:return gH;case CH:return mH}return t});var SH=EH,BH=Object.prototype.hasOwnProperty;var TH=mL.Uint8Array;function IH(e){var t=new e.constructor(e.byteLength);return new TH(t).set(new TH(e)),t}var kH=/\w*$/;var MH=yL?yL.prototype:void 0,RH=MH?MH.valueOf:void 0;var UH="[object Boolean]",FH="[object Date]",OH="[object Map]",PH="[object Number]",DH="[object RegExp]",LH="[object Set]",NH="[object String]",QH="[object Symbol]",HH="[object ArrayBuffer]",jH="[object DataView]",zH="[object Float32Array]",GH="[object Float64Array]",VH="[object Int8Array]",WH="[object Int16Array]",KH="[object Int32Array]",XH="[object Uint8Array]",qH="[object Uint8ClampedArray]",YH="[object Uint16Array]",ZH="[object Uint32Array]";function JH(e,t,n){var r,i=e.constructor;switch(t){case HH:return IH(e);case UH:case FH:return new i(+e);case jH:return function(e,t){var n=t?IH(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case zH:case GH:case VH:case WH:case KH:case XH:case qH:case YH:case ZH:return function(e,t){var n=t?IH(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case OH:return new i;case PH:case NH:return new i(e);case DH:return function(e){var t=new e.constructor(e.source,kH.exec(e));return t.lastIndex=e.lastIndex,t}(e);case LH:return new i;case QH:return r=e,RH?Object(RH.call(r)):{}}}var $H=aQ&&aQ.isMap,ej=$H?tQ($H):function(e){return IL(e)&&"[object Map]"==SH(e)};var tj=aQ&&aQ.isSet,nj=tj?tQ(tj):function(e){return IL(e)&&"[object Set]"==SH(e)},rj=1,ij=2,aj=4,oj="[object Arguments]",sj="[object Function]",uj="[object GeneratorFunction]",lj="[object Object]",cj={};function Aj(e,t,n,r,i,a){var o,s=t&rj,u=t&ij,l=t&aj;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!HL(e))return e;var c=UL(e);if(c){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&BH.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,o)}else{var A=SH(e),f=A==sj||A==uj;if($N(e))return function(e,t){if(t)return e.slice();var n=e.length,r=nH?nH(n):new e.constructor(n);return e.copy(r),r}(e,s);if(A==lj||A==oj||f&&!i){if(o=u||f?{}:function(e){return"function"!=typeof e.constructor||zN(e)?{}:gN(qQ(e))}(e),!s)return u?function(e,t){return ON(e,uH(e),t)}(e,function(e,t){return e&&ON(t,bQ(t),e)}(o,e)):function(e,t){return ON(e,sH(e),t)}(e,function(e,t){return e&&ON(t,hQ(t),e)}(o,e))}else{if(!cj[A])return i?e:{};o=JH(e,A,s)}}a||(a=new JQ);var d=a.get(e);if(d)return d;a.set(e,o),nj(e)?e.forEach((function(r){o.add(Aj(r,t,n,r,e,a))})):ej(e)&&e.forEach((function(r,i){o.set(i,Aj(r,t,n,i,e,a))}));var h=c?void 0:(l?u?AH:cH:u?bQ:hQ)(e);return _N(h||e,(function(r,i){h&&(r=e[i=r]),FN(o,i,Aj(r,t,n,i,e,a))})),o}cj[oj]=cj["[object Array]"]=cj["[object ArrayBuffer]"]=cj["[object DataView]"]=cj["[object Boolean]"]=cj["[object Date]"]=cj["[object Float32Array]"]=cj["[object Float64Array]"]=cj["[object Int8Array]"]=cj["[object Int16Array]"]=cj["[object Int32Array]"]=cj["[object Map]"]=cj["[object Number]"]=cj[lj]=cj["[object RegExp]"]=cj["[object Set]"]=cj["[object String]"]=cj["[object Symbol]"]=cj["[object Uint8Array]"]=cj["[object Uint8ClampedArray]"]=cj["[object Uint16Array]"]=cj["[object Uint32Array]"]=!0,cj["[object Error]"]=cj[sj]=cj["[object WeakMap]"]=!1;var fj=4;function dj(e){return Aj(e,fj)}function hj(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i}function pj(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new UQ;++t<n;)this.add(e[t])}function vj(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function gj(e,t){return e.has(t)}pj.prototype.add=pj.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},pj.prototype.has=function(e){return this.__data__.has(e)};var mj=1,yj=2;function bj(e,t,n,r,i,a){var o=n&mj,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),c=a.get(t);if(l&&c)return l==t&&c==e;var A=-1,f=!0,d=n&yj?new pj:void 0;for(a.set(e,t),a.set(t,e);++A<s;){var h=e[A],p=t[A];if(r)var v=o?r(p,h,A,t,e,a):r(h,p,A,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(d){if(!vj(t,(function(e,t){if(!gj(d,t)&&(h===e||i(h,e,n,r,a)))return d.push(t)}))){f=!1;break}}else if(h!==p&&!i(h,p,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function wj(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function xj(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var _j=1,Cj=2,Ej="[object Boolean]",Sj="[object Date]",Bj="[object Error]",Tj="[object Map]",Ij="[object Number]",kj="[object RegExp]",Mj="[object Set]",Rj="[object String]",Uj="[object Symbol]",Fj="[object ArrayBuffer]",Oj="[object DataView]",Pj=yL?yL.prototype:void 0,Dj=Pj?Pj.valueOf:void 0;var Lj=1,Nj=Object.prototype.hasOwnProperty;var Qj=1,Hj="[object Arguments]",jj="[object Array]",zj="[object Object]",Gj=Object.prototype.hasOwnProperty;function Vj(e,t,n,r,i,a){var o=UL(e),s=UL(t),u=o?jj:SH(e),l=s?jj:SH(t),c=(u=u==Hj?zj:u)==zj,A=(l=l==Hj?zj:l)==zj,f=u==l;if(f&&$N(e)){if(!$N(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new JQ),o||sQ(e)?bj(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case Oj:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Fj:return!(e.byteLength!=t.byteLength||!a(new TH(e),new TH(t)));case Ej:case Sj:case Ij:return RN(+e,+t);case Bj:return e.name==t.name&&e.message==t.message;case kj:case Rj:return e==t+"";case Tj:var s=wj;case Mj:var u=r&_j;if(s||(s=xj),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=Cj,o.set(e,t);var c=bj(s(e),s(t),r,i,a,o);return o.delete(e),c;case Uj:if(Dj)return Dj.call(e)==Dj.call(t)}return!1}(e,t,u,n,r,i,a);if(!(n&Qj)){var d=c&&Gj.call(e,"__wrapped__"),h=A&&Gj.call(t,"__wrapped__");if(d||h){var p=d?e.value():e,v=h?t.value():t;return a||(a=new JQ),i(p,v,n,r,a)}}return!!f&&(a||(a=new JQ),function(e,t,n,r,i,a){var o=n&Lj,s=cH(e),u=s.length;if(u!=cH(t).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in t:Nj.call(t,c)))return!1}var A=a.get(e),f=a.get(t);if(A&&f)return A==t&&f==e;var d=!0;a.set(e,t),a.set(t,e);for(var h=o;++l<u;){var p=e[c=s[l]],v=t[c];if(r)var g=o?r(v,p,c,t,e,a):r(p,v,c,e,t,a);if(!(void 0===g?p===v||i(p,v,n,r,a):g)){d=!1;break}h||(h="constructor"==c)}if(d&&!h){var m=e.constructor,y=t.constructor;m==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(d=!1)}return a.delete(e),a.delete(t),d}(e,t,n,r,i,a))}function Wj(e,t,n,r,i){return e===t||(null==e||null==t||!IL(e)&&!IL(t)?e!==e&&t!==t:Vj(e,t,n,r,Wj,i))}var Kj=1,Xj=2;function qj(e){return e===e&&!HL(e)}function Yj(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Zj(e){var t=function(e){for(var t=hQ(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,qj(i)]}return t}(e);return 1==t.length&&t[0][2]?Yj(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],l=e[u],c=s[1];if(o&&s[2]){if(void 0===l&&!(u in e))return!1}else{var A=new JQ;if(r)var f=r(l,c,u,e,t,A);if(!(void 0===f?Wj(c,l,Kj|Xj,r,A):f))return!1}}return!0}(n,e,t)}}function Jj(e,t){return null!=e&&t in Object(e)}function $j(e,t,n){for(var r=-1,i=(t=QQ(t,e)).length,a=!1;++r<i;){var o=jQ(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&NN(i)&&kN(o,i)&&(UL(e)||qN(e))}var ez=1,tz=2;function nz(e,t){return _Q(e)&&qj(t)?Yj(jQ(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:zQ(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&$j(e,t,Jj)}(n,e):Wj(t,r,ez|tz)}}function rz(e){return _Q(e)?(t=jQ(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return zQ(t,e)}}(e);var t}function iz(e){return"function"==typeof e?e:null==e?ZL:"object"==typeof e?UL(e)?nz(e[0],e[1]):Zj(e):rz(e)}function az(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}var oz,sz=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[oz?o:++r];if(!1===t(i[s],s,i))break}return e};var uz=function(e,t){return function(n,r){if(null==n)return n;if(!QN(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}((function(e,t){return e&&sz(e,t,hQ)})),lz=uz;function cz(e,t,n,r){return lz(e,(function(e,i,a){t(r,e,n(e),a)})),r}var Az=Object.prototype,fz=Az.hasOwnProperty,dz=DN((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&HN(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=bQ(a),s=-1,u=o.length;++s<u;){var l=o[s],c=e[l];(void 0===c||RN(c,Az[l])&&!fz.call(e,l))&&(e[l]=a[l])}return e}));function hz(e){return IL(e)&&QN(e)}function pz(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var vz=DN((function(e,t){return hz(e)?function(e,t,n,r){var i=-1,a=BN,o=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=RL(t,tQ(n))),r?(a=pz,o=!1):t.length>=200&&(a=gj,o=!1,t=new pj(t));e:for(;++i<s;){var c=e[i],A=null==n?c:n(c);if(c=r||0!==c?c:0,o&&A===A){for(var f=l;f--;)if(t[f]===A)continue e;u.push(c)}else a(t,A,r)||u.push(c)}return u}(e,KQ(t,1,hz,!0)):[]}));function gz(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function mz(e,t,n){var r=null==e?0:e.length;return r?YQ(e,(t=n||void 0===t?1:YL(t))<0?0:t,r):[]}function yz(e,t,n){var r=null==e?0:e.length;return r?YQ(e,0,(t=r-(t=n||void 0===t?1:YL(t)))<0?0:t):[]}function bz(e,t){var n;return(UL(e)?_N:lz)(e,"function"==typeof(n=t)?n:ZL)}function wz(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function xz(e,t){var n=!0;return lz(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function _z(e,t,n){var r=UL(e)?wz:xz;return n&&HN(e,t,n)&&(t=void 0),r(e,iz(t))}function Cz(e,t){var n=[];return lz(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Ez(e,t){return(UL(e)?rH:Cz)(e,iz(t))}var Sz=Math.max;var Bz,Tz=(Bz=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:YL(n);return i<0&&(i=Sz(r+i,0)),CN(e,iz(t),i)},function(e,t,n){var r=Object(e);if(!QN(e)){var i=iz(t);e=hQ(e),t=function(e){return i(r[e],e,r)}}var a=Bz(e,t,n);return a>-1?r[i?e[a]:a]:void 0});function Iz(e){return e&&e.length?e[0]:void 0}function kz(e,t){var n=-1,r=QN(e)?Array(e.length):[];return lz(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Mz(e,t){return(UL(e)?RL:kz)(e,iz(t))}function Rz(e,t){return KQ(Mz(e,t),1)}var Uz,Fz,Oz=Object.prototype.hasOwnProperty,Pz=(Uz=function(e,t,n){Oz.call(e,n)?e[n].push(t):MN(e,n,[t])},function(e,t){var n=UL(e)?az:cz,r=Fz?Fz():{};return n(e,Uz,iz(t),r)}),Dz=Object.prototype.hasOwnProperty;function Lz(e,t){return null!=e&&Dz.call(e,t)}function Nz(e,t){return null!=e&&$j(e,t,Lz)}var Qz="[object String]";function Hz(e){return"string"==typeof e||!UL(e)&&IL(e)&&TL(e)==Qz}function jz(e){return null==e?[]:function(e,t){return RL(t,(function(t){return e[t]}))}(e,hQ(e))}var zz=Math.max;function Gz(e,t,n,r){e=QN(e)?e:jz(e),n=n&&!r?YL(n):0;var i=e.length;return n<0&&(n=zz(i+n,0)),Hz(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&SN(e,t,n)>-1}var Vz=Math.max;function Wz(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:YL(n);return i<0&&(i=Vz(r+i,0)),SN(e,t,i)}var Kz="[object Map]",Xz="[object Set]",qz=Object.prototype.hasOwnProperty;function Yz(e){if(null==e)return!0;if(QN(e)&&(UL(e)||"string"==typeof e||"function"==typeof e.splice||$N(e)||sQ(e)||qN(e)))return!e.length;var t=SH(e);if(t==Kz||t==Xz)return!e.size;if(zN(e))return!dQ(e).length;for(var n in e)if(qz.call(e,n))return!1;return!0}var Zz=aQ&&aQ.isRegExp,Jz=Zz?tQ(Zz):function(e){return IL(e)&&"[object RegExp]"==TL(e)};function $z(e){return void 0===e}var eG="Expected a function";function tG(e,t,n,r){if(!HL(e))return e;for(var i=-1,a=(t=QQ(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=jQ(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=o){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=HL(c)?c:kN(t[i+1])?[]:{})}FN(s,u,l),s=s[u]}return e}function nG(e,t){if(null==e)return{};var n=RL(AH(e),(function(e){return[e]}));return t=iz(t),function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=zQ(e,o);n(s,o)&&tG(a,QQ(o,e),s)}return a}(e,n,(function(e,n){return t(e,n[0])}))}function rG(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function iG(e,t,n){var r=UL(e)?ZQ:rG,i=arguments.length<3;return r(e,iz(t),n,i,lz)}function aG(e,t){return(UL(e)?rH:Cz)(e,function(e){if("function"!=typeof e)throw new TypeError(eG);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}(iz(t)))}function oG(e,t){var n;return lz(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function sG(e,t,n){var r=UL(e)?vj:oG;return n&&HN(e,t,n)&&(t=void 0),r(e,iz(t))}var uG=hH&&1/xj(new hH([,-0]))[1]==1/0?function(e){return new hH(e)}:mN,lG=200;function cG(e){return e&&e.length?function(e,t,n){var r=-1,i=BN,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=pz;else if(a>=lG){var l=t?null:uG(e);if(l)return xj(l);o=!1,i=gj,u=new pj}else u=t?[]:s;e:for(;++r<a;){var c=e[r],A=t?t(c):c;if(c=n||0!==c?c:0,o&&A===A){for(var f=u.length;f--;)if(u[f]===A)continue e;t&&u.push(A),s.push(c)}else i(u,A,n)||(u!==s&&u.push(A),s.push(c))}return s}(e):[]}function AG(e){console&&console.error&&console.error("Error: ".concat(e))}function fG(e){console&&console.warn&&console.warn("Warning: ".concat(e))}function dG(e){var t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}}function hG(e){function t(){}t.prototype=e;var n=new t;function r(){return typeof n.bar}return r(),r(),e}function pG(e){return Hz((t=e).LABEL)&&""!==t.LABEL?e.LABEL:e.name;var t}var vG=function(){function e(t){c(this,e),this._definition=t}return h(e,[{key:"definition",get:function(){return this._definition},set:function(e){this._definition=e}},{key:"accept",value:function(e){e.visit(this),bz(this.definition,(function(t){t.accept(e)}))}}]),e}(),gG=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,[])).idx=1,gQ(y(r),nG(e,(function(e){return void 0!==e}))),r}return h(n,[{key:"definition",get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(e){}},{key:"accept",value:function(e){e.visit(this)}}]),n}(vG),mG=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e.definition)).orgText="",gQ(y(r),nG(e,(function(e){return void 0!==e}))),r}return h(n)}(vG),yG=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e.definition)).ignoreAmbiguities=!1,gQ(y(r),nG(e,(function(e){return void 0!==e}))),r}return h(n)}(vG),bG=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e.definition)).idx=1,gQ(y(r),nG(e,(function(e){return void 0!==e}))),r}return h(n)}(vG),wG=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e.definition)).idx=1,gQ(y(r),nG(e,(function(e){return void 0!==e}))),r}return h(n)}(vG),xG=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e.definition)).idx=1,gQ(y(r),nG(e,(function(e){return void 0!==e}))),r}return h(n)}(vG),_G=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e.definition)).idx=1,gQ(y(r),nG(e,(function(e){return void 0!==e}))),r}return h(n)}(vG),CG=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e.definition)).idx=1,gQ(y(r),nG(e,(function(e){return void 0!==e}))),r}return h(n)}(vG),EG=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e.definition)).idx=1,r.ignoreAmbiguities=!1,r.hasPredicates=!1,gQ(y(r),nG(e,(function(e){return void 0!==e}))),r}return h(n,[{key:"definition",get:function(){return this._definition},set:function(e){this._definition=e}}]),n}(vG),SG=function(){function e(t){c(this,e),this.idx=1,gQ(this,nG(t,(function(e){return void 0!==e})))}return h(e,[{key:"accept",value:function(e){e.visit(this)}}]),e}();function BG(e){function t(e){return Mz(e,BG)}if(e instanceof gG){var n={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Hz(e.label)&&(n.label=e.label),n}if(e instanceof yG)return{type:"Alternative",definition:t(e.definition)};if(e instanceof bG)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof wG)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof xG)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:BG(new SG({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof CG)return{type:"RepetitionWithSeparator",idx:e.idx,separator:BG(new SG({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof _G)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof EG)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof SG){var r={type:"Terminal",name:e.terminalType.name,label:pG(e.terminalType),idx:e.idx};Hz(e.label)&&(r.terminalLabel=e.label);var i=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=Jz(i)?i.source:i),r}if(e instanceof mG)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}var TG=function(){function e(){c(this,e)}return h(e,[{key:"visit",value:function(e){var t=e;switch(t.constructor){case gG:return this.visitNonTerminal(t);case yG:return this.visitAlternative(t);case bG:return this.visitOption(t);case wG:return this.visitRepetitionMandatory(t);case xG:return this.visitRepetitionMandatoryWithSeparator(t);case CG:return this.visitRepetitionWithSeparator(t);case _G:return this.visitRepetition(t);case EG:return this.visitAlternation(t);case SG:return this.visitTerminal(t);case mG:return this.visitRule(t);default:throw Error("non exhaustive match")}}},{key:"visitNonTerminal",value:function(e){}},{key:"visitAlternative",value:function(e){}},{key:"visitOption",value:function(e){}},{key:"visitRepetition",value:function(e){}},{key:"visitRepetitionMandatory",value:function(e){}},{key:"visitRepetitionMandatoryWithSeparator",value:function(e){}},{key:"visitRepetitionWithSeparator",value:function(e){}},{key:"visitAlternation",value:function(e){}},{key:"visitTerminal",value:function(e){}},{key:"visitRule",value:function(e){}}]),e}();function IG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!(e instanceof bG||e instanceof _G||e instanceof CG)||(e instanceof EG?sG(e.definition,(function(e){return IG(e,t)})):!(e instanceof gG&&Gz(t,e))&&(e instanceof vG&&(e instanceof gG&&t.push(e),_z(e.definition,(function(e){return IG(e,t)})))))}function kG(e){if(e instanceof gG)return"SUBRULE";if(e instanceof bG)return"OPTION";if(e instanceof EG)return"OR";if(e instanceof wG)return"AT_LEAST_ONE";if(e instanceof xG)return"AT_LEAST_ONE_SEP";if(e instanceof CG)return"MANY_SEP";if(e instanceof _G)return"MANY";if(e instanceof SG)return"CONSUME";throw Error("non exhaustive match")}var MG=function(){function e(){c(this,e)}return h(e,[{key:"walk",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];bz(e.definition,(function(r,i){var a=mz(e.definition,i+1);if(r instanceof gG)t.walkProdRef(r,a,n);else if(r instanceof SG)t.walkTerminal(r,a,n);else if(r instanceof yG)t.walkFlat(r,a,n);else if(r instanceof bG)t.walkOption(r,a,n);else if(r instanceof wG)t.walkAtLeastOne(r,a,n);else if(r instanceof xG)t.walkAtLeastOneSep(r,a,n);else if(r instanceof CG)t.walkManySep(r,a,n);else if(r instanceof _G)t.walkMany(r,a,n);else{if(!(r instanceof EG))throw Error("non exhaustive match");t.walkOr(r,a,n)}}))}},{key:"walkTerminal",value:function(e,t,n){}},{key:"walkProdRef",value:function(e,t,n){}},{key:"walkFlat",value:function(e,t,n){var r=t.concat(n);this.walk(e,r)}},{key:"walkOption",value:function(e,t,n){var r=t.concat(n);this.walk(e,r)}},{key:"walkAtLeastOne",value:function(e,t,n){var r=[new bG({definition:e.definition})].concat(t,n);this.walk(e,r)}},{key:"walkAtLeastOneSep",value:function(e,t,n){var r=RG(e,t,n);this.walk(e,r)}},{key:"walkMany",value:function(e,t,n){var r=[new bG({definition:e.definition})].concat(t,n);this.walk(e,r)}},{key:"walkManySep",value:function(e,t,n){var r=RG(e,t,n);this.walk(e,r)}},{key:"walkOr",value:function(e,t,n){var r=this,i=t.concat(n);bz(e.definition,(function(e){var t=new yG({definition:[e]});r.walk(t,i)}))}}]),e}();function RG(e,t,n){return[new bG({definition:[new SG({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}function UG(e){if(e instanceof gG)return UG(e.referencedRule);if(e instanceof SG)return[e.terminalType];if(function(e){return e instanceof yG||e instanceof bG||e instanceof _G||e instanceof wG||e instanceof xG||e instanceof CG||e instanceof SG||e instanceof mG}(e))return function(e){var t,n=[],r=e.definition,i=0,a=r.length>i,o=!0;for(;a&&o;)o=IG(t=r[i]),n=n.concat(UG(t)),i+=1,a=r.length>i;return cG(n)}(e);if(function(e){return e instanceof EG}(e))return function(e){var t=Mz(e.definition,(function(e){return UG(e)}));return cG(XQ(t))}(e);throw Error("non exhaustive match")}var FG="_~IN~_",OG=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).topProd=e,r.follows={},r}return h(n,[{key:"startWalking",value:function(){return this.walk(this.topProd),this.follows}},{key:"walkTerminal",value:function(e,t,n){}},{key:"walkProdRef",value:function(e,t,n){var r,i,a=(r=e.referencedRule,i=e.idx,r.name+i+FG+this.topProd.name),o=t.concat(n),s=UG(new yG({definition:o}));this.follows[a]=s}}]),n}(MG);function PG(e){return e.charCodeAt(0)}function DG(e,t){Array.isArray(e)?e.forEach((function(e){t.push(e)})):t.push(e)}function LG(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t],e[t]=!0}function NG(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function QG(e){return"Character"===e.type}for(var HG=[],jG=PG("0");jG<=PG("9");jG++)HG.push(jG);for(var zG=[PG("_")].concat(HG),GG=PG("a");GG<=PG("z");GG++)zG.push(GG);for(var VG=PG("A");VG<=PG("Z");VG++)zG.push(VG);var WG=[PG(" "),PG("\f"),PG("\n"),PG("\r"),PG("\t"),PG("\v"),PG("\t"),PG("\xa0"),PG("\u1680"),PG("\u2000"),PG("\u2001"),PG("\u2002"),PG("\u2003"),PG("\u2004"),PG("\u2005"),PG("\u2006"),PG("\u2007"),PG("\u2008"),PG("\u2009"),PG("\u200a"),PG("\u2028"),PG("\u2029"),PG("\u202f"),PG("\u205f"),PG("\u3000"),PG("\ufeff")],KG=/[0-9a-fA-F]/,XG=/[0-9]/,qG=/[1-9]/,YG=function(){function e(){c(this,e),this.idx=0,this.input="",this.groupIdx=0}return h(e,[{key:"saveState",value:function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}},{key:"restoreState",value:function(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}},{key:"pattern",value:function(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");var t=this.disjunction();this.consumeChar("/");for(var n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":LG(n,"global");break;case"i":LG(n,"ignoreCase");break;case"m":LG(n,"multiLine");break;case"u":LG(n,"unicode");break;case"y":LG(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}}},{key:"disjunction",value:function(){var e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}},{key:"alternative",value:function(){for(var e=[],t=this.idx;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}},{key:"term",value:function(){return this.isAssertion()?this.assertion():this.atom()}},{key:"assertion",value:function(){var e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":var t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}NG(t);var n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}return function(){throw Error("Internal Error - Should never get here!")}()}},{key:"quantifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=void 0,n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":var r=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:r,atMost:r};break;case",":t=this.isDigit()?{atLeast:r,atMost:this.integerIncludingZero()}:{atLeast:r,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;NG(t)}if(!0!==e||void 0!==t)return NG(t)?("?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t):void 0}},{key:"atom",value:function(){var e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}if(void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),NG(e))return e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}},{key:"dotAll",value:function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[PG("\n"),PG("\r"),PG("\u2028"),PG("\u2029")]}}},{key:"atomEscape",value:function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}},{key:"decimalEscapeAtom",value:function(){return{type:"GroupBackReference",value:this.positiveInteger()}}},{key:"characterClassEscape",value:function(){var e,t=!1;switch(this.popChar()){case"d":e=HG;break;case"D":e=HG,t=!0;break;case"s":e=WG;break;case"S":e=WG,t=!0;break;case"w":e=zG;break;case"W":e=zG,t=!0}if(NG(e))return{type:"Set",value:e,complement:t}}},{key:"controlEscapeAtom",value:function(){var e;switch(this.popChar()){case"f":e=PG("\f");break;case"n":e=PG("\n");break;case"r":e=PG("\r");break;case"t":e=PG("\t");break;case"v":e=PG("\v")}if(NG(e))return{type:"Character",value:e}}},{key:"controlLetterEscapeAtom",value:function(){this.consumeChar("c");var e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}},{key:"nulCharacterAtom",value:function(){return this.consumeChar("0"),{type:"Character",value:PG("\0")}}},{key:"hexEscapeSequenceAtom",value:function(){return this.consumeChar("x"),this.parseHexDigits(2)}},{key:"regExpUnicodeEscapeSequenceAtom",value:function(){return this.consumeChar("u"),this.parseHexDigits(4)}},{key:"identityEscapeAtom",value:function(){return{type:"Character",value:PG(this.popChar())}}},{key:"classPatternCharacterAtom",value:function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:PG(this.popChar())}}}},{key:"characterClass",value:function(){var e=[],t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){var n=this.classAtom();if(n.type,QG(n)&&this.isRangeDash()){this.consumeChar("-");var r=this.classAtom();if(r.type,QG(r)){if(r.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:r.value})}else DG(n.value,e),e.push(PG("-")),DG(r.value,e)}else DG(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}},{key:"classAtom",value:function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}},{key:"classEscape",value:function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:PG("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}},{key:"group",value:function(){var e=!0;if(this.consumeChar("("),"?"===this.peekChar(0))this.consumeChar("?"),this.consumeChar(":"),e=!1;else this.groupIdx++;var t=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n}},{key:"positiveInteger",value:function(){var e=this.popChar();if(!1===qG.test(e))throw Error("Expecting a positive integer");for(;XG.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}},{key:"integerIncludingZero",value:function(){var e=this.popChar();if(!1===XG.test(e))throw Error("Expecting an integer");for(;XG.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}},{key:"patternCharacter",value:function(){var e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:PG(e)}}}},{key:"isRegExpFlag",value:function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}},{key:"isRangeDash",value:function(){return"-"===this.peekChar()&&this.isClassAtom(1)}},{key:"isDigit",value:function(){return XG.test(this.peekChar(0))}},{key:"isClassAtom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}},{key:"isTerm",value:function(){return this.isAtom()||this.isAssertion()}},{key:"isAtom",value:function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}},{key:"isAssertion",value:function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}},{key:"isQuantifier",value:function(){var e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(e)}}},{key:"isPatternCharacter",value:function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}},{key:"parseHexDigits",value:function(e){for(var t="",n=0;n<e;n++){var r=this.popChar();if(!1===KG.test(r))throw Error("Expecting a HexDecimal digits");t+=r}return{type:"Character",value:parseInt(t,16)}}},{key:"peekChar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.input[this.idx+e]}},{key:"popChar",value:function(){var e=this.peekChar(0);return this.consumeChar(void 0),e}},{key:"consumeChar",value:function(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}},{key:"loc",value:function(e){return{begin:e,end:this.idx}}}]),e}(),ZG=function(){function e(){c(this,e)}return h(e,[{key:"visitChildren",value:function(e){var t=this;for(var n in e){var r=e[n];e.hasOwnProperty(n)&&(void 0!==r.type?this.visit(r):Array.isArray(r)&&r.forEach((function(e){t.visit(e)}),this))}}},{key:"visit",value:function(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}},{key:"visitPattern",value:function(e){}},{key:"visitFlags",value:function(e){}},{key:"visitDisjunction",value:function(e){}},{key:"visitAlternative",value:function(e){}},{key:"visitStartAnchor",value:function(e){}},{key:"visitEndAnchor",value:function(e){}},{key:"visitWordBoundary",value:function(e){}},{key:"visitNonWordBoundary",value:function(e){}},{key:"visitLookahead",value:function(e){}},{key:"visitNegativeLookahead",value:function(e){}},{key:"visitCharacter",value:function(e){}},{key:"visitSet",value:function(e){}},{key:"visitGroup",value:function(e){}},{key:"visitGroupBackReference",value:function(e){}},{key:"visitQuantifier",value:function(e){}}]),e}(),JG={},$G=new YG;function eV(e){var t=e.toString();if(JG.hasOwnProperty(t))return JG[t];var n=$G.pattern(t);return JG[t]=n,n}var tV="Complement Sets are not supported for first char optimization",nV='Unable to use "first char" lexer optimizations:\n';function rV(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var n=eV(e);return iV(n.value,{},n.flags.ignoreCase)}catch(i){if(i.message===tV)t&&fG("".concat(nV,"\tUnable to optimize: < ").concat(e.toString()," >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details."));else{var r="";t&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),AG("".concat(nV,"\n\tFailed parsing: < ").concat(e.toString()," >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues")+r)}}return[]}function iV(e,t,n){switch(e.type){case"Disjunction":for(var r=0;r<e.value.length;r++)iV(e.value[r],t,n);break;case"Alternative":for(var i=e.value,a=0;a<i.length;a++){var o=i[a];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var s=o;switch(s.type){case"Character":aV(s.value,t,n);break;case"Set":if(!0===s.complement)throw Error(tV);bz(s.value,(function(e){if("number"===typeof e)aV(e,t,n);else{var r=e;if(!0===n)for(var i=r.from;i<=r.to;i++)aV(i,t,n);else{for(var a=r.from;a<=r.to&&a<BV;a++)aV(a,t,n);if(r.to>=BV)for(var o=r.from>=BV?r.from:BV,s=r.to,u=IV(o),l=IV(s),c=u;c<=l;c++)t[c]=c}}}));break;case"Group":iV(s.value,t,n);break;default:throw Error("Non Exhaustive Match")}var u=void 0!==s.quantifier&&0===s.quantifier.atLeast;if("Group"===s.type&&!1===sV(s)||"Group"!==s.type&&!1===u)break}break;default:throw Error("non exhaustive match!")}return jz(t)}function aV(e,t,n){var r=IV(e);t[r]=r,!0===n&&function(e,t){var n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){var i=IV(r.charCodeAt(0));t[i]=i}else{var a=n.toLowerCase();if(a!==n){var o=IV(a.charCodeAt(0));t[o]=o}}}(e,t)}function oV(e,t){return Tz(e.value,(function(e){if("number"===typeof e)return Gz(t,e);var n=e;return void 0!==Tz(t,(function(e){return n.from<=e&&e<=n.to}))}))}function sV(e){var t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&(UL(e.value)?_z(e.value,sV):sV(e.value))}var uV=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).targetCharCodes=e,r.found=!1,r}return h(n,[{key:"visitChildren",value:function(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}_p(g(n.prototype),"visitChildren",this).call(this,e)}}},{key:"visitCharacter",value:function(e){Gz(this.targetCharCodes,e.value)&&(this.found=!0)}},{key:"visitSet",value:function(e){e.complement?void 0===oV(e,this.targetCharCodes)&&(this.found=!0):void 0!==oV(e,this.targetCharCodes)&&(this.found=!0)}}]),n}(ZG);function lV(e,t){if(t instanceof RegExp){var n=eV(t),r=new uV(e);return r.visit(n),r.found}return void 0!==Tz(t,(function(t){return Gz(e,t.charCodeAt(0))}))}var cV="PATTERN",AV="defaultMode",fV="modes",dV="boolean"===typeof new RegExp("(?:)").sticky;function hV(e,t){var n,r=(t=dz(t,{useSticky:dV,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(e,t){return t()}})).tracer;r("initCharCodeToOptimizedIndexMap",(function(){!function(){if(Yz(TV)){TV=new Array(65536);for(var e=0;e<65536;e++)TV[e]=e>255?255+~~(e/255):e}}()})),r("Reject Lexer.NA",(function(){n=aG(e,(function(e){return e[cV]===jV.NA}))}));var i,a,o,s,u,l,c,A,f,d,h,p=!1;r("Transform Patterns",(function(){p=!1,i=Mz(n,(function(e){var n=e[cV];if(Jz(n)){var r=n.source;return 1!==r.length||"^"===r||"$"===r||"."===r||n.ignoreCase?2!==r.length||"\\"!==r[0]||Gz(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?t.useSticky?yV(n):mV(n):r[1]:r}if(nN(n))return p=!0,{exec:n};if("object"===typeof n)return p=!0,n;if("string"===typeof n){if(1===n.length)return n;var i=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=new RegExp(i);return t.useSticky?yV(a):mV(a)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){a=Mz(n,(function(e){return e.tokenTypeIdx})),o=Mz(n,(function(e){var t=e.GROUP;if(t!==jV.SKIPPED){if(Hz(t))return t;if($z(t))return!1;throw Error("non exhaustive match")}})),s=Mz(n,(function(e){var t=e.LONGER_ALT;if(t)return UL(t)?Mz(t,(function(e){return Wz(n,e)})):[Wz(n,t)]})),u=Mz(n,(function(e){return e.PUSH_MODE})),l=Mz(n,(function(e){return Nz(e,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var e=EV(t.lineTerminatorCharacters);c=Mz(n,(function(e){return!1})),"onlyOffset"!==t.positionTracking&&(c=Mz(n,(function(t){return Nz(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===CV(t,e)&&lV(e,t.PATTERN)})))})),r("Misc Mapping #2",(function(){A=Mz(n,wV),f=Mz(i,xV),d=iG(n,(function(e,t){var n=t.GROUP;return Hz(n)&&n!==jV.SKIPPED&&(e[n]=[]),e}),{}),h=Mz(i,(function(e,t){return{pattern:i[t],longerAlt:s[t],canLineTerminator:c[t],isCustom:A[t],short:f[t],group:o[t],push:u[t],pop:l[t],tokenTypeIdx:a[t],tokenType:n[t]}}))}));var v=!0,g=[];return t.safeMode||r("First Char Optimization",(function(){g=iG(n,(function(e,n,r){if("string"===typeof n.PATTERN){var i=IV(n.PATTERN.charCodeAt(0));SV(e,i,h[r])}else if(UL(n.START_CHARS_HINT)){var a;bz(n.START_CHARS_HINT,(function(t){var n=IV("string"===typeof t?t.charCodeAt(0):t);a!==n&&(a=n,SV(e,n,h[r]))}))}else if(Jz(n.PATTERN))if(n.PATTERN.unicode)v=!1,t.ensureOptimizations&&AG("".concat(nV,"\tUnable to analyze < ").concat(n.PATTERN.toString()," > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE"));else{var o=rV(n.PATTERN,t.ensureOptimizations);Yz(o)&&(v=!1),bz(o,(function(t){SV(e,t,h[r])}))}else t.ensureOptimizations&&AG("".concat(nV,"\tTokenType: <").concat(n.name,"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE")),v=!1;return e}),[])})),{emptyGroups:d,patternIdxToConfig:h,charCodeToPatternIdxToConfig:g,hasCustom:p,canBeOptimized:v}}function pV(e,t){var n=[],r=function(e){var t=Ez(e,(function(e){return!Nz(e,cV)})),n=Mz(t,(function(e){return{message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:NV.MISSING_PATTERN,tokenTypes:[e]}})),r=vz(e,t);return{errors:n,valid:r}}(e);n=n.concat(r.errors);var i=function(e){var t=Ez(e,(function(e){var t=e[cV];return!Jz(t)&&!nN(t)&&!Nz(t,"exec")&&!Hz(t)})),n=Mz(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:NV.INVALID_PATTERN,tokenTypes:[e]}})),r=vz(e,t);return{errors:n,valid:r}}(r.valid),a=i.valid;return n=(n=n.concat(i.errors)).concat(function(e){var t=[],n=Ez(e,(function(e){return Jz(e[cV])}));return t=t.concat(function(e){var t=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).found=!1,e}return h(n,[{key:"visitEndAnchor",value:function(e){this.found=!0}}]),n}(ZG),n=Ez(e,(function(e){var n=e.PATTERN;try{var r=eV(n),i=new t;return i.visit(r),i.found}catch(a){return vV.test(n.source)}})),r=Mz(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:NV.EOI_ANCHOR_FOUND,tokenTypes:[e]}}));return r}(n)),t=t.concat(function(e){var t=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).found=!1,e}return h(n,[{key:"visitStartAnchor",value:function(e){this.found=!0}}]),n}(ZG),n=Ez(e,(function(e){var n=e.PATTERN;try{var r=eV(n),i=new t;return i.visit(r),i.found}catch(a){return gV.test(n.source)}})),r=Mz(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:NV.SOI_ANCHOR_FOUND,tokenTypes:[e]}}));return r}(n)),t=t.concat(function(e){var t=Ez(e,(function(e){var t=e[cV];return t instanceof RegExp&&(t.multiline||t.global)})),n=Mz(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:NV.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}}));return n}(n)),t=t.concat(function(e){var t=[],n=Mz(e,(function(n){return iG(e,(function(e,r){return n.PATTERN.source!==r.PATTERN.source||Gz(t,r)||r.PATTERN===jV.NA||(t.push(r),e.push(r)),e}),[])})),r=Mz(Ez(n=hj(n),(function(e){return e.length>1})),(function(e){var t=Mz(e,(function(e){return e.name})),n=Iz(e).PATTERN;return{message:"The same RegExp pattern ->".concat(n,"<-has been used in all of the following Token Types: ").concat(t.join(", ")," <-"),type:NV.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}));return r}(n)),t=t.concat(function(e){var t=Ez(e,(function(e){return e.PATTERN.test("")})),n=Mz(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:NV.EMPTY_MATCH_PATTERN,tokenTypes:[e]}}));return n}(n)),t}(a)),n=n.concat(function(e){var t=Ez(e,(function(e){if(!Nz(e,"GROUP"))return!1;var t=e.GROUP;return t!==jV.SKIPPED&&t!==jV.NA&&!Hz(t)})),n=Mz(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:NV.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}}));return n}(a)),n=n.concat(function(e,t){var n=Ez(e,(function(e){return void 0!==e.PUSH_MODE&&!Gz(t,e.PUSH_MODE)})),r=Mz(n,(function(e){return{message:"Token Type: ->".concat(e.name,"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->").concat(e.PUSH_MODE,"<-which does not exist"),type:NV.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}}));return r}(a,t)),n=n.concat(function(e){var t=[],n=iG(e,(function(e,t,n){var r,i=t.PATTERN;return i===jV.NA||(Hz(i)?e.push({str:i,idx:n,tokenType:t}):Jz(i)&&(r=i,void 0===Tz([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(function(e){return-1!==r.source.indexOf(e)})))&&e.push({str:i.source,idx:n,tokenType:t})),e}),[]);return bz(e,(function(e,r){bz(n,(function(n){var i=n.str,a=n.idx,o=n.tokenType;if(r<a&&function(e,t){if(Jz(t)){var n=t.exec(e);return null!==n&&0===n.index}if(nN(t))return t(e,0,[],{});if(Nz(t,"exec"))return t.exec(e,0,[],{});if("string"===typeof t)return t===e;throw Error("non exhaustive match")}(i,e.PATTERN)){var s="Token: ->".concat(o.name,"<- can never be matched.\nBecause it appears AFTER the Token Type ->").concat(e.name,"<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE");t.push({message:s,type:NV.UNREACHABLE_PATTERN,tokenTypes:[e,o]})}}))})),t}(a)),n}var vV=/[^\\][$]/;var gV=/[^\\[][\^]|^\^/;function mV(e){var t=e.ignoreCase?"i":"";return new RegExp("^(?:".concat(e.source,")"),t)}function yV(e){var t=e.ignoreCase?"iy":"y";return new RegExp("".concat(e.source),t)}function bV(e,t,n){var r=[],i=!1,a=aG(hj(XQ(jz(e.modes))),(function(e){return e[cV]===jV.NA})),o=EV(n);return t&&bz(a,(function(e){var t=CV(e,o);if(!1!==t){var n=function(e,t){if(t.issue===NV.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <".concat(e.name,"> Token Type\n\t Root cause: ").concat(t.errMsg,".\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR");if(t.issue===NV.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <".concat(e.name,"> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK");throw Error("non exhaustive match")}(e,t),a={message:n,type:t.issue,tokenType:e};r.push(a)}else Nz(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(i=!0):lV(o,e.PATTERN)&&(i=!0)})),t&&!i&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:NV.NO_LINE_BREAKS_FLAGS}),r}function wV(e){var t=e.PATTERN;if(Jz(t))return!1;if(nN(t))return!0;if(Nz(t,"exec"))return!0;if(Hz(t))return!1;throw Error("non exhaustive match")}function xV(e){return!(!Hz(e)||1!==e.length)&&e.charCodeAt(0)}var _V={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var r=e.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function CV(e,t){if(Nz(e,"LINE_BREAKS"))return!1;if(Jz(e.PATTERN)){try{lV(t,e.PATTERN)}catch(n){return{issue:NV.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}if(Hz(e.PATTERN))return!1;if(wV(e))return{issue:NV.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function EV(e){return Mz(e,(function(e){return Hz(e)?e.charCodeAt(0):e}))}function SV(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}var BV=256,TV=[];function IV(e){return e<BV?e:TV[e]}function kV(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function MV(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var RV=1,UV={};function FV(e){var t=function(e){var t=dj(e),n=e,r=!0;for(;r;){n=hj(XQ(Mz(n,(function(e){return e.CATEGORIES}))));var i=vz(n,t);t=t.concat(i),Yz(i)?r=!1:n=i}return t}(e);!function(e){bz(e,(function(e){PV(e)||(UV[RV]=e,e.tokenTypeIdx=RV++),DV(e)&&!UL(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),DV(e)||(e.CATEGORIES=[]),Nz(e,"categoryMatches")||(e.categoryMatches=[]),function(e){return Nz(e,"categoryMatchesMap")}(e)||(e.categoryMatchesMap={})}))}(t),function(e){bz(e,(function(e){OV([],e)}))}(t),function(e){bz(e,(function(e){e.categoryMatches=[],bz(e.categoryMatchesMap,(function(t,n){e.categoryMatches.push(UV[n].tokenTypeIdx)}))}))}(t),bz(t,(function(e){e.isParent=e.categoryMatches.length>0}))}function OV(e,t){bz(e,(function(e){t.categoryMatchesMap[e.tokenTypeIdx]=!0})),bz(t.CATEGORIES,(function(n){var r=e.concat(t);Gz(r,n)||OV(r,n)}))}function PV(e){return Nz(e,"tokenTypeIdx")}function DV(e){return Nz(e,"CATEGORIES")}function LV(e){return Nz(e,"tokenTypeIdx")}var NV,QV;(QV=NV||(NV={}))[QV.MISSING_PATTERN=0]="MISSING_PATTERN",QV[QV.INVALID_PATTERN=1]="INVALID_PATTERN",QV[QV.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",QV[QV.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",QV[QV.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",QV[QV.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",QV[QV.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",QV[QV.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",QV[QV.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",QV[QV.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",QV[QV.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",QV[QV.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",QV[QV.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",QV[QV.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",QV[QV.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",QV[QV.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",QV[QV.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",QV[QV.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE";var HV={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:{buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->".concat(e.image,"<- The Mode Stack is empty")},buildUnexpectedCharactersMessage:function(e,t,n,r,i){return"unexpected character: ->".concat(e.charAt(t),"<- at offset: ").concat(t,", skipped ").concat(n," characters.")}},traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(HV);var jV=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HV;if(c(this,e),this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=function(e,t){if(!0===n.traceInitPerf){n.traceInitIndent++;var r=new Array(n.traceInitIndent+1).join("\t");n.traceInitIndent<n.traceInitMaxIdent&&console.log("".concat(r,"--\x3e <").concat(e,">"));var i=dG(t),a=i.time,o=i.value,s=a>10?console.warn:console.log;return n.traceInitIndent<n.traceInitMaxIdent&&s("".concat(r,"<-- <").concat(e,"> time: ").concat(a,"ms")),n.traceInitIndent--,o}return t()},"boolean"===typeof r)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=gQ({},HV,r);var i=this.config.traceInitPerf;!0===i?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"===typeof i&&(this.traceInitMaxIdent=i,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var e,i=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===HV.lineTerminatorsPattern)n.config.lineTerminatorsPattern=_V;else if(n.config.lineTerminatorCharacters===HV.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),UL(t)?e={modes:{defaultMode:dj(t)},defaultMode:AV}:(i=!1,e=dj(t))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(function(e,t,n){var r=[];return Nz(e,AV)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+AV+"> property in its definition\n",type:NV.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Nz(e,fV)||r.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:NV.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Nz(e,fV)&&Nz(e,AV)&&!Nz(e.modes,e.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a ".concat(AV,": <").concat(e.defaultMode,">which does not exist\n"),type:NV.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Nz(e,fV)&&bz(e.modes,(function(e,t){bz(e,(function(n,i){$z(n)?r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<".concat(t,"> at index: <").concat(i,">\n"),type:NV.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED}):Nz(n,"LONGER_ALT")&&bz(UL(n.LONGER_ALT)?n.LONGER_ALT:[n.LONGER_ALT],(function(i){$z(i)||Gz(e,i)||r.push({message:"A MultiMode Lexer cannot be initialized with a longer_alt <".concat(i.name,"> on token <").concat(n.name,"> outside of mode <").concat(t,">\n"),type:NV.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})}))}))})),r}(e,n.trackStartLines,n.config.lineTerminatorCharacters))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(bV(e,n.trackStartLines,n.config.lineTerminatorCharacters))}))),e.modes=e.modes?e.modes:{},bz(e.modes,(function(t,n){e.modes[n]=aG(t,(function(e){return $z(e)}))}));var a=hQ(e.modes);if(bz(e.modes,(function(e,t){n.TRACE_INIT("Mode: <".concat(t,"> processing"),(function(){var i;(n.modes.push(t),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(pV(e,a))})),Yz(n.lexerDefinitionErrors))&&(FV(e),n.TRACE_INIT("analyzeTokenTypes",(function(){i=hV(e,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:n.TRACE_INIT})})),n.patternIdxToConfig[t]=i.patternIdxToConfig,n.charCodeToPatternIdxToConfig[t]=i.charCodeToPatternIdxToConfig,n.emptyGroups=gQ({},n.emptyGroups,i.emptyGroups),n.hasCustom=i.hasCustom||n.hasCustom,n.canModeBeOptimized[t]=i.canBeOptimized)}))})),n.defaultMode=e.defaultMode,!Yz(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var o=Mz(n.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+o)}bz(n.lexerDefinitionWarning,(function(e){fG(e.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(dV?(n.chopInput=ZL,n.match=n.matchWithTest):(n.updateLastIndex=mN,n.match=n.matchWithExec),i&&(n.handleModes=mN),!1===n.trackStartLines&&(n.computeNewColumn=ZL),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=mN),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'.concat(n.config.positionTracking,'"'));n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var e=iG(n.canModeBeOptimized,(function(e,t,n){return!1===t&&e.push(n),e}),[]);if(r.ensureOptimizations&&!Yz(e))throw Error("Lexer Modes: < ".concat(e.join(", "),' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.'))})),n.TRACE_INIT("clearRegExpParserCache",(function(){JG={}})),n.TRACE_INIT("toFastProperties",(function(){hG(n)}))}))}return h(e,[{key:"tokenize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultMode;if(!Yz(this.lexerDefinitionErrors)){var n=Mz(this.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(e,t)}},{key:"tokenizeInternal",value:function(e,t){var n,r,i,a,o,s,u,l,c,A,f,d,h,p,v,g,m=this,y=e,b=y.length,w=0,x=0,_=this.hasCustom?0:Math.floor(e.length/10),C=new Array(_),E=[],S=this.trackStartLines?1:void 0,B=this.trackStartLines?1:void 0,T=function(e){var t={};return bz(hQ(e),(function(n){var r=e[n];if(!UL(r))throw Error("non exhaustive match");t[n]=[]})),t}(this.emptyGroups),I=this.trackStartLines,k=this.config.lineTerminatorsPattern,M=0,R=[],U=[],F=[],O=[];function P(){return R}function D(e){var t=IV(e),n=U[t];return void 0===n?O:n}Object.freeze(O);var L,N=function(e){if(1===F.length&&void 0===e.tokenType.PUSH_MODE){var t=m.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);E.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{F.pop();var n=gz(F);R=m.patternIdxToConfig[n],U=m.charCodeToPatternIdxToConfig[n],M=R.length;var r=m.canModeBeOptimized[n]&&!1===m.config.safeMode;g=U&&r?D:P}};function Q(e){F.push(e),U=this.charCodeToPatternIdxToConfig[e],R=this.patternIdxToConfig[e],M=R.length,M=R.length;var t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;g=U&&t?D:P}Q.call(this,t);for(var H=this.config.recoveryEnabled;w<b;){s=null;var j=y.charCodeAt(w),z=g(j),G=z.length;for(n=0;n<G;n++){var V=(L=z[n]).pattern;u=null;var W=L.short;if(!1!==W?j===W&&(s=V):!0===L.isCustom?null!==(v=V.exec(y,w,C,T))?(s=v[0],void 0!==v.payload&&(u=v.payload)):s=null:(this.updateLastIndex(V,w),s=this.match(V,e,w)),null!==s){if(void 0!==(o=L.longerAlt)){var K=o.length;for(i=0;i<K;i++){var X=R[o[i]],q=X.pattern;if(l=null,!0===X.isCustom?null!==(v=q.exec(y,w,C,T))?(a=v[0],void 0!==v.payload&&(l=v.payload)):a=null:(this.updateLastIndex(q,w),a=this.match(q,e,w)),a&&a.length>s.length){s=a,u=l,L=X;break}}}break}}if(null!==s){if(c=s.length,void 0!==(A=L.group)&&(f=L.tokenTypeIdx,d=this.createTokenInstance(s,w,f,L.tokenType,S,B,c),this.handlePayload(d,u),!1===A?x=this.addToken(C,x,d):T[A].push(d)),e=this.chopInput(e,c),w+=c,B=this.computeNewColumn(B,c),!0===I&&!0===L.canLineTerminator){var Y=0,Z=void 0,J=void 0;k.lastIndex=0;do{!0===(Z=k.test(s))&&(J=k.lastIndex-1,Y++)}while(!0===Z);0!==Y&&(S+=Y,B=c-J,this.updateTokenEndLineColumnLocation(d,A,J,Y,S,B,c))}this.handleModes(L,N,Q,d)}else{for(var $=w,ee=S,te=B,ne=!1===H;!1===ne&&w<b;)for(e=this.chopInput(e,1),w++,r=0;r<M;r++){var re=R[r],ie=re.pattern,ae=re.short;if(!1!==ae?y.charCodeAt(w)===ae&&(ne=!0):!0===re.isCustom?ne=null!==ie.exec(y,w,C,T):(this.updateLastIndex(ie,w),ne=null!==ie.exec(e)),!0===ne)break}if(h=w-$,B=this.computeNewColumn(B,h),p=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,$,h,ee,te),E.push({offset:$,line:ee,column:te,length:h,message:p}),!1===H)break}}return this.hasCustom||(C.length=x),{tokens:C,groups:T,errors:E}}},{key:"handleModes",value:function(e,t,n,r){if(!0===e.pop){var i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)}},{key:"chopInput",value:function(e,t){return e.substring(t)}},{key:"updateLastIndex",value:function(e,t){e.lastIndex=t}},{key:"updateTokenEndLineColumnLocation",value:function(e,t,n,r,i,a,o){var s,u;void 0!==t&&(u=(s=n===o-1)?-1:0,1===r&&!0===s||(e.endLine=i+u,e.endColumn=a-1-u))}},{key:"computeNewColumn",value:function(e,t){return e+t}},{key:"createOffsetOnlyToken",value:function(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}}},{key:"createStartOnlyToken",value:function(e,t,n,r,i,a){return{image:e,startOffset:t,startLine:i,startColumn:a,tokenTypeIdx:n,tokenType:r}}},{key:"createFullToken",value:function(e,t,n,r,i,a,o){return{image:e,startOffset:t,endOffset:t+o-1,startLine:i,endLine:i,startColumn:a,endColumn:a+o-1,tokenTypeIdx:n,tokenType:r}}},{key:"addTokenUsingPush",value:function(e,t,n){return e.push(n),t}},{key:"addTokenUsingMemberAccess",value:function(e,t,n){return e[t]=n,++t}},{key:"handlePayloadNoCustom",value:function(e,t){}},{key:"handlePayloadWithCustom",value:function(e,t){null!==t&&(e.payload=t)}},{key:"matchWithTest",value:function(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null}},{key:"matchWithExec",value:function(e,t){var n=e.exec(t);return null!==n?n[0]:null}}]),e}();function zV(e){return GV(e)?e.LABEL:e.name}function GV(e){return Hz(e.LABEL)&&""!==e.LABEL}jV.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",jV.NA=/NOT_APPLICABLE/;var VV="parent",WV="categories",KV="label",XV="group",qV="push_mode",YV="pop_mode",ZV="longer_alt",JV="line_breaks",$V="start_chars_hint";function eW(e){return function(e){var t=e.pattern,n={};n.name=e.name,$z(t)||(n.PATTERN=t);if(Nz(e,VV))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";Nz(e,WV)&&(n.CATEGORIES=e[WV]);FV([n]),Nz(e,KV)&&(n.LABEL=e[KV]);Nz(e,XV)&&(n.GROUP=e[XV]);Nz(e,YV)&&(n.POP_MODE=e[YV]);Nz(e,qV)&&(n.PUSH_MODE=e[qV]);Nz(e,ZV)&&(n.LONGER_ALT=e[ZV]);Nz(e,JV)&&(n.LINE_BREAKS=e[JV]);Nz(e,$V)&&(n.START_CHARS_HINT=e[$V]);return n}(e)}var tW=eW({name:"EOF",pattern:jV.NA});function nW(e,t,n,r,i,a,o,s){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:a,startColumn:o,endColumn:s,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}FV([tW]);var rW={buildMismatchTokenMessage:function(e){var t=e.expected,n=e.actual,r=(e.previous,e.ruleName,GV(t)?"--\x3e ".concat(zV(t)," <--"):"token of type --\x3e ".concat(t.name," <--"));return"Expecting ".concat(r," but found --\x3e '").concat(n.image,"' <--")},buildNotAllInputParsedMessage:function(e){var t=e.firstRedundant;e.ruleName;return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage:function(e){var t=e.expectedPathsPerAlt,n=e.actual,r=(e.previous,e.customUserDescription),i=(e.ruleName,"Expecting: "),a="\nbut found: '"+Iz(n).image+"'";if(r)return i+r+a;var o=Mz(iG(t,(function(e,t){return e.concat(t)}),[]),(function(e){return"[".concat(Mz(e,(function(e){return zV(e)})).join(", "),"]")})),s=Mz(o,(function(e,t){return"  ".concat(t+1,". ").concat(e)}));return i+"one of these possible Token sequences:\n".concat(s.join("\n"))+a},buildEarlyExitMessage:function(e){var t=e.expectedIterationPaths,n=e.actual,r=e.customUserDescription,i=(e.ruleName,"Expecting: "),a="\nbut found: '"+Iz(n).image+"'";if(r)return i+r+a;var o=Mz(t,(function(e){return"[".concat(Mz(e,(function(e){return zV(e)})).join(","),"]")}));return i+"expecting at least one iteration which starts with one of these possible Token sequences::\n  <".concat(o.join(" ,"),">")+a}};Object.freeze(rW);var iW={buildRuleNotFoundError:function(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"}},aW={buildDuplicateFoundError:function(e,t){var n,r=e.name,i=Iz(t),a=i.idx,o=kG(i),s=(n=i)instanceof SG?n.terminalType.name:n instanceof gG?n.nonTerminalName:"",u=a>0,l="->".concat(o).concat(u?a:"","<- ").concat(s?"with argument: ->".concat(s,"<-"):"","\n                  appears more than once (").concat(t.length," times) in the top level rule: ->").concat(r,"<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ");return l=(l=l.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(e){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <".concat(e.name,">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.")},buildAlternationPrefixAmbiguityError:function(e){var t=Mz(e.prefixPath,(function(e){return zV(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return"Ambiguous alternatives: <".concat(e.ambiguityIndices.join(" ,"),"> due to common lookahead prefix\nin <OR").concat(n,"> inside <").concat(e.topLevelRule.name,"> Rule,\n<").concat(t,"> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.")},buildAlternationAmbiguityError:function(e){var t=Mz(e.prefixPath,(function(e){return zV(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx,r="Ambiguous Alternatives Detected: <".concat(e.ambiguityIndices.join(" ,"),"> in <OR").concat(n,"> inside <").concat(e.topLevelRule.name,"> Rule,\n<").concat(t,"> may appears as a prefix path in all these alternatives.\n");return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(e){var t=kG(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),"The repetition <".concat(t,"> within Rule <").concat(e.topLevelRule.name,"> can never consume any tokens.\nThis could lead to an infinite loop.")},buildTokenNameError:function(e){return"deprecated"},buildEmptyAlternationError:function(e){return"Ambiguous empty alternative: <".concat(e.emptyChoiceIdx+1,"> in <OR").concat(e.alternation.idx,"> inside <").concat(e.topLevelRule.name,"> Rule.\nOnly the last alternative may be an empty alternative.")},buildTooManyAlternativesError:function(e){return"An Alternation cannot have more than 256 alternatives:\n<OR".concat(e.alternation.idx,"> inside <").concat(e.topLevelRule.name,"> Rule.\n has ").concat(e.alternation.definition.length+1," alternatives.")},buildLeftRecursionError:function(e){var t=e.topLevelRule.name,n=Mz(e.leftRecursionPath,(function(e){return e.name})),r="".concat(t," --\x3e ").concat(n.concat([t]).join(" --\x3e "));return"Left Recursion found in grammar.\nrule: <".concat(t,"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ").concat(r,"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.")},buildInvalidRuleNameError:function(e){return"deprecated"},buildDuplicateRuleNameError:function(e){var t;return t=e.topLevelRule instanceof mG?e.topLevelRule.name:e.topLevelRule,"Duplicate definition, rule: ->".concat(t,"<- is already defined in the grammar: ->").concat(e.grammarName,"<-")}};var oW,sW,uW=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).nameToTopRule=e,i.errMsgProvider=r,i.errors=[],i}return h(n,[{key:"resolveRefs",value:function(){var e=this;bz(jz(this.nameToTopRule),(function(t){e.currTopLevel=t,t.accept(e)}))}},{key:"visitNonTerminal",value:function(e){var t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:LK.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}]),n}(TG),lW=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).topProd=e,i.path=r,i.possibleTokTypes=[],i.nextProductionName="",i.nextProductionOccurrence=0,i.found=!1,i.isAtEndOfPath=!1,i}return h(n,[{key:"startWalking",value:function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=dj(this.path.ruleStack).reverse(),this.occurrenceStack=dj(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}},{key:"walk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.found||_p(g(n.prototype),"walk",this).call(this,e,t)}},{key:"walkProdRef",value:function(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){var r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}},{key:"updateExpectedNext",value:function(){Yz(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}]),n}(MG),cW=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).path=r,i.nextTerminalName="",i.nextTerminalOccurrence=0,i.nextTerminalName=i.path.lastTok.name,i.nextTerminalOccurrence=i.path.lastTokOccurrence,i}return h(n,[{key:"walkTerminal",value:function(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){var r=t.concat(n),i=new yG({definition:r});this.possibleTokTypes=UG(i),this.found=!0}}}]),n}(lW),AW=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).topRule=e,i.occurrence=r,i.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},i}return h(n,[{key:"startWalking",value:function(){return this.walk(this.topRule),this.result}}]),n}(MG),fW=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"walkMany",value:function(e,t,r){if(e.idx===this.occurrence){var i=Iz(t.concat(r));this.result.isEndOfRule=void 0===i,i instanceof SG&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else _p(g(n.prototype),"walkMany",this).call(this,e,t,r)}}]),n}(AW),dW=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"walkManySep",value:function(e,t,r){if(e.idx===this.occurrence){var i=Iz(t.concat(r));this.result.isEndOfRule=void 0===i,i instanceof SG&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else _p(g(n.prototype),"walkManySep",this).call(this,e,t,r)}}]),n}(AW),hW=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"walkAtLeastOne",value:function(e,t,r){if(e.idx===this.occurrence){var i=Iz(t.concat(r));this.result.isEndOfRule=void 0===i,i instanceof SG&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else _p(g(n.prototype),"walkAtLeastOne",this).call(this,e,t,r)}}]),n}(AW),pW=function(e){v(n,e);var t=w(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"walkAtLeastOneSep",value:function(e,t,r){if(e.idx===this.occurrence){var i=Iz(t.concat(r));this.result.isEndOfRule=void 0===i,i instanceof SG&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else _p(g(n.prototype),"walkAtLeastOneSep",this).call(this,e,t,r)}}]),n}(AW);function vW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n=dj(n);var r=[],i=0;function a(a){var o=vW(a.concat(mz(e,i+1)),t,n);return r.concat(o)}for(;n.length<t&&i<e.length;){var o=e[i];if(o instanceof yG)return a(o.definition);if(o instanceof gG)return a(o.definition);if(o instanceof bG)r=a(o.definition);else{if(o instanceof wG)return a(o.definition.concat([new _G({definition:o.definition})]));if(o instanceof xG)return a([new yG({definition:o.definition}),new _G({definition:[new SG({terminalType:o.separator})].concat(o.definition)})]);if(o instanceof CG){var s=o.definition.concat([new _G({definition:[new SG({terminalType:o.separator})].concat(o.definition)})]);r=a(s)}else if(o instanceof _G){var u=o.definition.concat([new _G({definition:o.definition})]);r=a(u)}else{if(o instanceof EG)return bz(o.definition,(function(e){!1===Yz(e.definition)&&(r=a(e.definition))})),r;if(!(o instanceof SG))throw Error("non exhaustive match");n.push(o.terminalType)}}i++}return r.push({partialPath:n,suffixDef:mz(e,i)}),r}function gW(e,t,n,r){var i="EXIT_NONE_TERMINAL",a=[i],o="EXIT_ALTERNATIVE",s=!1,u=t.length,l=u-r-1,c=[],A=[];for(A.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Yz(A);){var f=A.pop();if(f!==o){var d=f.def,h=f.idx,p=f.ruleStack,v=f.occurrenceStack;if(!Yz(d)){var g=d[0];if(g===i){var m={idx:h,def:mz(d),ruleStack:yz(p),occurrenceStack:yz(v)};A.push(m)}else if(g instanceof SG)if(h<u-1){var y=h+1;if(n(t[y],g.terminalType)){var b={idx:y,def:mz(d),ruleStack:p,occurrenceStack:v};A.push(b)}}else{if(h!==u-1)throw Error("non exhaustive match");c.push({nextTokenType:g.terminalType,nextTokenOccurrence:g.idx,ruleStack:p,occurrenceStack:v}),s=!0}else if(g instanceof gG){var w=dj(p);w.push(g.nonTerminalName);var x=dj(v);x.push(g.idx);var _={idx:h,def:g.definition.concat(a,mz(d)),ruleStack:w,occurrenceStack:x};A.push(_)}else if(g instanceof bG){var C={idx:h,def:mz(d),ruleStack:p,occurrenceStack:v};A.push(C),A.push(o);var E={idx:h,def:g.definition.concat(mz(d)),ruleStack:p,occurrenceStack:v};A.push(E)}else if(g instanceof wG){var S=new _G({definition:g.definition,idx:g.idx}),B={idx:h,def:g.definition.concat([S],mz(d)),ruleStack:p,occurrenceStack:v};A.push(B)}else if(g instanceof xG){var T=new SG({terminalType:g.separator}),I=new _G({definition:[T].concat(g.definition),idx:g.idx}),k={idx:h,def:g.definition.concat([I],mz(d)),ruleStack:p,occurrenceStack:v};A.push(k)}else if(g instanceof CG){var M={idx:h,def:mz(d),ruleStack:p,occurrenceStack:v};A.push(M),A.push(o);var R=new SG({terminalType:g.separator}),U=new _G({definition:[R].concat(g.definition),idx:g.idx}),F={idx:h,def:g.definition.concat([U],mz(d)),ruleStack:p,occurrenceStack:v};A.push(F)}else if(g instanceof _G){var O={idx:h,def:mz(d),ruleStack:p,occurrenceStack:v};A.push(O),A.push(o);var P=new _G({definition:g.definition,idx:g.idx}),D={idx:h,def:g.definition.concat([P],mz(d)),ruleStack:p,occurrenceStack:v};A.push(D)}else if(g instanceof EG)for(var L=g.definition.length-1;L>=0;L--){var N={idx:h,def:g.definition[L].definition.concat(mz(d)),ruleStack:p,occurrenceStack:v};A.push(N),A.push(o)}else if(g instanceof yG)A.push({idx:h,def:g.definition.concat(mz(d)),ruleStack:p,occurrenceStack:v});else{if(!(g instanceof mG))throw Error("non exhaustive match");A.push(mW(g,h,p,v))}}}else s&&gz(A).idx<=l&&A.pop()}return c}function mW(e,t,n,r){var i=dj(n);i.push(e.name);var a=dj(r);return a.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:a}}function yW(e){if(e instanceof bG||"Option"===e)return oW.OPTION;if(e instanceof _G||"Repetition"===e)return oW.REPETITION;if(e instanceof wG||"RepetitionMandatory"===e)return oW.REPETITION_MANDATORY;if(e instanceof xG||"RepetitionMandatoryWithSeparator"===e)return oW.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof CG||"RepetitionWithSeparator"===e)return oW.REPETITION_WITH_SEPARATOR;if(e instanceof EG||"Alternation"===e)return oW.ALTERNATION;throw Error("non exhaustive match")}function bW(e,t,n,r){var i=e.length,a=_z(e,(function(e){return _z(e,(function(e){return 1===e.length}))}));if(t)return function(t){for(var r=Mz(t,(function(e){return e.GATE})),a=0;a<i;a++){var o=e[a],s=o.length,u=r[a];if(void 0===u||!1!==u.call(this))e:for(var l=0;l<s;l++){for(var c=o[l],A=c.length,f=0;f<A;f++){var d=this.LA(f+1);if(!1===n(d,c[f]))continue e}return a}}};if(a&&!r){var o=iG(Mz(e,(function(e){return XQ(e)})),(function(e,t,n){return bz(t,(function(t){Nz(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),bz(t.categoryMatches,(function(t){Nz(e,t)||(e[t]=n)}))})),e}),{});return function(){var e=this.LA(1);return o[e.tokenTypeIdx]}}return function(){for(var t=0;t<i;t++){var r=e[t],a=r.length;e:for(var o=0;o<a;o++){for(var s=r[o],u=s.length,l=0;l<u;l++){var c=this.LA(l+1);if(!1===n(c,s[l]))continue e}return t}}}}function wW(e,t,n){var r=_z(e,(function(e){return 1===e.length})),i=e.length;if(r&&!n){var a=XQ(e);if(1===a.length&&Yz(a[0].categoryMatches)){var o=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}var s=iG(a,(function(e,t,n){return e[t.tokenTypeIdx]=!0,bz(t.categoryMatches,(function(t){e[t]=!0})),e}),[]);return function(){var e=this.LA(1);return!0===s[e.tokenTypeIdx]}}return function(){e:for(var n=0;n<i;n++){for(var r=e[n],a=r.length,o=0;o<a;o++){var s=this.LA(o+1);if(!1===t(s,r[o]))continue e}return!0}return!1}}(sW=oW||(oW={}))[sW.OPTION=0]="OPTION",sW[sW.REPETITION=1]="REPETITION",sW[sW.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",sW[sW.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",sW[sW.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",sW[sW.ALTERNATION=5]="ALTERNATION";var xW=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).topProd=e,a.targetOccurrence=r,a.targetProdType=i,a}return h(n,[{key:"startWalking",value:function(){return this.walk(this.topProd),this.restDef}},{key:"checkIsTarget",value:function(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)}},{key:"walkOption",value:function(e,t,r){this.checkIsTarget(e,oW.OPTION,t,r)||_p(g(n.prototype),"walkOption",this).call(this,e,t,r)}},{key:"walkAtLeastOne",value:function(e,t,r){this.checkIsTarget(e,oW.REPETITION_MANDATORY,t,r)||_p(g(n.prototype),"walkOption",this).call(this,e,t,r)}},{key:"walkAtLeastOneSep",value:function(e,t,r){this.checkIsTarget(e,oW.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||_p(g(n.prototype),"walkOption",this).call(this,e,t,r)}},{key:"walkMany",value:function(e,t,r){this.checkIsTarget(e,oW.REPETITION,t,r)||_p(g(n.prototype),"walkOption",this).call(this,e,t,r)}},{key:"walkManySep",value:function(e,t,r){this.checkIsTarget(e,oW.REPETITION_WITH_SEPARATOR,t,r)||_p(g(n.prototype),"walkOption",this).call(this,e,t,r)}}]),n}(MG),_W=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).targetOccurrence=e,a.targetProdType=r,a.targetRef=i,a.result=[],a}return h(n,[{key:"checkIsTarget",value:function(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)}},{key:"visitOption",value:function(e){this.checkIsTarget(e,oW.OPTION)}},{key:"visitRepetition",value:function(e){this.checkIsTarget(e,oW.REPETITION)}},{key:"visitRepetitionMandatory",value:function(e){this.checkIsTarget(e,oW.REPETITION_MANDATORY)}},{key:"visitRepetitionMandatoryWithSeparator",value:function(e){this.checkIsTarget(e,oW.REPETITION_MANDATORY_WITH_SEPARATOR)}},{key:"visitRepetitionWithSeparator",value:function(e){this.checkIsTarget(e,oW.REPETITION_WITH_SEPARATOR)}},{key:"visitAlternation",value:function(e){this.checkIsTarget(e,oW.ALTERNATION)}}]),n}(TG);function CW(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}function EW(e){for(var t=[""],n=0;n<e.length;n++){for(var r=e[n],i=[],a=0;a<t.length;a++){var o=t[a];i.push(o+"_"+r.tokenTypeIdx);for(var s=0;s<r.categoryMatches.length;s++){var u="_"+r.categoryMatches[s];i.push(o+u)}}t=i}return t}function SW(e,t,n){for(var r=0;r<e.length;r++)if(r!==n)for(var i=e[r],a=0;a<t.length;a++){if(!0===i[t[a]])return!1}return!0}function BW(e,t){for(var n=Mz(e,(function(e){return vW([e],1)})),r=CW(n.length),i=Mz(n,(function(e){var t={};return bz(e,(function(e){bz(EW(e.partialPath),(function(e){t[e]=!0}))})),t})),a=n,o=1;o<=t;o++){var s=a;a=CW(s.length);for(var u=function(e){for(var n=s[e],u=0;u<n.length;u++){var l=n[u].partialPath,c=n[u].suffixDef,A=EW(l);if(SW(i,A,e)||Yz(c)||l.length===t){var f=r[e];if(!1===kW(f,l)){f.push(l);for(var d=0;d<A.length;d++){var h=A[d];i[e][h]=!0}}}else{var p=vW(c,o+1,l);a[e]=a[e].concat(p),bz(p,(function(t){bz(EW(t.partialPath),(function(t){i[e][t]=!0}))}))}}},l=0;l<s.length;l++)u(l)}return r}function TW(e,t,n,r){var i=new _W(e,oW.ALTERNATION,r);return t.accept(i),BW(i.result,n)}function IW(e,t,n,r){var i=new _W(e,n);t.accept(i);var a=i.result,o=new xW(t,e,n).startWalking();return BW([new yG({definition:a}),new yG({definition:o})],r)}function kW(e,t){e:for(var n=0;n<e.length;n++){var r=e[n];if(r.length===t.length){for(var i=0;i<r.length;i++){var a=t[i],o=r[i];if(!1===(a===o||void 0!==o.categoryMatchesMap[a.tokenTypeIdx]))continue e}return!0}}return!1}function MW(e){return _z(e,(function(e){return _z(e,(function(e){return _z(e,(function(e){return Yz(e.categoryMatches)}))}))}))}function RW(e,t,n,r){var i=Rz(e,(function(e){return function(e,t){var n=new OW;e.accept(n);var r=n.allProductions,i=Mz(jz(nG(Pz(r,UW),(function(e){return e.length>1}))),(function(n){var r=Iz(n),i=t.buildDuplicateFoundError(e,n),a=kG(r),o={message:i,type:LK.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:a,occurrence:r.idx},s=FW(r);return s&&(o.parameter=s),o}));return i}(e,n)})),a=function(e,t,n){var r=[],i=Mz(t,(function(e){return e.name}));return bz(e,(function(e){var t=e.name;if(Gz(i,t)){var a=n.buildNamespaceConflictError(e);r.push({message:a,type:LK.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),r}(e,t,n),o=Rz(e,(function(e){return function(e,t){var n=new LW;e.accept(n);var r=Rz(n.alternations,(function(n){return n.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:n}),type:LK.TOO_MANY_ALTS,ruleName:e.name,occurrence:n.idx}]:[]}));return r}(e,n)})),s=Rz(e,(function(t){return function(e,t,n,r){var i=[],a=iG(t,(function(t,n){return n.name===e.name?t+1:t}),0);if(a>1){var o=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});i.push({message:o,type:LK.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}(t,e,r,n)}));return i.concat(a,o,s)}function UW(e){return"".concat(kG(e),"_#_").concat(e.idx,"_#_").concat(FW(e))}function FW(e){return e instanceof SG?e.terminalType.name:e instanceof gG?e.nonTerminalName:""}var OW=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).allProductions=[],e}return h(n,[{key:"visitNonTerminal",value:function(e){this.allProductions.push(e)}},{key:"visitOption",value:function(e){this.allProductions.push(e)}},{key:"visitRepetitionWithSeparator",value:function(e){this.allProductions.push(e)}},{key:"visitRepetitionMandatory",value:function(e){this.allProductions.push(e)}},{key:"visitRepetitionMandatoryWithSeparator",value:function(e){this.allProductions.push(e)}},{key:"visitRepetition",value:function(e){this.allProductions.push(e)}},{key:"visitAlternation",value:function(e){this.allProductions.push(e)}},{key:"visitTerminal",value:function(e){this.allProductions.push(e)}}]),n}(TG);function PW(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=[],a=DW(t.definition);if(Yz(a))return[];var o=e.name;Gz(a,e)&&i.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:LK.LEFT_RECURSION,ruleName:o});var s=Rz(vz(a,r.concat([e])),(function(t){var i=dj(r);return i.push(t),PW(e,t,n,i)}));return i.concat(s)}function DW(e){var t=[];if(Yz(e))return t;var n=Iz(e);if(n instanceof gG)t.push(n.referencedRule);else if(n instanceof yG||n instanceof bG||n instanceof wG||n instanceof xG||n instanceof CG||n instanceof _G)t=t.concat(DW(n.definition));else if(n instanceof EG)t=XQ(Mz(n.definition,(function(e){return DW(e.definition)})));else if(!(n instanceof SG))throw Error("non exhaustive match");var r=IG(n),i=e.length>1;if(r&&i){var a=mz(e);return t.concat(DW(a))}return t}var LW=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).alternations=[],e}return h(n,[{key:"visitAlternation",value:function(e){this.alternations.push(e)}}]),n}(TG);function NW(e,t,n){var r=new LW;e.accept(r);var i=r.alternations,a=Rz(i=aG(i,(function(e){return!0===e.ignoreAmbiguities})),(function(r){var i=r.idx,a=r.maxLookahead||t,o=TW(i,e,a,r),s=function(e,t,n,r){var i=[],a=iG(e,(function(n,r,a){return!0===t.definition[a].ignoreAmbiguities||bz(r,(function(r){var o=[a];bz(e,(function(e,n){a!==n&&kW(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&o.push(n)})),o.length>1&&!kW(i,r)&&(i.push(r),n.push({alts:o,path:r}))})),n}),[]),o=Mz(a,(function(e){var i=Mz(e.alts,(function(e){return e+1}));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:LK.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:e.alts}}));return o}(o,r,e,n),u=function(e,t,n,r){var i=iG(e,(function(e,t,n){var r=Mz(t,(function(e){return{idx:n,path:e}}));return e.concat(r)}),[]),a=hj(Rz(i,(function(e){if(!0===t.definition[e.idx].ignoreAmbiguities)return[];var a=e.idx,o=e.path;return Mz(Ez(i,(function(e){return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<a&&(n=e.path,r=o,n.length<r.length&&_z(n,(function(e,t){var n=r[t];return e===n||n.categoryMatchesMap[e.tokenTypeIdx]})));var n,r})),(function(e){var i=[e.idx+1,a+1],o=0===t.idx?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:LK.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}))})));return a}(o,r,e,n);return s.concat(u)}));return a}var QW=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).allProductions=[],e}return h(n,[{key:"visitRepetitionWithSeparator",value:function(e){this.allProductions.push(e)}},{key:"visitRepetitionMandatory",value:function(e){this.allProductions.push(e)}},{key:"visitRepetitionMandatoryWithSeparator",value:function(e){this.allProductions.push(e)}},{key:"visitRepetition",value:function(e){this.allProductions.push(e)}}]),n}(TG);function HW(e){var t=dz(e,{errMsgProvider:iW}),n={};return bz(e.rules,(function(e){n[e.name]=e})),function(e,t){var n=new uW(e,t);return n.resolveRefs(),n.errors}(n,t.errMsgProvider)}var jW="MismatchedTokenException",zW="NoViableAltException",GW="EarlyExitException",VW="NotAllInputParsedException",WW=[jW,zW,GW,VW];function KW(e){return Gz(WW,e.name)}Object.freeze(WW);var XW=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e)).token=r,i.resyncedTokens=[],Object.setPrototypeOf(y(i),(this instanceof n?this.constructor:void 0).prototype),Error.captureStackTrace&&Error.captureStackTrace(y(i),i.constructor),i}return h(n)}(B(Error)),qW=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r)).previousToken=i,a.name=jW,a}return h(n)}(XW),YW=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r)).previousToken=i,a.name=zW,a}return h(n)}(XW),ZW=function(e){v(n,e);var t=w(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).name=VW,i}return h(n)}(XW),JW=function(e){v(n,e);var t=w(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r)).previousToken=i,a.name=GW,a}return h(n)}(XW),$W={},eK="InRuleRecoveryException",tK=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).name=eK,r}return h(n)}(B(Error)),nK=function(){function e(){c(this,e)}return h(e,[{key:"initRecoverable",value:function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Nz(e,"recoveryEnabled")?e.recoveryEnabled:QK.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=rK)}},{key:"getTokenToInsert",value:function(e){var t=nW(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}},{key:"canTokenTypeBeInsertedInRecovery",value:function(e){return!0}},{key:"canTokenTypeBeDeletedInRecovery",value:function(e){return!0}},{key:"tryInRepetitionRecovery",value:function(e,t,n,r){for(var i=this,a=this.findReSyncTokenType(),o=this.exportLexerState(),s=[],u=!1,l=this.LA(1),c=this.LA(1),A=function(){var e=i.LA(0),t=i.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:l,previous:e,ruleName:i.getCurrRuleFullName()}),n=new qW(t,l,i.LA(0));n.resyncedTokens=yz(s),i.SAVE_ERROR(n)};!u;){if(this.tokenMatcher(c,r))return void A();if(n.call(this))return A(),void e.apply(this,t);this.tokenMatcher(c,a)?u=!0:(c=this.SKIP_TOKEN(),this.addToResyncTokens(c,s))}this.importLexerState(o)}},{key:"shouldInRepetitionRecoveryBeTried",value:function(e,t,n){return!1!==n&&(!this.tokenMatcher(this.LA(1),e)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t))))}},{key:"getFollowsForInRuleRecovery",value:function(e,t){var n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)}},{key:"tryInRuleRecovery",value:function(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new tK("sad sad panda")}},{key:"canPerformInRuleRecovery",value:function(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}},{key:"canRecoverWithSingleTokenInsertion",value:function(e,t){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if(Yz(t))return!1;var r=this.LA(1);return void 0!==Tz(t,(function(e){return n.tokenMatcher(r,e)}))}},{key:"canRecoverWithSingleTokenDeletion",value:function(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}},{key:"isInCurrentRuleReSyncSet",value:function(e){var t=this.getCurrFollowKey();return Gz(this.getFollowSetFromFollowKey(t),e)}},{key:"findReSyncTokenType",value:function(){for(var e=this.flattenFollowSet(),t=this.LA(1),n=2;;){var r=Tz(e,(function(e){return kV(t,e)}));if(void 0!==r)return r;t=this.LA(n),n++}}},{key:"getCurrFollowKey",value:function(){if(1===this.RULE_STACK.length)return $W;var e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}}},{key:"buildFullFollowKeyStack",value:function(){var e=this,t=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Mz(t,(function(r,i){return 0===i?$W:{ruleName:e.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:e.shortRuleNameToFullName(t[i-1])}}))}},{key:"flattenFollowSet",value:function(){var e=this;return XQ(Mz(this.buildFullFollowKeyStack(),(function(t){return e.getFollowSetFromFollowKey(t)})))}},{key:"getFollowSetFromFollowKey",value:function(e){if(e===$W)return[tW];var t=e.ruleName+e.idxInCallingRule+FG+e.inRule;return this.resyncFollows[t]}},{key:"addToResyncTokens",value:function(e,t){return this.tokenMatcher(e,tW)||t.push(e),t}},{key:"reSyncTo",value:function(e){for(var t=[],n=this.LA(1);!1===this.tokenMatcher(n,e);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return yz(t)}},{key:"attemptInRepetitionRecovery",value:function(e,t,n,r,i,a,o){}},{key:"getCurrentGrammarPath",value:function(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:dj(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}},{key:"getHumanReadableRuleStack",value:function(){var e=this;return Mz(this.RULE_STACK,(function(t){return e.shortRuleNameToFullName(t)}))}}]),e}();function rK(e,t,n,r,i,a,o){var s=this.getKeyForAutomaticLookahead(r,i),u=this.firstAfterRepMap[s];if(void 0===u){var l=this.getCurrRuleFullName();u=new a(this.getGAstProductions()[l],i).startWalking(),this.firstAfterRepMap[s]=u}var c=u.token,A=u.occurrence,f=u.isEndOfRule;1===this.RULE_STACK.length&&f&&void 0===c&&(c=tW,A=1),void 0!==c&&void 0!==A&&this.shouldInRepetitionRecoveryBeTried(c,A,o)&&this.tryInRepetitionRecovery(e,t,n,c)}var iK=1024,aK=1280,oK=1536;function sK(e,t,n){return n|t|e}var uK=function(){function e(t){var n;c(this,e),this.maxLookahead=null!==(n=null===t||void 0===t?void 0:t.maxLookahead)&&void 0!==n?n:QK.maxLookahead}return h(e,[{key:"validate",value:function(e){var t=this.validateNoLeftRecursion(e.rules);if(Yz(t)){var n=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[].concat(M(t),M(n),M(r),M(i))}return t}},{key:"validateNoLeftRecursion",value:function(e){return Rz(e,(function(e){return PW(e,e,aW)}))}},{key:"validateEmptyOrAlternatives",value:function(e){return Rz(e,(function(e){return function(e,t){var n=new LW;return e.accept(n),Rz(n.alternations,(function(n){return Rz(yz(n.definition),(function(r,i){return Yz(gW([r],[],kV,1))?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:n,emptyChoiceIdx:i}),type:LK.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:n.idx,alternative:i+1}]:[]}))}))}(e,aW)}))}},{key:"validateAmbiguousAlternationAlternatives",value:function(e,t){return Rz(e,(function(e){return NW(e,t,aW)}))}},{key:"validateSomeNonEmptyLookaheadPath",value:function(e,t){return function(e,t,n){var r=[];return bz(e,(function(e){var i=new QW;e.accept(i),bz(i.allProductions,(function(i){var a=yW(i),o=i.maxLookahead||t;if(Yz(XQ(IW(i.idx,e,a,o)[0]))){var s=n.buildEmptyRepetitionError({topLevelRule:e,repetition:i});r.push({message:s,type:LK.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),r}(e,t,aW)}},{key:"buildLookaheadForAlternation",value:function(e){return function(e,t,n,r,i,a){var o=TW(e,t,n);return a(o,r,MW(o)?MV:kV,i)}(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,bW)}},{key:"buildLookaheadForOptional",value:function(e){return function(e,t,n,r,i,a){var o=IW(e,t,i,n),s=MW(o)?MV:kV;return a(o[0],s,r)}(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,yW(e.prodType),wW)}}]),e}(),lK=function(){function e(){c(this,e)}return h(e,[{key:"initLooksAhead",value:function(e){this.dynamicTokensEnabled=Nz(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:QK.dynamicTokensEnabled,this.maxLookahead=Nz(e,"maxLookahead")?e.maxLookahead:QK.maxLookahead,this.lookaheadStrategy=Nz(e,"lookaheadStrategy")?e.lookaheadStrategy:new uK({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}},{key:"preComputeLookaheadFunctions",value:function(e){var t=this;bz(e,(function(e){t.TRACE_INIT("".concat(e.name," Rule Lookahead"),(function(){var n=function(e){AK.reset(),e.accept(AK);var t=AK.dslMethods;return AK.reset(),t}(e),r=n.alternation,i=n.repetition,a=n.option,o=n.repetitionMandatory,s=n.repetitionMandatoryWithSeparator,u=n.repetitionWithSeparator;bz(r,(function(n){var r=0===n.idx?"":n.idx;t.TRACE_INIT("".concat(kG(n)).concat(r),(function(){var r=t.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:n.idx,rule:e,maxLookahead:n.maxLookahead||t.maxLookahead,hasPredicates:n.hasPredicates,dynamicTokensEnabled:t.dynamicTokensEnabled}),i=sK(t.fullRuleNameToShort[e.name],256,n.idx);t.setLaFuncCache(i,r)}))})),bz(i,(function(n){t.computeLookaheadFunc(e,n.idx,768,"Repetition",n.maxLookahead,kG(n))})),bz(a,(function(n){t.computeLookaheadFunc(e,n.idx,512,"Option",n.maxLookahead,kG(n))})),bz(o,(function(n){t.computeLookaheadFunc(e,n.idx,iK,"RepetitionMandatory",n.maxLookahead,kG(n))})),bz(s,(function(n){t.computeLookaheadFunc(e,n.idx,oK,"RepetitionMandatoryWithSeparator",n.maxLookahead,kG(n))})),bz(u,(function(n){t.computeLookaheadFunc(e,n.idx,aK,"RepetitionWithSeparator",n.maxLookahead,kG(n))}))}))}))}},{key:"computeLookaheadFunc",value:function(e,t,n,r,i,a){var o=this;this.TRACE_INIT("".concat(a).concat(0===t?"":t),(function(){var a=o.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||o.maxLookahead,dynamicTokensEnabled:o.dynamicTokensEnabled,prodType:r}),s=sK(o.fullRuleNameToShort[e.name],n,t);o.setLaFuncCache(s,a)}))}},{key:"getKeyForAutomaticLookahead",value:function(e,t){return sK(this.getLastExplicitRuleShortName(),e,t)}},{key:"getLaFuncFromCache",value:function(e){return this.lookAheadFuncsCache.get(e)}},{key:"setLaFuncCache",value:function(e,t){this.lookAheadFuncsCache.set(e,t)}}]),e}(),cK=function(e){v(n,e);var t=w(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},e}return h(n,[{key:"reset",value:function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}},{key:"visitOption",value:function(e){this.dslMethods.option.push(e)}},{key:"visitRepetitionWithSeparator",value:function(e){this.dslMethods.repetitionWithSeparator.push(e)}},{key:"visitRepetitionMandatory",value:function(e){this.dslMethods.repetitionMandatory.push(e)}},{key:"visitRepetitionMandatoryWithSeparator",value:function(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}},{key:"visitRepetition",value:function(e){this.dslMethods.repetition.push(e)}},{key:"visitAlternation",value:function(e){this.dslMethods.alternation.push(e)}}]),n}(TG),AK=new cK;function fK(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset===!0&&(e.endOffset=t.endOffset)}function dK(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset===!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}var hK,pK,vK="name";function gK(e,t){Object.defineProperty(e,vK,{enumerable:!1,configurable:!0,writable:!1,value:t})}function mK(e,t){for(var n=hQ(e),r=n.length,i=0;i<r;i++)for(var a=e[n[i]],o=a.length,s=0;s<o;s++){var u=a[s];void 0===u.tokenTypeIdx&&this[u.name](u.children,t)}}function yK(e,t){var n=function(){};gK(n,e+"BaseSemantics");var r={visit:function(e,t){if(UL(e)&&(e=e[0]),!$z(e))return this[e.name](e.children,t)},validateVisitor:function(){var e=function(e,t){var n=function(e,t){var n=Ez(t,(function(t){return!1===nN(e[t])})),r=Mz(n,(function(t){return{msg:"Missing visitor method: <".concat(t,"> on ").concat(e.constructor.name," CST Visitor."),type:hK.MISSING_METHOD,methodName:t}}));return hj(r)}(e,t);return n}(this,t);if(!Yz(e)){var n=Mz(e,(function(e){return e.msg}));throw Error("Errors Detected in CST Visitor <".concat(this.constructor.name,">:\n\t").concat(n.join("\n\n").replace(/\n/g,"\n\t")))}}};return(n.prototype=r).constructor=n,n._RULE_NAMES=t,n}(pK=hK||(hK={}))[pK.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",pK[pK.MISSING_METHOD=1]="MISSING_METHOD";var bK=function(){function e(){c(this,e)}return h(e,[{key:"initTreeBuilder",value:function(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Nz(e,"nodeLocationTracking")?e.nodeLocationTracking:QK.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=dK,this.setNodeLocationFromNode=dK,this.cstPostRule=mN,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=mN,this.setNodeLocationFromNode=mN,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=fK,this.setNodeLocationFromNode=fK,this.cstPostRule=mN,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=mN,this.setNodeLocationFromNode=mN,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'.concat(e.nodeLocationTracking,'"'));this.setNodeLocationFromToken=mN,this.setNodeLocationFromNode=mN,this.cstPostRule=mN,this.setInitialNodeLocation=mN}else this.cstInvocationStateUpdate=mN,this.cstFinallyStateUpdate=mN,this.cstPostTerminal=mN,this.cstPostNonTerminal=mN,this.cstPostRule=mN}},{key:"setInitialNodeLocationOnlyOffsetRecovery",value:function(e){e.location={startOffset:NaN,endOffset:NaN}}},{key:"setInitialNodeLocationOnlyOffsetRegular",value:function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}},{key:"setInitialNodeLocationFullRecovery",value:function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}},{key:"setInitialNodeLocationFullRegular",value:function(e){var t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}},{key:"cstInvocationStateUpdate",value:function(e){var t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}},{key:"cstFinallyStateUpdate",value:function(){this.CST_STACK.pop()}},{key:"cstPostRuleFull",value:function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset===!0?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}},{key:"cstPostRuleOnlyOffset",value:function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset===!0?n.endOffset=t.endOffset:n.startOffset=NaN}},{key:"cstPostTerminal",value:function(e,t){var n,r,i,a=this.CST_STACK[this.CST_STACK.length-1];r=t,i=e,void 0===(n=a).children[i]?n.children[i]=[r]:n.children[i].push(r),this.setNodeLocationFromToken(a.location,t)}},{key:"cstPostNonTerminal",value:function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}(n,t,e),this.setNodeLocationFromNode(n.location,e.location)}},{key:"getBaseCstVisitorConstructor",value:function(){if($z(this.baseCstVisitorConstructor)){var e=yK(this.className,hQ(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}},{key:"getBaseCstVisitorConstructorWithDefaults",value:function(){if($z(this.baseCstVisitorWithDefaultsConstructor)){var e=function(e,t,n){var r=function(){};gK(r,e+"BaseSemanticsWithDefaults");var i=Object.create(n.prototype);return bz(t,(function(e){i[e]=mK})),(r.prototype=i).constructor=r,r}(this.className,hQ(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}},{key:"getLastExplicitRuleShortName",value:function(){var e=this.RULE_STACK;return e[e.length-1]}},{key:"getPreviousExplicitRuleShortName",value:function(){var e=this.RULE_STACK;return e[e.length-2]}},{key:"getLastExplicitRuleOccurrenceIndex",value:function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}]),e}(),wK=function(){function e(){c(this,e)}return h(e,[{key:"initLexerAdapter",value:function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}},{key:"input",get:function(){return this.tokVector},set:function(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}},{key:"SKIP_TOKEN",value:function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):DK}},{key:"LA",value:function(e){var t=this.currIdx+e;return t<0||this.tokVectorLength<=t?DK:this.tokVector[t]}},{key:"consumeToken",value:function(){this.currIdx++}},{key:"exportLexerState",value:function(){return this.currIdx}},{key:"importLexerState",value:function(e){this.currIdx=e}},{key:"resetLexerState",value:function(){this.currIdx=-1}},{key:"moveToTerminatedState",value:function(){this.currIdx=this.tokVector.length-1}},{key:"getLexerPosition",value:function(){return this.exportLexerState()}}]),e}(),xK=function(){function e(){c(this,e)}return h(e,[{key:"ACTION",value:function(e){return e.call(this)}},{key:"consume",value:function(e,t,n){return this.consumeInternal(t,e,n)}},{key:"subrule",value:function(e,t,n){return this.subruleInternal(t,e,n)}},{key:"option",value:function(e,t){return this.optionInternal(t,e)}},{key:"or",value:function(e,t){return this.orInternal(t,e)}},{key:"many",value:function(e,t){return this.manyInternal(e,t)}},{key:"atLeastOne",value:function(e,t){return this.atLeastOneInternal(e,t)}},{key:"CONSUME",value:function(e,t){return this.consumeInternal(e,0,t)}},{key:"CONSUME1",value:function(e,t){return this.consumeInternal(e,1,t)}},{key:"CONSUME2",value:function(e,t){return this.consumeInternal(e,2,t)}},{key:"CONSUME3",value:function(e,t){return this.consumeInternal(e,3,t)}},{key:"CONSUME4",value:function(e,t){return this.consumeInternal(e,4,t)}},{key:"CONSUME5",value:function(e,t){return this.consumeInternal(e,5,t)}},{key:"CONSUME6",value:function(e,t){return this.consumeInternal(e,6,t)}},{key:"CONSUME7",value:function(e,t){return this.consumeInternal(e,7,t)}},{key:"CONSUME8",value:function(e,t){return this.consumeInternal(e,8,t)}},{key:"CONSUME9",value:function(e,t){return this.consumeInternal(e,9,t)}},{key:"SUBRULE",value:function(e,t){return this.subruleInternal(e,0,t)}},{key:"SUBRULE1",value:function(e,t){return this.subruleInternal(e,1,t)}},{key:"SUBRULE2",value:function(e,t){return this.subruleInternal(e,2,t)}},{key:"SUBRULE3",value:function(e,t){return this.subruleInternal(e,3,t)}},{key:"SUBRULE4",value:function(e,t){return this.subruleInternal(e,4,t)}},{key:"SUBRULE5",value:function(e,t){return this.subruleInternal(e,5,t)}},{key:"SUBRULE6",value:function(e,t){return this.subruleInternal(e,6,t)}},{key:"SUBRULE7",value:function(e,t){return this.subruleInternal(e,7,t)}},{key:"SUBRULE8",value:function(e,t){return this.subruleInternal(e,8,t)}},{key:"SUBRULE9",value:function(e,t){return this.subruleInternal(e,9,t)}},{key:"OPTION",value:function(e){return this.optionInternal(e,0)}},{key:"OPTION1",value:function(e){return this.optionInternal(e,1)}},{key:"OPTION2",value:function(e){return this.optionInternal(e,2)}},{key:"OPTION3",value:function(e){return this.optionInternal(e,3)}},{key:"OPTION4",value:function(e){return this.optionInternal(e,4)}},{key:"OPTION5",value:function(e){return this.optionInternal(e,5)}},{key:"OPTION6",value:function(e){return this.optionInternal(e,6)}},{key:"OPTION7",value:function(e){return this.optionInternal(e,7)}},{key:"OPTION8",value:function(e){return this.optionInternal(e,8)}},{key:"OPTION9",value:function(e){return this.optionInternal(e,9)}},{key:"OR",value:function(e){return this.orInternal(e,0)}},{key:"OR1",value:function(e){return this.orInternal(e,1)}},{key:"OR2",value:function(e){return this.orInternal(e,2)}},{key:"OR3",value:function(e){return this.orInternal(e,3)}},{key:"OR4",value:function(e){return this.orInternal(e,4)}},{key:"OR5",value:function(e){return this.orInternal(e,5)}},{key:"OR6",value:function(e){return this.orInternal(e,6)}},{key:"OR7",value:function(e){return this.orInternal(e,7)}},{key:"OR8",value:function(e){return this.orInternal(e,8)}},{key:"OR9",value:function(e){return this.orInternal(e,9)}},{key:"MANY",value:function(e){this.manyInternal(0,e)}},{key:"MANY1",value:function(e){this.manyInternal(1,e)}},{key:"MANY2",value:function(e){this.manyInternal(2,e)}},{key:"MANY3",value:function(e){this.manyInternal(3,e)}},{key:"MANY4",value:function(e){this.manyInternal(4,e)}},{key:"MANY5",value:function(e){this.manyInternal(5,e)}},{key:"MANY6",value:function(e){this.manyInternal(6,e)}},{key:"MANY7",value:function(e){this.manyInternal(7,e)}},{key:"MANY8",value:function(e){this.manyInternal(8,e)}},{key:"MANY9",value:function(e){this.manyInternal(9,e)}},{key:"MANY_SEP",value:function(e){this.manySepFirstInternal(0,e)}},{key:"MANY_SEP1",value:function(e){this.manySepFirstInternal(1,e)}},{key:"MANY_SEP2",value:function(e){this.manySepFirstInternal(2,e)}},{key:"MANY_SEP3",value:function(e){this.manySepFirstInternal(3,e)}},{key:"MANY_SEP4",value:function(e){this.manySepFirstInternal(4,e)}},{key:"MANY_SEP5",value:function(e){this.manySepFirstInternal(5,e)}},{key:"MANY_SEP6",value:function(e){this.manySepFirstInternal(6,e)}},{key:"MANY_SEP7",value:function(e){this.manySepFirstInternal(7,e)}},{key:"MANY_SEP8",value:function(e){this.manySepFirstInternal(8,e)}},{key:"MANY_SEP9",value:function(e){this.manySepFirstInternal(9,e)}},{key:"AT_LEAST_ONE",value:function(e){this.atLeastOneInternal(0,e)}},{key:"AT_LEAST_ONE1",value:function(e){return this.atLeastOneInternal(1,e)}},{key:"AT_LEAST_ONE2",value:function(e){this.atLeastOneInternal(2,e)}},{key:"AT_LEAST_ONE3",value:function(e){this.atLeastOneInternal(3,e)}},{key:"AT_LEAST_ONE4",value:function(e){this.atLeastOneInternal(4,e)}},{key:"AT_LEAST_ONE5",value:function(e){this.atLeastOneInternal(5,e)}},{key:"AT_LEAST_ONE6",value:function(e){this.atLeastOneInternal(6,e)}},{key:"AT_LEAST_ONE7",value:function(e){this.atLeastOneInternal(7,e)}},{key:"AT_LEAST_ONE8",value:function(e){this.atLeastOneInternal(8,e)}},{key:"AT_LEAST_ONE9",value:function(e){this.atLeastOneInternal(9,e)}},{key:"AT_LEAST_ONE_SEP",value:function(e){this.atLeastOneSepFirstInternal(0,e)}},{key:"AT_LEAST_ONE_SEP1",value:function(e){this.atLeastOneSepFirstInternal(1,e)}},{key:"AT_LEAST_ONE_SEP2",value:function(e){this.atLeastOneSepFirstInternal(2,e)}},{key:"AT_LEAST_ONE_SEP3",value:function(e){this.atLeastOneSepFirstInternal(3,e)}},{key:"AT_LEAST_ONE_SEP4",value:function(e){this.atLeastOneSepFirstInternal(4,e)}},{key:"AT_LEAST_ONE_SEP5",value:function(e){this.atLeastOneSepFirstInternal(5,e)}},{key:"AT_LEAST_ONE_SEP6",value:function(e){this.atLeastOneSepFirstInternal(6,e)}},{key:"AT_LEAST_ONE_SEP7",value:function(e){this.atLeastOneSepFirstInternal(7,e)}},{key:"AT_LEAST_ONE_SEP8",value:function(e){this.atLeastOneSepFirstInternal(8,e)}},{key:"AT_LEAST_ONE_SEP9",value:function(e){this.atLeastOneSepFirstInternal(9,e)}},{key:"RULE",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:HK;if(Gz(this.definedRulesNames,e)){var r={message:aW.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:LK.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(r)}this.definedRulesNames.push(e);var i=this.defineRule(e,t,n);return this[e]=i,i}},{key:"OVERRIDE_RULE",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:HK,r=function(e,t,n){var r,i=[];return Gz(t,e)||(r="Invalid rule override, rule: ->".concat(e,"<- cannot be overridden in the grammar: ->").concat(n,"<-as it is not defined in any of the super grammars "),i.push({message:r,type:LK.INVALID_RULE_OVERRIDE,ruleName:e})),i}(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);var i=this.defineRule(e,t,n);return this[e]=i,i}},{key:"BACKTRACK",value:function(e,t){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return e.apply(this,t),!0}catch(r){if(KW(r))return!1;throw r}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}},{key:"getGAstProductions",value:function(){return this.gastProductionsCache}},{key:"getSerializedGastProductions",value:function(){return Mz(jz(this.gastProductionsCache),BG)}}]),e}(),_K=function(){function e(){c(this,e)}return h(e,[{key:"initRecognizerEngine",value:function(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=MV,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Nz(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(UL(e)){if(Yz(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"===typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(UL(e))this.tokensMap=iG(e,(function(e,t){return e[t.name]=t,e}),{});else if(Nz(e,"modes")&&_z(XQ(jz(e.modes)),LV)){var n=cG(XQ(jz(e.modes)));this.tokensMap=iG(n,(function(e,t){return e[t.name]=t,e}),{})}else{if(!HL(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=dj(e)}this.tokensMap.EOF=tW;var r=_z(Nz(e,"modes")?XQ(jz(e.modes)):jz(e),(function(e){return Yz(e.categoryMatches)}));this.tokenMatcher=r?MV:kV,FV(jz(this.tokensMap))}},{key:"defineRule",value:function(e,t,n){if(this.selfAnalysisDone)throw Error("Grammar rule <".concat(e,"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called."));var r,i=Nz(n,"resyncEnabled")?n.resyncEnabled:HK.resyncEnabled,a=Nz(n,"recoveryValueFunc")?n.recoveryValueFunc:HK.recoveryValueFunc,o=this.ruleShortNameIdx<<12;return this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o,r=!0===this.outputCst?function(){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];t.apply(this,r);var u=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(u),u}catch(l){return this.invokeRuleCatch(l,i,a)}finally{this.ruleFinallyStateUpdate()}}:function(){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.apply(this,r)}catch(u){return this.invokeRuleCatch(u,i,a)}finally{this.ruleFinallyStateUpdate()}},Object.assign(r,{ruleName:e,originalGrammarAction:t})}},{key:"invokeRuleCatch",value:function(e,t,n){var r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(KW(e)){var a=e;if(i){var o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o)){if(a.resyncedTokens=this.reSyncTo(o),this.outputCst){var s=this.CST_STACK[this.CST_STACK.length-1];return s.recoveredNode=!0,s}return n(e)}if(this.outputCst){var u=this.CST_STACK[this.CST_STACK.length-1];u.recoveredNode=!0,a.partialCstResult=u}throw a}if(r)return this.moveToTerminatedState(),n(e);throw a}throw e}},{key:"optionInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,n)}},{key:"optionInternalLogic",value:function(e,t,n){var r,i=this,a=this.getLaFuncFromCache(n);if("function"!==typeof e){r=e.DEF;var o=e.GATE;if(void 0!==o){var s=a;a=function(){return o.call(i)&&s.call(i)}}}else r=e;if(!0===a.call(this))return r.call(this)}},{key:"atLeastOneInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(iK,e);return this.atLeastOneInternalLogic(e,t,n)}},{key:"atLeastOneInternalLogic",value:function(e,t,n){var r,i=this,a=this.getLaFuncFromCache(n);if("function"!==typeof t){r=t.DEF;var o=t.GATE;if(void 0!==o){var s=a;a=function(){return o.call(i)&&s.call(i)}}}else r=t;if(!0!==a.call(this))throw this.raiseEarlyExitException(e,oW.REPETITION_MANDATORY,t.ERR_MSG);for(var u=this.doSingleRepetition(r);!0===a.call(this)&&!0===u;)u=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],a,iK,e,hW)}},{key:"atLeastOneSepFirstInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(oK,e);this.atLeastOneSepFirstInternalLogic(e,t,n)}},{key:"atLeastOneSepFirstInternalLogic",value:function(e,t,n){var r=this,i=t.DEF,a=t.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(e,oW.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);i.call(this);for(var o=function(){return r.tokenMatcher(r.LA(1),a)};!0===this.tokenMatcher(this.LA(1),a);)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,pW],o,oK,e,pW)}},{key:"manyInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,n)}},{key:"manyInternalLogic",value:function(e,t,n){var r,i=this,a=this.getLaFuncFromCache(n);if("function"!==typeof t){r=t.DEF;var o=t.GATE;if(void 0!==o){var s=a;a=function(){return o.call(i)&&s.call(i)}}}else r=t;for(var u=!0;!0===a.call(this)&&!0===u;)u=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],a,768,e,fW,u)}},{key:"manySepFirstInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(aK,e);this.manySepFirstInternalLogic(e,t,n)}},{key:"manySepFirstInternalLogic",value:function(e,t,n){var r=this,i=t.DEF,a=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){i.call(this);for(var o=function(){return r.tokenMatcher(r.LA(1),a)};!0===this.tokenMatcher(this.LA(1),a);)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,dW],o,aK,e,dW)}}},{key:"repetitionSepSecondInternal",value:function(e,t,n,r,i){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,oK,e,i)}},{key:"doSingleRepetition",value:function(e){var t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}},{key:"orInternal",value:function(e,t){var n=this.getKeyForAutomaticLookahead(256,t),r=UL(e)?e:e.DEF,i=this.getLaFuncFromCache(n).call(this,r);if(void 0!==i)return r[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}},{key:"ruleFinallyStateUpdate",value:function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new ZW(t,e))}}},{key:"subruleInternal",value:function(e,t,n){var r;try{var i=void 0!==n?n.ARGS:void 0;return this.subruleIdx=t,r=e.apply(this,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(a){throw this.subruleInternalError(a,n,e.ruleName)}}},{key:"subruleInternalError",value:function(e,t,n){throw KW(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e}},{key:"consumeInternal",value:function(e,t,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,e)?(this.consumeToken(),r=i):this.consumeInternalError(e,i,n)}catch(a){r=this.consumeInternalRecovery(e,t,a)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r}},{key:"consumeInternalError",value:function(e,t,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new qW(r,t,i))}},{key:"consumeInternalRecovery",value:function(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(i){throw i.name===eK?n:i}}},{key:"saveRecogState",value:function(){var e=this.errors,t=dj(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}},{key:"reloadRecogState",value:function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}},{key:"ruleInvocationStateUpdate",value:function(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}},{key:"isBackTracking",value:function(){return 0!==this.isBackTrackingStack.length}},{key:"getCurrRuleFullName",value:function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}},{key:"shortRuleNameToFullName",value:function(e){return this.shortRuleNameToFull[e]}},{key:"isAtEndOfInput",value:function(){return this.tokenMatcher(this.LA(1),tW)}},{key:"reset",value:function(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}]),e}(),CK=function(){function e(){c(this,e)}return h(e,[{key:"initErrorHandler",value:function(e){this._errors=[],this.errorMessageProvider=Nz(e,"errorMessageProvider")?e.errorMessageProvider:QK.errorMessageProvider}},{key:"SAVE_ERROR",value:function(e){if(KW(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:dj(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}},{key:"errors",get:function(){return dj(this._errors)},set:function(e){this._errors=e}},{key:"raiseEarlyExitException",value:function(e,t,n){for(var r=this.getCurrRuleFullName(),i=IW(e,this.getGAstProductions()[r],t,this.maxLookahead)[0],a=[],o=1;o<=this.maxLookahead;o++)a.push(this.LA(o));var s=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:a,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new JW(s,this.LA(1),this.LA(0)))}},{key:"raiseNoAltException",value:function(e,t){for(var n=this.getCurrRuleFullName(),r=TW(e,this.getGAstProductions()[n],this.maxLookahead),i=[],a=1;a<=this.maxLookahead;a++)i.push(this.LA(a));var o=this.LA(0),s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:o,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new YW(s,this.LA(1),o))}}]),e}(),EK=function(){function e(){c(this,e)}return h(e,[{key:"initContentAssist",value:function(){}},{key:"computeContentAssist",value:function(e,t){var n=this.gastProductionsCache[e];if($z(n))throw Error("Rule ->".concat(e,"<- does not exist in this grammar."));return gW([n],t,this.tokenMatcher,this.maxLookahead)}},{key:"getNextPossibleTokenTypes",value:function(e){var t=Iz(e.ruleStack),n=this.getGAstProductions()[t];return new cW(n,e).startWalking()}}]),e}(),SK={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(SK);var BK=Math.pow(2,8)-1,TK=eW({name:"RECORDING_PHASE_TOKEN",pattern:jV.NA});FV([TK]);var IK=nW(TK,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(IK);var kK={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}},MK=function(){function e(){c(this,e)}return h(e,[{key:"initGastRecorder",value:function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}},{key:"enableRecording",value:function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var t=function(t){var n=t>0?t:"";e["CONSUME".concat(n)]=function(e,n){return this.consumeInternalRecord(e,t,n)},e["SUBRULE".concat(n)]=function(e,n){return this.subruleInternalRecord(e,t,n)},e["OPTION".concat(n)]=function(e){return this.optionInternalRecord(e,t)},e["OR".concat(n)]=function(e){return this.orInternalRecord(e,t)},e["MANY".concat(n)]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP".concat(n)]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE".concat(n)]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP".concat(n)]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},n=0;n<10;n++)t(n);e.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},e.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},e.option=function(e,t){return this.optionInternalRecord(t,e)},e.or=function(e,t){return this.orInternalRecord(t,e)},e.many=function(e,t){this.manyInternalRecord(e,t)},e.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD}))}},{key:"disableRecording",value:function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var t=e,n=0;n<10;n++){var r=n>0?n:"";delete t["CONSUME".concat(r)],delete t["SUBRULE".concat(r)],delete t["OPTION".concat(r)],delete t["OR".concat(r)],delete t["MANY".concat(r)],delete t["MANY_SEP".concat(r)],delete t["AT_LEAST_ONE".concat(r)],delete t["AT_LEAST_ONE_SEP".concat(r)]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA}))}},{key:"ACTION_RECORD",value:function(e){}},{key:"BACKTRACK_RECORD",value:function(e,t){return function(){return!0}}},{key:"LA_RECORD",value:function(e){return DK}},{key:"topLevelRuleRecord",value:function(e,t){try{var n=new mG({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(r){if(!0!==r.KNOWN_RECORDER_ERROR)try{r.message=r.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(i){throw r}throw r}}},{key:"optionInternalRecord",value:function(e,t){return RK.call(this,bG,e,t)}},{key:"atLeastOneInternalRecord",value:function(e,t){RK.call(this,wG,t,e)}},{key:"atLeastOneSepFirstInternalRecord",value:function(e,t){RK.call(this,xG,t,e,true)}},{key:"manyInternalRecord",value:function(e,t){RK.call(this,_G,t,e)}},{key:"manySepFirstInternalRecord",value:function(e,t){RK.call(this,CG,t,e,true)}},{key:"orInternalRecord",value:function(e,t){return UK.call(this,e,t)}},{key:"subruleInternalRecord",value:function(e,t,n){if(OK(t),!e||!1===Nz(e,"ruleName")){var r=new Error("<SUBRULE".concat(FK(t),"> argument is invalid expecting a Parser method reference but got: <").concat(JSON.stringify(e),">\n inside top level rule: <").concat(this.recordingProdStack[0].name,">"));throw r.KNOWN_RECORDER_ERROR=!0,r}var i=gz(this.recordingProdStack),a=e.ruleName,o=new gG({idx:t,nonTerminalName:a,label:null===n||void 0===n?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(o),this.outputCst?kK:SK}},{key:"consumeInternalRecord",value:function(e,t,n){if(OK(t),!PV(e)){var r=new Error("<CONSUME".concat(FK(t),"> argument is invalid expecting a TokenType reference but got: <").concat(JSON.stringify(e),">\n inside top level rule: <").concat(this.recordingProdStack[0].name,">"));throw r.KNOWN_RECORDER_ERROR=!0,r}var i=gz(this.recordingProdStack),a=new SG({idx:t,terminalType:e,label:null===n||void 0===n?void 0:n.LABEL});return i.definition.push(a),IK}}]),e}();function RK(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];OK(n);var i=gz(this.recordingProdStack),a=nN(t)?t:t.DEF,o=new e({definition:[],idx:n});return r&&(o.separator=t.SEP),Nz(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(o),a.call(this),i.definition.push(o),this.recordingProdStack.pop(),SK}function UK(e,t){var n=this;OK(t);var r=gz(this.recordingProdStack),i=!1===UL(e),a=!1===i?e:e.DEF,o=new EG({definition:[],idx:t,ignoreAmbiguities:i&&!0===e.IGNORE_AMBIGUITIES});Nz(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD);var s=sG(a,(function(e){return nN(e.GATE)}));return o.hasPredicates=s,r.definition.push(o),bz(a,(function(e){var t=new yG({definition:[]});o.definition.push(t),Nz(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:Nz(e,"GATE")&&(t.ignoreAmbiguities=!0),n.recordingProdStack.push(t),e.ALT.call(n),n.recordingProdStack.pop()})),SK}function FK(e){return 0===e?"":"".concat(e)}function OK(e){if(e<0||e>BK){var t=new Error("Invalid DSL Method idx value: <".concat(e,">\n\tIdx value must be a none negative value smaller than ").concat(BK+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}var PK=function(){function e(){c(this,e)}return h(e,[{key:"initPerformanceTracer",value:function(e){if(Nz(e,"traceInitPerf")){var t=e.traceInitPerf,n="number"===typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=QK.traceInitPerf;this.traceInitIndent=-1}},{key:"TRACE_INIT",value:function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log("".concat(n,"--\x3e <").concat(e,">"));var r=dG(t),i=r.time,a=r.value,o=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o("".concat(n,"<-- <").concat(e,"> time: ").concat(i,"ms")),this.traceInitIndent--,a}return t()}}]),e}();var DK=nW(tW,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(DK);var LK,NK,QK=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:rW,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),HK=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});(NK=LK||(LK={}))[NK.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",NK[NK.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",NK[NK.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",NK[NK.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",NK[NK.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",NK[NK.LEFT_RECURSION=5]="LEFT_RECURSION",NK[NK.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",NK[NK.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",NK[NK.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",NK[NK.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",NK[NK.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",NK[NK.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",NK[NK.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",NK[NK.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION";var jK,zK=function(){function e(t,n){c(this,e),this.definitionErrors=[],this.selfAnalysisDone=!1;var r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(t,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),Nz(n,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=Nz(n,"skipValidations")?n.skipValidations:QK.skipValidations}return h(e,[{key:"performSelfAnalysis",value:function(){var t=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;t.selfAnalysisDone=!0;var r=t.className;t.TRACE_INIT("toFastProps",(function(){hG(t)})),t.TRACE_INIT("Grammar Recording",(function(){try{t.enableRecording(),bz(t.definedRulesNames,(function(e){var n,r=t[e].originalGrammarAction;t.TRACE_INIT("".concat(e," Rule"),(function(){n=t.topLevelRuleRecord(e,r)})),t.gastProductionsCache[e]=n}))}finally{t.disableRecording()}}));var i=[];if(t.TRACE_INIT("Grammar Resolving",(function(){i=HW({rules:jz(t.gastProductionsCache)}),t.definitionErrors=t.definitionErrors.concat(i)})),t.TRACE_INIT("Grammar Validations",(function(){if(Yz(i)&&!1===t.skipValidations){var e=(a={rules:jz(t.gastProductionsCache),tokenTypes:jz(t.tokensMap),errMsgProvider:aW,grammarName:r},RW((a=dz(a,{errMsgProvider:aW})).rules,a.tokenTypes,a.errMsgProvider,a.grammarName)),n=function(e){return Mz(e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName}),(function(e){return Object.assign({type:LK.CUSTOM_LOOKAHEAD_VALIDATION},e)}))}({lookaheadStrategy:t.lookaheadStrategy,rules:jz(t.gastProductionsCache),tokenTypes:jz(t.tokensMap),grammarName:r});t.definitionErrors=t.definitionErrors.concat(e,n)}var a})),Yz(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",(function(){var e=function(e){var t={};return bz(e,(function(e){var n=new OG(e).startWalking();gQ(t,n)})),t}(jz(t.gastProductionsCache));t.resyncFollows=e})),t.TRACE_INIT("ComputeLookaheadFunctions",(function(){var e,n;null===(n=(e=t.lookaheadStrategy).initialize)||void 0===n||n.call(e,{rules:jz(t.gastProductionsCache)}),t.preComputeLookaheadFunctions(jz(t.gastProductionsCache))}))),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!Yz(t.definitionErrors))throw n=Mz(t.definitionErrors,(function(e){return e.message})),new Error("Parser Definition Errors detected:\n ".concat(n.join("\n-------------------------------\n")))}))}}],[{key:"performSelfAnalysis",value:function(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}}]),e}();zK.DEFER_DEFINITION_ERRORS_HANDLING=!1,jK=zK,[nK,lK,bK,wK,_K,xK,CK,EK,MK,PK].forEach((function(e){var t=e.prototype;Object.getOwnPropertyNames(t).forEach((function(n){if("constructor"!==n){var r=Object.getOwnPropertyDescriptor(t,n);r&&(r.get||r.set)?Object.defineProperty(jK.prototype,n,r):jK.prototype[n]=e.prototype[n]}}))}));var GK,VK=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;c(this,e),this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}return h(e,[{key:"_initWorker",value:function(e){if(!this.workers[e]){var t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}},{key:"_getIdleWorker",value:function(){for(var e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}},{key:"_onMessage",value:function(e,t){var n=this.workersResolve[e];if(n&&n(t),this.queue.length){var r=this.queue.shift(),i=r.resolve,a=r.msg,o=r.transfer;this.workersResolve[e]=i,this.workers[e].postMessage(a,o)}else this.workerStatus^=1<<e}},{key:"setWorkerCreator",value:function(e){this.workerCreator=e}},{key:"setWorkerLimit",value:function(e){this.pool=e}},{key:"postMessage",value:function(e,t){var n=this;return new Promise((function(r){var i=n._getIdleWorker();-1!==i?(n._initWorker(i),n.workerStatus|=1<<i,n.workersResolve[i]=r,n.workers[i].postMessage(e,t)):n.queue.push({resolve:r,msg:e,transfer:t})}))}},{key:"dispose",value:function(){this.workers.forEach((function(e){return e.terminate()})),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}]),e}(),WK=function(e){v(n,e);var t=w(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,r,i,o,s)).isCompressedArrayTexture=!0,u.image.depth=a,u.wrapR=Mv,u}return h(n)}(xS),KK=new WeakMap,XK=0,qK=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).transcoderPath="",r.transcoderBinary=null,r.transcoderPending=null,r.workerPool=new VK,r.workerSourceURL="",r.workerConfig=null,"undefined"!==typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.'),r}return h(n,[{key:"setTranscoderPath",value:function(e){return this.transcoderPath=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerPool.setWorkerLimit(e),this}},{key:"detectSupport",value:function(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}},{key:"init",value:function(){var e=this;if(!this.transcoderPending){var t=new UT(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);var r=t.loadAsync("basis_transcoder.js"),i=new UT(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);var a=i.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([r,a]).then((function(t){var r=l(t,2),i=r[0],a=r[1],o=n.BasisWorker.toString(),s=["/* constants */","let _EngineFormat = "+JSON.stringify(n.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(n.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(n.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([s])),e.transcoderBinary=a,e.workerPool.setWorkerCreator((function(){var t=new Worker(e.workerSourceURL),n=e.transcoderBinary.slice(0);return t.postMessage({type:"init",config:e.workerConfig,transcoderBinary:n},[n]),t}))})),XK>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),XK++}return this.transcoderPending}},{key:"load",value:function(e,t,n,r){var i=this;if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");var a=new UT(this.manager);a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){if(KK.has(e))return KK.get(e).promise.then(t).catch(r);i._createTexture(e).then((function(e){return t?t(e):null})).catch(r)}),n,r)}},{key:"_createTextureFrom",value:function(e,t){var n=e.mipmaps,r=e.width,i=e.height,a=e.format,o=e.type,s=e.error,u=e.dfdTransferFn,l=e.dfdFlags;if("error"===o)return Promise.reject(s);var c=t.layerCount>1?new WK(n,r,i,t.layerCount,a,zv):new xS(n,r,i,a,zv);return c.minFilter=1===n.length?Lv:Hv,c.magFilter=Lv,c.generateMipmaps=!1,c.needsUpdate=!0,"colorSpace"in c?c.colorSpace=2===u?"srgb":"srgb-linear":c.encoding=2===u?3001:3e3,c.premultiplyAlpha=!!(1&l),c}},{key:"_createTexture",value:function(){var e=C(x().mark((function e(t){var n,r,i,a,o=this,s=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},0===(r=pR(new Uint8Array(t))).vkFormat){e.next=4;break}return e.abrupt("return",eX(r));case 4:return i=n,a=this.init().then((function(){return o.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:i},[t])})).then((function(e){return o._createTextureFrom(e.data,r)})),KK.set(t,{promise:a}),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),XK--,this}}]),n}(IT),YK=qK;bP(YK,"BasisFormat",{ETC1S:0,UASTC_4x4:1}),bP(YK,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16}),bP(YK,"EngineFormat",{RGBAFormat:tg,RGBA_ASTC_4x4_Format:xg,RGBA_BPTC_Format:Pg,RGBA_ETC2_EAC_Format:wg,RGBA_PVRTC_4BPPV1_Format:gg,RGBA_S3TC_DXT5_Format:hg,RGB_ETC1_Format:yg,RGB_ETC2_Format:bg,RGB_PVRTC_4BPPV1_Format:pg,RGB_S3TC_DXT1_Format:Ag}),bP(YK,"BasisWorker",(function(){var e,t,n,r=_EngineFormat,i=_TranscoderFormat,a=_BasisFormat;self.addEventListener("message",(function(o){var A,f=o.data;switch(f.type){case"init":e=f.config,A=f.transcoderBinary,t=new Promise((function(e){n={wasmBinary:A,onRuntimeInitialized:e},BASIS(n)})).then((function(){n.initializeBasis(),void 0===n.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}));break;case"transcode":t.then((function(){try{for(var t=function(t){var o=new n.KTX2File(new Uint8Array(t));function A(){o.close(),o.delete()}if(!o.isValid())throw A(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");var f=o.isUASTC()?a.UASTC_4x4:a.ETC1S,d=o.getWidth(),h=o.getHeight(),p=o.getLayers()||1,v=o.getLevels(),g=o.getHasAlpha(),m=o.getDFDTransferFunc(),y=o.getDFDFlags(),b=function(t,n,o,c){for(var A,f,d=t===a.ETC1S?s:u,h=0;h<d.length;h++){var p=d[h];if(e[p.if]&&(p.basisFormat.includes(t)&&!(c&&p.transcoderFormat.length<2)&&(!p.needsPowerOfTwo||l(n)&&l(o))))return{transcoderFormat:A=p.transcoderFormat[c?1:0],engineFormat:f=p.engineFormat[c?1:0]}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),A=i.RGBA32,f=r.RGBAFormat,{transcoderFormat:A,engineFormat:f}}(f,d,h,g),w=b.transcoderFormat,x=b.engineFormat;if(!d||!h||!v)throw A(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!o.startTranscoding())throw A(),new Error("THREE.KTX2Loader: .startTranscoding failed");for(var _=[],C=0;C<v;C++){for(var E=[],S=void 0,B=void 0,T=0;T<p;T++){var I=o.getImageLevelInfo(C,T,0);S=I.origWidth<4?I.origWidth:I.width,B=I.origHeight<4?I.origHeight:I.height;var k=new Uint8Array(o.getImageTranscodedSizeInBytes(C,T,0,w));if(!o.transcodeImage(k,C,T,0,w,0,-1,-1))throw A(),new Error("THREE.KTX2Loader: .transcodeImage failed.");E.push(k)}_.push({data:c(E),width:S,height:B})}return A(),{width:d,height:h,hasAlpha:g,mipmaps:_,format:x,dfdTransferFn:m,dfdFlags:y}}(f.buffer),o=t.width,A=t.height,d=t.hasAlpha,h=t.mipmaps,p=t.format,v=t.dfdTransferFn,g=t.dfdFlags,m=[],y=0;y<h.length;++y)m.push(h[y].data.buffer);self.postMessage({type:"transcode",id:f.id,width:o,height:A,hasAlpha:d,mipmaps:h,format:p,dfdTransferFn:v,dfdFlags:g},m)}catch(b){console.error(b),self.postMessage({type:"error",id:f.id,error:b.message})}}))}}));var o=[{if:"astcSupported",basisFormat:[a.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],s=o.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),u=o.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function l(e){return e<=2||0===(e&e-1)&&0!==e}function c(e){for(var t=0,n=0;n<e.length;n++){t+=e[n].byteLength}for(var r=new Uint8Array(t),i=0,a=0;a<e.length;a++){var o=e[a];r.set(o,i),i+=o.byteLength}return r}}));var ZK=(E(vP={},109,tg),E(vP,97,tg),E(vP,37,tg),E(vP,43,tg),E(vP,103,ug),E(vP,83,ug),E(vP,16,ug),E(vP,22,ug),E(vP,100,og),E(vP,76,og),E(vP,15,og),E(vP,9,og),vP),JK=(E(gP={},109,qv),E(gP,97,Yv),E(gP,37,zv),E(gP,43,zv),E(gP,103,qv),E(gP,83,Yv),E(gP,16,zv),E(gP,22,zv),E(gP,100,qv),E(gP,76,Yv),E(gP,15,zv),E(gP,9,zv),gP),$K=(E(mP={},43,3001),E(mP,22,3001),E(mP,15,3001),mP);function eX(e){return tX.apply(this,arguments)}function tX(){return tX=C(x().mark((function e(t){var n,r,i,a,o,s,u,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.vkFormat,r=t.pixelWidth,i=t.pixelHeight,a=t.pixelDepth,void 0!==ZK[n]){e.next=3;break}throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");case 3:if(o=t.levels[0],t.supercompressionScheme!==lR){e.next=8;break}s=o.levelData,e.next=16;break;case 8:if(t.supercompressionScheme!==cR){e.next=15;break}return GK||(GK=new Promise(function(){var e=C(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new bR,e.next=3,n.init();case 3:t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=12,GK;case 12:s=e.sent.decode(o.levelData,o.uncompressedByteLength),e.next=16;break;case 15:throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");case 16:return u=JK[n]===qv?new Float32Array(s.buffer,s.byteOffset,s.byteLength/Float32Array.BYTES_PER_ELEMENT):JK[n]===Yv?new Uint16Array(s.buffer,s.byteOffset,s.byteLength/Uint16Array.BYTES_PER_ELEMENT):s,(l=0===a?new zE(u,r,i):new pL(u,r,i,a)).type=JK[n],l.format=ZK[n],l.encoding=$K[n]||3e3,l.needsUpdate=!0,e.abrupt("return",Promise.resolve(l));case 23:case"end":return e.stop()}}),e)}))),tX.apply(this,arguments)}var nX=new WeakMap,rX=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).transcoderPath="",r.transcoderBinary=null,r.transcoderPending=null,r.workerLimit=4,r.workerPool=[],r.workerNextTaskID=1,r.workerSourceURL="",r.workerConfig=null,r}return h(n,[{key:"setTranscoderPath",value:function(e){return this.transcoderPath=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"detectSupport",value:function(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}},{key:"load",value:function(e,t,n,r){var i=this,a=new UT(this.manager);a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials);var o=new xS;return a.load(e,(function(e){if(nX.has(e))return nX.get(e).promise.then(t).catch(r);i._createTexture([e]).then((function(e){o.copy(e),o.needsUpdate=!0,t&&t(o)})).catch(r)}),n,r),o}},{key:"parseInternalAsync",value:function(e){for(var t=e.levels,n=new Set,r=0;r<t.length;r++)n.add(t[r].data.buffer);return this._createTexture(Array.from(n),qn(qn({},e),{},{lowLevel:!0}))}},{key:"_createTexture",value:function(e){for(var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=0,o=0;o<e.length;o++)a+=e[o].byteLength;var s=this._allocateWorker(a).then((function(a){return t=a,n=r.workerNextTaskID++,new Promise((function(r,a){t._callbacks[n]={resolve:r,reject:a},t.postMessage({type:"transcode",id:n,buffers:e,taskConfig:i},e)}))})).then((function(e){var t=e.mipmaps,n=e.width,r=e.height,i=e.format,a=new xS(t,n,r,i,zv);return a.minFilter=1===t.length?Lv:Hv,a.magFilter=Lv,a.generateMipmaps=!1,a.needsUpdate=!0,a}));return s.catch((function(){return!0})).then((function(){t&&n&&(t._taskLoad-=a,delete t._callbacks[n])})),nX.set(e[0],{promise:s}),s}},{key:"_initTranscoder",value:function(){var e=this;if(!this.transcoderPending){var t=new UT(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);var r=new Promise((function(e,n){t.load("basis_transcoder.js",e,void 0,n)})),i=new UT(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);var a=new Promise((function(e,t){i.load("basis_transcoder.wasm",e,void 0,t)}));this.transcoderPending=Promise.all([r,a]).then((function(t){var r=l(t,2),i=r[0],a=r[1],o=n.BasisWorker.toString(),s=["/* constants */","let _EngineFormat = "+JSON.stringify(n.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(n.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(n.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([s])),e.transcoderBinary=a}))}return this.transcoderPending}},{key:"_allocateWorker",value:function(e){var t=this;return this._initTranscoder().then((function(){if(t.workerPool.length<t.workerLimit){var n=new Worker(t.workerSourceURL);n._callbacks={},n._taskLoad=0,n.postMessage({type:"init",config:t.workerConfig,transcoderBinary:t.transcoderBinary}),n.onmessage=function(e){var t=e.data;switch(t.type){case"transcode":n._callbacks[t.id].resolve(t);break;case"error":n._callbacks[t.id].reject(t);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+t.type+'"')}},t.workerPool.push(n)}else t.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var r=t.workerPool[t.workerPool.length-1];return r._taskLoad+=e,r}))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;e++)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),n}(IT),iX=rX;bP(iX,"BasisFormat",{ETC1S:0,UASTC_4x4:1}),bP(iX,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16}),bP(iX,"EngineFormat",{RGBAFormat:tg,RGBA_ASTC_4x4_Format:xg,RGBA_BPTC_Format:Pg,RGBA_ETC2_EAC_Format:wg,RGBA_PVRTC_4BPPV1_Format:gg,RGBA_S3TC_DXT5_Format:hg,RGB_ETC1_Format:yg,RGB_ETC2_Format:bg,RGB_PVRTC_4BPPV1_Format:pg,RGB_S3TC_DXT1_Format:Ag}),bP(iX,"BasisWorker",(function(){var e,t,n,r=_EngineFormat,i=_TranscoderFormat,a=_BasisFormat;onmessage=function(r){var i,o=r.data;switch(o.type){case"init":e=o.config,i=o.transcoderBinary,t=new Promise((function(e){n={wasmBinary:i,onRuntimeInitialized:e},BASIS(n)})).then((function(){n.initializeBasis()}));break;case"transcode":t.then((function(){try{for(var e=o.taskConfig.lowLevel?function(e){var t=e.basisFormat,r=e.width,i=e.height,o=e.hasAlpha,s=l(t,r,i,o),u=s.transcoderFormat,h=s.engineFormat,p=n.getBytesPerBlockOrPixel(u);c(n.isFormatSupported(u),"THREE.BasisTextureLoader: Unsupported format.");var v=[];if(t===a.ETC1S){var g=new n.LowLevelETC1SImageTranscoder,m=e.globalData,y=m.endpointCount,b=m.endpointsData,w=m.selectorCount,x=m.selectorsData,_=m.tablesData;try{c(g.decodePalettes(y,b,w,x),"THREE.BasisTextureLoader: decodePalettes() failed."),c(g.decodeTables(_),"THREE.BasisTextureLoader: decodeTables() failed.");for(var C=0;C<e.levels.length;C++){var E=e.levels[C],S=e.globalData.imageDescs[C],B=d(u,E.width,E.height),T=new Uint8Array(B);c(g.transcodeImage(u,T,B/p,E.data,A(u,E.width),f(u,E.height),E.width,E.height,E.index,S.rgbSliceByteOffset,S.rgbSliceByteLength,S.alphaSliceByteOffset,S.alphaSliceByteLength,S.imageFlags,o,!1,0,0),"THREE.BasisTextureLoader: transcodeImage() failed for level "+E.index+"."),v.push({data:T,width:E.width,height:E.height})}}finally{g.delete()}}else for(var I=0;I<e.levels.length;I++){var k=e.levels[I],M=d(u,k.width,k.height),R=new Uint8Array(M);c(n.transcodeUASTCImage(u,R,M/p,k.data,A(u,k.width),f(u,k.height),k.width,k.height,k.index,0,k.data.byteLength,0,o,!1,0,0,-1,-1),"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+k.index+"."),v.push({data:R,width:k.width,height:k.height})}return{width:r,height:i,hasAlpha:o,mipmaps:v,format:h}}(o.taskConfig):function(e){var t=new n.BasisFile(new Uint8Array(e)),r=t.isUASTC()?a.UASTC_4x4:a.ETC1S,i=t.getImageWidth(0,0),o=t.getImageHeight(0,0),s=t.getNumLevels(0),u=t.getHasAlpha();function c(){t.close(),t.delete()}var A=l(r,i,o,u),f=A.transcoderFormat,d=A.engineFormat;if(!i||!o||!s)throw c(),new Error("THREE.BasisTextureLoader:\tInvalid texture");if(!t.startTranscoding())throw c(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");for(var h=[],p=0;p<s;p++){var v=t.getImageWidth(0,p),g=t.getImageHeight(0,p),m=new Uint8Array(t.getImageTranscodedSizeInBytes(0,p,f));if(!t.transcodeImage(m,0,p,f,0,u))throw c(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");h.push({data:m,width:v,height:g})}return c(),{width:i,height:o,hasAlpha:u,mipmaps:h,format:d}}(o.buffers[0]),t=e.width,r=e.height,i=e.hasAlpha,s=e.mipmaps,u=e.format,h=[],p=0;p<s.length;++p)h.push(s[p].data.buffer);self.postMessage({type:"transcode",id:o.id,width:t,height:r,hasAlpha:i,mipmaps:s,format:u},h)}catch(v){console.error(v),self.postMessage({type:"error",id:o.id,error:v.message})}}))}};var o=[{if:"astcSupported",basisFormat:[a.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC1],engineFormat:[r.RGB_ETC1_Format,r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],s=o.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),u=o.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function l(t,n,o,l){for(var c=t===a.ETC1S?s:u,A=0;A<c.length;A++){var f=c[A];if(e[f.if]&&(f.basisFormat.includes(t)&&(!f.needsPowerOfTwo||h(n)&&h(o))))return{transcoderFormat:f.transcoderFormat[l?1:0],engineFormat:f.engineFormat[l?1:0]}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),{transcoderFormat:i.RGBA32,engineFormat:r.RGBAFormat}}function c(e,t){if(!e)throw new Error(t)}function A(e,t){return Math.ceil(t/n.getFormatBlockWidth(e))}function f(e,t){return Math.ceil(t/n.getFormatBlockHeight(e))}function d(e,t,r){var a=n.getBytesPerBlockOrPixel(e);if(n.formatIsUncompressed(e))return t*r*a;if(e===i.PVRTC1_4_RGB||e===i.PVRTC1_4_RGBA){var o=t+3&-4,s=r+3&-4;return(Math.max(8,o)*Math.max(8,s)*4+7)/8}return A(e,t)*f(e,r)*a}function h(e){return e<=2||0===(e&e-1)&&0!==e}}));Float32Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array;var aX=["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"],oX=n.forwardRef((function(e,t){var r=e.makeDefault,i=e.camera,a=e.regress,o=e.domElement,s=e.enableDamping,u=void 0===s||s,l=e.keyEvents,c=void 0!==l&&l,A=e.onChange,f=e.onStart,d=e.onEnd,h=Kn(e,aX),p=KM((function(e){return e.invalidate})),v=KM((function(e){return e.camera})),g=KM((function(e){return e.gl})),m=KM((function(e){return e.events})),y=KM((function(e){return e.setEvents})),b=KM((function(e){return e.set})),w=KM((function(e){return e.get})),x=KM((function(e){return e.performance})),_=i||v,C=o||m.connected||g.domElement,E=n.useMemo((function(){return new GD(_)}),[_]);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=WM(),r=n.getState().internal.subscribe,i=AM(e);cM((function(){return r(i,t,n)}),[t,r,n])}((function(){E.enabled&&E.update()}),-1),n.useEffect((function(){return c&&E.connect(!0===c?C:c),E.connect(C),function(){E.dispose()}}),[c,C,a,E,p]),n.useEffect((function(){var e=function(e){p(),a&&x.regress(),A&&A(e)},t=function(e){f&&f(e)},n=function(e){d&&d(e)};return E.addEventListener("change",e),E.addEventListener("start",t),E.addEventListener("end",n),function(){E.removeEventListener("start",t),E.removeEventListener("end",n),E.removeEventListener("change",e)}}),[A,f,d,E,p,y]),n.useEffect((function(){if(r){var e=w().controls;return b({controls:E}),function(){return b({controls:e})}}}),[r,E]),n.createElement("primitive",xp({ref:t,object:E,enableDamping:u},h))})),sX=__webpack_require__(8961),uX=__webpack_require__.n(sX);function lX(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,r=t.debounce,i=t.scroll,a=t.polyfill,o=t.offsetSize,s=a||("undefined"===typeof window?h((function e(){c(this,e)})):window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var u=l((0,n.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),2),A=u[0],f=u[1],d=(0,n.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:A}),p=r?"number"===typeof r?r:r.scroll:null,v=r?"number"===typeof r?r:r.resize:null,g=(0,n.useRef)(!1);(0,n.useEffect)((function(){return g.current=!0,function(){g.current=!1}}));var m=(0,n.useMemo)((function(){var e=function(){if(d.current.element){var e=d.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};d.current.element instanceof HTMLElement&&o&&(t.height=d.current.element.offsetHeight,t.width=d.current.element.offsetWidth),Object.freeze(t),g.current&&!fX(d.current.lastBounds,t)&&f(d.current.lastBounds=t)}};return[e,v?uX()(e,v):e,p?uX()(e,p):e]}),[f,o,p,v]),y=l(m,3),b=y[0],w=y[1],x=y[2];function _(){d.current.scrollContainers&&(d.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",x,!0)})),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function C(){d.current.element&&(d.current.resizeObserver=new s(x),d.current.resizeObserver.observe(d.current.element),i&&d.current.scrollContainers&&d.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",x,{capture:!0,passive:!0})})))}var E,S,B;return E=x,S=Boolean(i),(0,n.useEffect)((function(){if(S){var e=E;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[E,S]),B=w,(0,n.useEffect)((function(){var e=B;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[B]),(0,n.useEffect)((function(){_(),C()}),[i,x,w]),(0,n.useEffect)((function(){return _}),[]),[function(e){e&&e!==d.current.element&&(_(),d.current.element=e,d.current.scrollContainers=cX(e),C())},A,b]}function cX(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,M(cX(e.parentElement)))}var AX=["x","y","top","bottom","left","right","width","height"],fX=function(e,t){return AX.every((function(n){return e[n]===t[n]}))},dX=Object.defineProperty,hX=Object.defineProperties,pX=Object.getOwnPropertyDescriptors,vX=Object.getOwnPropertySymbols,gX=Object.prototype.hasOwnProperty,mX=Object.prototype.propertyIsEnumerable,yX=function(e,t,n){return t in e?dX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},bX=function(e,t){for(var n in t||(t={}))gX.call(t,n)&&yX(e,n,t[n]);if(vX){var r,i=k(vX(t));try{for(i.s();!(r=i.n()).done;){n=r.value;mX.call(t,n)&&yX(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e};function wX(e,t,n){if(e){if(!0===n(e))return e;for(var r=t?e.return:e.child;r;){var i=wX(r,t,n);if(i)return i;r=t?null:r.sibling}}}function xX(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(t){return e}}var _X=xX(n.createContext(null)),CX=function(e){v(r,e);var t=w(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"render",value:function(){return n.createElement(_X.Provider,{value:this._reactInternals},this.props.children)}}]),r}(n.Component),EX=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,SX=EX.ReactCurrentOwner,BX=EX.ReactCurrentDispatcher;function TX(){var e=n.useContext(_X);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");var t=n.useId();return n.useMemo((function(){for(var n=0,r=[null==SX?void 0:SX.current,e,null==e?void 0:e.alternate];n<r.length;n++){var i=r[n];if(i){var a=wX(i,!1,(function(e){for(var n=e.memoizedState;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(a)return a}}}),[e,t])}function IX(){var e=function(){var e,t,r=TX(),i=l(n.useState((function(){return new Map})),1)[0];i.clear();for(var a=r;a;){var o=null==(e=a.type)?void 0:e._context;o&&o!==_X&&!i.has(o)&&i.set(o,null==(t=null==BX?void 0:BX.current)?void 0:t.readContext(xX(o))),a=a.return}return i}();return n.useMemo((function(){return Array.from(e.keys()).reduce((function(t,r){return function(i){return n.createElement(t,null,n.createElement(r.Provider,function(e,t){return hX(e,pX(t))}(bX({},i),{value:e.get(r)})))}}),(function(e){return n.createElement(CX,bX({},e))}))}),[e])}var kX=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","scene","onPointerMissed","onCreated"],MX={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function RX(e){var t=UM(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(MX).reduce((function(e,n){return qn(qn({},e),{},E({},n,t(n)))}),{}),update:function(){var t,n=e.getState(),r=n.events,i=n.internal;null!=(t=i.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:function(t){var n,r=e.getState(),i=r.set,a=r.events;null==a.disconnect||a.disconnect(),i((function(e){return{events:qn(qn({},e.events),{},{connected:t})}})),Object.entries(null!=(n=a.handlers)?n:[]).forEach((function(e){var n=l(e,2),r=n[0],i=n[1],a=l(MX[r],2),o=a[0],s=a[1];t.addEventListener(o,i,{passive:s})}))},disconnect:function(){var t,n=e.getState(),r=n.set,i=n.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];if(i&&i.connected instanceof HTMLElement){var a=l(MX[n],1)[0];i.connected.removeEventListener(a,r)}})),r((function(e){return{events:qn(qn({},e.events),{},{connected:void 0})}})))}}}var UX,FX,OX,PX=n.forwardRef((function(t,r){var i=t.children,a=t.fallback,o=t.resize,s=t.style,u=t.gl,c=t.events,A=void 0===c?RX:c,f=t.eventSource,d=t.eventPrefix,h=t.shadows,p=t.linear,v=t.flat,g=t.legacy,m=t.orthographic,y=t.frameloop,b=t.dpr,w=t.performance,x=t.raycaster,_=t.camera,C=t.scene,E=t.onPointerMissed,S=t.onCreated,B=Kn(t,kX);n.useMemo((function(){return t=e,void Object.assign(oM,t);var t}),[]);var T=IX(),I=l(lX(qn({scroll:!0,debounce:{scroll:50,resize:0}},o)),2),k=I[0],M=I[1],R=n.useRef(null),U=n.useRef(null);n.useImperativeHandle(r,(function(){return R.current}));var F=AM(E),O=l(n.useState(!1),2),P=O[0],D=O[1],L=l(n.useState(!1),2),N=L[0],Q=L[1];if(P)throw P;if(N)throw N;var H=n.useRef(null);cM((function(){var e=R.current;M.width>0&&M.height>0&&e&&(H.current||(H.current=oR(e)),H.current.configure({gl:u,events:A,shadows:h,linear:p,flat:v,legacy:g,orthographic:m,frameloop:y,dpr:b,performance:w,raycaster:x,camera:_,scene:C,size:M,onPointerMissed:function(){return null==F.current?void 0:F.current.apply(F,arguments)},onCreated:function(e){var t;null==e.events.connect||e.events.connect(f?(t=f)&&t.hasOwnProperty("current")?f.current:f:U.current),d&&e.setEvents({compute:function(e,t){var n=e[d+"X"],r=e[d+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==S||S(e)}}),H.current.render(n.createElement(T,null,n.createElement(dM,{set:Q},n.createElement(n.Suspense,{fallback:n.createElement(fM,{set:D})},i)))))})),n.useEffect((function(){var e=R.current;if(e)return function(){return uR(e)}}),[]);var j=f?"none":"auto";return n.createElement("div",xp({ref:U,style:qn({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j},s)},B),n.createElement("div",{ref:k,style:{width:"100%",height:"100%"}},n.createElement("canvas",{ref:R,style:{display:"block"}},a)))})),DX=n.forwardRef((function(e,t){return n.createElement(CX,null,n.createElement(PX,xp({},e,{ref:t})))})),LX=function(e){var t=e.$clothId,r=e.$texture,i=e.$scale,a=e.$position,o=e.$target,s=l(dA(bA),2),u=s[0],c=s[1],A=l(dA(wA),2),f=(A[0],A[1]),d=l((0,n.useState)(!1),2),h=d[0],p=d[1],v=l((0,n.useState)(a),2),g=v[0],m=v[1],y=l((0,n.useState)({x:o.x,y:o.y}),2),b=(y[0],y[1]);(0,n.useEffect)((function(){return p(!1),function(){p(!1)}}),[t]),(0,n.useEffect)((function(){h&&u===t&&(m([o.x,o.y,0]),b({x:o.x,y:o.y}))}),[h,o]);var w=r.image.naturalWidth,x=r.image.naturalHeight;return(0,mn.jsx)(mn.Fragment,{children:r&&(0,mn.jsxs)("mesh",{position:g,onPointerDown:function(e){0===e.button&&(u!==t&&c(t),e.stopPropagation(),p(!0))},onPointerUp:function(e){0===e.button&&(e.stopPropagation(),p(!1),c(""))},onClick:function(e){e.stopPropagation(),0===e.button&&(c(t),p(!1))},onPointerEnter:function(){f(t)},onPointerLeave:function(){f(t)},children:[(0,mn.jsx)("planeGeometry",{args:[i[0]/w*33,i[1]/x*33]}),(0,mn.jsx)("meshBasicMaterial",{map:r,transparent:!0,color:u===t?"pink":"white",depthWrite:!1,depthTest:!1})]})})},NX=function(e){var t=e.$texture,n=e.$scale;return(0,mn.jsx)(mn.Fragment,{children:(0,mn.jsxs)("mesh",{position:[0,0,-.1],raycast:function(){return null},children:[(0,mn.jsx)("planeGeometry",{args:n}),(0,mn.jsx)("meshBasicMaterial",{map:t,transparent:!0,depthWrite:!1,depthTest:!1})]})})},QX=JSON.parse('{"list":[{"codyId":"11","img":null,"gender":"\uc5ec","age":10,"height":130,"weight":22,"cody":[{"clothId":"top2","img":"img/top2.png","position":[1,1,0],"scale":[2.5,2],"type":"\uc0c1\uc758","size":"s","color":"\uac80\uc815"},{"clothId":"skirt1","img":"img/skirt1.png","position":[0,3,0],"scale":[2.2,2],"width":2.5,"height":2,"type":"\ud558\uc758","size":"s","color":"\ud558\ub298"}]},{"codyId":"12","img":null,"gender":"\ub0a8","age":10,"height":110,"weight":24,"cody":[{"clothId":"top3","img":"img/top3.png","position":[1,1,0],"scale":[2.5,2],"type":"\uc0c1\uc758","size":"m","color":"\uac80\uc815"},{"clothId":"skirt1","img":"img/skirt1.png","position":[0,-2,0],"scale":[2.2,2],"width":2.5,"height":2,"type":"\ud558\uc758","size":"l","color":"\ud558\ub298"}]}]}'),HX=__webpack_require__(1905),jX=__webpack_require__.n(HX),zX=function(){var e=(0,gn.useTheme)(),t=l(dA(bA),2),r=(t[0],t[1]),i=l(dA(EA),2),a=i[0],o=(i[1],l((0,n.useState)(QX),2)),s=(o[0],o[1],l(dA(SA),2)),u=(s[0],s[1],l(dA(BA),2)),c=u[0],A=u[1],f=YM(NT,"img/\uc5ec\uc0d8\ud50c.png"),d=YM(NT,"img/\ub0a8\uc0d8\ud50c.png"),h=l((0,n.useState)(new Wy(0,0,0)),2),p=h[0],v=h[1],g=l(dA(CA),2),m=g[0],y=(g[1],l((0,n.useState)(f),2)),b=y[0],w=y[1],x=l((0,n.useState)([2.1,7]),2),_=x[0],C=x[1],E=n.useRef(null),S=l(dA(TA),2),B=S[0],T=S[1];(0,n.useEffect)((function(){var e,t;"\uc5ec"===a.gender?(C([a.weight/24*2.1,a.height/130*7]),""!==(null===(e=a.img)||void 0===e?void 0:e.name)?console.log(a.img):w(f)):(C([a.weight/24*2.1,a.height/130*7]),""!==(null===(t=a.img)||void 0===t?void 0:t.name)||w(d))}),[a]);return(0,n.useEffect)((function(){c&&E.current&&setTimeout((function(){var e=E.current;jX()(e,{useCORS:!0}).then((function(e){var t=e.toDataURL("image/png"),n=M(B);n.push(t),T(n),A(!1)}))}),1e3)}),[c]),(0,mn.jsx)(GX,{children:(0,mn.jsxs)(DX,{className:"MyCanvas",style:{width:"100%",height:"100%"},shadows:!0,ref:E,gl:{preserveDrawingBuffer:!0},children:[(0,mn.jsx)("ambientLight",{color:e.colors.neutral[0],intensity:0}),(0,mn.jsx)(oX,{enableRotate:!1,enableDamping:!1,minDistance:1,maxDistance:10,zoomSpeed:2,maxPolarAngle:Math.PI}),(0,mn.jsxs)("mesh",{onPointerMove:function(e){e.camera&&e.intersections[0]&&v(e.intersections[0].point)},onClick:function(){return r("")},children:[(0,mn.jsx)("planeGeometry",{args:[12,10]}),(0,mn.jsx)("meshBasicMaterial",{color:"#a7866a",depthWrite:!1,depthTest:!1}),(0,mn.jsxs)("mesh",{onPointerMissed:function(){r("")},children:[(0,mn.jsx)(NX,{$texture:b,$scale:_}),m.map((function(e){return(0,mn.jsx)(LX,{$clothId:e.clothId,$texture:(t=e.img,YM(NT,t)),$scale:e.scale,$target:p,$position:e.position},e.clothId);var t}))]})]})]})})},GX=gn.default.div(UX||(UX=sn(["\n  /* position: absolute; */\n  /* z-index: 5; */\n  width: calc(100% - 110px);\n  height: 320px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* top: 60px; */\n  /* left: 240px; */\n  background-color: #4d321b;\n  border-radius: 10px;\n  overflow: hidden;\n"]))),VX=["title","titleId"];function WX(){return WX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WX.apply(this,arguments)}function KX(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XX(e,t){var r=e.title,i=e.titleId,a=KX(e,VX);return n.createElement("svg",WX({width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,FX||(FX=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.285645 3.143C0.285645 2.61044 0.71737 2.17871 1.24993 2.17871H10.8928C11.4253 2.17871 11.8571 2.61044 11.8571 3.143V3.46443C11.8571 3.99699 11.4253 4.42871 10.8928 4.42871H1.24993C0.71737 4.42871 0.285645 3.99699 0.285645 3.46443V3.143ZM1.24993 2.82157C1.07241 2.82157 0.928502 2.96548 0.928502 3.143V3.46443C0.928502 3.64195 1.07241 3.78585 1.24993 3.78585H10.8928C11.0703 3.78585 11.2142 3.64195 11.2142 3.46443V3.143C11.2142 2.96548 11.0703 2.82157 10.8928 2.82157H1.24993Z",fill:"#77777C"})),OX||(OX=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.57172 1.21415C4.3942 1.21415 4.25029 1.35805 4.25029 1.53557V2.49986C4.25029 2.67738 4.10638 2.82129 3.92886 2.82129C3.75134 2.82129 3.60744 2.67738 3.60744 2.49986V1.53557C3.60744 1.00301 4.03916 0.571289 4.57172 0.571289H7.78601C8.31857 0.571289 8.75029 1.00301 8.75029 1.53557V2.49986C8.75029 2.67738 8.60638 2.82129 8.42886 2.82129C8.25134 2.82129 8.10744 2.67738 8.10744 2.49986V1.53557C8.10744 1.35805 7.96353 1.21415 7.78601 1.21415H4.57172ZM1.65596 3.78639C1.83303 3.77374 1.98683 3.90703 1.99948 4.0841L2.59969 12.487C2.6117 12.6553 2.75166 12.7856 2.9203 12.7856H9.43743C9.60606 12.7856 9.74603 12.6553 9.75804 12.487L10.3583 4.0841C10.3709 3.90703 10.5247 3.77374 10.7018 3.78639C10.8788 3.79904 11.0121 3.95284 10.9995 4.1299L10.3993 12.5328C10.3632 13.0375 9.94333 13.4284 9.43743 13.4284H2.9203C2.4144 13.4284 1.99451 13.0375 1.95846 12.5328L1.35825 4.1299C1.3456 3.95284 1.47889 3.79904 1.65596 3.78639ZM3.91197 5.07173C4.08925 5.0624 4.24052 5.19855 4.24985 5.37582L4.57128 11.483C4.58061 11.6602 4.44446 11.8115 4.26719 11.8208C4.08991 11.8302 3.93864 11.694 3.92931 11.5168L3.60788 5.40961C3.59855 5.23234 3.7347 5.08106 3.91197 5.07173ZM8.44576 5.07173C8.62303 5.08106 8.75918 5.23234 8.74985 5.40961L8.42842 11.5168C8.41909 11.694 8.26782 11.8302 8.09054 11.8208C7.91327 11.8115 7.77712 11.6602 7.78645 11.483L8.10788 5.37582C8.11721 5.19855 8.26848 5.0624 8.44576 5.07173ZM6.17886 5.07129C6.35638 5.07129 6.50029 5.2152 6.50029 5.39272V11.4999C6.50029 11.6774 6.35638 11.8213 6.17886 11.8213C6.00134 11.8213 5.85744 11.6774 5.85744 11.4999V5.39272C5.85744 5.2152 6.00134 5.07129 6.17886 5.07129Z",fill:"#77777C"})))}var qX,YX,ZX,JX=n.forwardRef(XX),$X=(__webpack_require__.p,["title","titleId"]);function eq(){return eq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eq.apply(this,arguments)}function tq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nq(e,t){var r=e.title,i=e.titleId,a=tq(e,$X);return n.createElement("svg",eq({width:19,height:15,viewBox:"0 0 19 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,qX||(qX=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.61933 5.96931V5.32343H9.53444V5.96931L16.9748 10.1028C17.4353 10.3587 17.7831 10.7778 17.9497 11.2775L17.9554 11.2948C18.1573 11.9002 18.0682 12.565 17.7142 13.096C17.3306 13.6714 16.6849 14.017 15.9933 14.017H1.83023C1.04244 14.017 0.343041 13.5129 0.0939212 12.7655C-0.0313071 12.3899 -0.031307 11.9837 0.0939212 11.608L0.160381 11.4086C0.355068 10.8246 0.761618 10.3347 1.2998 10.0357L8.61933 5.96931ZM9.07688 6.76196L1.74421 10.8357C1.40618 11.0235 1.15082 11.3312 1.02853 11.698L0.962074 11.8974C0.89946 12.0852 0.89946 12.2883 0.962074 12.4762C1.08663 12.8498 1.43633 13.1019 1.83023 13.1019H15.9933C16.3789 13.1019 16.7389 12.9092 16.9528 12.5884C17.1502 12.2923 17.1998 11.9217 17.0873 11.5841L17.0815 11.5669C16.9874 11.2844 16.7907 11.0474 16.5304 10.9028L9.07688 6.76196Z",fill:"#FFD600"})),YX||(YX=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.3632 1.47811C8.98314 1.35142 8.56412 1.45034 8.28084 1.73362C8.16473 1.84973 8.07726 1.99127 8.02533 2.14705L7.68089 3.18037C7.60098 3.42011 7.34185 3.54967 7.10212 3.46976C6.86239 3.38985 6.73282 3.13072 6.81274 2.89099L7.15718 1.85766C7.25403 1.56711 7.4172 1.3031 7.63376 1.08654C8.16214 0.55816 8.94369 0.37366 9.65259 0.609958L9.82991 0.669065C10.0991 0.758811 10.3438 0.910011 10.5445 1.11069C10.7452 1.31137 10.8964 1.55602 10.9861 1.82526L11.0172 1.91856C11.2707 2.67895 11.0728 3.51727 10.506 4.08402L10.4661 4.12388C10.3317 4.25831 10.1765 4.37018 10.0065 4.4552C9.71727 4.5998 9.5346 4.89538 9.5346 5.2187V6.23858C9.5346 6.49128 9.32974 6.69613 9.07704 6.69613C8.82434 6.69613 8.61948 6.49128 8.61948 6.23858V5.2187C8.61948 4.54876 8.998 3.93631 9.59722 3.6367C9.67928 3.59567 9.75419 3.54167 9.81907 3.4768L9.85892 3.43694C10.1806 3.11528 10.2929 2.6395 10.149 2.20795L10.1179 2.11464C10.0731 1.98018 9.99761 1.858 9.89739 1.75777C9.79717 1.65755 9.67499 1.58204 9.54052 1.53722L9.3632 1.47811Z",fill:"#FFD600"})),ZX||(ZX=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.1098 3.03577C14.3625 3.03577 14.5674 3.24062 14.5674 3.49332V4.40844H15.4825C15.7352 4.40844 15.94 4.61329 15.94 4.86599C15.94 5.1187 15.7352 5.32355 15.4825 5.32355H14.5674V6.23866C14.5674 6.49137 14.3625 6.69622 14.1098 6.69622C13.8571 6.69622 13.6522 6.49137 13.6522 6.23866V5.32355H12.7371C12.4844 5.32355 12.2796 5.1187 12.2796 4.86599C12.2796 4.61329 12.4844 4.40844 12.7371 4.40844H13.6522V3.49332C13.6522 3.24062 13.8571 3.03577 14.1098 3.03577Z",fill:"#FFD600"})))}var rq,iq,aq,oq=n.forwardRef(nq),sq=(__webpack_require__.p,["title","titleId"]);function uq(){return uq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uq.apply(this,arguments)}function lq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cq(e,t){var r=e.title,i=e.titleId,a=lq(e,sq);return n.createElement("svg",uq({width:19,height:14,viewBox:"0 0 19 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,rq||(rq=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.61933 5.46064V4.81476H9.53444V5.46064L16.9748 9.59417C17.4353 9.84999 17.7831 10.2691 17.9497 10.7688L17.9554 10.7861C18.1573 11.3916 18.0682 12.0563 17.7142 12.5874C17.3306 13.1627 16.6849 13.5083 15.9933 13.5083H1.83023C1.04244 13.5083 0.343041 13.0042 0.0939212 12.2569C-0.0313071 11.8812 -0.031307 11.475 0.0939212 11.0993L0.160381 10.9C0.355068 10.3159 0.761618 9.82604 1.2998 9.52705L8.61933 5.46064ZM9.07688 6.2533L1.74421 10.327C1.40618 10.5148 1.15082 10.8225 1.02853 11.1893L0.962074 11.3887C0.89946 11.5766 0.89946 11.7797 0.962074 11.9675C1.08663 12.3412 1.43633 12.5932 1.83023 12.5932H15.9933C16.3789 12.5932 16.7389 12.4005 16.9528 12.0797C17.1502 11.7837 17.1998 11.4131 17.0873 11.0755L17.0815 11.0582C16.9874 10.7757 16.7907 10.5387 16.5304 10.3941L9.07688 6.2533Z",fill:"#77777C"})),iq||(iq=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.3632 0.969444C8.98314 0.842757 8.56412 0.941673 8.28084 1.22495C8.16473 1.34106 8.07726 1.48261 8.02533 1.63838L7.68089 2.67171C7.60098 2.91144 7.34185 3.041 7.10212 2.96109C6.86239 2.88118 6.73282 2.62206 6.81274 2.38232L7.15718 1.34899C7.25403 1.05844 7.4172 0.794434 7.63376 0.577871C8.16214 0.0494934 8.94369 -0.135007 9.65259 0.101291L9.82991 0.160398C10.0991 0.250144 10.3438 0.401344 10.5445 0.602024C10.7452 0.802703 10.8964 1.04735 10.9861 1.31659L11.0172 1.4099C11.2707 2.17028 11.0728 3.0086 10.506 3.57536L10.4661 3.61521C10.3317 3.74964 10.1765 3.86152 10.0065 3.94653C9.71727 4.09113 9.5346 4.38671 9.5346 4.71004V5.72991C9.5346 5.98261 9.32974 6.18747 9.07704 6.18747C8.82434 6.18747 8.61948 5.98261 8.61948 5.72991V4.71004C8.61948 4.04009 8.998 3.42764 9.59722 3.12803C9.67928 3.087 9.75419 3.03301 9.81907 2.96813L9.85892 2.92827C10.1806 2.60662 10.2929 2.13083 10.149 1.69928L10.1179 1.60597C10.0731 1.47151 9.99761 1.34933 9.89739 1.24911C9.79717 1.14888 9.67499 1.07337 9.54052 1.02855L9.3632 0.969444Z",fill:"#77777C"})),aq||(aq=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.1098 2.5271C14.3625 2.5271 14.5674 2.73195 14.5674 2.98466V3.89977H15.4825C15.7352 3.89977 15.94 4.10462 15.94 4.35733C15.94 4.61003 15.7352 4.81488 15.4825 4.81488H14.5674V5.73C14.5674 5.9827 14.3625 6.18755 14.1098 6.18755C13.8571 6.18755 13.6522 5.9827 13.6522 5.73V4.81488H12.7371C12.4844 4.81488 12.2796 4.61003 12.2796 4.35733C12.2796 4.10462 12.4844 3.89977 12.7371 3.89977H13.6522V2.98466C13.6522 2.73195 13.8571 2.5271 14.1098 2.5271Z",fill:"#77777C"})))}var Aq,fq,dq,hq,pq,vq,gq,mq,yq,bq,wq,xq,_q=n.forwardRef(cq),Cq=(__webpack_require__.p,function(e){e.$clothId;var t=e.$boxSize,r=e.$type,i=e.$wear,a=e.$work,o=e.$img,s=e.$cloth,u=l(dA(CA),2),c=u[0],A=u[1],f=l((0,n.useState)(!1),2),d=f[0],h=f[1],p=l(dA(xA),2),v=p[0],g=p[1],m=l(dA(IA),2),y=(m[0],m[1]);return(0,n.useEffect)((function(){c.length>0&&c.some((function(e){return e.clothId===(null===s||void 0===s?void 0:s.clothId)}))?h(!0):h(!1)}),[c]),(0,mn.jsx)(mn.Fragment,{children:i?(0,mn.jsxs)(Eq,{$boxSize:t,onClick:function(){return function(){if(s){var e=[],t=[];(e=M(c)).length>0&&e.some((function(e){return e.clothId===s.clothId}))?(t=e.filter((function(e){return e.clothId!==s.clothId})),A(t)):(y(s.clothId),g(qn(qn({},v),{},{clothProperty:!0})))}}()},children:[(0,mn.jsx)(Bq,{src:o}),(0,mn.jsxs)(Tq,{children:["cloth"===a&&i&&(0,mn.jsx)(oq,{}),"cloth"===a&&!i&&(0,mn.jsx)(_q,{})]}),d&&(0,mn.jsx)(Iq,{children:"\ucc29\uc6a9\uc911"})]}):(0,mn.jsx)(Sq,{$boxSize:t,style:{backgroundImage:"url(".concat(o,")")},children:(0,mn.jsx)(Tq,{children:"cody"===r&&(0,mn.jsx)(JX,{})})})})}),Eq=gn.default.div(Aq||(Aq=sn(["\n  width: ",";\n  min-width: ",";\n  height: ",";\n  min-height: ",";\n  display: flex;\n  background: linear-gradient(#f5f5f5, #9e9e9e);\n  border-radius: 10px;\n  justify-content: center;\n  position: relative;\n  padding: 5px;\n"])),(function(e){return"s"===e.$boxSize?"100px":"325px"}),(function(e){return"s"===e.$boxSize?"100px":"325px"}),(function(e){return"s"===e.$boxSize?"100px":"325px"}),(function(e){return"s"===e.$boxSize?"100px":"325px"})),Sq=gn.default.div(fq||(fq=sn(["\n  width: ",";\n  min-width: ",";\n  height: ",";\n  min-height: ",";\n  display: flex;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: ",";\n  border-radius: 10px;\n  justify-content: center;\n  position: relative;\n  background-color: ",";\n"])),(function(e){return"s"===e.$boxSize?"100px":"325px"}),(function(e){return"s"===e.$boxSize?"100px":"325px"}),(function(e){return"s"===e.$boxSize?"100px":"325px"}),(function(e){return"s"===e.$boxSize?"100px":"325px"}),(function(e){return"s"===e.$boxSize?"100px":"325px"}),(function(e){return e.theme.colors.brown[2]})),Bq=gn.default.img(dq||(dq=sn(["\n  scale: 0.7;\n  cursor: pointer;\n"]))),Tq=gn.default.div(hq||(hq=sn(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0.5px solid ",";\n  background-color: ",";\n  border-radius: 50%;\n  cursor: pointer;\n  z-index: 10;\n"])),(function(e){return e.theme.colors.neutral[1]}),(function(e){return e.theme.colors.neutral[0]})),Iq=gn.default.div(pq||(pq=sn(["\n  position: absolute;\n  width: 100px;\n  height: 100px;\n  border-radius: 10px;\n  z-index: 15;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 0.9rem;\n  color: ",";\n  top: 0px;\n  background-color: rgba(0, 0, 0, 0.6);\n"])),(function(e){return e.theme.colors.neutral[0]})),kq=function(e){var t=e.$size,n=e.$content,r=e.$active,i=e.$setSelectedMenu,a=e.$menuFiled;return(0,mn.jsx)(Mq,{$size:t,$active:r,onClick:function(){return i(a)},children:n})},Mq=gn.default.div(vq||(vq=sn(["\n  width: ",";\n  height: ",";\n  background-color: ",";\n  border: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 0.9rem;\n  cursor: pointer;\n  border-radius: 5px;\n"])),(function(e){return"s"===e.$size?"15%":"m"===e.$size?"30%":"40%"}),(function(e){return"s"===e.$size||"m"===e.$size?"26px":"40px"}),(function(e){return e.$active?e.theme.colors.yellow[4]:e.theme.colors.neutral[0]}),(function(e){return e.$active?"none":"1px solid ".concat(e.theme.colors.yellow[4])})),Rq=(gn.default.div(gq||(gq=sn(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 16px;\n  height: 16px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0.5px solid ",";\n  background-color: ",";\n"])),(function(e){return e.theme.colors.neutral[1]}),(function(e){return e.theme.colors.neutral[0]})),["title","titleId"]);function Uq(){return Uq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uq.apply(this,arguments)}function Fq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oq(e,t){var r=e.title,i=e.titleId,a=Fq(e,Rq);return n.createElement("svg",Uq({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,mq||(mq=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.413047C0 0.184927 0.184927 0 0.413047 0H2.26036C2.81915 0 3.30881 0.373999 3.45584 0.913102L3.99536 2.89133H14.6881C15.4701 2.89133 16.0566 3.60672 15.9032 4.37349L14.9945 8.917C14.8787 9.49621 14.3701 9.91313 13.7794 9.91313H4.8857C4.77615 9.91313 4.67109 9.95665 4.59363 10.0341C4.43232 10.1954 4.43232 10.4569 4.59363 10.6182C4.67109 10.6957 4.77615 10.7392 4.8857 10.7392H14.4566C14.6848 10.7392 14.8697 10.9242 14.8697 11.1523C14.8697 11.3804 14.6848 11.5653 14.4566 11.5653H4.8857C4.55706 11.5653 4.24188 11.4348 4.00949 11.2024C3.52558 10.7185 3.52558 9.93389 4.00949 9.44997C4.22852 9.23094 4.5211 9.10238 4.82918 9.08832L2.65886 1.13046C2.60985 0.950761 2.44663 0.826094 2.26036 0.826094H0.413047C0.184927 0.826094 0 0.641167 0 0.413047ZM5.6851 9.08704H13.7794C13.9763 9.08704 14.1458 8.94806 14.1844 8.75499L15.0931 4.21148C15.1443 3.95589 14.9488 3.71742 14.6881 3.71742H4.22066L5.6851 9.08704Z",fill:"#77777C"})),yq||(yq=n.createElement("path",{d:"M8.67394 13.7982C8.67394 14.7107 7.93423 15.4504 7.02176 15.4504C6.10928 15.4504 5.36957 14.7107 5.36957 13.7982C5.36957 12.8858 6.10928 12.1461 7.02176 12.1461C7.93423 12.1461 8.67394 12.8858 8.67394 13.7982Z",fill:"white"})),bq||(bq=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.02176 14.6243C7.478 14.6243 7.84785 14.2545 7.84785 13.7982C7.84785 13.342 7.478 12.9722 7.02176 12.9722C6.56552 12.9722 6.19566 13.342 6.19566 13.7982C6.19566 14.2545 6.56552 14.6243 7.02176 14.6243ZM7.02176 15.4504C7.93423 15.4504 8.67394 14.7107 8.67394 13.7982C8.67394 12.8858 7.93423 12.1461 7.02176 12.1461C6.10928 12.1461 5.36957 12.8858 5.36957 13.7982C5.36957 14.7107 6.10928 15.4504 7.02176 15.4504Z",fill:"#77777C"})),wq||(wq=n.createElement("path",{d:"M14.4566 13.7982C14.4566 14.7107 13.7169 15.4504 12.8044 15.4504C11.8919 15.4504 11.1522 14.7107 11.1522 13.7982C11.1522 12.8858 11.8919 12.1461 12.8044 12.1461C13.7169 12.1461 14.4566 12.8858 14.4566 13.7982Z",fill:"white"})),xq||(xq=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8044 14.6243C13.2606 14.6243 13.6305 14.2545 13.6305 13.7982C13.6305 13.342 13.2606 12.9722 12.8044 12.9722C12.3482 12.9722 11.9783 13.342 11.9783 13.7982C11.9783 14.2545 12.3482 14.6243 12.8044 14.6243ZM12.8044 15.4504C13.7169 15.4504 14.4566 14.7107 14.4566 13.7982C14.4566 12.8858 13.7169 12.1461 12.8044 12.1461C11.8919 12.1461 11.1522 12.8858 11.1522 13.7982C11.1522 14.7107 11.8919 15.4504 12.8044 15.4504Z",fill:"#77777C"})))}var Pq,Dq,Lq,Nq,Qq,Hq,jq,zq,Gq,Vq=n.forwardRef(Oq),Wq=(__webpack_require__.p,["title","titleId"]);function Kq(){return Kq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kq.apply(this,arguments)}function Xq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qq(e,t){var r=e.title,i=e.titleId,a=Xq(e,Wq);return n.createElement("svg",Kq({width:13,height:17,viewBox:"0 0 13 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,Pq||(Pq=n.createElement("path",{d:"M8.69021 2.66463C8.69021 3.9982 7.60915 5.07927 6.27558 5.07927C4.94202 5.07927 3.86095 3.9982 3.86095 2.66463C3.86095 1.33107 4.94202 0.25 6.27558 0.25C7.60915 0.25 8.69021 1.33107 8.69021 2.66463Z",fill:"#77777C"})),Dq||(Dq=n.createElement("path",{d:"M2.85487 6.28648C2.85487 5.6197 3.39541 5.07916 4.06219 5.07916H8.48902C9.1558 5.07916 9.69634 5.6197 9.69634 6.28648V11.1157C9.69634 11.7825 9.1558 12.3231 8.48902 12.3231H4.06219C3.39541 12.3231 2.85487 11.7825 2.85487 11.1157V6.28648Z",fill:"#77777C"})),Lq||(Lq=n.createElement("path",{d:"M3.86095 12.3229C3.86095 11.8784 4.2213 11.518 4.66582 11.518H5.06826C5.51279 11.518 5.87314 11.8784 5.87314 12.3229V15.9448C5.87314 16.3894 5.51279 16.7497 5.06826 16.7497H4.66582C4.2213 16.7497 3.86095 16.3894 3.86095 15.9448V12.3229Z",fill:"#77777C"})),Nq||(Nq=n.createElement("path",{d:"M6.67795 12.3229C6.67795 11.8784 7.0383 11.518 7.48283 11.518H7.88527C8.32979 11.518 8.69014 11.8784 8.69014 12.3229V15.9448C8.69014 16.3894 8.32979 16.7497 7.88527 16.7497H7.48283C7.0383 16.7497 6.67795 16.3894 6.67795 15.9448V12.3229Z",fill:"#77777C"})),Qq||(Qq=n.createElement("path",{d:"M10.4087 7.4546C10.1264 7.93319 9.50961 8.09231 9.03101 7.81V7.81C8.55242 7.52769 8.3933 6.91086 8.67561 6.43227L10.3113 3.65925C10.5936 3.18065 11.2105 3.02153 11.6891 3.30384V3.30384C12.1677 3.58615 12.3268 4.20298 12.0445 4.68157L10.4087 7.4546Z",fill:"#77777C"})),Hq||(Hq=n.createElement("path",{d:"M2.23563 3.62918C1.933 3.16318 1.30989 3.03073 0.843883 3.33336V3.33336C0.377874 3.63599 0.245429 4.2591 0.548059 4.7251L2.52072 7.76273C2.82335 8.22874 3.44645 8.36118 3.91246 8.05855V8.05855C4.37847 7.75592 4.51091 7.13282 4.20828 6.66681L2.23563 3.62918Z",fill:"#77777C"})),jq||(jq=n.createElement("path",{d:"M5.8731 2.26218C5.8731 2.48444 5.78301 2.66462 5.67188 2.66462C5.56075 2.66462 5.47066 2.48444 5.47066 2.26218C5.47066 2.03992 5.56075 1.85974 5.67188 1.85974C5.78301 1.85974 5.8731 2.03992 5.8731 2.26218Z",fill:"white"})),zq||(zq=n.createElement("path",{d:"M7.08039 2.26218C7.08039 2.48444 6.9903 2.66462 6.87917 2.66462C6.76804 2.66462 6.67795 2.48444 6.67795 2.26218C6.67795 2.03992 6.76804 1.85974 6.87917 1.85974C6.9903 1.85974 7.08039 2.03992 7.08039 2.26218Z",fill:"white"})),Gq||(Gq=n.createElement("path",{d:"M6.71295 3.46942H5.83869C5.68476 3.46942 5.59522 3.64341 5.68469 3.76867C5.80311 3.93445 5.99429 4.03284 6.19802 4.03284H6.35363C6.55735 4.03284 6.74854 3.93445 6.86695 3.76867C6.95642 3.64341 6.86688 3.46942 6.71295 3.46942Z",fill:"white"})))}var Yq,Zq=n.forwardRef(qq),Jq=(__webpack_require__.p,["title","titleId"]);function $q(){return $q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$q.apply(this,arguments)}function eY(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tY(e,t){var r=e.title,i=e.titleId,a=eY(e,Jq);return n.createElement("svg",$q({width:8,height:16,viewBox:"0 0 8 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,Yq||(Yq=n.createElement("path",{d:"M7.92741 3.99059C7.92741 4.44174 7.83718 4.86067 7.65671 5.24737C7.48914 5.63408 7.2829 5.98211 7.03799 6.29147C6.80597 6.58795 6.5675 6.84575 6.32259 7.06488C6.07768 7.27112 5.89077 7.4258 5.76187 7.52892C5.49118 7.73516 5.28494 7.93496 5.14315 8.12831C5.00136 8.30877 4.89179 8.49568 4.81445 8.68903C4.75 8.86949 4.71133 9.06284 4.69844 9.26908C4.68555 9.47533 4.6791 9.7009 4.6791 9.94582C4.6791 10.1263 4.60821 10.3067 4.46642 10.4872C4.32463 10.6548 4.01526 10.7386 3.53833 10.7386C3.13874 10.7386 2.8616 10.6483 2.70692 10.4679C2.55224 10.2874 2.4749 9.94581 2.4749 9.4431C2.4749 9.03062 2.51357 8.6697 2.59091 8.36033C2.68114 8.03808 2.78426 7.76094 2.90027 7.52892C3.02917 7.2969 3.17096 7.0971 3.32564 6.92953C3.48033 6.76196 3.62856 6.62017 3.77035 6.50416C3.92503 6.37526 4.09905 6.23991 4.2924 6.09812C4.49864 5.94344 4.68555 5.78231 4.85312 5.61474C5.03358 5.43428 5.18182 5.24093 5.29783 5.03469C5.42673 4.81556 5.49118 4.57709 5.49118 4.31929C5.49118 3.86813 5.32361 3.53944 4.98847 3.3332C4.65332 3.11406 4.24084 3.0045 3.75102 3.0045C3.26119 3.0045 2.89383 3.08184 2.64891 3.23652C2.41689 3.3912 2.22999 3.56522 2.0882 3.75857C1.95929 3.93903 1.83684 4.1066 1.72083 4.26128C1.60482 4.41596 1.41791 4.4933 1.16011 4.4933C1.03121 4.4933 0.895862 4.47397 0.754071 4.4353C0.62517 4.38374 0.502714 4.31284 0.386703 4.22261C0.270692 4.13238 0.174016 4.02282 0.0966758 3.89392C0.0322253 3.75212 0 3.58455 0 3.3912C0 3.1334 0.0773406 2.85626 0.232022 2.55979C0.386703 2.25043 0.618725 1.96685 0.928087 1.70904C1.23745 1.45124 1.6306 1.23856 2.10753 1.07099C2.58446 0.890524 3.15163 0.800293 3.80902 0.800293C4.42775 0.800293 4.98847 0.884078 5.49118 1.05165C6.00678 1.20633 6.4386 1.42546 6.78663 1.70904C7.14756 1.99263 7.42469 2.33421 7.61805 2.73381C7.82429 3.12051 7.92741 3.53944 7.92741 3.99059ZM3.55767 12.0727C3.97015 12.0727 4.31818 12.2209 4.60176 12.5174C4.89824 12.801 5.04647 13.149 5.04647 13.5615C5.04647 13.7548 5.0078 13.9417 4.93046 14.1222C4.85312 14.3027 4.74355 14.4638 4.60176 14.6056C4.47286 14.7345 4.31818 14.8441 4.13772 14.9343C3.95726 15.0116 3.76391 15.0503 3.55767 15.0503C3.14518 15.0503 2.79715 14.9021 2.51357 14.6056C2.22999 14.3091 2.0882 13.9611 2.0882 13.5615C2.0882 13.149 2.22999 12.801 2.51357 12.5174C2.79715 12.2209 3.14518 12.0727 3.55767 12.0727Z",fill:"#77777C"})))}var nY,rY,iY=n.forwardRef(tY),aY=(__webpack_require__.p,["title","titleId"]);function oY(){return oY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oY.apply(this,arguments)}function sY(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uY(e,t){var r=e.title,i=e.titleId,a=sY(e,aY);return n.createElement("svg",oY({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,nY||(nY=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.00625 5.93721V1.66221H1.5125V14.4872H14.3375V4.09483L11.9049 1.66221L11.4875 1.66221V5.93721C11.4875 6.52746 11.009 7.00596 10.4188 7.00596H5.075C4.48475 7.00596 4.00625 6.52746 4.00625 5.93721ZM11.9049 0.949707C12.0938 0.949707 12.2751 1.02477 12.4087 1.15839L14.8413 3.59102C14.9749 3.72464 15.05 3.90587 15.05 4.09483V14.4872C15.05 14.8807 14.731 15.1997 14.3375 15.1997H1.5125C1.119 15.1997 0.800003 14.8807 0.800003 14.4872V1.66221C0.800003 1.2687 1.119 0.949707 1.5125 0.949707H11.9049ZM4.71875 1.66221H10.775V5.93721C10.775 6.13396 10.6155 6.29346 10.4188 6.29346H5.075C4.87825 6.29346 4.71875 6.13396 4.71875 5.93721V1.66221ZM7.925 4.86846V3.08721C7.925 2.6937 8.244 2.37471 8.6375 2.37471H9.35C9.74351 2.37471 10.0625 2.6937 10.0625 3.08721V4.86846C10.0625 5.26196 9.74351 5.58096 9.35 5.58096H8.6375C8.244 5.58096 7.925 5.26196 7.925 4.86846ZM8.6375 3.08721V4.86846H9.35V3.08721H8.6375Z",fill:"#77777C"})),rY||(rY=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.65 8.78721C3.45325 8.78721 3.29375 8.94671 3.29375 9.14346V14.4872H2.58125V9.14346C2.58125 8.5532 3.05975 8.07471 3.65 8.07471H12.2C12.7903 8.07471 13.2688 8.5532 13.2688 9.14346V14.4872H12.5563V9.14346C12.5563 8.94671 12.3968 8.78721 12.2 8.78721H3.65Z",fill:"#77777C"})))}var lY=n.forwardRef(uY);__webpack_require__.p;var cY,AY,fY,dY=__webpack_require__.p+"static/media/quit.29b687d168f6bad4f6f36c293c9573d4.svg",hY=["title","titleId"];function pY(){return pY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pY.apply(this,arguments)}function vY(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gY(e,t){var r=e.title,i=e.titleId,a=vY(e,hY);return n.createElement("svg",pY({width:79,height:61,viewBox:"0 0 79 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,cY||(cY=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.9999 12.0801C38.8878 12.0814 37.8217 12.5238 37.0355 13.3103C36.2493 14.0968 35.8071 15.163 35.8062 16.2751C35.8068 17.3872 36.2488 18.4537 37.0351 19.2402C37.8214 20.0268 38.8877 20.4691 39.9999 20.4701C41.1121 20.4691 42.1784 20.0268 42.9647 19.2402C43.751 18.4537 44.193 17.3872 44.1937 16.2751C44.1927 15.163 43.7505 14.0968 42.9643 13.3103C42.1781 12.5238 41.112 12.0814 39.9999 12.0801Z",fill:"#77777C"})),AY||(AY=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40 22.8337C38.2615 22.8317 36.5947 22.1402 35.3654 20.9109C34.136 19.6815 33.4445 18.0147 33.4425 16.2762C33.4442 14.5374 34.1355 12.8703 35.3649 11.6407C36.5943 10.4111 38.2613 9.71943 40 9.71744C41.7388 9.71943 43.4057 10.4111 44.6351 11.6407C45.8645 12.8703 46.5559 14.5374 46.5575 16.2762C46.5555 18.0147 45.864 19.6815 44.6347 20.9109C43.4053 22.1402 41.7386 22.8317 40 22.8337ZM50.1413 6.41994H46.4488L45.0575 3.70869C44.8369 3.27948 44.5022 2.91939 44.0903 2.668C43.6784 2.4166 43.2051 2.28363 42.7225 2.28369H37.2063C36.7142 2.28363 36.232 2.42189 35.8147 2.6827C35.3974 2.9435 35.0618 3.31634 34.8463 3.75869L33.5513 6.41994H29.8588C29.445 6.41978 29.0353 6.50113 28.6529 6.65936C28.2706 6.81759 27.9232 7.04959 27.6306 7.34211C27.3379 7.63463 27.1058 7.98194 26.9474 8.3642C26.789 8.74646 26.7075 9.15617 26.7075 9.56994V24.0712C26.7075 24.485 26.789 24.8947 26.9474 25.2769C27.1058 25.6592 27.3379 26.0065 27.6306 26.299C27.9232 26.5915 28.2706 26.8235 28.6529 26.9818C29.0353 27.14 29.445 27.2214 29.8588 27.2212H50.1413C50.555 27.2214 50.9648 27.14 51.3471 26.9818C51.7294 26.8235 52.0768 26.5915 52.3695 26.299C52.6621 26.0065 52.8942 25.6592 53.0526 25.2769C53.211 24.8947 53.2925 24.485 53.2925 24.0712V9.56994C53.2925 9.15617 53.211 8.74646 53.0526 8.3642C52.8942 7.98194 52.6621 7.63463 52.3695 7.34211C52.0768 7.04959 51.7294 6.81759 51.3471 6.65936C50.9648 6.50113 50.555 6.41978 50.1413 6.41994Z",fill:"#77777C"})),fY||(fY=n.createElement("path",{d:"M22.3784 41.75H23.8184V42.66H22.3784V47.54H21.3784V38.26H22.3784V41.75ZM17.4384 38.7C18.1517 38.7 18.7284 38.9567 19.1684 39.47C19.615 39.9767 19.8384 40.7567 19.8384 41.81V43.22C19.8384 44.2733 19.615 45.0567 19.1684 45.57C18.7284 46.0767 18.1517 46.33 17.4384 46.33C16.7184 46.33 16.135 46.0767 15.6884 45.57C15.2417 45.0567 15.0184 44.2733 15.0184 43.22V41.81C15.0184 40.7567 15.2417 39.9767 15.6884 39.47C16.135 38.9567 16.7184 38.7 17.4384 38.7ZM18.8484 41.82C18.8484 41.0533 18.7184 40.4933 18.4584 40.14C18.205 39.7867 17.865 39.61 17.4384 39.61C17.005 39.61 16.6584 39.7867 16.3984 40.14C16.145 40.4933 16.0184 41.0533 16.0184 41.82V43.21C16.0184 43.97 16.145 44.53 16.3984 44.89C16.6584 45.2433 17.005 45.42 17.4384 45.42C17.865 45.42 18.205 45.2433 18.4584 44.89C18.7184 44.53 18.8484 43.97 18.8484 43.21V41.82ZM32.3808 47.54H31.3808V38.26H32.3808V47.54ZM27.2508 46.33C26.5174 46.33 25.9208 46.0767 25.4608 45.57C25.0074 45.0567 24.7808 44.2733 24.7808 43.22V41.81C24.7808 40.7567 25.0074 39.9767 25.4608 39.47C25.9208 38.9567 26.5174 38.7 27.2508 38.7C27.9774 38.7 28.5674 38.9567 29.0208 39.47C29.4741 39.9767 29.7008 40.7567 29.7008 41.81V43.22C29.7008 44.2733 29.4741 45.0567 29.0208 45.57C28.5674 46.0767 27.9774 46.33 27.2508 46.33ZM27.2508 45.42C27.6908 45.42 28.0441 45.2433 28.3108 44.89C28.5774 44.53 28.7108 43.97 28.7108 43.21V41.82C28.7108 41.0533 28.5774 40.4933 28.3108 40.14C28.0441 39.7867 27.6908 39.61 27.2508 39.61C26.8041 39.61 26.4474 39.7867 26.1808 40.14C25.9141 40.4933 25.7808 41.0533 25.7808 41.82V43.21C25.7808 43.97 25.9141 44.53 26.1808 44.89C26.4541 45.2433 26.8108 45.42 27.2508 45.42ZM41.6544 40.99C41.5544 41.5033 41.281 41.8967 40.8344 42.17C40.3944 42.4433 39.8544 42.58 39.2144 42.58C38.481 42.58 37.881 42.4067 37.4144 42.06C36.9544 41.7133 36.7244 41.2167 36.7244 40.57V40.42C36.7244 39.7733 36.9544 39.2767 37.4144 38.93C37.881 38.5833 38.481 38.41 39.2144 38.41C39.8744 38.41 40.4277 38.5567 40.8744 38.85C41.3277 39.1367 41.5944 39.5567 41.6744 40.11H43.3244V38.26H44.3144V42.79H43.3244V40.99H41.6544ZM37.7244 40.55C37.7244 40.9167 37.861 41.2 38.1344 41.4C38.4077 41.6 38.7677 41.7 39.2144 41.7C39.6544 41.7 40.011 41.6 40.2844 41.4C40.5577 41.2 40.6944 40.9167 40.6944 40.55V40.44C40.6944 40.0733 40.5577 39.79 40.2844 39.59C40.011 39.39 39.6544 39.29 39.2144 39.29C38.7677 39.29 38.4077 39.39 38.1344 39.59C37.861 39.79 37.7244 40.0733 37.7244 40.44V40.55ZM39.1844 45.86V46.74H44.6644V47.59H38.1844V45.04H43.3244V44.2H38.1344V43.37H44.3144V45.86H39.1844ZM54.5668 42.26H50.7068V43.2H53.5068V45.78H47.9168V46.75H53.7468V47.59H46.9168V44.96H52.5068V44.03H46.8668V43.2H49.7168V42.26H45.8468V41.42H52.1068C52.1668 41.0467 52.2135 40.6767 52.2468 40.31C52.2868 39.9367 52.3101 39.63 52.3168 39.39H46.9168V38.51H53.3068V39.03C53.3068 39.7833 53.2368 40.58 53.0968 41.42H54.5668V42.26ZM62.7592 38.26V40.59H64.1992V41.49H62.7592V45.21H61.7592V38.26H62.7592ZM55.4992 38.75H60.0092V43.44H55.4992V38.75ZM56.4692 42.56H59.0392V39.63H56.4692V42.56ZM56.8192 44.63H57.8092V46.63H63.2392V47.54H56.8192V44.63ZM6.34328 59.15C5.85661 59.15 5.40661 59.0467 4.99328 58.84C4.58661 58.6333 4.25995 58.3267 4.01328 57.92C3.76661 57.5133 3.64328 57.0267 3.64328 56.46V55.66C3.64328 55.0933 3.76661 54.6067 4.01328 54.2C4.25995 53.7933 4.58661 53.4867 4.99328 53.28C5.40661 53.0733 5.85661 52.97 6.34328 52.97C6.90328 52.97 7.40661 53.11 7.85328 53.39C8.29995 53.67 8.61995 54.07 8.81328 54.59L7.88328 54.95C7.74328 54.6033 7.53995 54.34 7.27328 54.16C7.00661 53.98 6.69661 53.89 6.34328 53.89C6.02995 53.89 5.74328 53.96 5.48328 54.1C5.22995 54.24 5.02661 54.4467 4.87328 54.72C4.71995 54.9867 4.64328 55.31 4.64328 55.69V56.43C4.64328 56.81 4.71995 57.1367 4.87328 57.41C5.02661 57.6767 5.22995 57.88 5.48328 58.02C5.74328 58.16 6.02995 58.23 6.34328 58.23C6.69661 58.23 7.00661 58.14 7.27328 57.96C7.53995 57.78 7.74328 57.5167 7.88328 57.17L8.81328 57.53C8.61995 58.05 8.29995 58.45 7.85328 58.73C7.40661 59.01 6.90328 59.15 6.34328 59.15ZM12.5249 52.97C12.8183 52.97 13.0783 53.0133 13.3049 53.1L13.0649 54C12.8249 53.9267 12.5883 53.89 12.3549 53.89C12.1216 53.89 11.9049 53.9567 11.7049 54.09C11.5116 54.2233 11.3583 54.4133 11.2449 54.66C11.1316 54.9 11.0749 55.1733 11.0749 55.48V59H10.0749V53.12H11.0049L11.0549 54C11.2016 53.68 11.3983 53.43 11.6449 53.25C11.8983 53.0633 12.1916 52.97 12.5249 52.97ZM16.4019 59.15C15.9152 59.15 15.4652 59.0467 15.0519 58.84C14.6452 58.6333 14.3185 58.3267 14.0719 57.92C13.8252 57.5133 13.7019 57.0267 13.7019 56.46V55.66C13.7019 55.0933 13.8252 54.6067 14.0719 54.2C14.3185 53.7933 14.6452 53.4867 15.0519 53.28C15.4652 53.0733 15.9152 52.97 16.4019 52.97C16.8952 52.97 17.3452 53.0733 17.7519 53.28C18.1652 53.4867 18.4952 53.7933 18.7419 54.2C18.9885 54.6067 19.1119 55.0933 19.1119 55.66V56.46C19.1119 57.0267 18.9885 57.5133 18.7419 57.92C18.4952 58.3267 18.1652 58.6333 17.7519 58.84C17.3452 59.0467 16.8952 59.15 16.4019 59.15ZM16.4019 58.23C16.7152 58.23 16.9985 58.16 17.2519 58.02C17.5119 57.88 17.7185 57.6767 17.8719 57.41C18.0252 57.1367 18.1019 56.81 18.1019 56.43V55.69C18.1019 55.31 18.0252 54.9867 17.8719 54.72C17.7185 54.4467 17.5119 54.24 17.2519 54.1C16.9985 53.96 16.7152 53.89 16.4019 53.89C16.0885 53.89 15.8019 53.96 15.5419 54.1C15.2885 54.24 15.0852 54.4467 14.9319 54.72C14.7785 54.9867 14.7019 55.31 14.7019 55.69V56.43C14.7019 56.81 14.7785 57.1367 14.9319 57.41C15.0852 57.6767 15.2885 57.88 15.5419 58.02C15.8019 58.16 16.0885 58.23 16.4019 58.23ZM23.2667 52.97C23.6734 52.97 24.0601 53.0833 24.4267 53.31C24.8001 53.53 25.1001 53.85 25.3267 54.27C25.5601 54.6833 25.6767 55.17 25.6767 55.73V56.43C25.6767 56.99 25.5601 57.48 25.3267 57.9C25.1001 58.3133 24.8001 58.63 24.4267 58.85C24.0601 59.07 23.6734 59.18 23.2667 59.18C22.8734 59.18 22.5067 59.0967 22.1667 58.93C21.8267 58.7633 21.5434 58.52 21.3167 58.2V60.7H20.3167V53.12H21.2567L21.3067 53.97C21.5267 53.65 21.8067 53.4033 22.1467 53.23C22.4934 53.0567 22.8667 52.97 23.2667 52.97ZM24.6667 55.76C24.6667 55.1733 24.5067 54.7167 24.1867 54.39C23.8734 54.0567 23.4734 53.89 22.9867 53.89C22.6734 53.89 22.3901 53.9633 22.1367 54.11C21.8834 54.25 21.6834 54.4633 21.5367 54.75C21.3901 55.03 21.3167 55.3667 21.3167 55.76V56.4C21.3167 56.9867 21.4734 57.4467 21.7867 57.78C22.1001 58.1067 22.5001 58.27 22.9867 58.27C23.4734 58.27 23.8734 58.1067 24.1867 57.78C24.5067 57.4467 24.6667 56.9867 24.6667 56.4V55.76ZM36.0527 53.75V50.26H37.0227V59.54H36.0527V54.66H34.8727V59.35H33.9227V50.4H34.8727V53.75H36.0527ZM30.6227 50.27H31.6327V51.62H33.3027V52.52H28.9427V51.62H30.6227V50.27ZM31.1427 53.35C31.4961 53.35 31.8061 53.44 32.0727 53.62C32.3461 53.8 32.5561 54.0567 32.7027 54.39C32.8561 54.7167 32.9327 55.1 32.9327 55.54V56.08C32.9327 56.52 32.8561 56.9067 32.7027 57.24C32.5561 57.5733 32.3461 57.83 32.0727 58.01C31.8061 58.19 31.4961 58.28 31.1427 58.28C30.7827 58.28 30.4661 58.19 30.1927 58.01C29.9194 57.83 29.7061 57.5733 29.5527 57.24C29.3994 56.9067 29.3227 56.52 29.3227 56.08V55.54C29.3227 55.1 29.3994 54.7167 29.5527 54.39C29.7061 54.0567 29.9194 53.8 30.1927 53.62C30.4661 53.44 30.7827 53.35 31.1427 53.35ZM32.0127 55.61C32.0127 55.19 31.9327 54.86 31.7727 54.62C31.6127 54.3733 31.3994 54.25 31.1327 54.25C30.8661 54.25 30.6494 54.3733 30.4827 54.62C30.3227 54.86 30.2427 55.19 30.2427 55.61V56.02C30.2427 56.44 30.3227 56.7733 30.4827 57.02C30.6494 57.2667 30.8661 57.39 31.1327 57.39C31.3927 57.39 31.6027 57.2667 31.7627 57.02C31.9294 56.7733 32.0127 56.44 32.0127 56.02V55.61ZM39.0752 54.28C41.2485 53.5133 42.3352 52.6133 42.3352 51.58H39.5752V50.7H45.9752V51.58H43.3352C43.3352 51.96 43.2585 52.3067 43.1052 52.62L46.4752 54.3L46.0352 55.14L42.5752 53.4C41.9485 54.0667 40.9018 54.6467 39.4352 55.14L39.0752 54.28ZM38.4152 56.03H47.1352V56.94H43.2752V59.65H42.2852V56.94H38.4152V56.03ZM55.0176 59.54V50.26H55.9876V59.54H55.0176ZM51.5276 53.46H53.0076V50.4H53.9576V59.35H53.0076V54.37H51.5276V53.46ZM50.5876 52.03C50.5876 52.8233 50.5142 53.5667 50.3676 54.26L52.4376 57.61L51.6376 58.18L50.0176 55.54C49.6709 56.5133 49.1742 57.4267 48.5276 58.28L47.7676 57.68C48.4009 56.8333 48.8709 55.95 49.1776 55.03C49.4842 54.11 49.6376 53.11 49.6376 52.03V50.8H50.5876V52.03ZM61.02 55.71C60.4733 55.71 59.9933 55.6033 59.58 55.39C59.1667 55.17 58.8467 54.87 58.62 54.49C58.3933 54.11 58.28 53.6833 58.28 53.21C58.28 52.7433 58.3933 52.3233 58.62 51.95C58.8467 51.5767 59.1667 51.2833 59.58 51.07C59.9933 50.85 60.4733 50.74 61.02 50.74H62.47C63.0167 50.74 63.4967 50.85 63.91 51.07C64.3233 51.2833 64.6433 51.5767 64.87 51.95C65.0967 52.3233 65.21 52.7433 65.21 53.21C65.21 53.6833 65.0967 54.11 64.87 54.49C64.6433 54.87 64.3233 55.17 63.91 55.39C63.4967 55.6033 63.0167 55.71 62.47 55.71H61.02ZM61.19 51.63C60.5967 51.63 60.13 51.7767 59.79 52.07C59.45 52.3633 59.28 52.7467 59.28 53.22C59.28 53.7 59.45 54.0867 59.79 54.38C60.13 54.6733 60.5967 54.82 61.19 54.82H62.29C62.8833 54.82 63.3533 54.6733 63.7 54.38C64.0467 54.0867 64.22 53.7 64.22 53.22C64.22 52.7467 64.0467 52.3633 63.7 52.07C63.3533 51.7767 62.8833 51.63 62.29 51.63H61.19ZM63.88 56.24V57.93H66.1V58.84H57.38V57.93H59.61V56.24H60.59V57.93H62.91V56.24H63.88ZM70.4236 53.22C70.2369 53.22 70.0736 53.1533 69.9336 53.02C69.8003 52.88 69.7336 52.7167 69.7336 52.53C69.7336 52.3433 69.8003 52.1833 69.9336 52.05C70.0669 51.9167 70.2303 51.85 70.4236 51.85C70.6169 51.85 70.7769 51.9167 70.9036 52.05C71.0369 52.1767 71.1036 52.3367 71.1036 52.53C71.1036 52.7233 71.0369 52.8867 70.9036 53.02C70.7703 53.1533 70.6103 53.22 70.4236 53.22ZM70.4236 58.05C70.2369 58.05 70.0736 57.9833 69.9336 57.85C69.8003 57.71 69.7336 57.5467 69.7336 57.36C69.7336 57.1733 69.8003 57.0133 69.9336 56.88C70.0669 56.7467 70.2303 56.68 70.4236 56.68C70.6169 56.68 70.7769 56.7467 70.9036 56.88C71.0369 57.0067 71.1036 57.1667 71.1036 57.36C71.1036 57.5533 71.0369 57.7167 70.9036 57.85C70.7703 57.9833 70.6103 58.05 70.4236 58.05ZM75.0023 54.95C75.0023 55.9633 74.8123 56.92 74.4323 57.82C74.059 58.72 73.5123 59.5467 72.7923 60.3L72.1323 59.69C73.4123 58.2433 74.0523 56.6633 74.0523 54.95C74.0523 53.2367 73.4123 51.6567 72.1323 50.21L72.7923 49.6C73.5123 50.3533 74.059 51.18 74.4323 52.08C74.8123 52.98 75.0023 53.9367 75.0023 54.95Z",fill:"#77777C"})))}var mY,yY,bY=n.forwardRef(gY),wY=(__webpack_require__.p,["title","titleId"]);function xY(){return xY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xY.apply(this,arguments)}function _Y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CY(e,t){var r=e.title,i=e.titleId,a=_Y(e,wY);return n.createElement("svg",xY({width:24,height:17,viewBox:"0 0 24 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,mY||(mY=n.createElement("path",{d:"M19.7781 8.66748L2.00015 8.66748",stroke:"#FFD600",strokeWidth:3,strokeLinecap:"round"})),yY||(yY=n.createElement("path",{d:"M13.111 2L21.68 8.42672C21.84 8.54672 21.84 8.78672 21.68 8.90672L13.111 15.3334",stroke:"#FFD600",strokeWidth:3,strokeLinecap:"round"})))}var EY,SY=n.forwardRef(CY),BY=(__webpack_require__.p,["title","titleId"]);function TY(){return TY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TY.apply(this,arguments)}function IY(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kY(e,t){var r=e.title,i=e.titleId,a=IY(e,BY);return n.createElement("svg",TY({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,EY||(EY=n.createElement("path",{d:"M1 7H13M7 1V13",stroke:"#FFD600",strokeLinecap:"round"})))}var MY,RY=n.forwardRef(kY),UY=(__webpack_require__.p,["title","titleId"]);function FY(){return FY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FY.apply(this,arguments)}function OY(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PY(e,t){var r=e.title,i=e.titleId,a=OY(e,UY);return n.createElement("svg",FY({width:14,height:2,viewBox:"0 0 14 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,MY||(MY=n.createElement("path",{d:"M1 1H13",stroke:"#FFD600",strokeLinecap:"round"})))}var DY,LY,NY,QY,HY,jY,zY,GY,VY,WY,KY=n.forwardRef(PY),XY=(__webpack_require__.p,function(){var e=l(dA(_A),2),t=e[0];e[1];return(0,n.useEffect)((function(){t.simplePopup?document.body.style.overflowY="hidden":document.body.style.overflowY="unset"}),[t.simplePopup]),(0,mn.jsx)(mn.Fragment,{children:t.simplePopup&&(0,mn.jsx)(qY,{onClick:t.onClick,children:(0,mn.jsxs)(YY,{onClick:function(e){return e.stopPropagation()},children:[(0,mn.jsx)(ZY,{children:t.content.map((function(e,t){return(0,mn.jsx)(JY,{children:"span"===e[0]?(0,mn.jsx)("span",{children:e[1]}):e[1]},t)}))}),(0,mn.jsx)($Y,{onClick:t.onClick,children:t.btnContent})]})})})}),qY=gn.styled.div(DY||(DY=sn(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  min-height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 20;\n"]))),YY=gn.styled.div(LY||(LY=sn(["\n  position: relative;\n  width: 220px;\n  height: 200px;\n  background-color: ",";\n  border: 2px solid ",";\n  z-index: 40;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  padding: 25px;\n  flex-direction: column;\n"])),(function(e){return e.theme.colors.neutral[0]}),(function(e){return e.theme.colors.yellow[3]})),ZY=gn.styled.div(NY||(NY=sn(["\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  align-items: center;\n  margin-top: 30px;\n"]))),JY=gn.styled.p(QY||(QY=sn(["\n  white-space: pre-line;\n  font-size: 14px;\n  text-align: center;\n  color: ",";\n  /* background-color: pink; */\n\n  & > span:nth-of-type(1) {\n    font-family: 'SHSB';\n    font-size: 16px;\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.neutral[4]}),(function(e){return e.theme.colors.neutral[4]})),$Y=gn.styled.div(HY||(HY=sn(["\n  width: 100px;\n  height: 26px;\n  background-color: ",";\n  border: 1px solid ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 0.9rem;\n  cursor: pointer;\n  border-radius: 5px;\n  margin-top: 30px;\n"])),(function(e){return e.theme.colors.yellow[4]}),(function(e){return e.theme.colors.yellow[4]})),eZ=function(e){var t=e.$title,r=e.$titleWidth,i=e.$writeAble,a=e.$content,o=e.$contentSize,s=e.$placeHolder,u=e.$unit,c=l((0,n.useState)(a),2),A=c[0],f=c[1];return(0,mn.jsxs)(tZ,{children:[(0,mn.jsx)(nZ,{$titleWidth:r,children:t}),i?(0,mn.jsx)(rZ,{placeholder:s,type:"text",value:A||"",onChange:function(e){f(e.target.value)},$contentSize:o}):(0,mn.jsx)(iZ,{placeholder:s,$unit:u,children:a})]})},tZ=gn.default.div(jY||(jY=sn(["\n  display: flex;\n  flex-direction: row;\n  /* background-color: pink; */\n"]))),nZ=gn.default.div(zY||(zY=sn(["\n  display: flex;\n  align-items: center;\n  font-family: 'NSNB';\n  font-size: 0.9rem;\n  width: ",";\n"])),(function(e){return e.$titleWidth?e.$titleWidth:"45px"})),rZ=gn.default.input(GY||(GY=sn(["\n  width: ",";\n  height: 26px;\n  font-size: 0.9rem;\n  padding: 0 7px;\n  align-items: center;\n  border: 1px solid ",";\n  border-radius: 5px;\n  resize: none;\n  outline: none;\n\n  &::placeholder {\n    font-size: 30px;\n  }\n\n  &:focus {\n    background-color: ",";\n  }\n"])),(function(e){return"s"===e.$contentSize?"60px":"80px"}),(function(e){return e.theme.colors.yellow[3]}),(function(e){return e.theme.colors.yellow[1]})),iZ=gn.default.div(VY||(VY=sn(["\n  width: ",";\n  padding: 0 7px;\n  height: 26px;\n  font-size: 0.9rem;\n  display: flex;\n  align-items: center;\n  border-radius: 5px;\n  border: 1px solid ",";\n"])),(function(e){return"s"===e.$contentSize?"55px":"80px"}),(function(e){return e.theme.colors.yellow[3]})),aZ=["title","titleId"];function oZ(){return oZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oZ.apply(this,arguments)}function sZ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uZ(e,t){var r=e.title,i=e.titleId,a=sZ(e,aZ);return n.createElement("svg",oZ({width:14,height:11,viewBox:"0 0 14 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,WY||(WY=n.createElement("path",{d:"M7.42529 10.6348C7.22987 10.9509 6.77013 10.9509 6.57471 10.6348L3.5 5.66138L0.471658 0.76293C0.265725 0.429825 0.505326 6.10178e-06 0.896948 6.10178e-06L13.1031 6.10178e-06C13.4947 6.10178e-06 13.7343 0.429826 13.5283 0.76293L7.42529 10.6348Z",fill:"#FFE55A"})))}var lZ,cZ,AZ,fZ,dZ,hZ=n.forwardRef(uZ),pZ=(__webpack_require__.p,function(e){var t=e.$content,r=e.$list,i=e.$contentSize,a=l((0,n.useState)(!1),2),o=a[0],s=a[1],u=l((0,n.useState)(t),2),c=u[0],A=u[1],f=(0,n.useRef)();return(0,n.useEffect)((function(){t&&A(t)}),[t]),(0,n.useEffect)((function(){var e=function(e){f.current&&!f.current.contains(e.target)&&s(!1)};return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[f]),(0,mn.jsxs)(vZ,{ref:f,$contentSize:i,onClick:function(){s(!o)},children:[c,r.length>0&&(0,mn.jsx)(hZ,{className:"propertyDownToggle",style:{transform:o?"rotate(180deg)":""}}),o&&r.length>0&&(0,mn.jsx)(gZ,{children:r.map((function(e,t){return(0,mn.jsx)(mZ,{onClick:function(){A(e)},children:e},t)}))})]})}),vZ=gn.default.div(lZ||(lZ=sn(["\n  width: ",";\n  padding: 0 20px 0 7px;\n  border: 1px solid ",";\n  cursor: pointer;\n  position: relative;\n  background-color: ",";\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  font-size: 0.9rem;\n\n  .propertyDownToggle {\n    position: absolute;\n    right: 7px;\n    top: 7px;\n  }\n"])),(function(e){return"s"===e.$contentSize?"60px":"m"===e.$contentSize?"80px":"110px"}),(function(e){return e.theme.colors.yellow[3]}),(function(e){return e.theme.colors.neutral[0]})),gZ=gn.default.div(cZ||(cZ=sn(["\n  width: 100%;\n  padding: 7px;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  row-gap: 5px;\n  position: absolute;\n  top: 27px;\n  left: 0px;\n  border-radius: 5px;\n  z-index: 20;\n  max-height: 300px;\n"])),(function(e){return e.theme.colors.yellow[1]})),mZ=gn.default.div(AZ||(AZ=sn(["\n  width: 100%;\n  height: 16px;\n  font-size: 0.9rem;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),yZ=function(e){var t=e.$title,r=e.$titleWidth,i=e.$content,a=e.$list,o=e.$contentSize,s=l((0,n.useState)(""),2);s[0],s[1];return(0,mn.jsxs)(bZ,{children:[(0,mn.jsx)(wZ,{$titleWidth:r,children:t}),(0,mn.jsx)(pZ,{$contentSize:o,$content:i,$list:a})]})},bZ=gn.styled.div(fZ||(fZ=sn(["\n  display: flex;\n  flex-direction: row;\n  /* background-color: pink; */\n  height: 26px;\n"]))),wZ=gn.styled.div(dZ||(dZ=sn(["\n  display: flex;\n  align-items: center;\n  font-family: 'NSNB';\n  font-size: 0.9rem;\n  width: ",";\n"])),(function(e){return e.$titleWidth?e.$titleWidth:"45px"})),xZ=__webpack_require__(5599),_Z=__webpack_require__.n(xZ),CZ=function(){return CZ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},CZ.apply(this,arguments)};function EZ(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var SZ=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],BZ={opacity:0,maxWidth:"100%"},TZ=n.forwardRef((function(e,t){var r=EZ(e,[]),i=r.dragMode,a=void 0===i?"crop":i,o=r.src,s=r.style,u=r.className,l=r.crossOrigin,c=r.scaleX,A=r.scaleY,f=r.enable,d=r.zoomTo,h=r.rotateTo,p=r.alt,v=void 0===p?"picture":p,g=r.ready,m=r.onInitialized,y=EZ(r,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),b={scaleY:A,scaleX:c,enable:f,zoomTo:d,rotateTo:h},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,n.useRef)(null);return n.useEffect((function(){e.forEach((function(e){e&&("function"==typeof e?e(r.current):e.current=r.current)}))}),[e]),r}(t,(0,n.useRef)(null));(0,n.useEffect)((function(){var e;(null===(e=w.current)||void 0===e?void 0:e.cropper)&&"number"==typeof d&&w.current.cropper.zoomTo(d)}),[r.zoomTo]),(0,n.useEffect)((function(){var e;(null===(e=w.current)||void 0===e?void 0:e.cropper)&&void 0!==o&&w.current.cropper.reset().clear().replace(o)}),[o]),(0,n.useEffect)((function(){if(null!==w.current){var e=new(_Z())(w.current,CZ(CZ({dragMode:a},y),{ready:function(e){null!==e.currentTarget&&function(e,t){void 0===t&&(t={});var n=t.enable,r=void 0===n||n,i=t.scaleX,a=void 0===i?1:i,o=t.scaleY,s=void 0===o?1:o,u=t.zoomTo,l=void 0===u?0:u,c=t.rotateTo;r?e.enable():e.disable(),e.scaleX(a),e.scaleY(s),void 0!==c&&e.rotateTo(c),l>0&&e.zoomTo(l)}(e.currentTarget.cropper,b),g&&g(e)}}));m&&m(e)}return function(){var e,t;null===(t=null===(e=w.current)||void 0===e?void 0:e.cropper)||void 0===t||t.destroy()}}),[w]);var x,_=(x=CZ(CZ({},y),{crossOrigin:l,src:o,alt:v}),SZ.reduce((function(e,t){var n=e,r=t;return n[r],EZ(n,["symbol"==typeof r?r:r+""])}),x));return n.createElement("div",{style:s,className:u},n.createElement("img",CZ({},_,{style:BZ,ref:w})))})),IZ=__webpack_require__(5192),kZ=__webpack_require__.n(IZ),MZ=__webpack_require__(5330),RZ=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function UZ(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=RZ.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var FZ=[".DS_Store","Thumbs.db"];function OZ(e){return"object"===typeof e&&null!==e}function PZ(e){return QZ(e.target.files).map((function(e){return UZ(e)}))}function DZ(e){return(0,MZ.mG)(this,void 0,void 0,(function(){return(0,MZ.Jh)(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return UZ(e)}))]}}))}))}function LZ(e,t){return(0,MZ.mG)(this,void 0,void 0,(function(){var n;return(0,MZ.Jh)(this,(function(r){switch(r.label){case 0:return e.items?(n=QZ(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(HZ))]):[3,2];case 1:return[2,NZ(jZ(r.sent()))];case 2:return[2,NZ(QZ(e.files).map((function(e){return UZ(e)})))]}}))}))}function NZ(e){return e.filter((function(e){return-1===FZ.indexOf(e.name)}))}function QZ(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function HZ(e){if("function"!==typeof e.webkitGetAsEntry)return zZ(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?VZ(t):zZ(e)}function jZ(e){return e.reduce((function(e,t){return(0,MZ.ev)((0,MZ.ev)([],(0,MZ.CR)(e),!1),(0,MZ.CR)(Array.isArray(t)?jZ(t):[t]),!1)}),[])}function zZ(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=UZ(t);return Promise.resolve(n)}function GZ(e){return(0,MZ.mG)(this,void 0,void 0,(function(){return(0,MZ.Jh)(this,(function(t){return[2,e.isDirectory?VZ(e):WZ(e)]}))}))}function VZ(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var a=this;t.readEntries((function(t){return(0,MZ.mG)(a,void 0,void 0,(function(){var a,o,s;return(0,MZ.Jh)(this,(function(u){switch(u.label){case 0:if(t.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=u.sent(),e(a),[3,4];case 3:return o=u.sent(),n(o),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(GZ)),r.push(s),i(),u.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function WZ(e){return(0,MZ.mG)(this,void 0,void 0,(function(){return(0,MZ.Jh)(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=UZ(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var KZ=__webpack_require__(781);function XZ(e){return function(e){if(Array.isArray(e))return eJ(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qZ(Object(n),!0).forEach((function(t){ZZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||$Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $Z(e,t){if(e){if("string"===typeof e)return eJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eJ(e,t):void 0}}function eJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tJ="file-invalid-type",nJ="file-too-large",rJ="file-too-small",iJ="too-many-files",aJ=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:tJ,message:"File type must be ".concat(t)}},oJ=function(e){return{code:nJ,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},sJ=function(e){return{code:rJ,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},uJ={code:iJ,message:"Too many files"};function lJ(e,t){var n="application/x-moz-file"===e.type||(0,KZ.Z)(e,t);return[n,n?null:aJ(t)]}function cJ(e,t,n){if(AJ(e.size))if(AJ(t)&&AJ(n)){if(e.size>n)return[!1,oJ(n)];if(e.size<t)return[!1,sJ(t)]}else{if(AJ(t)&&e.size<t)return[!1,sJ(t)];if(AJ(n)&&e.size>n)return[!1,oJ(n)]}return[!0,null]}function AJ(e){return void 0!==e&&null!==e}function fJ(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function dJ(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function hJ(e){e.preventDefault()}function pJ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!fJ(e)&&t&&t.apply(void 0,[e].concat(r)),fJ(e)}))}}function vJ(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function gJ(e){return/^.*\.[\w]+$/.test(e)}var mJ=["children"],yJ=["open"],bJ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],wJ=["refKey","onChange","onClick"];function xJ(e){return function(e){if(Array.isArray(e))return EJ(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||CJ(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||CJ(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CJ(e,t){if(e){if("string"===typeof e)return EJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EJ(e,t):void 0}}function EJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SJ(Object(n),!0).forEach((function(t){TJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IJ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var kJ=(0,n.forwardRef)((function(e,t){var r=e.children,i=QJ(IJ(e,mJ)),a=i.open,o=IJ(i,yJ);return(0,n.useImperativeHandle)(t,(function(){return{open:a}}),[a]),n.createElement(n.Fragment,null,r(BJ(BJ({},o),{},{open:a})))}));kJ.displayName="Dropzone";var MJ={disabled:!1,getFilesFromEvent:function(e){return(0,MZ.mG)(this,void 0,void 0,(function(){return(0,MZ.Jh)(this,(function(t){return OZ(e)&&OZ(e.dataTransfer)?[2,LZ(e.dataTransfer,e.type)]:function(e){return OZ(e)&&OZ(e.target)}(e)?[2,PZ(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,DZ(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};kJ.defaultProps=MJ,kJ.propTypes={children:kZ().func,accept:kZ().objectOf(kZ().arrayOf(kZ().string)),multiple:kZ().bool,preventDropOnDocument:kZ().bool,noClick:kZ().bool,noKeyboard:kZ().bool,noDrag:kZ().bool,noDragEventsBubbling:kZ().bool,minSize:kZ().number,maxSize:kZ().number,maxFiles:kZ().number,disabled:kZ().bool,getFilesFromEvent:kZ().func,onFileDialogCancel:kZ().func,onFileDialogOpen:kZ().func,useFsAccessApi:kZ().bool,autoFocus:kZ().bool,onDragEnter:kZ().func,onDragLeave:kZ().func,onDragOver:kZ().func,onDrop:kZ().func,onDropAccepted:kZ().func,onDropRejected:kZ().func,onError:kZ().func,validator:kZ().func};var RJ,UJ,FJ,OJ,PJ,DJ,LJ,NJ={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function QJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=BJ(BJ({},MJ),e),r=t.accept,i=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,u=t.multiple,l=t.maxFiles,c=t.onDragEnter,A=t.onDragLeave,f=t.onDragOver,d=t.onDrop,h=t.onDropAccepted,p=t.onDropRejected,v=t.onFileDialogCancel,g=t.onFileDialogOpen,m=t.useFsAccessApi,y=t.autoFocus,b=t.preventDropOnDocument,w=t.noClick,x=t.noKeyboard,_=t.noDrag,C=t.noDragEventsBubbling,E=t.onError,S=t.validator,B=(0,n.useMemo)((function(){return function(e){if(AJ(e))return Object.entries(e).reduce((function(e,t){var n=JZ(t,2),r=n[0],i=n[1];return[].concat(XZ(e),[r],XZ(i))}),[]).filter((function(e){return vJ(e)||gJ(e)})).join(",")}(r)}),[r]),T=(0,n.useMemo)((function(){return function(e){return AJ(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var t=JZ(e,2),n=t[0],r=t[1],i=!0;return vJ(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),Array.isArray(r)&&r.every(gJ)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i})).reduce((function(e,t){var n=JZ(t,2),r=n[0],i=n[1];return YZ(YZ({},e),{},ZZ({},r,i))}),{})}]:e}(r)}),[r]),I=(0,n.useMemo)((function(){return"function"===typeof g?g:jJ}),[g]),k=(0,n.useMemo)((function(){return"function"===typeof v?v:jJ}),[v]),M=(0,n.useRef)(null),R=(0,n.useRef)(null),U=_J((0,n.useReducer)(HJ,NJ),2),F=U[0],O=U[1],P=F.isFocused,D=F.isFileDialogActive,L=(0,n.useRef)("undefined"!==typeof window&&window.isSecureContext&&m&&"showOpenFilePicker"in window),N=function(){!L.current&&D&&setTimeout((function(){R.current&&(R.current.files.length||(O({type:"closeDialog"}),k()))}),300)};(0,n.useEffect)((function(){return window.addEventListener("focus",N,!1),function(){window.removeEventListener("focus",N,!1)}}),[R,D,k,L]);var Q=(0,n.useRef)([]),H=function(e){M.current&&M.current.contains(e.target)||(e.preventDefault(),Q.current=[])};(0,n.useEffect)((function(){return b&&(document.addEventListener("dragover",hJ,!1),document.addEventListener("drop",H,!1)),function(){b&&(document.removeEventListener("dragover",hJ),document.removeEventListener("drop",H))}}),[M,b]),(0,n.useEffect)((function(){return!i&&y&&M.current&&M.current.focus(),function(){}}),[M,y,i]);var j=(0,n.useCallback)((function(e){E?E(e):console.error(e)}),[E]),z=(0,n.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),Q.current=[].concat(xJ(Q.current),[e.target]),dJ(e)&&Promise.resolve(a(e)).then((function(t){if(!fJ(e)||C){var n=t.length,r=n>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles,s=e.validator;return!(!a&&t.length>1||a&&o>=1&&t.length>o)&&t.every((function(e){var t=JZ(lJ(e,n),1)[0],a=JZ(cJ(e,r,i),1)[0],o=s?s(e):null;return t&&a&&!o}))}({files:t,accept:B,minSize:s,maxSize:o,multiple:u,maxFiles:l,validator:S});O({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),c&&c(e)}})).catch((function(e){return j(e)}))}),[a,c,j,C,B,s,o,u,l,S]),G=(0,n.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=dJ(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&f&&f(e),!1}),[f,C]),V=(0,n.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=Q.current.filter((function(e){return M.current&&M.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),Q.current=t,t.length>0||(O({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),dJ(e)&&A&&A(e))}),[M,A,C]),W=(0,n.useCallback)((function(e,t){var n=[],r=[];e.forEach((function(e){var t=_J(lJ(e,B),2),i=t[0],a=t[1],u=_J(cJ(e,s,o),2),l=u[0],c=u[1],A=S?S(e):null;if(i&&l&&!A)n.push(e);else{var f=[a,c];A&&(f=f.concat(A)),r.push({file:e,errors:f.filter((function(e){return e}))})}})),(!u&&n.length>1||u&&l>=1&&n.length>l)&&(n.forEach((function(e){r.push({file:e,errors:[uJ]})})),n.splice(0)),O({acceptedFiles:n,fileRejections:r,type:"setFiles"}),d&&d(n,r,t),r.length>0&&p&&p(r,t),n.length>0&&h&&h(n,t)}),[O,u,B,s,o,l,d,h,p,S]),K=(0,n.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),Q.current=[],dJ(e)&&Promise.resolve(a(e)).then((function(t){fJ(e)&&!C||W(t,e)})).catch((function(e){return j(e)})),O({type:"reset"})}),[a,W,j,C]),X=(0,n.useCallback)((function(){if(L.current){O({type:"openDialog"}),I();var e={multiple:u,types:T};window.showOpenFilePicker(e).then((function(e){return a(e)})).then((function(e){W(e,null),O({type:"closeDialog"})})).catch((function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(k(e),O({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?j(e):(L.current=!1,R.current?(R.current.value=null,R.current.click()):j(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))}))}else R.current&&(O({type:"openDialog"}),I(),R.current.value=null,R.current.click())}),[O,I,k,m,W,j,T,u]),q=(0,n.useCallback)((function(e){M.current&&M.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),X()))}),[M,X]),Y=(0,n.useCallback)((function(){O({type:"focus"})}),[]),Z=(0,n.useCallback)((function(){O({type:"blur"})}),[]),J=(0,n.useCallback)((function(){w||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?X():setTimeout(X,0))}),[w,X]),$=function(e){return i?null:e},ee=function(e){return x?null:$(e)},te=function(e){return _?null:$(e)},ne=function(e){C&&e.stopPropagation()},re=(0,n.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,a=e.onKeyDown,o=e.onFocus,s=e.onBlur,u=e.onClick,l=e.onDragEnter,c=e.onDragOver,A=e.onDragLeave,f=e.onDrop,d=IJ(e,bJ);return BJ(BJ(TJ({onKeyDown:ee(pJ(a,q)),onFocus:ee(pJ(o,Y)),onBlur:ee(pJ(s,Z)),onClick:$(pJ(u,J)),onDragEnter:te(pJ(l,z)),onDragOver:te(pJ(c,G)),onDragLeave:te(pJ(A,V)),onDrop:te(pJ(f,K)),role:"string"===typeof r&&""!==r?r:"presentation"},n,M),i||x?{}:{tabIndex:0}),d)}}),[M,q,Y,Z,J,z,G,V,K,x,_,i]),ie=(0,n.useCallback)((function(e){e.stopPropagation()}),[]),ae=(0,n.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,i=e.onClick,a=IJ(e,wJ);return BJ(BJ({},TJ({accept:B,multiple:u,type:"file",style:{display:"none"},onChange:$(pJ(r,K)),onClick:$(pJ(i,ie)),tabIndex:-1},n,R)),a)}}),[R,r,u,K,i]);return BJ(BJ({},F),{},{isFocused:P&&!i,getRootProps:re,getInputProps:ae,rootRef:M,inputRef:R,open:$(X)})}function HJ(e,t){switch(t.type){case"focus":return BJ(BJ({},e),{},{isFocused:!0});case"blur":return BJ(BJ({},e),{},{isFocused:!1});case"openDialog":return BJ(BJ({},NJ),{},{isFileDialogActive:!0});case"closeDialog":return BJ(BJ({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return BJ(BJ({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return BJ(BJ({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return BJ({},NJ);default:return e}}function jJ(){}var zJ,GJ,VJ,WJ,KJ,XJ,qJ,YJ,ZJ,JJ,$J,e$,t$,n$,r$,i$,a$,o$,s$=function(e){var t=e.maxImages,r=e.images,i=e.setImages,a=l((0,n.useState)(0),2),o=a[0],s=a[1],u=(0,n.useRef)(null);(0,n.useEffect)((function(){var e=u.current,t=function(){if(e){var t=e.offsetWidth;s(t)}};return 0===o&&t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]);var c=(0,n.useCallback)((function(e){e.length+r.length>t?alert("\ucd5c\ub300 ".concat(t,"\uac1c\uae4c\uc9c0 \uc774\ubbf8\uc9c0\ub97c \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")):i([].concat(M(r),M(e)))}),[r,t]),A=QJ({onDrop:c}),f=A.getRootProps,d=A.getInputProps;return(0,mn.jsxs)(A$,{children:[(0,mn.jsxs)(c$,qn(qn({},f()),{},{ref:u,children:[(0,mn.jsx)("input",qn(qn({},d()),{},{accept:"image/*"})),(0,mn.jsx)(h$,{children:(0,mn.jsxs)(u$,{height:"".concat(o,"px"),children:[(0,mn.jsx)(In,{}),(0,mn.jsxs)(f$,{children:[null===r||void 0===r?void 0:r.length," / 5"]})]})})]})),r.map((function(e,t){return(0,mn.jsx)(l$,{height:"".concat(o,"px"),onClick:function(){return function(e){i(r.filter((function(t){return t!==e})))}(e)},children:(0,mn.jsx)(d$,{src:URL.createObjectURL(e),alt:"Image ".concat(t+1)})},t)}))]})},u$=gn.styled.button(RJ||(RJ=sn(["\n  width: 100%;\n  height: ",";\n  border: none;\n  border-radius: 5px;\n  gap: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"])),(function(e){return e.height})),l$=gn.styled.button(UJ||(UJ=sn(["\n  width: 15%;\n  height: ",";\n  padding: 0;\n  overflow: hidden;\n  border: none;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"])),(function(e){return e.height})),c$=gn.styled.div(FJ||(FJ=sn(["\n  width: 15%;\n  display: flex;\n"]))),A$=gn.styled.div(OJ||(OJ=sn(["\n  display: flex;\n  gap: 3%;\n"]))),f$=gn.styled.div(PJ||(PJ=sn(["\n  font-size: 10px;\n  color: ",";\n"])),(function(e){return e.theme.colors.neutral[3]})),d$=gn.styled.img(DJ||(DJ=sn(["\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n"]))),h$=gn.styled.div(LJ||(LJ=sn(["\n  display: flex;\n  width: 100%;\n"]))),p$="http://49.50.165.8:8080",v$=function(){var e=l(dA(xA),2),t=e[0],r=e[1],i=(0,n.useRef)(null),a=(0,n.useRef)(null),o=l(dA(EA),2),s=o[0],u=o[1],c=(0,n.useRef)(null),A=l((0,n.useState)(null),2),f=A[0],d=A[1],h=l((0,n.useState)(null),2),p=h[0],v=h[1],g=l((0,n.useState)(1),2),m=g[0],y=g[1],b=l((0,n.useState)([]),2),w=b[0],x=b[1],_=(0,n.useRef)(null),C=l((0,n.useState)(.5),2),E=C[0],S=C[1],B=l((0,n.useState)(null),2),T=B[0],I=B[1],k=l((0,n.useState)(!1),2),R=k[0],U=k[1],F=l((0,n.useState)({x:0,y:0}),2),O=F[0],P=F[1],D=l((0,n.useState)({x:0,y:0}),2),L=D[0],N=D[1],Q=(0,n.useRef)(null),H=function(e){var t=_.current,n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),(new Image).src="\uc5ec"===s.gender?"img/\uc5ec\uc0d8\ud50c.png":"img/\ub0a8\uc0d8\ud50c.png",n.beginPath(),"\uc5ec"===s.gender?n.ellipse(93,45,30,26,0,0,2*Math.PI):n.ellipse(95,45,23,26,0,0,2*Math.PI),n.closePath(),n.clip(),n.drawImage(e,L.x,L.y,e.width*E,e.height*E),n.restore()};zf((function(e){return function(e){return console.log(e),Th.post("".concat(p$,"/closet/kid-info"),e)}(e)}),{onSuccess:function(e){console.log("\ub4f1\ub85d")},onError:function(e){console.log(e)}});return(0,n.useEffect)((function(){T&&E&&H(T)}),[E]),(0,n.useEffect)((function(){w.length>1&&function(){var e=_.current,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);var n=new Image;n.src="\uc5ec"===s.gender?"img/\uc5ec\uc0d8\ud50c.png":"img/\ub0a8\uc0d8\ud50c.png",n.onload=function(){t.drawImage(n,0,0,e.width,e.height);var r=new Image;I(r),r.src=w[0],r.onload=function(){t.beginPath(),"\uc5ec"===s.gender?t.ellipse(93,45,30,26,0,0,2*Math.PI):t.ellipse(95,45,23,26,0,0,2*Math.PI),t.closePath(),t.clip(),t.drawImage(r,L.x,L.y,r.width*E,r.height*E),t.restore()}}}()}),[w]),(0,n.useEffect)((function(){return d(null),x([]),v(null),I(null),y(1),function(){d(null),x([]),v(null),I(null),y(1)}}),[t.closetBody]),(0,mn.jsx)(mn.Fragment,{children:t.closetBody&&(0,mn.jsx)(g$,{children:(0,mn.jsxs)(m$,{children:[(0,mn.jsx)(y$,{src:dY,onClick:function(){r(qn(qn({},t),{},{closetBody:!1}))}}),1===m?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)(Z$,{$cGap:"15px",style:{marginTop:"10px"},children:[f?(0,mn.jsx)(b$,{children:(0,mn.jsx)(TZ,{src:f,crop:function(){var e=null===c||void 0===c?void 0:c.current,t=null===e||void 0===e?void 0:e.cropper;v(t.getCroppedCanvas().toDataURL())},ref:c,width:"100px",height:"100px"})}):(0,mn.jsxs)(b$,{children:[(0,mn.jsx)(u$,{height:"50px",onClick:function(){Q.current.click()},children:(0,mn.jsx)(bY,{})}),(0,mn.jsx)("input",{type:"file",accept:"image/*",ref:Q,style:{display:"none"},onChange:function(e){return d(URL.createObjectURL(e.target.files[0]))}})]}),(0,mn.jsx)(SY,{}),(0,mn.jsx)(b$,{children:(0,mn.jsx)(w$,{src:p})})]}),(0,mn.jsxs)(Z$,{$cGap:"10px",ref:i,children:[(0,mn.jsx)(yZ,{$title:"\uc131\ubcc4",$titleWidth:"35px",$content:s.gender,$list:["\ub0a8","\uc5ec"],$contentSize:"s"}),(0,mn.jsx)(eZ,{$writeAble:!0,$title:"\ub098\uc774",$content:s.age,$contentSize:"s"})]}),(0,mn.jsxs)(Z$,{$cGap:"10px",style:{marginTop:"10px"},ref:a,children:[(0,mn.jsx)(eZ,{$writeAble:!0,$title:"\ud0a4",$titleWidth:"35px",$content:s.height,$contentSize:"s",$unit:"cm"}),(0,mn.jsx)(eZ,{$writeAble:!0,$title:"\ubab8\ubb34\uac8c",$content:s.weight,$contentSize:"s"})]}),(0,mn.jsx)($Y,{onClick:function(){u({img:null,gender:i.current.children[0].children[1].innerText,age:i.current.children[1].children[1].defaultValue,height:a.current.children[0].children[1].defaultValue,weight:a.current.children[1].children[1].defaultValue}),setTimeout((function(){y(2),function(){var e=[p,"img/\uc5ec\uc0d8\ud50c.png"];console.log(e),x([].concat(M(w),e))}()}),100)},children:"\ubaa8\ub378 \uc0dd\uc131"})]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("canvas",{ref:_,width:180,height:400,style:{border:"1px solid black"},onMouseDown:function(e){U(!0),P({x:e.clientX-45,y:e.clientY})},onMouseMove:function(e){R&&(N({x:e.clientX-O.x,y:e.clientY-O.y}),H(T))},onMouseUp:function(){U(!1)}}),(0,mn.jsxs)(Z$,{$cGap:"5px",style:{width:"170px",marginTop:"15px"},children:["\uc5bc\uad74 \ud06c\uae30 \uc870\uc808",(0,mn.jsx)(x$,{onClick:function(){return S(1.1*E)},children:(0,mn.jsx)(RY,{})}),(0,mn.jsx)(x$,{onClick:function(){return S(.9*E)},children:(0,mn.jsx)(KY,{})})]}),(0,mn.jsxs)(Z$,{$cGap:"20px",style:{width:"180px",marginTop:"-15px"},children:[(0,mn.jsx)($Y,{style:{width:"80px"},className:"secondBtn",onClick:function(){y(1)},children:"\uc774\uc804"}),(0,mn.jsx)($Y,{style:{width:"80px"},className:"secondBtn",onClick:function(){setTimeout((function(){var e=_.current.toDataURL("image/png"),n=document.createElement("a");n.href=e,n.download="merged_image.png",n.click(),r(qn(qn({},t),{},{closetBody:!1}))}),100)},children:"\uc800\uc7a5"})]})]})]})})})},g$=gn.styled.div(zJ||(zJ=sn(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  min-height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 20;\n\n  .secondBtn {\n    width: 100px;\n  }\n"]))),m$=gn.styled.div(GJ||(GJ=sn(["\n  position: relative;\n  width: 300px;\n  height: 520px;\n  background-color: ",";\n  border: 2px solid ",";\n  z-index: 40;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  padding: 25px;\n  flex-direction: column;\n"])),(function(e){return e.theme.colors.neutral[0]}),(function(e){return e.theme.colors.yellow[3]})),y$=gn.styled.img(VJ||(VJ=sn(["\n  width: 24px;\n  height: 24px;\n  top: 10px;\n  right: 10px;\n  position: absolute;\n  cursor: pointer;\n  z-index: 30;\n"]))),b$=gn.styled.div(WJ||(WJ=sn(["\n  margin: 15px auto 25px auto;\n  overflow: hidden;\n  width: 100px;\n  height: 100px;\n  border-radius: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  cursor: pointer;\n"])),(function(e){return e.theme.colors.neutral[1]})),w$=gn.styled.img(KJ||(KJ=sn(["\n  object-fit: cover;\n  border-radius: 50%;\n  width: 100px;\n  height: 100px;\n"]))),x$=gn.styled.div(XJ||(XJ=sn(["\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0.5px solid ",";\n  background-color: ",";\n  border-radius: 50%;\n  cursor: pointer;\n  z-index: 10;\n"])),(function(e){return e.theme.colors.neutral[2]}),(function(e){return e.theme.colors.neutral[0]})),_$=function(e){var t=e.clothList,r=l(dA(xA),2),i=r[0],a=r[1],o=(0,n.useRef)(null),s=l(dA(CA),2),u=s[0],c=s[1],A=l((0,n.useState)([]),2),f=A[0],d=A[1],h=l((0,n.useState)([]),2),p=h[0],v=h[1],g=l((0,n.useState)(null),2),m=g[0],y=g[1],b=l(dA(IA),2),w=b[0];b[1];return(0,n.useEffect)((function(){return function(){y(null)}}),[]),(0,n.useEffect)((function(){if(i.clothProperty&&w){var e,n,r,a,o=t.findIndex((function(e){return e.clothId===w}));console.log(o,t[o]),y(t[o]);var s=[],u=[];null===(e=t[o])||void 0===e||null===(n=e.scaleList)||void 0===n||n.forEach((function(e){s.push(e.size)})),v(s),null===(r=t[o])||void 0===r||null===(a=r.colorList)||void 0===a||a.forEach((function(e){u.push(e.color)})),d(u)}}),[i.clothProperty,w,m]),(0,mn.jsx)(mn.Fragment,{children:i.clothProperty&&m&&(0,mn.jsx)(C$,{children:(0,mn.jsxs)(E$,{children:[(0,mn.jsx)(S$,{src:dY,onClick:function(){a(qn(qn({},i),{},{clothProperty:!1}))}}),(0,mn.jsxs)(B$,{ref:o,children:[(0,mn.jsx)(yZ,{$title:"\uc0c9\uc0c1",$titleWidth:"64px",$content:m.colorList[0].color,$list:f,$contentSize:"l"}),(0,mn.jsx)(yZ,{$title:"\uc0ac\uc774\uc988",$titleWidth:"64px",$content:m.scaleList[0].size,$list:p,$contentSize:"l"})]}),(0,mn.jsx)($Y,{onClick:function(){if(m){var e,t,n=[];n=M(u);var r=null===(e=m.colorList)||void 0===e?void 0:e.findIndex((function(e){return e.color===o.current.children[0].children[1].innerText})),s=null===(t=m.scaleList)||void 0===t?void 0:t.findIndex((function(e){return e.size===o.current.children[1].children[1].innerText}));n.push({clothId:m.clothId,position:[2,2,0],img:m.colorList[r].img,scale:m.scaleList[s].scale,type:m.type,size:m.scaleList[s].size,color:m.colorList[r].color}),c(n),setTimeout((function(){a(qn(qn({},i),{},{clothProperty:!1}))}),100)}},children:"\uc120\ud0dd"})]})})})},C$=gn.styled.div(qJ||(qJ=sn(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  min-height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 20;\n"]))),E$=gn.styled.div(YJ||(YJ=sn(["\n  position: relative;\n  width: 225px;\n  height: 200px;\n  background-color: ",";\n  border: 2px solid ",";\n  z-index: 40;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  padding: 25px;\n  flex-direction: column;\n"])),(function(e){return e.theme.colors.neutral[0]}),(function(e){return e.theme.colors.yellow[3]})),S$=gn.styled.img(ZJ||(ZJ=sn(["\n  width: 16px;\n  height: 16px;\n  top: 10px;\n  right: 10px;\n  position: absolute;\n  cursor: pointer;\n  z-index: 30;\n"]))),B$=gn.styled.div(JJ||(JJ=sn(["\n  width: 100%;\n  margin: 15px auto auto auto;\n  display: flex;\n  flex-direction: column;\n  row-gap: 20px;\n"])));function T$(){var e,t,r=l((0,n.useState)("topList"),2),i=r[0],a=r[1],o=l(dA(xA),2),s=o[0],u=o[1],c=l(dA(_A),2),A=c[0],f=c[1],d=l(dA(EA),2),h=(d[0],d[1],l(dA(BA),2)),p=(h[0],h[1]),v=l(dA(TA),2),g=v[0],m=(v[1],l((0,n.useState)(null),2)),y=m[0],b=m[1],w=zf((function(){return Th.get("".concat(p$,"/closet/closet-info"))}),{onSuccess:function(e){if(console.log(e),e.data){var t=e.data;b(t)}},onError:function(e){console.log(e)}});return(0,n.useEffect)((function(){w.mutate()}),[]),(0,n.useEffect)((function(){console.log(i,y)}),[i]),(0,mn.jsxs)(W$,{children:[(0,mn.jsxs)(K$,{children:[(0,mn.jsx)(zX,{}),(0,mn.jsxs)(J$,{children:[(0,mn.jsx)($$,{onClick:function(){return u(qn(qn({},s),{},{closetQuestion:!0}))},children:(0,mn.jsx)(iY,{})}),(0,mn.jsx)($$,{onClick:function(){return u(qn(qn({},s),{},{closetBody:!0}))},children:(0,mn.jsx)(Zq,{})}),(0,mn.jsx)($$,{onClick:function(){p(!0),f({simplePopup:!0,content:[["p","\uc800\uc7a5\uc644\ub8cc"]],btnContent:"\ud655\uc778",onClick:function(){f(qn(qn({},A),{},{simplePopup:!1}))}})},children:(0,mn.jsx)(lY,{})}),(0,mn.jsx)($$,{children:(0,mn.jsx)(Vq,{onClick:function(){return f({simplePopup:!0,content:[["p","\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \ub2f4\uacbc\uc2b5\ub2c8\ub2e4"]],btnContent:"\uc7a5\ubc14\uad6c\ub2c8 \uc774\ub3d9",onClick:function(){f(qn(qn({},A),{},{simplePopup:!1}))}})}})})]}),(0,mn.jsx)(X$,{children:g.length>0?(0,mn.jsxs)(mn.Fragment,{children:[g.map((function(e,t){return(0,mn.jsx)(Cq,{$codyId:"\uc0d8\ud50c\ucf54\ub5141",$boxSize:"s",$type:"cody",$img:e},t)})),(0,mn.jsx)(Cq,{$codyId:"\uc0d8\ud50c\ucf54\ub5142",$boxSize:"s",$type:"cody",$img:"img/\uc0d8\ud50c\uc6372.png"}),(0,mn.jsx)(Cq,{$codyId:"\uc0d8\ud50c\ucf54\ub5143",$boxSize:"s",$type:"cody",$img:"img/\uc0d8\ud50c\uc637.png"})]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(Cq,{$codyId:"\uc0d8\ud50c\ucf54\ub5142",$boxSize:"s",$type:"cody",$img:"img/\uc0d8\ud50c\uc6372.png"}),(0,mn.jsx)(Cq,{$codyId:"\uc0d8\ud50c\ucf54\ub5143",$boxSize:"s",$type:"cody",$img:"img/\uc0d8\ud50c\uc637.png"})]})})]}),(0,mn.jsxs)(q$,{children:[(0,mn.jsxs)(Z$,{children:[(0,mn.jsx)(kq,{$size:"s",$content:"\uc0c1\uc758",$active:"topList"===i,$setSelectedMenu:a,$menuFiled:"topList"}),(0,mn.jsx)(kq,{$size:"s",$content:"\ud558\uc758",$active:"bottomList"===i,$setSelectedMenu:a,$menuFiled:"bottomList"}),(0,mn.jsx)(kq,{$size:"s",$content:"\uc544\uc6b0\ud130",$active:"outerList"===i,$setSelectedMenu:a,$menuFiled:"outerList"}),(0,mn.jsx)(kq,{$size:"s",$content:"\uc2e0\ubc1c",$active:"shoesList"===i,$setSelectedMenu:a,$menuFiled:"shoesList"}),(0,mn.jsx)(kq,{$size:"s",$content:"\uc545\uc138\uc0ac\ub9ac",$active:"accessoryList"===i,$setSelectedMenu:a,$menuFiled:"accessoryList"}),(0,mn.jsx)(kq,{$size:"s",$content:"\uae30\ud0c0",$active:"etcList"===i,$setSelectedMenu:a,$menuFiled:"etcList"})]}),(0,mn.jsx)(Y$,{children:y&&(null===(e=y[i])||void 0===e?void 0:e.length)>0?y[i].map((function(e,t){return(0,mn.jsx)(Z$,{children:(0,mn.jsx)(Cq,{$cloth:e,$boxSize:"s",$work:"cloth",$wear:!0,$type:e.type,$img:e.colorList[0].img})},e.clothId)})):null})]}),(0,mn.jsx)(v$,{}),y&&(null===(t=y[i])||void 0===t?void 0:t.length)>0?(0,mn.jsx)(mn.Fragment,{children:(0,mn.jsx)(_$,{clothList:y[i]})}):null]})}var I$,k$,M$,R$,U$,F$,O$,P$,D$,L$,N$,Q$,H$,j$,z$,G$,V$,W$=gn.default.div($J||($J=sn(["\n  width: 100%;\n  /* height: 100vh; */\n  /* background-color: green; */\n  padding: 20px;\n"]))),K$=gn.default.div(e$||(e$=sn(["\n  width: 100%;\n  height: 320px;\n  display: flex;\n  flex-direction: row;\n  column-gap: 10px;\n  /* background-color: #93ff93; */\n  position: relative;\n"]))),X$=gn.default.div(t$||(t$=sn(["\n  width: 100px;\n  height: 320px;\n  max-height: 320px;\n  row-gap: 10px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  column-gap: 10px;\n"]))),q$=gn.default.div(n$||(n$=sn(["\n  margin-top: 20px;\n  width: 100%;\n  min-height: 150px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  row-gap: 10px;\n  background-color: ",";\n  border-radius: 10px;\n  padding: 5px;\n"])),(function(e){return e.theme.colors.yellow[1]})),Y$=gn.default.div(r$||(r$=sn(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(100px, auto));\n"]))),Z$=gn.default.div(i$||(i$=sn(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  column-gap: ",";\n  align-items: center;\n"])),(function(e){return e.$cGap})),J$=gn.default.div(a$||(a$=sn(["\n  width: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  row-gap: 7px;\n  position: absolute;\n  top: 5px;\n  left: 5px;\n"]))),$$=gn.default.div(o$||(o$=sn(["\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0.5px solid ",";\n  border-radius: 50%;\n  cursor: pointer;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.neutral[1]}),(function(e){return e.theme.colors.neutral[0]})),e0=__webpack_require__(2655),t0=gn.default.div(I$||(I$=sn(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),n0=gn.default.div(k$||(k$=sn(["\n  display: flex;\n  width: 100%;\n  height: ",";\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n"])),(function(e){var t=e.itemheight;return"".concat(t,"px")})),r0=gn.default.div(M$||(M$=sn(["\n  width: ","; /* \ub2e4\uc74c \uc544\uc774\ud15c \ubc0f \uc774\uc804 \uc544\uc774\ud15c \ud06c\uae30 \uc870\uc808 */\n  height: ",";\n  transition: height 0.3s ease-in-out;\n  background-color: #d9d9d9;\n  border-radius: 10px;\n  position: relative;\n  overflow: hidden;\n  /* \ub2e4\ub978 \uc2a4\ud0c0\uc77c\ub9c1 \uc18d\uc131 \ucd94\uac00 \uac00\ub2a5 */\n"])),(function(e){return e.selecteditem===e.itemindex?"100%":"70%"}),(function(e){return e.selecteditem===e.itemindex?"100%":"70%"})),i0=gn.default.div(R$||(R$=sn(["\n  background-color: #000000b3;\n  width: 100%;\n  height: 30px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding-right: 10px;\n  color: white;\n  font-size: 10px;\n  position: absolute;\n  bottom: 0;\n"]))),a0=function(){var e=l((0,n.useState)(1),2),t=e[0],r=e[1],i=l((0,n.useState)(window.innerWidth),2),a=i[0],o=i[1],s=l((0,n.useState)(window.innerWidth>595?238:.4*window.innerWidth),2),u=s[0],c=s[1],A=l((0,n.useState)(["/img/thirdMedal.png","/img/firstMedal.png","/img/secondMedal.png"]),2),f=A[0];A[1];return(0,n.useEffect)((function(){var e=function(){o(window.innerWidth),c(window.innerWidth>595?238:.4*window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,mn.jsx)(t0,{children:(0,mn.jsx)(e0.lr,{showThumbs:!1,showArrows:!1,showStatus:!1,showIndicators:!1,centerMode:!0,centerSlidePercentage:40,selectedItem:t,width:a>595?595:a,onChange:function(e){return r(e)},onClickItem:function(e){r(e)},children:[0,1,2].map((function(e){return(0,mn.jsx)(n0,{itemheight:u,children:(0,mn.jsxs)(r0,{"data-item-index":e,selecteditem:t,itemindex:e,children:[(0,mn.jsx)(o0,{children:(0,mn.jsx)(s0,{src:f[e]})}),(0,mn.jsx)(i0,{children:"\ub9d8\ub9d8\ub2d8"})]})},e)}))})})},o0=gn.default.div(U$||(U$=sn(["\n  position: absolute;\n  width: 25%;\n  height: 25%;\n  top: 7px;\n  left: 7px;\n"]))),s0=gn.default.img(F$||(F$=sn([""]))),u0=function(e){var t=e.onClick,n=e.placeholder,r=e.isSearch,i=void 0===r||r,a=e.isCamera,o=void 0===a||a,s=e.disabled,u=void 0!==s&&s,l=e.onChange,c=Et();return(0,mn.jsxs)(l0,{onClick:t,$isclick:t?"true":"false",children:[i&&(0,mn.jsx)(A0,{children:(0,mn.jsx)(Un,{})}),(0,mn.jsx)(c0,{placeholder:n,disabled:u,onChange:l}),o&&(0,mn.jsx)(f0,{onClick:function(e){u||(e.stopPropagation(),c("photo-engine"))},children:(0,mn.jsx)(In,{})})]})},l0=gn.default.div(O$||(O$=sn(["\n  border: ",";\n  background-color: ",";\n  border-radius: 5px;\n  width: 100%;\n  font-size: 0.9rem;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  padding-left: 7px;\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.yellow[3])}),(function(e){return e.theme.colors.neutral[0]})),c0=(gn.default.div(P$||(P$=sn(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n"]))),gn.default.input(D$||(D$=sn(["\n  border: none;\n  outline: none;\n  height: 100%;\n  width: 100%;\n  cursor: ",";\n"])),(function(e){return e.disabled?"pointer":"auto"}))),A0=gn.default.div(L$||(L$=sn(["\n  margin-right: 5px;\n"]))),f0=gn.default.div(N$||(N$=sn(["\n  border: none;\n  background-color: white;\n  margin: 0;\n  cursor: pointer;\n  padding: 0;\n  margin-left: 5px;\n"])));function d0(e){var t,n;if(!e)return"0";var r=null===(t=e.toString())||void 0===t?void 0:t.replace(",","");return null===(n=Math.round(r).toString())||void 0===n?void 0:n.replace(/\B(?=(\d{3})+(?!\d))/g,",")}var h0,p0,v0,g0,m0,y0,b0,w0,x0,_0,C0,E0,S0,B0,T0,I0,k0=function(e){var t=e.brandName,r=e.productName,i=e.price,a=e.imgUrl,o=l((0,n.useState)(0),2),s=o[0],u=o[1],c=Et(),A=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e=A.current,t=function(){if(e){var t=e.offsetWidth;u(t)}};return 0===s&&t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),(0,mn.jsxs)(R0,{ref:A,height:s.toString(),onClick:function(){return c("resell-detail")},children:[(0,mn.jsx)(M0,{height:s.toString(),src:a}),(0,mn.jsxs)(P0,{children:[(0,mn.jsx)(U0,{children:t}),(0,mn.jsx)(F0,{children:r}),(0,mn.jsxs)(O0,{children:[d0(i),"\uc6d0"]})]})]})},M0=gn.default.img(Q$||(Q$=sn(["\n  height: ",";\n  width: 100%;\n  border-radius: 10px;\n"])),(function(e){var t=e.height;return"".concat(t,"px")})),R0=gn.default.div(H$||(H$=sn(["\n  width: calc(100% / 3 - 12px);\n  overflow: 'hidden';\n  height: ",";\n  margin: 0;\n  cursor: pointer;\n"])),(function(e){var t=e.height;return"".concat(1.4*Number(t),"px")})),U0=gn.default.div(j$||(j$=sn(["\n  color: ",";\n  font-size: 8px;\n"])),(function(e){return e.theme.colors.neutral[3]})),F0=gn.default.div(z$||(z$=sn(["\n  color: ",";\n  font-size: 10px;\n  font-weight: 600;\n"])),(function(e){return e.theme.colors.neutral[5]})),O0=gn.default.div(G$||(G$=sn(["\n  color: ",";\n  font-size: 8px;\n  font-weight: 600;\n"])),(function(e){return e.theme.colors.neutral[5]})),P0=gn.default.div(V$||(V$=sn(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 2px;\n"]))),D0=(fA({key:"modalResllStatus",default:!1}),fA({key:"selectedResllGenderAtom",default:null}),fA({key:"selectedResllHeightAtom",default:null}),fA({key:"selectedResllWeightAtom",default:null}),fA({key:"selectedResllSeasonsAtom",default:null})),L0=fA({key:"selectedResllCategoryAtom",default:null}),N0=(fA({key:"selectedResllTargetAtom",default:null}),fA({key:"selectedResllSalesStatusAtom",default:null})),Q0={getResellList:function(){var e=C(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ph.get("/resell/products?category=".concat(t.category||"","&saleStatus=").concat(t.saleStatus||"","&target=").concat(t.target||"","&searchKeyword=").concat(t.searchKeyword||"","&page=0&pageSize=200"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getResellDetail:function(){var e=C(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ph.get("/daily/clothes/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postResell:function(){var e=C(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ph.post("/resell/products",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchPhoto:function(){var e=C(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ph.post("/resell/products/image-search",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H0=[{label:"\uc804\uccb4",value:""},{label:"\ubd04",value:"SPRING"},{label:"\uc5ec\ub984",value:"SUMMER"},{label:"\uac00\uc744",value:"AUTUMN"},{label:"\uaca8\uc6b8",value:"WINTER"}],j0=[{label:"\uc804\uccb4",value:""},{label:"\ubca0\uc774\ube44",value:"BABY"},{label:"\ud0a4\uc988(\ub0a8)",value:"BOY"},{label:"\ud0a4\uc988(\uc5ec)",value:"GIRL"}],z0=[{label:"\uc804\uccb4",value:""},{label:"\uc0c1\uc758",value:"TOP"},{label:"\ud558\uc758",value:"BOTTOM"},{label:"\uc544\uc6b0\ud130",value:"OUTER"},{label:"\uc545\uc138\uc0ac\ub9ac",value:"ACCESSORY"},{label:"\uc2e0\ubc1c",value:"SHOES"},{label:"\uae30\ud0c0",value:"ETC"}];function G0(){var e,t,r,i,a,o,s,u,c,A,f,d,h,p=(0,n.useRef)(null),v=(0,n.useRef)(null),g=(0,gn.useTheme)(),m=Et(),y=l((0,n.useState)(0),2),b=y[0],w=y[1],_=l((0,n.useState)(!1),2),E=_[0],S=_[1],B=l(dA(hA),2)[1],T=l((0,n.useState)(),2),I=T[0],k=T[1],M=l((0,n.useState)(!1),2),R=M[0],U=M[1],F=l((0,n.useState)(!1),2),O=F[0],P=F[1],D=l((0,n.useState)(!1),2),L=D[0],N=D[1],Q=l(dA(N0),2),H=Q[0],j=Q[1],z=l(dA(L0),2),G=z[0],V=z[1],W=l(dA(D0),2),K=W[0],X=W[1],q=(h={saleStatus:null===H||void 0===H?void 0:H.value,category:null===G||void 0===G?void 0:G.value,searchKeyword:I,target:null===K||void 0===K?void 0:K.value},Df(["resll-list"],C(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q0.getResellList(h);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{retry:!1})),Y=q.data,Z=q.refetch,J=function(){N(!1),U(!1),P(!1),Z()};return(0,n.useEffect)((function(){var e=v.current,t=function(){if(e){var t=e.offsetWidth;w(t)}};return 0===b&&t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),(0,n.useEffect)((function(){E||J()}),[E]),(0,mn.jsxs)(g1,{children:[(0,mn.jsx)(y1,{children:"\uc774 \ub2ec\uc758 \ubca0\uc2a4\ud2b8 \uc140\ub7ec"}),(0,mn.jsx)(a0,{}),(0,mn.jsxs)(w1,{children:[(0,mn.jsxs)(T1,{children:[(0,mn.jsx)(b1,{ref:p,children:(0,mn.jsx)("form",{onSubmit:function(e){e.preventDefault(),Z()},children:(0,mn.jsx)(u0,{placeholder:"\uc624\ub978\ucabd \uc774\ubbf8\uc9c0 \uac80\uc0c9\ub3c4 \uc774\uc6a9\ud574\ubcf4\uc138\uc694!",onChange:function(e){return k(e.target.value)},onClick:function(){var e;p.current&&(null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}})})}),(0,mn.jsxs)(M1,{children:[(0,mn.jsxs)(R1,{children:["\uc804\uccb4 ",(null===Y||void 0===Y||null===(e=Y.data)||void 0===e||null===(t=e.resellProductResponse)||void 0===t?void 0:t.length)||0,"\uac1c"]}),(0,mn.jsxs)(B1,{onClick:function(){B(!0),S(!0)},children:[(0,mn.jsx)(wn,{}),"\ud544\ud130"]})]}),E&&(0,mn.jsx)(_1,{onClick:function(){B(!1),S(!1)},children:(0,mn.jsxs)(C1,{onClick:function(e){e.stopPropagation(),J()},children:[(0,mn.jsx)(E1,{children:(0,mn.jsx)(xn,{})}),(0,mn.jsxs)(I1,{children:[(0,mn.jsxs)(k1,{children:[(0,mn.jsx)(S1,{children:"\uacc4\uc808"}),(0,mn.jsx)(kA,{options:H0,select:H,onSelect:function(e){j(e)},isOpen:R,setIsOpen:U,allClose:J})]}),(0,mn.jsxs)(k1,{children:[(0,mn.jsx)(S1,{children:"\uce74\ud14c\uace0\ub9ac"}),(0,mn.jsx)(kA,{options:z0,select:G,onSelect:function(e){V(e)},isOpen:O,setIsOpen:P,allClose:J})]}),(0,mn.jsxs)(k1,{children:[(0,mn.jsx)(S1,{children:"\ub300\uc0c1"}),(0,mn.jsx)(kA,{options:j0,select:K,onSelect:function(e){X(e)},isOpen:L,setIsOpen:N,allClose:J})]})]})]})})]}),E&&(0,mn.jsx)(_1,{onClick:function(){B(!1),S(!1)}}),(0,mn.jsx)(x1,{$isscroll:(null===Y||void 0===Y||null===(r=Y.data)||void 0===r||null===(i=r.resellProductResponse)||void 0===i?void 0:i.length)&&(null===Y||void 0===Y||null===(a=Y.data)||void 0===a||null===(o=a.resellProductResponse)||void 0===o?void 0:o.length)>0||!1,children:null!==Y&&void 0!==Y&&null!==(s=Y.data)&&void 0!==s&&null!==(u=s.resellProductResponse)&&void 0!==u&&u.length&&(null===Y||void 0===Y||null===(c=Y.data)||void 0===c||null===(A=c.resellProductResponse)||void 0===A?void 0:A.length)>0?null===Y||void 0===Y||null===(f=Y.data)||void 0===f||null===(d=f.resellProductResponse)||void 0===d?void 0:d.map((function(e){return(0,mn.jsx)(k0,{brandName:e.sellerNickname,productName:e.productName,price:e.productPrice,imgUrl:e.productImage},e.productName+e.userId)})):(0,mn.jsx)(m1,{children:"\ub4f1\ub85d\ub41c \uc0c1\ud488\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})]}),(0,mn.jsx)(Wn,{onClick:function(){return m("resell-post")},children:(0,mn.jsx)(Cn,{color:g.colors.neutral[4]})})]})}var V0,W0,K0,X0,q0,Y0,Z0,J0,$0,e1,t1,n1,r1,i1,a1,o1,s1,u1,l1,c1,A1,f1,d1,h1,p1,v1,g1=gn.styled.div(h0||(h0=sn(["\n  padding-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  overflow:'auto';\n"]))),m1=gn.styled.div(p0||(p0=sn(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding-top: 100px;\n  flex:1;\n"]))),y1=gn.styled.div(v0||(v0=sn(["\n  font-size: 18px;\n  font-weight: 600;\n  color: black;\n  margin-bottom: 20px;\n"]))),b1=gn.styled.div(g0||(g0=sn(["\n  width: 100%;\n  border-top: ",";\n  padding-top: 20px;\n  background-color: white;\n  position: sticky;\n  top: 0;\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.neutral[2])})),w1=gn.styled.div(m0||(m0=sn(["\n  width: 100%;\n  padding: 20px;\n  margin-top: 20px;\n  \n"]))),x1=gn.styled.div(y0||(y0=sn(["\n  min-height: ",";\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  gap: 18px;\n"])),(function(e){return e.$isscroll?"80vh":"40vh"})),_1=gn.styled.div(b0||(b0=sn(["\n  position: absolute;\n  z-index: 999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #000000aa;\n"]))),C1=gn.styled.div(w0||(w0=sn(["\n  position: absolute;\n  z-index: 1000;\n  top: 90px;\n  right: 0;\n  width: 50%;\n  display: flex;\n  align-items: flex-end;\n  background-color: transparent;\n"]))),E1=gn.styled.div(x0||(x0=sn(["\n  position: absolute;\n  top: -10px;\n  right: 15px;\n"]))),S1=gn.styled.div(_0||(_0=sn(["\n  font-size: 13px;\n  white-space: nowrap;\n"]))),B1=gn.styled.button(C0||(C0=sn(["\n  display: flex;\n  align-items: center;\n  border: none;\n  font-size: 13px;\n  background-color: white;\n  cursor: pointer;\n  gap: 3.3px;\n"]))),T1=gn.styled.div(E0||(E0=sn(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  background-color: white;\n  position: sticky;\n  justify-content: center;\n  padding-bottom: 10px;\n  gap: 10px;\n  top: 0;\n  z-index: 2000;\n  width: 100%;\n"]))),I1=gn.styled.div(S0||(S0=sn(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  padding-top: 10px;\n  width: 100%;\n  background-color: white;\n  border-radius: 10px;\n  gap: 10px;\n"]))),k1=gn.styled.div(B0||(B0=sn(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n"]))),M1=gn.styled.div(T0||(T0=sn(["\n  width: 100%;\n  justify-content: space-between;\n  display: flex;\n"]))),R1=gn.styled.div(I0||(I0=sn(["\n  font-size: 0.9rem;\n  font-weight: 600;\n  display: flex;\n"]))),U1=function(e){var t=e.id,r=e.productName,i=e.productPrice,a=e.productImageUrls,o=e.isActive,s=void 0!==o&&o,u=l((0,n.useState)(0),2),c=u[0],A=u[1],f=Et(),d=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e=d.current,t=function(){if(e){var t=e.offsetWidth;A(t)}};return 0===c&&t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),(0,mn.jsxs)(D1,{ref:d,height:c.toString(),onClick:function(){return f("new-detail/".concat(t))},children:[(0,mn.jsx)(P1,{onClick:function(e){e.stopPropagation()},children:(0,mn.jsx)(O1,{src:s?"/img/activehanger.png":"/img/hanger.png"})}),(0,mn.jsx)(F1,{height:c.toString(),src:a}),(0,mn.jsxs)(Q1,{children:[(0,mn.jsx)(L1,{children:r}),(0,mn.jsxs)(N1,{children:[d0(i),"\uc6d0"]})]})]})},F1=gn.default.img(V0||(V0=sn(["\n  height: ",";\n  width: 100%;\n  border-radius: 10px;\n"])),(function(e){var t=e.height;return"".concat(t,"px")})),O1=gn.default.img(W0||(W0=sn([""]))),P1=gn.default.div(K0||(K0=sn(["\n  display: flex;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"]))),D1=gn.default.div(X0||(X0=sn(["\n  width: calc(100% / 3 - 12px);\n  position: relative;\n  overflow: 'hidden';\n  height: ",";\n  margin: 0;\n  cursor: pointer;\n"])),(function(e){var t=e.height;return"".concat(1.4*Number(t),"px")})),L1=(gn.default.div(q0||(q0=sn(["\n  color: ",";\n  font-size: 8px;\n"])),(function(e){return e.theme.colors.neutral[3]})),gn.default.div(Y0||(Y0=sn(["\n  color: ",";\n  font-size: 10px;\n  font-weight: 600;\n"])),(function(e){return e.theme.colors.neutral[5]}))),N1=gn.default.div(Z0||(Z0=sn(["\n  color: ",";\n  font-size: 8px;\n  font-weight: 600;\n"])),(function(e){return e.theme.colors.neutral[5]})),Q1=gn.default.div(J0||(J0=sn(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 2px;\n"]))),H1={getNewMarketList:function(){var e=C(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.t1=JSON,e.next=4,Ph.get("/new?category=".concat(t.category||"","&kidType=").concat(t.kidType||"","&query=").concat(t.query||"","&page=0&pageSize=200"));case 4:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),e.abrupt("return",e.t0.parse.call(e.t0,e.t3));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNewMarketHotList:function(){var e=C(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ph.get("/new/hot?page=0&pageSize=200");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getNewMarketDetail:function(){var e=C(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ph.get("/new/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j1=[{label:"\uc804\uccb4",value:""},{label:"\ubca0\uc774\ube44",value:"BABY"},{label:"\ud0a4\uc988(\ub0a8)",value:"BOY"},{label:"\ud0a4\uc988(\uc5ec)",value:"GIRL"}],z1=[{label:"\uc804\uccb4",value:""},{label:"\uc0c1\uc758",value:"TOP"},{label:"\ud558\uc758",value:"BOTTOM"},{label:"\uc544\uc6b0\ud130",value:"OUTER"},{label:"\uc545\uc138\uc0ac\ub9ac",value:"ACCESSORY"},{label:"\uc2e0\ubc1c",value:"SHOES"},{label:"\uae30\ud0c0",value:"ETC"}];function G1(){var e,t,r,i,a,o,s,u,c,A,f,d,h,p,v,g,m,y,b=(0,n.useRef)(null),w=(0,n.useRef)(null),_=l((0,n.useState)(0),2),E=_[0],S=_[1],B=l((0,n.useState)(!1),2),T=B[0],I=B[1],k=l(dA(hA),2)[1],M=l((0,n.useState)(),2),R=M[0],U=M[1],F=l((0,n.useState)(0),2),O=F[0],P=F[1],D=l((0,n.useState)(!1),2),L=D[0],N=D[1],Q=l((0,n.useState)(!1),2),H=Q[0],j=Q[1],z=l(dA(mA),2),G=z[0],V=z[1],W=l(dA(yA),2),K=W[0],X=W[1],q=(y={category:(null===K||void 0===K?void 0:K.value)||"",kidType:(null===G||void 0===G?void 0:G.value)||"",query:R||""},Df(["newmarket-list"],C(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H1.getNewMarketList(y);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{retry:!1})),Y=q.data,Z=q.refetch,J=Df(["newmarket-hot-list"],C(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H1.getNewMarketHotList();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{retry:!1}).data,$=function(){N(!1),j(!1)};return(0,n.useEffect)((function(){var e=w.current,t=function(){if(e){var t=e.offsetWidth;S(t)}};return 0===E&&t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),(0,n.useEffect)((function(){T||$()}),[T]),(0,mn.jsxs)(p2,{children:[(0,mn.jsxs)(g2,{children:[(0,mn.jsxs)(v2,{children:["\uc694\uc998 \ud56b\ud55c \uc2e0\uc0c1",(0,mn.jsxs)(m2,{children:[O+1," / ",(null===J||void 0===J||null===(e=J.data)||void 0===e||null===(t=e.lookidsProducts)||void 0===t?void 0:t.length)&&(null===J||void 0===J||null===(r=J.data)||void 0===r||null===(i=r.lookidsProducts)||void 0===i?void 0:i.length)||0]})]}),null!==J&&void 0!==J&&null!==(a=J.data)&&void 0!==a&&null!==(o=a.lookidsProducts)&&void 0!==o&&o.length&&(null===J||void 0===J||null===(s=J.data)||void 0===s||null===(u=s.lookidsProducts)||void 0===u?void 0:u.length)>1?(0,mn.jsx)(Jh,{setSelectItem:P,children:null===J||void 0===J||null===(c=J.data)||void 0===c?void 0:c.lookidsProducts.map((function(e,t){return(0,mn.jsx)(y2,{src:e.productImageUrls},e.id)}))}):(0,mn.jsx)(y2,{src:null===J||void 0===J||null===(f=J.data)||void 0===f?void 0:f.lookidsProducts[0].productImageUrls},null===J||void 0===J||null===(A=J.data)||void 0===A?void 0:A.lookidsProducts[0].id)]}),(0,mn.jsxs)(w2,{children:[(0,mn.jsxs)(T2,{children:[(0,mn.jsx)(b2,{ref:b,children:(0,mn.jsx)("form",{onSubmit:function(e){e.preventDefault(),Z()},children:(0,mn.jsx)(u0,{placeholder:"\uc2e0\uc0c1\uc744 \uac80\uc0c9\ud574\ubcf4\uc138\uc694!",isCamera:!1,onChange:function(e){return U(e.target.value)},onClick:function(){var e;b.current&&(null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}})})}),(0,mn.jsxs)(M2,{children:[(0,mn.jsxs)(R2,{children:["\uc804\uccb4 ",(null===Y||void 0===Y||null===(d=Y.data)||void 0===d||null===(h=d.lookidsProducts)||void 0===h?void 0:h.length)&&(null===Y||void 0===Y||null===(p=Y.data)||void 0===p||null===(v=p.lookidsProducts)||void 0===v?void 0:v.length)||0,"\uac1c"]}),(0,mn.jsxs)(B2,{onClick:function(){k(!0),I(!0)},children:[(0,mn.jsx)(wn,{})," \ud544\ud130"]})]}),T&&(0,mn.jsx)(_2,{onClick:function(){k(!1),I(!1)},children:(0,mn.jsxs)(C2,{onClick:function(e){e.stopPropagation(),$()},children:[(0,mn.jsx)(E2,{children:(0,mn.jsx)(xn,{})}),(0,mn.jsxs)(I2,{children:[(0,mn.jsxs)(k2,{children:[(0,mn.jsx)(S2,{children:"\uce74\ud14c\uace0\ub9ac"}),(0,mn.jsx)(kA,{options:z1,select:K,onSelect:function(e){X(e)},isOpen:H,setIsOpen:j,allClose:$})]}),(0,mn.jsxs)(k2,{children:[(0,mn.jsx)(S2,{children:"\ub300\uc0c1"}),(0,mn.jsx)(kA,{options:j1,select:G,onSelect:function(e){V(e)},isOpen:L,setIsOpen:N,allClose:$})]})]})]})})]}),T&&(0,mn.jsx)(_2,{onClick:function(){k(!1),I(!1)}}),(0,mn.jsx)(x2,{children:null===Y||void 0===Y||null===(g=Y.data)||void 0===g||null===(m=g.lookidsProducts)||void 0===m?void 0:m.map((function(e){return(0,mn.jsx)(U1,qn(qn({},e),{},{isActive:!0}),e.id)}))})]})]})}var V1,W1,K1,X1,q1,Y1,Z1,J1,$1,e2,t2,n2,r2,i2,a2,o2,s2,u2,l2,c2,A2,f2,d2,h2,p2=gn.styled.div($0||($0=sn(["\n  padding-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  overflow: 'auto';\n"]))),v2=gn.styled.div(e1||(e1=sn(["\n  border-radius: 10px;\n  display: flex;\n  font-size: 20px;\n  bottom: 0;\n  position: absolute;\n  justify-content: space-between;\n  align-items: flex-end;\n  color: white;\n  padding-bottom: 7px;\n  padding-left: 7px;\n  background: linear-gradient(195deg, rgba(255, 255, 255, 0) 60%, rgba(80.75, 48.45, 0, 0.5) 79%, rgba(57.37, 47.94, 0, 0.93) 100%);\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  font-weight: 600;\n  width: calc(100% - 40px);\n  height: 100%;\n  z-index: 1;\n"]))),g2=gn.styled.div(t1||(t1=sn(["\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 275px;\n  overflow: hidden;\n  padding-left: 20px;\n  padding-right: 20px;\n"]))),m2=gn.styled.div(n1||(n1=sn(["\n  min-width: 40px;\n  min-height: 20px;\n  border-radius: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #000000b3;\n  color: white;\n  margin-right: 10px;\n  margin-bottom: 3px;\n  font-size: 10px;\n"]))),y2=gn.styled.img(r1||(r1=sn(["\n  width: 100%;\n  height: 100%;\n  border-radius: 10px;\n  object-fit: cover;\n"]))),b2=gn.styled.div(i1||(i1=sn(["\n  width: 100%;\n  border-top: ",";\n  padding-top: 20px;\n  background-color: white;\n  position: sticky;\n  top: 0;\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.neutral[2])})),w2=gn.styled.div(a1||(a1=sn(["\n  width: 100%;\n  padding: 20px;\n  margin-top: 20px;\n"]))),x2=gn.styled.div(o1||(o1=sn(["\n  min-height: 90vh;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  gap: 18px;\n"]))),_2=gn.styled.div(s1||(s1=sn(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #000000aa;\n"]))),C2=gn.styled.div(u1||(u1=sn(["\n  position: absolute;\n  z-index: 2;\n  top: 100px;\n  right: 0;\n  width: 50%;\n  display: flex;\n  align-items: flex-end;\n  background-color: transparent;\n"]))),E2=gn.styled.div(l1||(l1=sn(["\n  position: absolute;\n  top: -10px;\n  right: 15px;\n"]))),S2=gn.styled.div(c1||(c1=sn(["\n  font-size: 13px;\n  white-space: nowrap;\n"]))),B2=gn.styled.button(A1||(A1=sn(["\n  display: flex;\n  align-items: center;\n  border: none;\n  font-size: 13px;\n  background-color: white;\n  cursor: pointer;\n  gap: 3.3px;\n"]))),T2=gn.styled.div(f1||(f1=sn(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  background-color: white;\n  position: sticky;\n  justify-content: center;\n  padding-bottom: 10px;\n  gap: 10px;\n  top: 0;\n  z-index: 2;\n  width: 100%;\n"]))),I2=gn.styled.div(d1||(d1=sn(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  padding-top: 10px;\n  width: 100%;\n  background-color: white;\n  border-radius: 10px;\n  gap: 10px;\n"]))),k2=gn.styled.div(h1||(h1=sn(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n"]))),M2=gn.styled.div(p1||(p1=sn(["\n  width: 100%;\n  justify-content: space-between;\n  display: flex;\n"]))),R2=gn.styled.div(v1||(v1=sn(["\n  font-size: 0.9rem;\n  font-weight: 600;\n  display: flex;\n"]))),U2=function(e){var t=e.isOpen,r=e.onClose,i=l((0,n.useState)(""),2),a=i[0],o=i[1],s=l((0,n.useState)(""),2),u=s[0],c=s[1];return(0,mn.jsx)(F2,{$isopen:t.toString(),onClick:r,children:(0,mn.jsxs)(O2,{onClick:function(e){return e.stopPropagation()},children:[(0,mn.jsxs)(P2,{children:[(0,mn.jsx)(D2,{children:"\ub85c\uadf8\uc778"}),(0,mn.jsx)(L2,{onClick:r,children:"\xd7"})]}),(0,mn.jsxs)(N2,{children:[(0,mn.jsxs)(j2,{children:[(0,mn.jsx)(H2,{children:"\uc544\uc774\ub514"}),(0,mn.jsx)(z2,{children:(0,mn.jsx)(G2,{type:"email",placeholder:"\uc544\uc774\ub514",value:a,onChange:function(e){return o(e.target.value)}})})]}),(0,mn.jsxs)(j2,{children:[(0,mn.jsx)(H2,{children:"\ube44\ubc00\ubc88\ud638"}),(0,mn.jsx)(z2,{children:(0,mn.jsx)(G2,{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",value:u,onChange:function(e){return c(e.target.value)}})})]})]}),(0,mn.jsxs)(Q2,{children:[(0,mn.jsx)(V2,{onClick:function(){return alert("\uc900\ube44\uc911\uc785\ub2c8\ub2e4.")},children:"\ud68c\uc6d0\uac00\uc785"}),(0,mn.jsx)(V2,{onClick:function(){console.log("Email: ".concat(a,", Password: ").concat(u)),localStorage.setItem("token",a+u),o(""),c(""),r()},children:"\ub85c\uadf8\uc778"})]})]})})},F2=gn.default.div(V1||(V1=sn(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: ",";\n  z-index: 999;\n"])),(function(e){return"true"===e.$isopen?"block":"none"})),O2=gn.default.div(W1||(W1=sn(["\n  max-width: 400px;\n  width: 250px;\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n  border: ",";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.yellow[3])})),P2=gn.default.div(K1||(K1=sn(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n"]))),D2=gn.default.h2(X1||(X1=sn(["\n  font-size: 1.3rem;\n  margin: 0;\n"]))),L2=gn.default.button(q1||(q1=sn(["\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n"]))),N2=gn.default.div(Y1||(Y1=sn(["\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n"]))),Q2=gn.default.div(Z1||(Z1=sn(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 1rem;\n  gap: 15px;\n"]))),H2=gn.default.label(J1||(J1=sn(["\n  font-size: 0.7rem;\n  color: ",";\n"])),(function(e){return e.theme.colors.neutral[2]})),j2=gn.default.form($1||($1=sn(["\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n"]))),z2=gn.default.div(e2||(e2=sn([""]))),G2=gn.default.input(t2||(t2=sn(["\n  width: 100%;\n  font-size: 0.9rem;;\n  padding: 7px;\n  padding-left: 10px;\n  border: ",";\n  border-radius: 5px;\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.yellow[3])})),V2=gn.default.button(n2||(n2=sn(["\n  color: ",";\n  font-size: 0.8rem;\n  font-weight: 600;\n  border: none;\n  border-radius: 5px;\n  padding: 7px;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 80px;\n"])),(function(e){return e.theme.colors.neutral[5]}),(function(e){return e.theme.colors.yellow[3]}));var W2,K2,X2,q2,Y2=function(){var e=l(dA(hA),2),t=e[0],r=(e[1],(0,gn.useTheme)()),i=_t(),a=localStorage.getItem("token"),o=l((0,n.useState)(!1),2),s=o[0],u=o[1],c=l((0,n.useState)(!1),2),A=c[0],f=c[1],d=l((0,n.useState)(0),2),h=d[0],p=d[1],v=(0,n.useRef)(null);(0,n.useEffect)((function(){var e;null===(e=v.current)||void 0===e||e.scrollTo(0,0),i.pathname.includes("resell-market")?p(1):i.pathname.includes("new-market")?p(2):i.pathname.includes("coordinaton-room")?p(4):i.pathname.includes("community")?p(3):p(0)}),[i]);var g=l((0,n.useState)(null),2),m=g[0],y=g[1];return(0,n.useEffect)((function(){var e=function(){window.innerWidth<595?y(!0):y(!1)};return null===m&&e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,mn.jsx)(J2,{onClick:function(){return u(!1)},children:(0,mn.jsxs)(Z2,{$mobile:null!==m?m.toString():"false",children:[(0,mn.jsxs)(n3,{children:[(0,mn.jsx)(yn,{}),(0,mn.jsxs)(o3,{children:[(0,mn.jsx)(s3,{children:(0,mn.jsx)(Fn,{color:r.colors.neutral[3]})}),(0,mn.jsx)(u3,{onClick:function(e){e.stopPropagation(),u(!s)},children:(0,mn.jsx)(On,{color:r.colors.neutral[2],backColor:r.colors.neutral[1]})})]}),s&&(0,mn.jsx)(i3,{onClick:function(e){return e.stopPropagation(),a?(console.log(a),localStorage.clear(),u(!1),console.log("\ub85c\uadf8\uc544\uc6c3")):(u(!1),f(!0),console.log("\ub85c\uadf8\uc778"))},children:a?"\ub85c\uadf8\uc544\uc6c3":"\ub85c\uadf8\uc778"})]}),(0,mn.jsxs)(t3,{$ismodal:t||A?"true":"false",ref:v,children:[(0,mn.jsx)(zt,{}),(0,mn.jsx)(XY,{}),(0,mn.jsx)(U2,{isOpen:A,onClose:function(){return f(!1)}})]}),(0,mn.jsx)(e3,{children:(0,mn.jsxs)(r3,{children:[(0,mn.jsx)(a3,{to:"/",children:(0,mn.jsxs)($2,{$activepage:0===h,children:[(0,mn.jsx)(En,{color:0===h?r.colors.yellow[3]:r.colors.neutral[4]}),"\ud2b8\ub80c\ub4dc"]})}),(0,mn.jsx)(a3,{to:"/resell-market",children:(0,mn.jsxs)($2,{$activepage:1===h,children:[(0,mn.jsx)(Sn,{color:1===h?r.colors.yellow[3]:r.colors.neutral[4]}),"\uc911\uace0\ub9c8\ucf13"]})}),(0,mn.jsx)(a3,{to:"/new-market",children:(0,mn.jsxs)($2,{$activepage:2===h,children:[(0,mn.jsx)(Bn,{color:2===h?r.colors.yellow[3]:r.colors.neutral[4]}),"\uc2e0\uc0c1\ub9c8\ucf13"]})}),(0,mn.jsx)(a3,{to:"/coordinaton-room",children:(0,mn.jsxs)($2,{$activepage:4===h,children:[(0,mn.jsx)(Tn,{color:4===h?r.colors.yellow[3]:r.colors.neutral[4]}),"\ub098\uc758 \uc637\uc7a5"]})})]})})]})})},Z2=gn.default.div(r2||(r2=sn(["\n  max-width: 595px;\n  min-width: 320px;\n  width: 100%;\n  height: 100%;\n  padding-bottom: 70px;\n  margin-right: ",";\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n"])),(function(e){return"false"!==e.$mobile?"0px":"100px"}),(function(e){return e.theme.colors.grey[0]})),J2=gn.default.div(i2||(i2=sn(["\n  display: flex;\n  justify-content: flex-end;\n  overflow: hidden;\n  height: 100vh;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.grey[5]})),$2=gn.default.div(a2||(a2=sn(["\n  display: flex;\n  color: ",";\n  align-items: center;\n  flex-direction: column;\n  gap: 5px;\n  /* justify-content: space-between; */\n  height: 51px;\n"])),(function(e){var t=e.$activepage,n=e.theme;return t?n.colors.yellow[3]:n.colors.neutral[4]})),e3=gn.default.footer(o2||(o2=sn(["\n  flex: 1; /* \ubd80\ubaa8 \ucef4\ud3ec\ub10c\ud2b8\uc758 \ub0a8\uc740 \uacf5\uac04\uc744 \ucc44\uc6b0\ub3c4\ub85d \uc124\uc815 */\n  width: 100%; /* \ubd80\ubaa8 \ucef4\ud3ec\ub10c\ud2b8\uc758 100% \ub108\ube44\ub85c \uc124\uc815 */\n  position: absolute;\n  bottom: 0;\n  margin: 0;\n  padding: 0;\n"]))),t3=gn.default.main(s2||(s2=sn(["\n  overflow: ",";\n"])),(function(e){return"false"!==e.$ismodal?"hidden":"auto"})),n3=gn.default.header(u2||(u2=sn(["\n  display: flex;\n  width: 100%;\n  position: relative;\n  top: 0;\n  height: 48px;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid ",";\n  margin: 0;\n  padding: 0;\n  padding-top: 7px;\n  padding-bottom: 7px;\n  padding-left: 24px;\n"])),(function(e){return e.theme.colors.grey[6]})),r3=gn.default.nav(l2||(l2=sn(["\n  display: flex;\n  border-top: ",";\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.neutral[2])})),i3=gn.default.button(c2||(c2=sn(["\n  background-color: ",";\n  border: none;\n  position: absolute;\n  display: flex;\n  justify-content: flex-start;\n  top: 45px;\n  z-index: 99;\n  right: 20px;\n  font-size: 0.9rem;\n  width: 100px;\n  padding: 7px;\n  border-radius: 5px;\n"])),(function(e){return e.theme.colors.yellow[2]})),a3=(0,gn.default)(rn)(A2||(A2=sn(["\n  color: ",";\n  background-color: ",";\n  text-decoration: none;\n  font-weight: bold;\n  flex: 1;\n  height: 70px;\n  font-size: 11px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  .community {\n    padding-top: 2.5px;\n  }\n"])),(function(e){return e.theme.colors.grey[2]}),(function(e){return e.theme.colors.neutral[0]})),o3=gn.default.div(f2||(f2=sn(["\n  display: flex;\n  gap: 5px;\n  margin-right: 20px;\n"]))),s3=gn.default.button(d2||(d2=sn(["\n  border: none;\n  background-color: white;\n"]))),u3=gn.default.button(h2||(h2=sn(["\n  border: none;\n  background-color: white;\n"])));function l3(){return(0,mn.jsx)("div",{children:"\ucee4\ubba4\ub2c8\ud2f0"})}var c3,A3,f3,d3,h3,p3,v3=function(){var e=l(dA(hA),2),t=e[0],r=(e[1],(0,gn.useTheme)(),l((0,n.useState)(null),2)),i=r[0],a=r[1];return(0,n.useEffect)((function(){var e=function(){window.innerWidth<595?a(!0):a(!1)};return null===i&&e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,mn.jsx)(m3,{children:(0,mn.jsxs)(g3,{mobile:null!==i?i.toString():"false",children:[(0,mn.jsx)(b3,{children:(0,mn.jsx)(yn,{})}),(0,mn.jsx)(y3,{ismodal:t.toString(),children:(0,mn.jsx)(zt,{})})]})})},g3=gn.default.div(W2||(W2=sn(["\n  max-width: 595px;\n  min-width: 320px;\n  width: 100%;\n  height: 100%;\n  padding-top: 48px;\n  padding-bottom: 70px;\n  margin-right: ",";\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n"])),(function(e){return"false"!==e.mobile?"0px":"100px"}),(function(e){return e.theme.colors.grey[0]})),m3=gn.default.div(K2||(K2=sn(["\n  display: flex;\n  justify-content: flex-end;\n  overflow: hidden;\n  height: 100vh;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.grey[5]})),y3=gn.default.main(X2||(X2=sn(["\n  overflow: ",";\n"])),(function(e){return"false"!==e.ismodal?"hidden":"auto"})),b3=gn.default.header(q2||(q2=sn(["\n  display: flex;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  height: 48px;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid ",";\n  margin: 0;\n  padding: 0;\n  padding-left: 24px;\n"])),(function(e){return e.theme.colors.grey[6]})),w3=gn.default.div(c3||(c3=sn(["\n  display: flex;\n  height:100%;\n  max-height: ",";\n  min-height: 300px;\n  width: 100%;\n  border: ",";\n  border-radius: 10px;\n  overflow: hidden;\n"])),(function(e){var t=e.$imageheight;return t?"".concat(t,"px"):"calc(100vw - 40px)"}),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.grey[5])})),x3=gn.default.img(A3||(A3=sn(["\n  object-fit: fill;\n  width: 100%;\n"]))),_3=gn.default.div(f3||(f3=sn(["\n  width: 100%;\n  height: 100%;\n"]))),C3=gn.default.div(d3||(d3=sn(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]))),E3=gn.default.button(h3||(h3=sn(["\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n  border: none;\n  display: flex;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n"]))),S3=function(e){var t=e.imageUrl,r=(0,gn.useTheme)(),i=l((0,n.useState)(!1),2),a=i[0],o=i[1],s=l((0,n.useState)(500),2),u=s[0],c=s[1],A=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e=A.current,t=function(){if(e){var t=e.offsetWidth;c(t)}};return 0===u&&setTimeout((function(){t()}),300),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),(0,mn.jsxs)(w3,{$imageheight:u,ref:A,children:[(0,mn.jsx)(E3,{onClick:function(e){e.stopPropagation(),o(!a)},children:(0,mn.jsx)(bn,{color:a?r.colors.pink[300]:r.colors.grey[0]})}),(0,mn.jsx)(C3,{children:t.includes("http")?(0,mn.jsx)(x3,{alt:"\ub370\uc77c\ub9ac\ub8e9 \uc774\ubbf8\uc9c0",src:t}):(0,mn.jsx)(_3,{})})]})};var B3,T3,I3,k3,M3,R3,U3,F3,O3,P3,D3,L3,N3,Q3,H3,j3,z3,G3,V3,W3,K3,X3,q3,Y3,Z3,J3,$3,e5,t5,n5,r5,i5,a5=function(e){var t=e.children,r=l((0,n.useState)(0),2),i=r[0],a=r[1];function o(e){var t=e.index,n=e.isSelected,r=e.onClick;return(0,mn.jsx)(o5,{onClick:function(){return r(t)},$isselected:n})}return(0,mn.jsx)(e0.lr,{showThumbs:!1,showArrows:!1,showIndicators:!0,swipeable:!0,showStatus:!1,selectedItem:i,onChange:function(e,t){return a(e)},renderIndicator:function(e,t,n,r){return(0,mn.jsx)(o,{index:n,isSelected:t,onClick:function(e){a(e)}},n)},children:t})},o5=gn.default.div(p3||(p3=sn(["\n  display: inline-block;\n  background-color: ",";\n  width: 1rem;\n  height: 1rem;\n  border: none;\n  margin: 0 5%;\n  border-radius: 50%;\n  cursor: pointer;\n"])),(function(e){return e.$isselected?"#FFD600":"#D9D9D9"})),s5=function(e){switch(e){case"BOY":return"\ub0a8";case"GIRL":return"\uc5ec"}},u5=function(e){switch(e){case"\ub0a8":return"BOY";case"\uc5ec":return"GIRL"}};function l5(){var e,t,r,i,a,o,s,u,c,A,f,d,h,p,v,g,m,y=Bt().dailylookId,b=l((0,n.useState)(0),2),w=b[0],_=b[1],E=(0,n.useRef)(null),S=(m=Number(y),Df(["dailylook-detail"],C(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dh.getDailyLookDetail(m);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{retry:!1})).data;(0,n.useEffect)((function(){var e=function(){var e=E.current;if(e){var t=e.offsetWidth;_(t)}};return 0===w&&setTimeout((function(){e()}),300),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);return(0,mn.jsxs)(d5,{ref:E,children:[(0,mn.jsxs)(Q5,{children:[null!==S&&void 0!==S&&null!==(e=S.data)&&void 0!==e&&null!==(t=e.imageUrls)&&void 0!==t&&t.length&&(null===S||void 0===S||null===(r=S.data)||void 0===r||null===(i=r.imageUrls)||void 0===i?void 0:i.length)>0?(0,mn.jsx)(a5,{children:function(){var e,t;return null===S||void 0===S||null===(e=S.data)||void 0===e||null===(t=e.imageUrls)||void 0===t?void 0:t.map((function(e,t){return e.includes("http")?(0,mn.jsx)("div",{children:(0,mn.jsx)(N5,{children:(0,mn.jsx)(S3,{imageUrl:e})})},e+t):(0,mn.jsx)(p5,{$imageheight:w,children:(0,mn.jsx)(S3,{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSdfhMEEdvPSR2zIdXgaxhGLRKhw3ft9ZRSnWUdKG8zYBQ1vpj9suG77t1JevKZ3YlpAwU&usqp=CAU"})},e+t)}))}()}):(0,mn.jsx)(p5,{$imageheight:w,children:(0,mn.jsx)(S3,{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSdfhMEEdvPSR2zIdXgaxhGLRKhw3ft9ZRSnWUdKG8zYBQ1vpj9suG77t1JevKZ3YlpAwU&usqp=CAU"})}),(0,mn.jsxs)(H5,{children:[(0,mn.jsx)(j5,{children:null===S||void 0===S||null===(a=S.data)||void 0===a?void 0:a.hashTag.map((function(e){return(0,mn.jsx)(R5,{children:e},e)}))}),(0,mn.jsx)(z5,{children:null===S||void 0===S||null===(o=S.data)||void 0===o?void 0:o.user.name})]})]}),(0,mn.jsxs)(h5,{children:[(0,mn.jsx)(m5,{children:(0,mn.jsxs)(v5,{children:[null===S||void 0===S||null===(s=S.data)||void 0===s?void 0:s.user.name,(0,mn.jsx)(g5,{children:"\uc218\uc815 \ub0a0\uc9dc : 2023-09-19"})]})}),(0,mn.jsxs)(y5,{children:[(0,mn.jsxs)(b5,{children:[null===S||void 0===S||null===(u=S.data)||void 0===u?void 0:u.user.name," \uc544\uc774 \uc815\ubcf4"]}),(0,mn.jsxs)(w5,{children:[(0,mn.jsxs)(x5,{children:[(0,mn.jsx)(_5,{children:"\uc131\ubcc4"}),(0,mn.jsx)(C5,{children:s5(null===S||void 0===S||null===(c=S.data)||void 0===c?void 0:c.sex)})]}),(0,mn.jsxs)(x5,{children:[(0,mn.jsx)(_5,{children:"\ub098\uc774"}),(0,mn.jsxs)(C5,{children:[null===S||void 0===S||null===(A=S.data)||void 0===A?void 0:A.age,"\uc138"]})]})]}),(0,mn.jsxs)(w5,{children:[(0,mn.jsxs)(x5,{children:[(0,mn.jsx)(_5,{children:"\ud0a4"}),(0,mn.jsxs)(C5,{children:[null===S||void 0===S||null===(f=S.data)||void 0===f?void 0:f.height,"cm"]})]}),(0,mn.jsxs)(x5,{children:[(0,mn.jsx)(_5,{children:"\ubab8\ubb34\uac8c"}),(0,mn.jsxs)(C5,{children:[null===S||void 0===S||null===(d=S.data)||void 0===d?void 0:d.weight,"kg"]})]})]})]}),(0,mn.jsx)(E5,{children:null===S||void 0===S||null===(h=S.data)||void 0===h?void 0:h.description}),(0,mn.jsx)(S5,{children:null===S||void 0===S||null===(p=S.data)||void 0===p||null===(v=p.purchaseInfos)||void 0===v?void 0:v.map((function(e){return(0,mn.jsxs)(B5,{children:[(0,mn.jsx)(T5,{children:e.description}),(0,mn.jsx)(I5,{children:e.brand})]},e.link)}))}),(0,mn.jsx)(k5,{children:null===S||void 0===S||null===(g=S.data)||void 0===g?void 0:g.hashTag.map((function(e){return(0,mn.jsx)(M5,{children:e},e)}))}),(0,mn.jsx)(U5,{}),(0,mn.jsxs)(F5,{children:[(0,mn.jsx)(L5,{children:"\ucd94\ucc9c \ub370\uc77c\ub9ac \ub8e9"}),(0,mn.jsxs)(O5,{children:[(0,mn.jsx)(P5,{$heights:w,children:(0,mn.jsx)(D5,{loading:"lazy",src:"https://looxloo.com/web/product/extra/small/20230823/e3f2ecf6da392d72512d284be5a95612.jpg"})}),(0,mn.jsx)(P5,{$heights:w,children:(0,mn.jsx)(D5,{loading:"lazy",src:"https://www.yoox.com/images/items/16/16246243CD_14_f.jpg?impolicy=crop&width=387&height=490"})}),(0,mn.jsx)(P5,{$heights:w,children:(0,mn.jsx)(D5,{loading:"lazy",src:"https://looxloo.com/web/product/extra/small/202308/c1b4adb7ab82f4910e017d26304f92ff.jpg"})}),(0,mn.jsx)(P5,{$heights:w,children:(0,mn.jsx)(D5,{loading:"lazy",src:"https://looxloo.com/web/product/extra/small/20230823/3b27d61d4f3200fbf77465e12a34399e.jpg"})}),(0,mn.jsx)(P5,{$heights:w,children:(0,mn.jsx)(D5,{loading:"lazy",src:"https://moomootr4389.cdn-nhncommerce.com/data/goods/22/08/35/1000004452/1000004450_detail_153.jpg"})})]})]})]})]})}var c5,A5,f5,d5=gn.default.div(B3||(B3=sn(["\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),h5=gn.default.div(T3||(T3=sn(["\n  display: flex;\n  flex-direction: column;\n  padding-top: 34px;\n  width: 100%;\n"]))),p5=gn.default.div(I3||(I3=sn(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ",";\n  height: ",";\n"])),(function(e){var t=e.$imageheight;return"".concat(t-40,"px")}),(function(e){var t=e.$imageheight;return"".concat(t-40,"px")})),v5=gn.default.div(k3||(k3=sn(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-weight: 600;\n  font-size: 1rem;\n"]))),g5=gn.default.div(M3||(M3=sn(["\n  font-size: 11px;\n  color: ",";\n"])),(function(e){return e.theme.colors.neutral[3]})),m5=gn.default.div(R3||(R3=sn(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n"]))),y5=(gn.default.button(U3||(U3=sn(["\n  background-color: ",";\n  border: none;\n  font-size: 13px;\n  padding: 4px 5px;\n  border-radius: 5px;\n"])),(function(e){return e.theme.colors.yellow[3]})),gn.default.div(F3||(F3=sn(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 10px;\n  border: ",";\n  border-radius: 10px;\n  margin-top: 10px;\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.yellow[3])}))),b5=gn.default.div(O3||(O3=sn(["\n  font-size: 1rem;\n"]))),w5=gn.default.div(P3||(P3=sn(["\n  display: flex;\n  justify-content: space-between;\n"]))),x5=gn.default.section(D3||(D3=sn(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 40%;\n"]))),_5=gn.default.div(L3||(L3=sn(["\n  font-weight: 600;\n  font-size: 14px;\n"]))),C5=gn.default.div(N3||(N3=sn(["\n  padding: 7px 4px;\n  font-size: 0.8rem;\n  background-color: ",";\n  border-radius: 5px;\n  width: 55px;\n"])),(function(e){return e.theme.colors.neutral[1]})),E5=gn.default.div(Q3||(Q3=sn(["\n  margin-top: 20px;\n  margin-bottom: 20px;\n  color: #777474;\n  font-size: 0.9rem;\n"]))),S5=gn.default.div(H3||(H3=sn(["\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  margin-bottom: 20px;\n"]))),B5=gn.default.div(j3||(j3=sn(["\n  display: flex;\n  gap: 7px;\n  align-items: center;\n"]))),T5=gn.default.div(z3||(z3=sn(["\n  display: flex;\n  justify-content: center;\n  border-radius: 5px;\n  align-items: center;\n  font-size: 0.9rem;\n  padding: 4px 7px;\n  width: 55px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.yellow[3]})),I5=gn.default.div(G3||(G3=sn(["\n  font-size: 0.9rem;\n"]))),k5=gn.default.div(V3||(V3=sn(["\n  display: flex;\n  gap: 8px;\n  margin-bottom: 20px;\n"]))),M5=gn.default.div(W3||(W3=sn(["\n  font-size: 0.9rem;\n  color: ",";\n"])),(function(e){return e.theme.colors.neutral[3]})),R5=gn.default.div(K3||(K3=sn(["\n  font-size: 0.9rem;\n  color: ",";\n"])),(function(e){return e.theme.colors.neutral[0]})),U5=gn.default.div(X3||(X3=sn(["\n  height: 1px;\n  width: 100%;\n  background-color: ",";\n  margin-bottom: 20px;\n"])),(function(e){return e.theme.colors.neutral[2]})),F5=gn.default.div(q3||(q3=sn([""]))),O5=gn.default.div(Y3||(Y3=sn(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n"]))),P5=gn.default.div(Z3||(Z3=sn(["\n  background-color: green;\n  width: calc(50% - 10px);\n  height: ",";\n  border-radius: 10px;\n  overflow: hidden;\n"])),(function(e){var t=e.$heights;return"".concat(t/2-30,"px")})),D5=gn.default.img(J3||(J3=sn(["\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n"]))),L5=gn.default.div($3||($3=sn(["\n  font-size: 17px;\n  color: 'black';\n  margin-bottom: 10px;\n"]))),N5=gn.default.div(e5||(e5=sn(["\n  padding-bottom: 40px;\n"]))),Q5=gn.default.div(t5||(t5=sn(["\n  display: flex;\n  position: relative;\n"]))),H5=gn.default.div(n5||(n5=sn(["\n  display: flex;\n  position: absolute;\n  bottom: 40px;\n  width: 100%;\n  padding-bottom: 8px;\n  padding-left: 15px;\n  padding-right: 15px;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: 8px;\n  height: 12%;\n  background-color: #000000b3;\n"]))),j5=gn.default.div(r5||(r5=sn(["\n  display: flex;\n  gap: 10px;\n"]))),z5=gn.default.div(i5||(i5=sn(["\n  color: white;\n  font-size: 0.9rem;\n"]))),G5=gn.default.button(c5||(c5=sn(["\n  border: ",";\n  font-size: 0.9rem;\n  white-space: nowrap;\n  background-color: ",";\n  border-radius: 5px;\n  width: ",";\n  height: ",";\n  display: flex;\n  font-weight: ",";\n  cursor: ",";\n  justify-content: ",";\n  align-items: center;\n"])),(function(e){var t=e.theme;return"#FFFFFF"===e.color?"1px solid ".concat(t.colors.yellow[3]):"none"}),(function(e){return e.color}),(function(e){var t=e.width;return t.includes("%")?t:"".concat(t,"px")}),(function(e){var t=e.height;return"".concat(t,"px")}),(function(e){return"true"===e.bold?600:400}),(function(e){var t=e.$isclick,n=e.value;return"true"!==t||n?"auto":"pointer"}),(function(e){return"true"===e.center?"center":"flex-start"})),V5=gn.default.input(A5||(A5=sn(["\n  width: 100%;\n  border: none;\n  background-color: transparent;\n  outline: none;\n"]))),W5=function(e){var t=e.onClick,n=e.onChange,r=e.text,i=e.value,a=e.disabled,o=e.width,s=e.height,u=e.color,l=e.placeholder,c=e.center,A=e.bold;return(0,mn.jsx)(G5,{$isclick:t?"true":"false",value:i&&i,onClick:t,width:o,height:s,color:u,center:c.toString(),bold:null===A||void 0===A?void 0:A.toString(),children:n?(0,mn.jsx)(V5,{value:i||"",disabled:a,onChange:n,placeholder:l&&l}):r})},K5=gn.default.div(f5||(f5=sn(["\n  display: inline-block;\n  width: 24px;\n  height: 12px;\n  background-color: ",";\n  border-radius: 15px;\n  position: relative;\n  cursor: pointer;\n  &.active {\n    background-color: ",";\n  }\n  &:before {\n    content: '';\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border-radius: 50%;\n    top: 1px;\n    left: 1px;\n    transition: 0.3s;\n  }\n\n  &.active:before {\n    background-color: ",";\n    transform: translateX(12px);\n  }\n"])),(function(e){return e.theme.colors.neutral[1]}),(function(e){return e.theme.colors.yellow[3]}),(function(e){return e.theme.colors.neutral[0]}),(function(e){return e.theme.colors.yellow[0]})),X5=function(e){var t=e.isActive,n=e.setIsActive;return(0,mn.jsx)(K5,{className:t?"active":"",onClick:function(){n(!t)}})},q5="AUTUMN",Y5="SPRING",Z5="SUMMER",J5="WINTER",$5="BOY",e4="GIRL",t4="BABY",n4="ACCESSORY",r4="BOTTOM",i4="ETC",a4="OUTER",o4="SHOES",s4="TOP";var u4,l4,c4,A4,f4,d4,h4,p4,v4,g4,m4,y4,b4,w4,x4,_4,C4,E4=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){if(r.result instanceof ArrayBuffer){var i=new Blob([r.result],{type:e.type});t(i)}else n(new Error("\ud30c\uc77c\uc744 Blob\uc73c\ub85c \ubcc0\ud658\ud558\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd"))},r.onerror=n,r.readAsArrayBuffer(e)}))};function S4(){var e=(0,gn.useTheme)(),t=l((0,n.useState)([]),2),r=t[0],i=t[1],a=l((0,n.useState)([]),2),o=a[0],s=a[1],u=l((0,n.useState)([]),2),c=u[0],A=u[1],f=l((0,n.useState)(!1),2),d=f[0],h=f[1],p=l((0,n.useState)(),2),v=p[0],g=p[1],m=l((0,n.useState)(),2),y=m[0],b=m[1],w=l((0,n.useState)(),2),_=w[0],E=w[1],S=l((0,n.useState)(),2),B=S[0],T=S[1],I=l((0,n.useState)(),2),R=I[0],U=I[1],F=l((0,n.useState)(),2),O=F[0],P=F[1],D=l((0,n.useState)([{brand:"",description:"",link:""}]),2),L=D[0],N=D[1],Q=function(){var e=Sf();return zf((function(e){return Dh.postDailyLook(e)}),{onSuccess:function(){e.invalidateQueries(["dailylook-list"])}})}().mutateAsync,H=Et(),j=function(){N([].concat(M(L),[{brand:"",description:"",link:""}]))},z=function(){var e=C(x().mark((function e(){var t,n,i,a,s,u,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new FormData,n=k(c),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=18;break}return a=i.value,e.prev=6,e.next=9,E4(a);case 9:s=e.sent,t.append("images",s,a.name),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.error("\ubcc0\ud658 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e.t0);case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),n.e(e.t1);case 23:return e.prev=23,n.f(),e.finish(23);case 26:return u={age:_||0,category:r[0],description:y,hashTag:(null===O||void 0===O?void 0:O.split("#").slice(1).map((function(e){return"#"+e})))||[],height:B||0,purchaseInfos:M(L.map((function(e){return{brand:e.brand,description:e.description,link:e.link}}))),season:o[0],sex:u5(v)||"",userId:0,weight:R||0},l=JSON.stringify(u),t.append("req",l),e.prev=29,e.next=32,Q(t);case 32:H(-1),e.next=38;break;case 35:e.prev=35,e.t2=e.catch(29),e.t2 instanceof Error&&(console.error(e.t2.message),alert(e.t2.message.toString()));case 38:case"end":return e.stop()}}),e,null,[[2,20,23,26],[6,13],[29,35]])})));return function(){return e.apply(this,arguments)}}(),G=function(e,t,n){var r=M(L);r[e][t]=n,N(r)};return(0,mn.jsxs)(q4,{children:[(0,mn.jsx)(s$,{maxImages:5,images:c,setImages:A}),(0,mn.jsxs)(Y4,{children:[(0,mn.jsxs)(e6,{children:[(0,mn.jsx)(Z4,{children:"\ub0b4 \uc544\uc774 \uc815\ubcf4 \uc0ac\uc6a9"}),(0,mn.jsx)(X5,{isActive:d,setIsActive:h})]}),(0,mn.jsxs)(J4,{children:[(0,mn.jsxs)($4,{children:[(0,mn.jsxs)(n6,{children:[(0,mn.jsx)(o6,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(t6,{children:"\uc131\ubcc4"})]}),(0,mn.jsx)(W5,{color:d?e.colors.neutral[1]:e.colors.neutral[0],disabled:d,height:"26",text:"\ub0a8",width:"55",placeholder:"\ub0a8",onClick:function(){},value:v,onChange:function(e){g(e.target.value)},center:!1})]}),(0,mn.jsxs)($4,{children:[(0,mn.jsxs)(n6,{children:[(0,mn.jsx)(o6,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(t6,{children:"\ub098\uc774"})]}),(0,mn.jsx)(W5,{color:d?e.colors.neutral[1]:e.colors.neutral[0],disabled:d,value:null===_||void 0===_?void 0:_.toString(),height:"26",text:"9\uc138",width:"55",placeholder:"9",onClick:function(){},center:!1,onChange:function(e){return E(Number(e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1")))}})]})]}),(0,mn.jsxs)(J4,{children:[(0,mn.jsxs)($4,{children:[(0,mn.jsxs)(n6,{children:[(0,mn.jsx)(o6,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(t6,{children:"\ud0a4"})]}),(0,mn.jsx)(W5,{color:d?e.colors.neutral[1]:e.colors.neutral[0],disabled:d,height:"26",text:"120cm",width:"55",placeholder:"120",onClick:function(){},center:!1,value:null===B||void 0===B?void 0:B.toString(),onChange:function(e){return T(Number(e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1")))}})]}),(0,mn.jsxs)($4,{children:[(0,mn.jsxs)(n6,{children:[(0,mn.jsx)(o6,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(t6,{children:"\ubab8\ubb34\uac8c"})]}),(0,mn.jsx)(W5,{color:d?e.colors.neutral[1]:e.colors.neutral[0],disabled:d,height:"26",text:"31kg",width:"55",placeholder:"31",onClick:function(){},center:!1,value:null===R||void 0===R?void 0:R.toString(),onChange:function(e){return U(Number(e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1")))}})]})]})]}),(0,mn.jsxs)(i6,{children:[(0,mn.jsx)(r6,{children:(0,mn.jsxs)(n6,{children:[(0,mn.jsx)(o6,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(t6,{children:"\uce74\ud14c\uace0\ub9ac"})]})}),(0,mn.jsxs)(s6,{children:[(0,mn.jsx)(W5,{color:r.includes(s4)?e.colors.yellow[2]:e.colors.neutral[1],height:"20",text:"\uc0c1\uc758",width:"55",onClick:function(){r.includes(s4)||i([].concat(M(r),[s4])),r.includes(s4)&&i(r.filter((function(e){return e!==s4})))},center:!0}),(0,mn.jsx)(W5,{color:r.includes(r4)?e.colors.yellow[2]:e.colors.neutral[1],height:"20",text:"\ud558\uc758",width:"55",onClick:function(){r.includes(r4)||i([].concat(M(r),[r4])),r.includes(r4)&&i(r.filter((function(e){return e!==r4})))},center:!0}),(0,mn.jsx)(W5,{color:r.includes(a4)?e.colors.yellow[2]:e.colors.neutral[1],height:"20",text:"\uc544\uc6b0\ud130",width:"55",onClick:function(){r.includes(a4)||i([].concat(M(r),[a4])),r.includes(a4)&&i(r.filter((function(e){return e!==a4})))},center:!0}),(0,mn.jsx)(W5,{color:r.includes(n4)?e.colors.yellow[2]:e.colors.neutral[1],height:"20",text:"\uc545\uc138\uc0ac\ub9ac",width:"55",onClick:function(){r.includes(n4)||i([].concat(M(r),[n4])),r.includes(n4)&&i(r.filter((function(e){return e!==n4})))},center:!0}),(0,mn.jsx)(W5,{color:r.includes(o4)?e.colors.yellow[2]:e.colors.neutral[1],height:"20",text:"\uc2e0\ubc1c",width:"55",onClick:function(){r.includes(o4)||i([].concat(M(r),[o4])),r.includes(o4)&&i(r.filter((function(e){return e!==o4})))},center:!0}),(0,mn.jsx)(W5,{color:r.includes(i4)?e.colors.yellow[2]:e.colors.neutral[1],height:"20",text:"\uae30\ud0c0",width:"55",onClick:function(){r.includes(i4)||i([].concat(M(r),[i4])),r.includes(i4)&&i(r.filter((function(e){return e!==i4})))},center:!0})]})]}),(0,mn.jsxs)(i6,{children:[(0,mn.jsx)(r6,{children:(0,mn.jsxs)(n6,{children:[(0,mn.jsx)(o6,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(t6,{children:"\uacc4\uc808"})]})}),(0,mn.jsxs)(s6,{children:[(0,mn.jsx)(W5,{color:o.includes(Y5)?e.colors.yellow[2]:e.colors.neutral[1],height:"20",text:"\ubd04",width:"55",onClick:function(){o.includes(Y5)||s([].concat(M(o),[Y5])),o.includes(Y5)&&s(o.filter((function(e){return e!==Y5})))},center:!0}),(0,mn.jsx)(W5,{color:o.includes(Z5)?e.colors.yellow[2]:e.colors.neutral[1],height:"20",text:"\uc5ec\ub984",width:"55",onClick:function(){o.includes(Z5)||s([].concat(M(o),[Z5])),o.includes(Z5)&&s(o.filter((function(e){return e!==Z5})))},center:!0}),(0,mn.jsx)(W5,{color:o.includes(q5)?e.colors.yellow[2]:e.colors.neutral[1],height:"20",text:"\uac00\uc744",width:"55",onClick:function(){o.includes(q5)||s([].concat(M(o),[q5])),o.includes(q5)&&s(o.filter((function(e){return e!==q5})))},center:!0}),(0,mn.jsx)(W5,{color:o.includes(J5)?e.colors.yellow[2]:e.colors.neutral[1],height:"20",text:"\uaca8\uc6b8",width:"55",onClick:function(){o.includes(J5)||s([].concat(M(o),[J5])),o.includes(J5)&&s(o.filter((function(e){return e!==J5})))},center:!0})]})]}),(0,mn.jsxs)(i6,{children:[(0,mn.jsx)(r6,{children:(0,mn.jsxs)(n6,{children:[(0,mn.jsx)(o6,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(t6,{children:"\uc124\uba85"})]})}),(0,mn.jsx)(l6,{placeholder:"\ucf54\ub514 \uc124\uba85, \uad6c\ub9e4 \uafc0\ud301 ex) \uc5b4\ub5a4 \uc0ac\uc774\uc988\ub97c \uad6c\ub9e4\ud558\uc168\ub098\uc694?",onChange:function(e){return b(e.target.value)}})]}),(0,mn.jsxs)(a6,{children:[(0,mn.jsx)(r6,{children:(0,mn.jsx)(n6,{children:(0,mn.jsx)(t6,{children:"\uad6c\ub9e4\uc815\ubcf4"})})}),L.map((function(t,n){return(0,mn.jsxs)(s6,{children:[(0,mn.jsxs)(u6,{children:[(0,mn.jsx)(W5,{color:e.colors.neutral[0],height:"26",width:"25%",placeholder:"\uc124\uba85",center:!1,value:t.description,onChange:function(e){G(n,"description",e.target.value)}}),(0,mn.jsx)(W5,{color:e.colors.neutral[0],height:"26",width:"25%",placeholder:"\ube0c\ub79c\ub4dc",center:!1,value:t.brand,onChange:function(e){return G(n,"brand",e.target.value)}}),(0,mn.jsx)(W5,{color:e.colors.neutral[0],height:"26",width:"45%",placeholder:"\uad6c\ub9e4\ub9c1\ud06c",center:!1,value:t.link,onChange:function(e){return G(n,"link",e.target.value)}})]}),(0,mn.jsx)(c6,{onClick:function(){return function(e){var t=M(L);t.splice(e,1),N(t)}(n)},children:(0,mn.jsx)(Mn,{})}),(0,mn.jsx)(c6,{onClick:j,children:(0,mn.jsx)(Rn,{})})]},n)}))]}),(0,mn.jsxs)(i6,{children:[(0,mn.jsx)(r6,{children:(0,mn.jsx)(n6,{children:(0,mn.jsx)(t6,{children:"\ud0dc\uadf8"})})}),(0,mn.jsx)(s6,{children:(0,mn.jsx)(W5,{color:e.colors.neutral[0],height:"26",width:"100%",placeholder:"\ucd94\uac00\ud558\uace0\uc2f6\uc740 \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",center:!1,value:O,onChange:function(e){return P(e.target.value)}})})]}),(0,mn.jsx)(A6,{children:(0,mn.jsx)(W5,{color:e.colors.green[300],height:"30",text:"\uae00 \ub4f1\ub85d",width:"60",onClick:z,center:!0,bold:!0})})]})}var B4,T4,I4,k4,M4,R4,U4,F4,O4,P4,D4,L4,N4,Q4,H4,j4,z4,G4,V4,W4,K4,X4,q4=gn.styled.div(u4||(u4=sn(["\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n"]))),Y4=gn.styled.div(l4||(l4=sn(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  border: ",";\n  border-radius: 10px;\n  margin-top: 10px;\n  margin-bottom: 20px;\n  gap: 10px;\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.yellow[3])})),Z4=gn.styled.div(c4||(c4=sn(["\n  font-size: 1rem;\n  display: flex;\n"]))),J4=gn.styled.div(A4||(A4=sn(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 5px;\n"]))),$4=gn.styled.section(f4||(f4=sn(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 40%;\n"]))),e6=gn.styled.div(d4||(d4=sn(["\n  display: flex;\n  gap: 5px;\n  align-items: center;\n  justify-content: flex-end;\n"]))),t6=gn.styled.div(h4||(h4=sn(["\n  font-weight: 600;\n  font-size: 0.9rem;\n"]))),n6=gn.styled.div(p4||(p4=sn(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n"]))),r6=gn.styled.div(v4||(v4=sn(["\n  display: flex;\n  margin-bottom: 5px;\n"]))),i6=gn.styled.div(g4||(g4=sn(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n"]))),a6=gn.styled.div(m4||(m4=sn(["\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  margin-bottom: 20px;\n"]))),o6=gn.styled.div(y4||(y4=sn(["\n  position: absolute;\n  top: -15px;\n  right: -8px;\n"]))),s6=gn.styled.div(b4||(b4=sn(["\n  display: flex;\n  gap: 7px;\n"]))),u6=gn.styled.div(w4||(w4=sn(["\n  display: flex;\n  gap: 7px;\n"]))),l6=gn.styled.textarea(x4||(x4=sn(["\n  width: 100%;\n  height: 20vh;\n  resize: none;\n  border: ",";\n  padding: 7px;\n  font-size: 0.9rem;\n  border-radius: 5px;\n  outline-color: ",";\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.yellow[3])}),(function(e){return e.theme.colors.yellow[3]})),c6=gn.styled.button(_4||(_4=sn(["\n  border: none;\n  background-color: white;\n  padding: 0;\n  margin: 0;\n  cursor: pointer;\n"]))),A6=gn.styled.div(C4||(C4=sn(["\n  margin-top: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),f6=gn.default.article(B4||(B4=sn(["\n  display: flex;\n  position: relative;\n  height: ",";\n  max-height: max-content;\n  width: 100%;\n  border: ",";\n  border-radius: 10px;\n  overflow: hidden;\n"])),(function(e){var t=e.imageheight;return t?"".concat(t,"px"):"335px"}),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.grey[5])})),d6=gn.default.img(T4||(T4=sn(["\n  object-fit: fill;\n  width: 100%;\n"]))),h6=gn.default.div(I4||(I4=sn(["\n  display: flex;\n  width: 100%;\n"]))),p6=function(){var e=l((0,n.useState)(0),2),t=e[0],r=e[1],i=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e=i.current,n=function(){if(e){var t=e.offsetWidth;r(t)}};return 0===t&&n(),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]),(0,mn.jsx)(f6,{imageheight:t,ref:i,children:(0,mn.jsx)(h6,{children:(0,mn.jsx)(d6,{alt:"\ub370\uc77c\ub9ac\ub8e9 \uc774\ubbf8\uc9c0",loading:"lazy",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/\r 2wCEAAoHCBYWFRgVFRYYGBgaGhgYGBoaGhgYGhgYGBgZGRgYGBgcIS4lHB4rIR\r gYJjgmKy8xNTU1GiQ7QDs0Py40NTEBDAwMEA8QGhISHjQhISE0NDQ0NDQ0NDQ0N\r DQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDE0NDQ0NDQ0NDQ0NDE0MTQxMf/AABEIALEBH\r AMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAACAAEDBAUGB//EADUQAAIBAg\r MFBwMDBAMBAAAAAAABAgMRBCExBRJBUWEGInGBkbHwE6HBMtHhFBVC8VJysiP/xA\r AZAQADAQEBAAAAAAAAAAAAAAAAAQIDBAX/xAAhEQEBAQEAAgIDAQEBAAAAAAAAAQIR\r AxIhMQRBUSJhE//aAAwDAQACEQMRAD8A42wkOMJucewkOyQVhxCAEIZBXAGEIQA6Qc\r abfAubOwm87NHSYbZcEu8rme/NnP20zi6cthsLKT0NOnsZ8Tp8NgYrOMUS/QZy6/K/\r jXPh/rm1sZO9yWjsJbyzyNLENxuRYfFd6xnPPppfDOIV2cWf2KuN2M4qTSzf2zX8n\r WQnkNJp3K/99M/R59PZM00raq/h0LNPYkrXfzI7KUFyI3Yd/J0c8McbPZMr6aZv9i\r lUwzVsuGfud5OmrFepgoS4IrP5P9F8P8cLKjLl8RG4M7xbOhy6FXG7DhLTJmmfyc37\r Z3xWOMaGNLFbOnD/AB6FaOHfHhqdE1Ky4rCJ5UnyZEo8FqV0cMwbBgsRBEOxigQhCQ\r AQgUwgFCxCYgBxXGESBXEmMOgAhCEAMyShTu/wRo19hYVSnd6LMW9TObVZnbxubNwa\r hFSas2jUw2bzKWKrW0IsPiszyt6ur13YxyOljFLNEFaskndozv7jYz605zT5dSOdVn\r P9WsVWUvYgwuH7135EeGovVl2L9R84q39RchMdVCvCTE5iqOJpTA3iv9Qkjdgrg5yG\r UyOQ6eQxxLGZNBlXeJITEVi46MZLNIysZs6m28rGhCZRx0msy871PpnMS35ZOJ2OrX\r g+Gn8mLicK4J5O/XkdbRmgq+GjNWaXQ3x+RZ8aRvw/xwbRGzosfsfcTkzAqRsduNzU\r 7HNrNn2jEKwmaJIQhgB0EAPcBSYhwZSAHCQMRyQQ4hMAdBMBMe4A8VfI6rZWDUIb2d\r 2jB2RT3qkVwvn5HWV9Mjl/I3yerfwZ7eqWKncowlLRX8i1VfAmjeMMmn5L3OWO3vFZ\r STynJrw18y1Gusox068SnDDOT7y4/LmlRopINchWjg2SxkNYfcuZ0C3hIjlCwcGBj3\r USwRCpB72YFTzQkshlmw20BIJZZv0EpksolepGzuBrMag2ISkivGZJGdwTUNCkW7EL\r lu66E0aqtdE6X3p501OO7I4fa+GcJta9TtlUVzG7QqPJaHV+NqzXHN5s/HXJDElRq+\r SI5TPQchMEFyBcigkuK5HvDpgKmkyIObAYAcWEmBEMkDGaEhwALCYUgbAGv2emlO3E\r 6CvLmc1sOVqnPI6aGHcn0OL8if6dXgvIpTpOTyLVPBv/AC0NOnSihpx5M5rpv7dVow\r SyHVuA84v4wd0npjSHbAl4eY1uen3XJgot5BuRC55/MwXVtn6efQOBLv5/Odhb1s+J\r FKovD/eYovNZ6XuPgWU7Lm/moUSpGqpfi2n8hKfAVhcWVIinASdskGqgBVnG2iHhPr\r 90TzjfgRKLv+n7jhJm4tWdvcp1KjhlquBbhbw8yhtODtdXfPIcnfgS8PDF3Zj9o8XF\r TSfItYe9+JxfaPGSnVk72SyXlyOr8Xx90x8+v8p54yPMhnjEYzbCSPS9I42n/VoX9V\r czbE1EVzAvqbZPTpuwOHL0HkZ2nYrtgsjeIRHPFRHyktwZImZqxyFLaKH60NLeHUjI\r e0gZbSD1obEpAb65mLPaDZC8XIqeOh3XZyovqpZN5ncKnZHB9gtn1HNVZq0bO1+p6M\r 4HmflT/Tfx6+FSNPO4NZdC7uWK9eBy1tL2qLRHu3CnO2QMZg1DNWXuBFrW5K2iGq1H\r P9vtkCgTn58uD9PQjnUyssny/cgnW626W+w3023eOd9Vfh7IuZCda5XWWb1t8zChDV\r J/vzs/UBrLklrw58h4Sjeyi7LjfXXR88kgB9NbX/gKM7c3w/0JK+dvNNWXLrcD4r8+\r tl9xBYhbj6X/AAHez09it9RLVPx19skSwm9dejXtYXAnjN8fcOcGwKduWfRe5PGfQS\r ajjHmNOnkTLxJN264D6isGaUVJ8r6/uebbQq705PjdnpnaG1OjOeuXueV1q2872PS/\r Dz96c/m1+gJBIFMJSO5gceLGTE0INHDVi/CpkYEJtF2hVdjO5O1m1JPefi/cBtl+jh\r 022+b9wcTQsa+07wlG46i2JI1dn0FIetcgZbi0SYXDynJRjqbtTZLnojT7O7DlGd2j\r LXmkz39nwWyuxO+k5tnRYbsTTi13TqtmUFFLIvOSucOvNq37VyKtLBRpwUYpIJIsy7\r xFBGG/lWaFxKuIRdkinXjrmY1rlj4mmVnUs7WsXMTO2iMerWk3ll1DM66I0JVLLh5/\r Myhi8Xk88+SH+m3nJ/chnOnDV38Fc0zhN1Ix6tSd3JviaWGxKilva6pfllatioTaSX\r G2eWZI6UZLLLp0Nbn4+YJrq3HFZPdeb4Xul4L8DYevvN9eaXO/8mS4NXtfl6FvDPca\r vp9+r6k3MPrYjLRWu1lz8yeKy5PjbkU44qOST1te/rl9vQszxUdU+H5+5lZR0NSPO3\r iv3C3HzyIJ1k2rO3TKwdOpbX14fwLlV1ZhPyaDjPn89CJ5/wC/lxlFX+exPAswl81+\r 5cpq5Rw5p0o3QmerxzPbyuo4ZxvnJpWPLY0zte2mJdStuK+7D0b5mDDCnrfj/wCMSf\r 1x7vazY4dkscIzXp4XoXaeFNL5anjChgmWYbP6G5DDdCzTw3Qzvkp8YdPZfQsf2tG7\r DDvkPVpPlwIvktKxx+HwzuWZ7OckXadSKLMMVFci7rXTkYsNgNm1szYe6Sw2hBcUTx\r 2zBcUTrW6Phu4PZsFyNbD4SK0RyuG24pSUIZyeiR2ezsPJRTnqzn3LPtXf4s0oeRYh\r SiBYZsy9ofKsbi4FW1mx/qAOpcLewScKbKdZ8EW5u40aaMdNc3jLlhb5shls9X0NxU\r 0VqtJphFTVecdr3OEklJpZteV/2OR+rKf66s0vOV81luprhd+R6j2h2aqkbpd5Xt58\r LHm+K2PVg2t2/J3s/NM9P8bWPXn7Z+Wa6q4Kq4yUbtq/vl+F9zdeL3ZLelZLK/kZ+G\r wcaS362vCKf/pkmBnN71Tdvd/LL5oaeTl+T8fY3qqTXPLho/S48INq/X7aFOdfeeUJ\r dcnbyuamzaTfPzy8nY5NTjaBw9PevnxJKtWMI5tJdbGJtWrOFWVnZOzyvbqU8fCcqK\r qubaeSz0V7FZ8Pty9+KnXk9W4tow/xehPQ2ipf5ZrTP7Hn13fJs6XY2zJO0pJl+TwZ\r zO9TnyXTqKeN3tPRe6LsJ73zO5nU8Hu8MzRwtCT1Rxak/TX2XMPY16UlYqYbB6ZGtR\r wnQzk+We9Ry+2Oz0Jtzjrx6mRDYvQ9Cnh7FKeHVzqz5LzjnsclDY/QsQ2R0OlVFCdM\r q7pcYcNlrkWYbORrKAyiT702fHAorYzBq68Pyzb3CljV3l4flhKTxOeKnd58X7g/Wm\r +LOlp7AbztqWYbAXI775cRElcjeb4svbO2bUqyUY5vkdZQ2Cr6Hcdnuz8KSU7Xk+PI\r y3+RJPhXrZ9qfZjsjCglOXenbXgvA6lUg7j7xw63dXtVID6YEoE1wWI1Guig69maeJ\r jkc7jalnYeYqfLZhNMkdQ5/A7TilaUrGpHEKSvBpi1jgn2tqoKTvxM51WnqWI11zz6\r GfGnBTpJrMwdqYFtpQtd+GXU1sTXa/Tm3w4gUt9vq9X7ly8VOsPD9l01vVHvNPJWjJ\r JdW43LkNmU1nZfOBuVIOK6WORx+3JqbjCKydnKWfor/c0k1oTXGjPCwvfd9idYRNXV\r kY9LbU1+uCl1T3fVGns3a0Kj3N1wn/xfFc0yLjUV7Ri7X2I3ecEnK2V1nfplkcy9nz\r nFw32lfvRysnrk+GZ6s8KtW7nL7WwG5U34q8Zfq5xfPwNfH5bPhGpNMXZvZiEHvSTb\r 65nT4XBJLJdENhK1NLW75czoMBQ3lvPjw5E73rV+SvMz4U8Pszi1maNLZ6RdhTJkjP\r 1/rK6qGlh0izGIosTY5EW2lOCMqvHM1ZPIyq8rvzKEBANRAHXMDFuCUB4thJMAHdKO\r N/UvD8s0NwpY2PeXh+WVCrLp4Vbqy4L2DjhC9Rh3Y+C9iRQCnLxFs/BpzV9FmdHGBm\r 4BWuacRVNvTbg7gGh2TYOokgZhyIakhHFevyOW2zGz3kzpMRO17nK7Vrdyfg2Vj7aZ\r c5XrZsl2ZthwlZyyevExK2K5EGHoVZy7kWdcxLPktV6VTrxmt6LuiaEraI5TY9GtTs\r 5Zx5HU4aonq/nU5d49b8LzrsX8LBWvxZoQprVGPTrqLutOJo08TFrJmfBbUuKinF5H\r knaapJTnCNr72t7OPFNW1+x6jisYlFnm/aHCOpUcoPvP0yva75nT4OS/KL3jPW05Rg\r 3rKMV5yZrdmv8A6zhmpSupytlbp0MHDbOrTut22ed8m7fjI7zsvs76UFd3k3eT4eCX\r Cxr5fWZvPsZ1bXWuNonL7YlKTcba5avQ6iU+7YwtqzhCLnJrLrY4p9tJeOd2RBKtuc\r lo+p6BhcopHk8cVJ1d+CzWadnutcU22k/FL3Oz2f2mgoP6l4SSzTulpqm1n5G+8X7Z\r 3XXWqQ7qLizBqbepxpqpKW7F6X/ZZmdsnainJydSM95uyUk8rtrLhYz9bzpcdfCquY\r 8qhyu0sdeK3I1JtytanGTvzz0XqS/1WJmkqdHdWm9UkopW1uldsJKLI6JYmO68zNpz\r 3nfXPIq4bZVR3U5pJ67vPpfga9LDxirL15/yIfSKKbdiRU/VehI4Z8vyJ/YRIm7aeo\r 6evL3Ct42+cRpJvohgrXzzRm7RvvLw/LNHd8vW5nbQfe04fljyVSUY92PgvYMUF3I+\r C9gm+Awlw07NrzL9OoZFSUo95J/uUFtSpGTvTnu31Sv7C50cdTvilM5z+8Tk7KE3ya\r jJ+uQ9fGVp7u5Cdnr3Wv8A1YXKfq3Z1kitOurNtmUp4ia/Ru/9nb1Aex6so2niLNu9\r oQ06XbzFw+RDtfakYR8dFxfgc3UwlfEvdUZRj6HZw2NSVnJOcl/k3oXYwSskrF516/\r Q64nCdjlF3lmzaw+x1D9KszoUvIFx/3b3C7t+x1ztfZc5N2yXv5lWGx6kc4s6xrOzf\r QSitA9qOuPnhcT/xTXDP8EMoYlK/02/Br8nb7nFaDyp8/EXt/wAP2efzq1Gu9Ge9ya\r eV+SM2vSxEv0Qnqrd1+h6hGCvf8BbmjWX2Lzvn6FvXm+HwmMuk6L87Ry8b+5t4Oli4\r vddFeKnF+p1rhfzHUPUWt9/RS8Zawta2coLwuyP+xQk71G55aNtRXguPmbDjw/0N86\r EdHtaqUNnUoW3YK1raaeBLDCxTUtyPK9k3Yntp8QnxtmHSQRwkFZ7kE/8ArFPPXQkh\r RilZRjFLPRIlkvUSXHiACnZeOi0uKXPToE48wXJLqIyzev2GcL9BL7hX4sCAk+ISXP\r QS1uMpXdwAlms1kA1cKb6jSldZDBoxvmUcfLvLw/LLUp8EUMa3vLw/LHkrFygluR45\r L2DUOaGoQ7kb8lb0DguoUGivMKHReQ6jrkJy6CB4+nt6juT8hl4BWAGfMZv508QmvP\r 5yH3QMDjcThzC+w8UANbx+cxOPEdxGsAPGPH0Gbu8h2JRyAE4jpP8AcSE07WAg6cBW\r JIoZvggAbCig+A1wAZx+4nHMSEtQMhMKw0kANcVuWQrD2ABzHlyHeQzAGtkLxHQziI\r FYUmBKQMmME3bIdKyG3OIMVcDNbiUMa+8vD8s1GihjY95eH5Y4TPofpXgvYKIhGlR+\r hTE9GIQgkpiiMIBTcRCEBiiMxCAFxQ6HEAMxkIQAcR2IQwEQhCBSGQ4gBkOIQALGEI\r AMFiEAISGEAFIZjCAAB4jiADegERCAHZUxmq8PyxCGH//Z"})})})};function v6(e){return e>=10?e.toString():"0".concat(e)}function g6(e){return e instanceof Date?e:new Date(e)}function m6(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=g6(e),r=n.getFullYear(),i=v6(n.getMonth()+1),a=v6(n.getDate());return"\ub144\uc6d4\uc77c"===t?"".concat(r,"\ub144 ").concat(i,"\uc6d4 ").concat(a,"\uc77c"):"/"===t?"".concat(r,"/").concat(i,"/").concat(a):[r,i,a].join(t)}function y6(){var e=l((0,n.useState)(0),2),t=e[0],r=e[1],i=(0,n.useRef)(null),a=(0,gn.useTheme)();return(0,n.useEffect)((function(){var e=function(){var e=i.current;if(e){var t=e.offsetWidth;r(t)}};e(),0===t&&e()}),[]),(0,mn.jsxs)(_6,{ref:i,children:[(0,mn.jsxs)(a5,{children:[(0,mn.jsx)(S6,{children:(0,mn.jsx)(p6,{})}),(0,mn.jsx)(S6,{children:(0,mn.jsx)(p6,{})}),(0,mn.jsx)(S6,{children:(0,mn.jsx)(p6,{})})]}),(0,mn.jsxs)(C6,{children:[(0,mn.jsxs)(B6,{children:[(0,mn.jsxs)(E6,{children:[(0,mn.jsxs)(M6,{children:[(0,mn.jsx)(k6,{src:"https://media.istockphoto.com/id/1289947104/ko/%EB%B2%A1%ED%84%B0/%ED%8E%AD%EA%B7%84-%EB%B2%A1%ED%84%B0-%ED%9D%91%EB%B0%B1-%EA%B7%B8%EB%A6%BC%EC%9E%85%EB%8B%88%EB%8B%A4.jpg?s=1024x1024&w=is&k=20&c=OFS74evp9im4PgUjJKyYxisbGCzCUSIxXQCsfEdU3-I="}),(0,mn.jsxs)(O6,{children:[(0,mn.jsx)(U6,{src:"/img/trust.png"}),(0,mn.jsx)(U6,{src:"/img/excellence.png"})]}),(0,mn.jsx)(R6,{children:"\ub9d8\ub9d8\ub2d8"})]}),(0,mn.jsxs)(P6,{children:[(0,mn.jsx)(D6,{children:"\ubc00\ud06c\uc6e8\uc774 \ub9e8\ud22c\ub9e8"}),(0,mn.jsx)(L6,{children:"\ubc00\ud06c\uc6e8\uc774"}),(0,mn.jsxs)(N6,{children:[d0(8e3),"\uc6d0"]})]})]}),(0,mn.jsxs)(Q6,{children:[(0,mn.jsx)(W5,{color:a.colors.yellow[3],height:"26",text:"\uae00 \ub4f1\ub85d",width:"50",onClick:function(){},center:!0,bold:!0}),(0,mn.jsx)(W5,{color:a.colors.green[300],height:"26",text:"\ud310\ub9e4\uc911",width:"50",onClick:function(){},center:!0,bold:!0})]})]}),(0,mn.jsx)(F6,{}),(0,mn.jsx)(T6,{children:m6(new Date,"-")}),(0,mn.jsxs)(I6,{children:["\uba87 \ubc88 \uc548 \uc785\uc5c8\uc5b4\uc694. ",(0,mn.jsx)("br",{}),"\uae68\ub057\ud558\uac8c \uc138\ud0c1\ud574\uc11c \ub4dc\ub824\uc694~"]}),(0,mn.jsx)(H6,{children:(0,mn.jsx)(W5,{color:a.colors.green[300],height:"30",text:"\ucc44\ud305\ud558\uae30",width:"60",onClick:function(){},center:!0,bold:!0})})]})]})}var b6,w6,x6,_6=gn.default.div(k4||(k4=sn(["\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),C6=gn.default.div(M4||(M4=sn(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),E6=gn.default.div(R4||(R4=sn(["\n  display: flex;\n  align-items: flex-end;\n"]))),S6=gn.default.div(U4||(U4=sn(["\n  padding-bottom: 35px;\n"]))),B6=gn.default.div(F4||(F4=sn(["\n  width: 100%;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  display: flex;\n  align-items: flex-end;\n"]))),T6=gn.default.div(O4||(O4=sn(["\n  display: flex;\n  justify-content: flex-end;\n  font-size: 8px;\n  color: ",";\n  margin-top: 5px;\n"])),(function(e){return e.theme.colors.neutral[3]})),I6=gn.default.div(P4||(P4=sn(["\n  font-size: 0.9rem;\n  color: ",";\n  width: 100%;\n  margin-top: 3px;\n"])),(function(e){return e.theme.colors.neutral[3]})),k6=gn.default.img(D4||(D4=sn(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: -1;\n"]))),M6=gn.default.div(L4||(L4=sn(["\n  width: 15%;\n  height: 15%;\n  border-radius: 5px;\n  overflow: hidden;\n  position: relative;\n"]))),R6=gn.default.div(N4||(N4=sn(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  font-size: 10px;\n  bottom: 0;\n  width: 100%;\n  height: 30%;\n  color: white;\n  background-color: #000000b3;\n"]))),U6=gn.default.img(Q4||(Q4=sn(["\n  width: 100%;\n"]))),F6=gn.default.div(H4||(H4=sn(["\n  height: 1px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.neutral[2]})),O6=gn.default.div(j4||(j4=sn(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 70%;\n  width: 30%;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n"]))),P6=gn.default.div(z4||(z4=sn(["\n  margin-left: 10px;\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  justify-content: flex-start;\n"]))),D6=gn.default.div(G4||(G4=sn(["\n  color: black;\n  font-size: 10px;\n  font-weight: 600;\n"]))),L6=gn.default.div(V4||(V4=sn(["\n  font-size: 8px;\n  font-weight: 600;\n  color: ",";\n"])),(function(e){return e.theme.colors.neutral[3]})),N6=gn.default.div(W4||(W4=sn(["\n  color: black;\n  font-size: 8px;\n  font-weight: 600;\n"]))),Q6=gn.default.div(K4||(K4=sn(["\n  display: flex;\n  gap: 7px;\n"]))),H6=gn.default.div(X4||(X4=sn(["\n  margin-top: 20px;\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  text-align: center;\n  align-items: center;\n"]))),j6=__webpack_require__(512),z6=__webpack_require__.n(j6),G6=["title","titleId"];function V6(){return V6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V6.apply(this,arguments)}function W6(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K6(e,t){var r=e.title,i=e.titleId,a=W6(e,G6);return n.createElement("svg",V6({width:48,height:35,viewBox:"0 0 48 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,b6||(b6=n.createElement("path",{d:"M7.125 28.9625V25.647H8.056V34.463H7.125V29.827H6.004V34.2825H5.1015V25.78H6.004V28.9625H7.125ZM1.4725 28.6775H3.2585V26.2075H4.1325V33.038H0.608V26.2075H1.4725V28.6775ZM1.4725 29.5325V32.1735H3.2585V29.5325H1.4725ZM13.9863 27.756C13.5113 28.953 12.232 29.8777 10.1483 30.53L9.7873 29.6845C10.8323 29.3678 11.6556 28.972 12.2573 28.497C12.859 28.022 13.1851 27.5153 13.2358 26.977H9.9868V26.1125H14.1953V26.6065C14.1953 26.6952 14.189 26.8218 14.1763 26.9865H15.9813V25.647H16.9218V30.454H15.9813V29.4565H13.9768V28.687H15.9813V27.756H13.9863ZM14.9363 30.9195C15.3543 30.9195 15.7216 30.9987 16.0383 31.157C16.3613 31.309 16.6083 31.5243 16.7793 31.803C16.9566 32.0753 17.0453 32.3857 17.0453 32.734C17.0453 33.0887 16.9566 33.4022 16.7793 33.6745C16.6083 33.9532 16.3613 34.1685 16.0383 34.3205C15.7216 34.4788 15.3543 34.558 14.9363 34.558H13.0078C12.5898 34.558 12.2225 34.4788 11.9058 34.3205C11.5891 34.1685 11.3421 33.9532 11.1648 33.6745C10.9938 33.4022 10.9083 33.0887 10.9083 32.734C10.9083 32.3857 10.9938 32.0753 11.1648 31.803C11.3421 31.5243 11.5891 31.309 11.9058 31.157C12.2225 30.9987 12.5898 30.9195 13.0078 30.9195H14.9363ZM14.7843 33.703C15.2086 33.703 15.5316 33.6143 15.7533 33.437C15.9813 33.2597 16.0953 33.0253 16.0953 32.734C16.0953 32.4427 15.9813 32.2083 15.7533 32.031C15.5316 31.8537 15.2086 31.765 14.7843 31.765H13.1693C12.745 31.765 12.4188 31.8537 12.1908 32.031C11.9691 32.2083 11.8583 32.4427 11.8583 32.734C11.8583 33.0253 11.9691 33.2597 12.1908 33.437C12.4188 33.6143 12.745 33.703 13.1693 33.703H14.7843ZM27.4702 34.463V25.647H28.3917V34.463H27.4702ZM24.1547 28.8675H25.5607V25.78H26.4632V34.2825H25.5607V29.732H24.1547V28.8675ZM23.2427 27.68C23.2427 28.307 23.1794 28.9277 23.0527 29.542L25.0477 32.639L24.2972 33.1615L22.7202 30.7105C22.4225 31.5465 21.957 32.3952 21.3237 33.2565L20.6017 32.696C21.197 31.9043 21.6404 31.1095 21.9317 30.3115C22.223 29.5135 22.3687 28.6363 22.3687 27.68V27.205H20.9152V26.3405H24.7532V27.205H23.2427V27.68ZM36.3265 25.647H37.267V34.463H36.3265V30.0075H33.8755C33.5462 30.6535 33.1123 31.2647 32.574 31.841C32.0357 32.411 31.4055 32.9335 30.6835 33.4085L30.1135 32.658C31.2345 31.9423 32.0958 31.1095 32.6975 30.1595C33.3055 29.2095 33.6095 28.2595 33.6095 27.3095V27.205H30.3035V26.3405H34.5595V27.1195C34.5595 27.8162 34.4487 28.4907 34.227 29.143H36.3265V25.647ZM44.7458 29.789H47.0068V30.606H38.7228V29.789H40.9933V28.82C40.5816 28.706 40.2618 28.5255 40.0338 28.2785C39.8058 28.0315 39.6918 27.7212 39.6918 27.3475C39.6918 26.8218 39.9135 26.4228 40.3568 26.1505C40.8001 25.8782 41.405 25.742 42.1713 25.742H43.5583C44.3247 25.742 44.9295 25.8782 45.3728 26.1505C45.8162 26.4228 46.0378 26.8218 46.0378 27.3475C46.0378 27.7212 45.9238 28.0315 45.6958 28.2785C45.4742 28.5255 45.1575 28.706 44.7458 28.82V29.789ZM40.6418 27.357C40.6418 27.623 40.7875 27.8257 41.0788 27.965C41.3701 28.1043 41.7913 28.174 42.3423 28.174H43.3968C43.9415 28.174 44.3595 28.1043 44.6508 27.965C44.9485 27.8193 45.0973 27.6167 45.0973 27.357C45.0973 27.091 44.9517 26.8883 44.6603 26.749C44.369 26.6097 43.9478 26.54 43.3968 26.54H42.3423C41.7913 26.54 41.3701 26.6097 41.0788 26.749C40.7875 26.8883 40.6418 27.091 40.6418 27.357ZM41.8958 29.789H43.8433V28.953L42.8743 28.9625L41.8958 28.953V29.789ZM43.8718 31.3565C44.3342 31.3565 44.73 31.4262 45.0593 31.5655C45.395 31.6985 45.6483 31.8853 45.8193 32.126C45.9966 32.3667 46.0853 32.6422 46.0853 32.9525C46.0853 33.4275 45.889 33.8138 45.4963 34.1115C45.11 34.4092 44.5685 34.558 43.8718 34.558H41.8578C41.1611 34.558 40.6165 34.4092 40.2238 34.1115C39.8375 33.8138 39.6443 33.4275 39.6443 32.9525C39.6443 32.6422 39.7298 32.3667 39.9008 32.126C40.0781 31.8853 40.3315 31.6985 40.6608 31.5655C40.9965 31.4262 41.3955 31.3565 41.8578 31.3565H43.8718ZM43.6913 33.7315C44.179 33.7315 44.5431 33.6618 44.7838 33.5225C45.0245 33.3832 45.1448 33.19 45.1448 32.943C45.1448 32.7023 45.0245 32.5155 44.7838 32.3825C44.5431 32.2432 44.179 32.1735 43.6913 32.1735H42.0478C41.5601 32.1735 41.196 32.2432 40.9553 32.3825C40.7146 32.5155 40.5943 32.7023 40.5943 32.943C40.5943 33.19 40.7146 33.3832 40.9553 33.5225C41.196 33.6618 41.5601 33.7315 42.0478 33.7315H43.6913Z",fill:"#77777C"})),w6||(w6=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0002 8.05322C23.2588 8.05411 22.5481 8.34906 22.0239 8.87337C21.4998 9.39768 21.205 10.1085 21.2043 10.8499C21.2048 11.5913 21.4995 12.3023 22.0237 12.8266C22.5479 13.351 23.2587 13.6459 24.0002 13.6466C24.7416 13.6459 25.4525 13.351 25.9767 12.8266C26.5009 12.3023 26.7956 11.5913 26.796 10.8499C26.7954 10.1085 26.5006 9.39768 25.9765 8.87337C25.4523 8.34906 24.7416 8.05411 24.0002 8.05322Z",fill:"#77777C"})),x6||(x6=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0001 15.2225C22.8411 15.2211 21.7299 14.7601 20.9103 13.9406C20.0908 13.121 19.6298 12.0098 19.6284 10.8508C19.6295 9.69162 20.0904 8.58022 20.91 7.76048C21.7296 6.94074 22.8409 6.47962 24.0001 6.47829C25.1593 6.47962 26.2706 6.94074 27.0902 7.76048C27.9097 8.58022 28.3707 9.69162 28.3718 10.8508C28.3704 12.0098 27.9094 13.121 27.0899 13.9406C26.2703 14.7601 25.1591 15.2211 24.0001 15.2225M30.7609 4.27996H28.2993L27.3718 2.47246C27.2247 2.18632 27.0016 1.94626 26.727 1.77866C26.4523 1.61107 26.1368 1.52242 25.8151 1.52246H22.1376C21.8095 1.52242 21.4881 1.61459 21.2099 1.78846C20.9317 1.96233 20.708 2.2109 20.5643 2.50579L19.7009 4.27996H17.2393C16.9634 4.27985 16.6902 4.33409 16.4354 4.43957C16.1805 4.54506 15.9489 4.69973 15.7538 4.89474C15.5587 5.08976 15.4039 5.32129 15.2984 5.57613C15.1928 5.83097 15.1384 6.10411 15.1384 6.37996V16.0475C15.1384 16.3233 15.1928 16.5965 15.2984 16.8513C15.4039 17.1061 15.5587 17.3377 15.7538 17.5327C15.9489 17.7277 16.1805 17.8824 16.4354 17.9878C16.6902 18.0933 16.9634 18.1476 17.2393 18.1475H30.7609C31.0368 18.1476 31.3099 18.0933 31.5648 17.9878C31.8197 17.8824 32.0513 17.7277 32.2464 17.5327C32.4415 17.3377 32.5962 17.1061 32.7018 16.8513C32.8074 16.5965 32.8618 16.3233 32.8618 16.0475V6.37996C32.8618 6.10411 32.8074 5.83097 32.7018 5.57613C32.5962 5.32129 32.4415 5.08976 32.2464 4.89474C32.0513 4.69973 31.8197 4.54506 31.5648 4.43957C31.3099 4.33409 31.0368 4.27985 30.7609 4.27996",fill:"#77777C"})))}var X6,q6,Y6,Z6,J6,$6,e8,t8,n8,r8,i8,a8,o8,s8,u8,l8,c8,A8,f8,d8=n.forwardRef(K6),h8=(__webpack_require__.p,function(){var e=(0,gn.useTheme)(),t=l((0,n.useState)(null),2),r=t[0],i=t[1],a=l((0,n.useState)(null),2),o=a[0],s=a[1],u=l((0,n.useState)(null),2),c=u[0],A=u[1],f=l((0,n.useState)(null),2),d=f[0],h=f[1],p=(0,n.useRef)(null),v=(0,n.useRef)(null),g=function(){var e=C(x().mark((function e(t){var n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],r=URL.createObjectURL(n),i(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=C(x().mark((function e(t){var n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z6()(o);case 3:n=e.sent,r=URL.createObjectURL(n),A(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error removing background:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,mn.jsx)(mn.Fragment,{children:(0,mn.jsxs)(Z$,{$cGap:"7px",style:{justifyContent:"left",alignItems:"flex-start"},children:[(0,mn.jsxs)(y8,{children:[(0,mn.jsx)("input",{type:"file",accept:"image/*",ref:p,onChange:g,style:{display:"none"}}),(0,mn.jsx)(p8,{height:"50px",onClick:function(){p.current.click()},children:(0,mn.jsx)(d8,{})})]}),d?(0,mn.jsx)(m8,{children:(0,mn.jsx)("img",{src:d,width:50})}):(0,mn.jsxs)(w8,{children:[(0,mn.jsx)(Z$,{$cGap:"7px",children:r&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(v8,{children:(0,mn.jsx)(TZ,{src:r,crop:function(){var e=null===v||void 0===v?void 0:v.current,t=null===e||void 0===e?void 0:e.cropper;s(t.getCroppedCanvas().toDataURL())},ref:v,scaleX:.9,scaleY:.9})}),(0,mn.jsx)(v8,{style:{backgroundColor:e.colors.brown[2]},children:(0,mn.jsx)(b8,{src:o})})]})}),r&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(x8,{children:"\uc637\uc5d0 \ub531 \ub9de\uac8c \uc798\ub77c\uc8fc\uc138\uc694"}),(0,mn.jsx)(_8,{onClick:m,children:"\ubc30\uacbd\uc81c\uac70"})]}),c&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(SY,{className:"arrow"}),(0,mn.jsx)(g8,{children:(0,mn.jsx)("img",{src:c,alt:"crop",width:277,height:277})}),(0,mn.jsx)(_8,{onClick:function(){h(c)},children:"\uc644\ub8cc"})]})]})]})})}),p8=gn.default.button(X6||(X6=sn(["\n  width: 100%;\n  height: ",";\n  border: none;\n  border-radius: 5px;\n  gap: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"])),(function(e){return e.height})),v8=gn.default.div(q6||(q6=sn(["\n  width: 135px;\n  height: 135px;\n  border-radius: 5px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.neutral[1]})),g8=gn.default.div(Y6||(Y6=sn(["\n  width: 250px;\n  border-radius: 5px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid ",";\n  margin-bottom: 10px;\n"])),(function(e){return e.theme.colors.neutral[2]})),m8=gn.default.div(Z6||(Z6=sn(["\n  width: 50px;\n  height: 50px;\n  border-radius: 5px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.neutral[2]})),y8=gn.default.div(J6||(J6=sn(["\n  width: 15%;\n  display: flex;\n"]))),b8=gn.default.img($6||($6=sn(["\n  object-fit: cover;\n  width: 100px;\n  height: 100px;\n"]))),w8=gn.default.div(e8||(e8=sn(["\n  width: 277px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  .arrow {\n    margin: 10px 0;\n    transform: rotate(90deg);\n  }\n"]))),x8=gn.default.p(t8||(t8=sn(["\n  font-size: 12px;\n  color: ",";\n  font-family: 'NSNB';\n"])),(function(e){return e.theme.colors.neutral[3]})),_8=gn.default.div(n8||(n8=sn(["\n  width: 30%;\n  height: 26px;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 0.9rem;\n  cursor: pointer;\n  border-radius: 5px;\n"])),(function(e){return e.theme.colors.yellow[4]}));function C8(){var e=(0,gn.useTheme)(),t=l((0,n.useState)([]),2),r=t[0],i=t[1],a=l((0,n.useState)([]),2),o=a[0],s=a[1],u=Et(),c=l((0,n.useState)([]),2),A=c[0],f=c[1],d=l((0,n.useState)(),2),h=d[0],p=d[1],v=l((0,n.useState)(),2),g=v[0],m=(v[1],l((0,n.useState)(),2)),y=m[0],b=m[1],w=function(){var e=Sf();return zf((function(e){return Q0.postResell(e)}),{onSuccess:function(){e.invalidateQueries(["resll-list"])}})}().mutateAsync,_=function(){var e=C(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={productImage:"https://berrycloset.co.kr/web/product/big/202303/a5d5c4203bc553ea8049b80e444f9a89.jpg",productName:h||"",productPrice:Number(y),sellerNickname:g||"",userId:0},e.prev=1,e.next=4,w(t);case 4:u(-1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0 instanceof Error&&(console.error(e.t0.message),alert(e.t0.message.toString()));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return(0,mn.jsxs)(X8,{children:[(0,mn.jsx)(s$,{maxImages:5,images:A,setImages:f}),(0,mn.jsx)(q8,{}),(0,mn.jsx)(h8,{}),(0,mn.jsxs)($8,{children:[(0,mn.jsx)(J8,{children:(0,mn.jsxs)(Z8,{children:[(0,mn.jsx)(e7,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(Y8,{children:"\uc0c1\ud488\uba85(\uc81c\ubaa9)"})]})}),(0,mn.jsx)(t7,{children:(0,mn.jsx)(W5,{color:e.colors.neutral[0],height:"30",width:"100%",placeholder:"\ucd94\uac00\ud558\uace0\uc2f6\uc740 \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",center:!1,value:h||"",onChange:function(e){return p(e.target.value)}})})]}),(0,mn.jsxs)($8,{children:[(0,mn.jsx)(J8,{children:(0,mn.jsxs)(Z8,{children:[(0,mn.jsx)(e7,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(Y8,{children:"\uac00\uaca9"})]})}),(0,mn.jsx)(t7,{children:(0,mn.jsx)(W5,{color:e.colors.neutral[0],height:"30",width:"100%",placeholder:"\ucd94\uac00\ud558\uace0\uc2f6\uc740 \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",center:!1,value:(null===y||void 0===y?void 0:y.toString())||"",onChange:function(e){b(Number(e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1")))}})})]}),(0,mn.jsxs)($8,{children:[(0,mn.jsx)(J8,{children:(0,mn.jsxs)(Z8,{children:[(0,mn.jsx)(e7,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(Y8,{children:"\uce74\ud14c\uace0\ub9ac"})]})}),(0,mn.jsxs)(t7,{children:[(0,mn.jsx)(W5,{color:r.includes(s4)?e.colors.yellow[2]:e.colors.neutral[1],height:"25",text:"\uc0c1\uc758",width:"60",onClick:function(){r.includes(s4)||i([].concat(M(r),[s4])),r.includes(s4)&&i(r.filter((function(e){return e!==s4})))},center:!0}),(0,mn.jsx)(W5,{color:r.includes(r4)?e.colors.yellow[2]:e.colors.neutral[1],height:"25",text:"\ud558\uc758",width:"60",onClick:function(){r.includes(r4)||i([].concat(M(r),[r4])),r.includes(r4)&&i(r.filter((function(e){return e!==r4})))},center:!0}),(0,mn.jsx)(W5,{color:r.includes(a4)?e.colors.yellow[2]:e.colors.neutral[1],height:"25",text:"\uc544\uc6b0\ud130",width:"60",onClick:function(){r.includes(a4)||i([].concat(M(r),[a4])),r.includes(a4)&&i(r.filter((function(e){return e!==a4})))},center:!0}),(0,mn.jsx)(W5,{color:r.includes(n4)?e.colors.yellow[2]:e.colors.neutral[1],height:"25",text:"\uc545\uc138\uc0ac\ub9ac",width:"60",onClick:function(){r.includes(n4)||i([].concat(M(r),[n4])),r.includes(n4)&&i(r.filter((function(e){return e!==n4})))},center:!0}),(0,mn.jsx)(W5,{color:r.includes(o4)?e.colors.yellow[2]:e.colors.neutral[1],height:"25",text:"\uc2e0\ubc1c",width:"60",onClick:function(){r.includes(o4)||i([].concat(M(r),[o4])),r.includes(o4)&&i(r.filter((function(e){return e!==o4})))},center:!0}),(0,mn.jsx)(W5,{color:r.includes(i4)?e.colors.yellow[2]:e.colors.neutral[1],height:"25",text:"\uae30\ud0c0",width:"60",onClick:function(){r.includes(i4)||i([].concat(M(r),[i4])),r.includes(i4)&&i(r.filter((function(e){return e!==i4})))},center:!0})]})]}),(0,mn.jsxs)($8,{children:[(0,mn.jsx)(J8,{children:(0,mn.jsxs)(Z8,{children:[(0,mn.jsx)(e7,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(Y8,{children:"\ub300\uc0c1"})]})}),(0,mn.jsxs)(t7,{children:[(0,mn.jsx)(W5,{color:o.includes(t4)?e.colors.yellow[2]:e.colors.neutral[1],height:"25",text:"\ubca0\uc774\ube44",width:"60",onClick:function(){o.includes(t4)||s([].concat(M(o),[t4])),o.includes(t4)&&s(o.filter((function(e){return e!==t4})))},center:!0}),(0,mn.jsx)(W5,{color:o.includes($5)?e.colors.yellow[2]:e.colors.neutral[1],height:"25",text:"\ud0a4\uc988(\ub0a8)",width:"60",onClick:function(){o.includes($5)||s([].concat(M(o),[$5])),o.includes($5)&&s(o.filter((function(e){return e!==$5})))},center:!0}),(0,mn.jsx)(W5,{color:o.includes(e4)?e.colors.yellow[2]:e.colors.neutral[1],height:"25",text:"\ud0a4\uc988(\uc5ec)",width:"60",onClick:function(){o.includes(e4)||s([].concat(M(o),[e4])),o.includes(e4)&&s(o.filter((function(e){return e!==e4})))},center:!0})]})]}),(0,mn.jsxs)($8,{children:[(0,mn.jsx)(J8,{children:(0,mn.jsxs)(Z8,{children:[(0,mn.jsx)(e7,{children:(0,mn.jsx)(kn,{})}),(0,mn.jsx)(Y8,{children:"\uc124\uba85"})]})}),(0,mn.jsx)(n7,{placeholder:"\ucf54\ub514 \uc124\uba85, \uad6c\ub9e4 \uafc0\ud301 ex) \uc5b4\ub5a4 \uc0ac\uc774\uc988\ub97c \uad6c\ub9e4\ud558\uc168\ub098\uc694?"})]}),(0,mn.jsx)(r7,{children:(0,mn.jsx)(W5,{color:e.colors.green[300],height:"30",text:"\ub4f1\ub85d",width:"60",onClick:_,center:!0,bold:!0})})]})}var E8,S8,B8,T8,I8,k8,M8,R8,U8,F8,O8,P8,D8,L8,N8,Q8,H8,j8,z8,G8,V8,W8,K8,X8=gn.styled.div(r8||(r8=sn(["\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n"]))),q8=gn.styled.div(i8||(i8=sn(["\n  margin-bottom: 20px;\n"]))),Y8=gn.styled.div(a8||(a8=sn(["\n  font-weight: 600;\n  font-size: 0.9rem;\n"]))),Z8=gn.styled.div(o8||(o8=sn(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n"]))),J8=gn.styled.div(s8||(s8=sn(["\n  display: flex;\n  margin-bottom: 5px;\n"]))),$8=gn.styled.div(u8||(u8=sn(["\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0;\n"]))),e7=gn.styled.div(l8||(l8=sn(["\n  position: absolute;\n  top: -15px;\n  right: -8px;\n"]))),t7=gn.styled.div(c8||(c8=sn(["\n  display: flex;\n  gap: 7px;\n"]))),n7=gn.styled.textarea(A8||(A8=sn(["\n  width: 100%;\n  height: 20vh;\n  resize: none;\n  border: ",";\n  padding: 7px;\n  font-size: 0.9rem;\n  border-radius: 5px;\n  outline-color: ",";\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.yellow[3])}),(function(e){return e.theme.colors.yellow[3]})),r7=gn.styled.div(f8||(f8=sn(["\n  margin-top: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),i7=function(e){var t=e.brandName,r=e.productName,i=e.price,a=e.imgUrl,o=l((0,n.useState)(0),2),s=o[0],u=o[1],c=Et(),A=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e=A.current,t=function(){if(e){var t=e.offsetWidth;u(t)}};return 0===s&&t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),(0,mn.jsxs)(o7,{ref:A,height:s.toString(),onClick:function(){return c("resell-detail")},children:[(0,mn.jsx)(a7,{height:s.toString(),src:a}),(0,mn.jsxs)(c7,{children:[(0,mn.jsx)(s7,{children:t}),(0,mn.jsx)(u7,{children:r}),(0,mn.jsxs)(l7,{children:[d0(i),"\uc6d0"]})]})]})},a7=gn.default.img(E8||(E8=sn(["\n  height: ",";\n  width: 100%;\n  border-radius: 10px;\n"])),(function(e){var t=e.height;return"".concat(t,"px")})),o7=gn.default.div(S8||(S8=sn(["\n  width: calc(100% / 3 - 12px);\n  overflow: 'hidden';\n  height: ",";\n  margin: 0;\n  cursor: pointer;\n"])),(function(e){var t=e.height;return"".concat(1.4*Number(t),"px")})),s7=gn.default.div(B8||(B8=sn(["\n  color: ",";\n  font-size: 8px;\n"])),(function(e){return e.theme.colors.neutral[3]})),u7=gn.default.div(T8||(T8=sn(["\n  color: ",";\n  font-size: 10px;\n  font-weight: 600;\n"])),(function(e){return e.theme.colors.neutral[5]})),l7=gn.default.div(I8||(I8=sn(["\n  color: ",";\n  font-size: 8px;\n  font-weight: 600;\n"])),(function(e){return e.theme.colors.neutral[5]})),c7=gn.default.div(k8||(k8=sn(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 2px;\n"]))),A7=(0,gn.keyframes)(M8||(M8=sn(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),f7=gn.default.div(R8||(R8=sn(["\n  display: inline-block;\n  width: 40px;\n  height: 40px;\n  border: 5px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  border-top: ",";\n  animation: "," 1s linear infinite;\n"])),(function(e){var t=e.theme;return"5px solid ".concat(t.colors.yellow[3])}),A7),d7=function(){return(0,mn.jsx)(f7,{})};function h7(){var e=(0,n.useRef)(null),t=l(dA(hA),2),r=(t[0],t[1]),i=(0,n.useRef)(null),a=((0,gn.useTheme)(),Et(),l((0,n.useState)(!1),2)),o=a[0],s=a[1],u=l((0,n.useState)(0),2),c=u[0],A=u[1],f=l((0,n.useState)(),2),d=f[0],h=f[1],p=function(){var e=Sf();return zf((function(e){return Q0.searchPhoto(e)}),{onSuccess:function(){e.invalidateQueries(["resll-list"])}})}().mutateAsync,v=(0,n.useCallback)(function(){var e=C(x().mark((function e(t){var n,i,a,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(!0),r(!0),e.prev=2,!(t.length>1)){e.next=7;break}alert("\ucd5c\ub300 ".concat(1,"\uac1c\uae4c\uc9c0 \uc774\ubbf8\uc9c0\ub97c \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")),e.next=13;break;case 7:n=new FormData,i=k(t);try{for(i.s();!(a=i.n()).done;)o=a.value,n.append("image",o,o.name)}catch(u){i.e(u)}finally{i.f()}return e.next=12,p(n);case 12:h(t);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),e.t0 instanceof Error&&(console.error(e.t0.message),alert(e.t0.message.toString()));case 18:return e.prev=18,r(!1),s(!1),e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[2,15,18,22]])})));return function(t){return e.apply(this,arguments)}}(),[d]),g=QJ({onDrop:v}),m=g.getRootProps,y=g.getInputProps;return(0,n.useEffect)((function(){var e=i.current,t=function(){if(e){var t=e.offsetWidth;A(t)}};return 0===c&&t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),(0,mn.jsxs)(M7,{children:[o&&(0,mn.jsx)(U7,{children:(0,mn.jsx)(d7,{})}),(0,mn.jsxs)(F7,{children:[(0,mn.jsx)(D7,{children:(0,mn.jsxs)(R7,{ref:e,children:[(0,mn.jsx)(Q7,qn({},m())),(0,mn.jsx)(u0,{placeholder:"\ub2e4\ub978 \uc774\ubbf8\uc9c0 \uac80\uc0c9\ud558\uae30",disabled:!0,isSearch:!1})]})}),(0,mn.jsx)(P7,{children:"\ub8e9\ud0a4\uc988 AI Look"}),d?(0,mn.jsx)(L7,{children:(0,mn.jsx)(V7,{onClick:function(e){e.stopPropagation(),h(void 0)},children:(0,mn.jsx)(N7,{src:URL.createObjectURL(d[0])})})}):(0,mn.jsxs)(L7,qn(qn({},m()),{},{children:[(0,mn.jsx)("input",qn(qn({},y()),{},{accept:"image/*"})),(0,mn.jsxs)(z7,{children:[(0,mn.jsx)(In,{width:"30",height:"30"}),(0,mn.jsx)(G7,{children:"\uc0ac\uc9c4 \uc5c5\ub85c\ub4dc"})]})]})),(0,mn.jsx)(H7,{}),(0,mn.jsx)(j7,{children:"\ucc3e\ub294 \uc774\ubbf8\uc9c0\uc640 \ube44\uc2b7\ud55c \uc0c1\ud488 149\uac1c"}),(0,mn.jsxs)(O7,{children:[(0,mn.jsx)(i7,{brandName:"\ub9d8\ub9d8\ub2d8",productName:"\ubc00\ud06c\uc6e8\uc774 \ub9e8\ud22c\ub9e8",price:8e3,imgUrl:"https://ae01.alicdn.com/kf/Sdd4c439b63744832b6115c365eca76a46/-.jpg_220x220.jpg_.webp"}),(0,mn.jsx)(i7,{brandName:"\ub9d8\ub9d8\ub2d8",productName:"\ubc00\ud06c\uc6e8\uc774 \ub9e8\ud22c\ub9e8",price:8e3,imgUrl:"https://m.cooingkids.com/web/product/big/20200313/38849db602ae21192a82938c26241542.jpg"}),(0,mn.jsx)(i7,{brandName:"\ub9d8\ub9d8\ub2d8",productName:"\ubc00\ud06c\uc6e8\uc774 \ub9e8\ud22c\ub9e8",price:8e3,imgUrl:"https://cdn.011st.com/11dims/resize/600x600/quality/75/11src/product/4848639433/B.jpg?730000000"}),(0,mn.jsx)(i7,{brandName:"\ub9d8\ub9d8\ub2d8",productName:"\ubc00\ud06c\uc6e8\uc774 \ub9e8\ud22c\ub9e8",price:8e3,imgUrl:"https://ae01.alicdn.com/kf/Sdd4c439b63744832b6115c365eca76a46/-.jpg_220x220.jpg_.webp"}),(0,mn.jsx)(i7,{brandName:"\ub9d8\ub9d8\ub2d8",productName:"\ubc00\ud06c\uc6e8\uc774 \ub9e8\ud22c\ub9e8",price:8e3,imgUrl:"https://m.cooingkids.com/web/product/big/20200313/38849db602ae21192a82938c26241542.jpg"}),(0,mn.jsx)(i7,{brandName:"\ub9d8\ub9d8\ub2d8",productName:"\ubc00\ud06c\uc6e8\uc774 \ub9e8\ud22c\ub9e8",price:8e3,imgUrl:"https://cdn.011st.com/11dims/resize/600x600/quality/75/11src/product/4848639433/B.jpg?730000000"}),(0,mn.jsx)(i7,{brandName:"\ub9d8\ub9d8\ub2d8",productName:"\ubc00\ud06c\uc6e8\uc774 \ub9e8\ud22c\ub9e8",price:8e3,imgUrl:"https://cdn.011st.com/11dims/resize/600x600/quality/75/11src/product/4848639433/B.jpg?730000000"}),(0,mn.jsx)(i7,{brandName:"\ub9d8\ub9d8\ub2d8",productName:"\ubc00\ud06c\uc6e8\uc774 \ub9e8\ud22c\ub9e8",price:8e3,imgUrl:"https://cdn.011st.com/11dims/resize/600x600/quality/75/11src/product/4848639433/B.jpg?730000000"})]})]})]})}var p7,v7,g7,m7,y7,b7,w7,x7,_7,C7,E7,S7,B7,T7,I7,k7,M7=gn.styled.div(U8||(U8=sn(["\n  padding: 20px;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  overflow: 'auto';\n"]))),R7=gn.styled.div(F8||(F8=sn(["\n  width: 100%;\n  background-color: white;\n  position: sticky;\n  top: 0;\n"]))),U7=gn.styled.div(O8||(O8=sn(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  background-color: #000000b3;\n  z-index: 999;\n"]))),F7=gn.styled.div(P8||(P8=sn(["\n  width: 100%;\n"]))),O7=gn.styled.div(D8||(D8=sn(["\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  gap: 18px;\n  margin-top: 10px;\n"]))),P7=gn.styled.div(L8||(L8=sn(["\n  font-size: 18px;\n  color: black;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),D7=gn.styled.div(N8||(N8=sn(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  background-color: white;\n  position: sticky;\n  justify-content: center;\n  gap: 10px;\n  top: 0;\n  z-index: 2;\n  width: 100%;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  margin-bottom: 20px;\n"]))),L7=gn.styled.div(Q8||(Q8=sn(["\n  display: flex;\n  width: 100%;\n  height: 30vh;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n  overflow: hidden;\n"]))),N7=gn.styled.img(H8||(H8=sn(["\n  object-fit: cover;\n  border-radius: 10px;\n  width: 30vh;\n  height: 100%;\n"]))),Q7=gn.styled.button(j8||(j8=sn(["\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  position: absolute;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n"]))),H7=gn.styled.div(z8||(z8=sn(["\n  height: 1px;\n  width: 100%;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.neutral[2]})),j7=gn.styled.div(G8||(G8=sn(["\n  width: 100%;\n  display: flex;\n  margin-top: 20px;\n"]))),z7=gn.styled.button(V8||(V8=sn(["\n  border: none;\n  width: 30vh;\n  height: 30vh;\n  border-radius: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  cursor: pointer;\n  gap: 7px;\n"]))),G7=gn.styled.div(W8||(W8=sn(["\n  font-size: 10px;\n"]))),V7=gn.styled.button(K8||(K8=sn(["\n  margin: 0;\n  padding: 0;\n  border: none;\n  background-color: transparent;\n"]))),W7=fA({key:"selectedColorAtom",default:null}),K7=fA({key:"selectedSizeAtom",default:null}),X7=[{label:"\uc804\uccb4",value:0},{label:"\uc0c1\uc758",value:1},{label:"\ud558\uc758",value:2},{label:"\uc544\uc6b0\ud130",value:3},{label:"\uc545\uc138\uc0ac\ub9ac",value:4},{label:"\uc2e0\ubc1c",value:5},{label:"\uae30\ud0c0",value:6}],q7=[{label:"90\ud638",value:0},{label:"100\ud638",value:1},{label:"110\ud638",value:2},{label:"120\ud638",value:3},{label:"130\ud638",value:4}];function Y7(){var e,t,r,i,a,o,s=Bt(),u=l((0,n.useState)(!1),2),c=u[0],A=u[1],f=l(dA(W7),2),d=f[0],h=f[1],p=l((0,n.useState)(!1),2),v=p[0],g=p[1],m=l(dA(K7),2),y=m[0],b=m[1],w=(o=Number(s.marketProductId),Df(["newmarket-detail"],C(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H1.getNewMarketDetail(o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{retry:!1})).data,_=function(){g(!1),A(!1)};return(0,mn.jsxs)(Z7,{children:[(0,mn.jsxs)(J7,{children:[(0,mn.jsx)($7,{children:(0,mn.jsx)(n9,{src:null===w||void 0===w||null===(e=w.data)||void 0===e?void 0:e.mainImageUrls})}),(0,mn.jsxs)(t9,{children:[(0,mn.jsxs)(e9,{children:[(0,mn.jsx)(r9,{children:null===w||void 0===w||null===(t=w.data)||void 0===t?void 0:t.productName}),(0,mn.jsxs)(i9,{children:[d0(null===w||void 0===w||null===(r=w.data)||void 0===r?void 0:r.price),"\uc6d0"]})]}),(0,mn.jsxs)(s9,{children:[(0,mn.jsxs)(o9,{children:[(0,mn.jsx)(a9,{children:"\uc0c9\uc0c1"}),(0,mn.jsx)(kA,{options:X7,select:d,onSelect:function(e){h(e)},isOpen:c,setIsOpen:A,allClose:_})]}),(0,mn.jsxs)(o9,{children:[(0,mn.jsx)(a9,{children:"\uc0ac\uc774\uc988"}),(0,mn.jsx)(kA,{options:q7,select:y,onSelect:function(e){b(e)},isOpen:v,setIsOpen:g,allClose:_})]})]}),(0,mn.jsxs)(u9,{children:[(0,mn.jsx)(l9,{children:"\uc7a5\ubc14\uad6c\ub2c8"}),(0,mn.jsx)(l9,{children:"\uad6c\ub9e4\ud558\uae30"})]})]})]}),(0,mn.jsx)(c9,{}),null===w||void 0===w||null===(i=w.data)||void 0===i||null===(a=i.subImageUrls)||void 0===a?void 0:a.map((function(e,t){return(0,mn.jsx)(A9,{src:e},e+t)}))]})}var Z7=gn.styled.div(p7||(p7=sn(["\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n"]))),J7=gn.styled.div(v7||(v7=sn(["\n  height: 25vh;\n  display: flex;\n"]))),$7=gn.styled.div(g7||(g7=sn(["\n  width: 25vh;\n  margin-right: 10px;\n"]))),e9=gn.styled.div(m7||(m7=sn(["\ndisplay: flex;\nflex-direction: column;\n  gap: 8px;\n"]))),t9=gn.styled.div(y7||(y7=sn(["\n  flex: 1;\n  position: relative;\n"]))),n9=gn.styled.img(b7||(b7=sn(["\n  border: 1px solid black;\n  width: 100%;\n  height: 100%;\n  border-radius: 10px;\n"]))),r9=(gn.styled.div(w7||(w7=sn(["\n  font-size: 8px;\n  color: ",";\n"])),(function(e){return e.theme.colors.neutral[3]})),gn.styled.div(x7||(x7=sn(["\n  font-size: 10px;\n  font-weight: 600;\n  color: ",";\n"])),(function(e){return e.theme.colors.neutral[5]}))),i9=gn.styled.div(_7||(_7=sn(["\n  font-size: 8px;\n  color: ",";\n"])),(function(e){return e.theme.colors.neutral[5]})),a9=gn.styled.div(C7||(C7=sn(["\n  font-size: 13px;\n  font-weight: 600;\n  white-space: nowrap;\n"]))),o9=gn.styled.div(E7||(E7=sn(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n"]))),s9=gn.styled.div(S7||(S7=sn(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding-top: 8px;\n  padding-bottom: 5px;\n"]))),u9=gn.styled.div(B7||(B7=sn(["\n  display: flex;\n  position: absolute;\n  width: 100%;\n  bottom: 0px;\n  justify-content: space-between;\n  gap: 15px;\n"]))),l9=gn.styled.button(T7||(T7=sn(["\n  border: none;\n  width: 100%;\n  height: 26px;\n  display: flex;\n  justify-content: center;\n  font-size: 12px;\n  align-items: center;\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n"])),(function(e){return e.theme.colors.yellow[3]}),(function(e){return e.theme.colors.neutral[5]})),c9=gn.styled.div(I7||(I7=sn(["\n  height: 1px;\n  background-color: ",";\n  margin-top: 20px;\n  margin-bottom: 20px;\n"])),(function(e){return e.theme.colors.neutral[2]})),A9=gn.styled.img(k7||(k7=sn([""]))),f9=function(e,t){return Se({basename:null==t?void 0:t.basename,future:Xt({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),H((function(e,t){var n=e.location;return L("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:N(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||Jt(),routes:e,mapRouteProperties:Kt}).initialize();var n}([{path:"/",element:(0,mn.jsx)(Y2,{}),children:[{path:"/",children:[{path:"/",element:(0,mn.jsx)(ap,{})},{path:"dailylook/:dailylookId",element:(0,mn.jsx)(l5,{})},{path:"dailylook-post",element:(0,mn.jsx)(S4,{})}]},{path:"/new-market",children:[{path:"",element:(0,mn.jsx)(G1,{})},{path:"new-detail/:marketProductId",element:(0,mn.jsx)(Y7,{})}]},{path:"/resell-market",children:[{path:"",element:(0,mn.jsx)(G0,{})},{path:"photo-engine",element:(0,mn.jsx)(h7,{})},{path:"resell-detail",element:(0,mn.jsx)(y6,{})},{path:"resell-post",element:(0,mn.jsx)(C8,{})}]},{path:"/coordinaton-room",element:(0,mn.jsx)(T$,{})},{path:"/community",element:(0,mn.jsx)(l3,{})}]},{path:"/",element:(0,mn.jsx)(v3,{}),children:[{path:"/mypage",element:(0,mn.jsx)(wp,{})}]}]);var d9=function(){return(0,mn.jsx)(Ht,{router:f9})},h9=function(e){e&&e instanceof Function&&__webpack_require__.e(27).then(__webpack_require__.bind(__webpack_require__,4027)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},p9=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).abortSignalConsumed=!1,r.defaultOptions=e.defaultOptions,r.setOptions(e.options),r.observers=[],r.cache=e.cache,r.logger=e.logger||Lf,r.queryKey=e.queryKey,r.queryHash=e.queryHash,r.initialState=e.state||function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}(r.options),r.state=r.initialState,r.scheduleGc(),r}return h(n,[{key:"meta",get:function(){return this.options.meta}},{key:"setOptions",value:function(e){this.options=qn(qn({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}},{key:"optionalRemove",value:function(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}},{key:"setData",value:function(e,t){var n=tf(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}},{key:"setState",value:function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}},{key:"cancel",value:function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(PA).catch(PA):Promise.resolve()}},{key:"destroy",value:function(){_p(g(n.prototype),"destroy",this).call(this),this.cancel({silent:!0})}},{key:"reset",value:function(){this.destroy(),this.setState(this.initialState)}},{key:"isActive",value:function(){return this.observers.some((function(e){return!1!==e.options.enabled}))}},{key:"isDisabled",value:function(){return this.getObserversCount()>0&&!this.isActive()}},{key:"isStale",value:function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))}},{key:"isStaleByTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||!this.state.dataUpdatedAt||!LA(this.state.dataUpdatedAt,e)}},{key:"onFocus",value:function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}},{key:"onOnline",value:function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}},{key:"addObserver",value:function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}},{key:"removeObserver",value:function(e){this.observers.includes(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}},{key:"getObserversCount",value:function(){return this.observers.length}},{key:"invalidate",value:function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}},{key:"fetch",value:function(e,t){var n,r,i=this;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return null==(a=this.retryer)||a.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var o=this.observers.find((function(e){return e.options.queryFn}));o&&this.setOptions(o.options)}var s=function(){if("function"===typeof AbortController)return new AbortController}(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=function(e){Object.defineProperty(e,"signal",{enumerable:!0,get:function(){if(s)return i.abortSignalConsumed=!0,s.signal}})};l(u);var c,A={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(u)):Promise.reject("Missing queryFn for queryKey '"+i.options.queryHash+"'")}};(l(A),null==(n=this.options.behavior)||n.onFetch(A),this.revertState=this.state,"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(r=A.fetchOptions)?void 0:r.meta))&&this.dispatch({type:"fetch",meta:null==(c=A.fetchOptions)?void 0:c.meta});var f=function(e){var t,n,r,a;(Af(e)&&e.silent||i.dispatch({type:"error",error:e}),Af(e))||(null==(t=(n=i.cache.config).onError)||t.call(n,e,i),null==(r=(a=i.cache.config).onSettled)||r.call(a,i.state.data,e,i));i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1};return this.retryer=ff({fn:A.fetchFn,abort:null==s?void 0:s.abort.bind(s),onSuccess:function(e){var t,n,r,a;"undefined"!==typeof e?(i.setData(e),null==(t=(n=i.cache.config).onSuccess)||t.call(n,e,i),null==(r=(a=i.cache.config).onSettled)||r.call(a,e,i.state.error,i),i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1):f(new Error(i.queryHash+" data is undefined"))},onError:f,onFail:function(e,t){i.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:A.options.retry,retryDelay:A.options.retryDelay,networkMode:A.options.networkMode}),this.promise=this.retryer.promise,this.promise}},{key:"dispatch",value:function(e){var t=this;this.state=function(n){var r,i;switch(e.type){case"failed":return qn(qn({},n),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return qn(qn({},n),{},{fetchStatus:"paused"});case"continue":return qn(qn({},n),{},{fetchStatus:"fetching"});case"fetch":return qn(qn({},n),{},{fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=e.meta)?r:null,fetchStatus:lf(t.options.networkMode)?"fetching":"paused"},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return qn(qn({},n),{},{data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:null!=(i=e.dataUpdatedAt)?i:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":var a=e.error;return Af(a)&&a.revert&&t.revertState?qn(qn({},t.revertState),{},{fetchStatus:"idle"}):qn(qn({},n),{},{error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"});case"invalidate":return qn(qn({},n),{},{isInvalidated:!0});case"setState":return qn(qn({},n),e.state)}}(this.state),nf.batch((function(){t.observers.forEach((function(t){t.onQueryUpdate(e)})),t.cache.notify({query:t,type:"updated",action:e})}))}}]),n}(Nf);var v9=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).config=e||{},r.queries=[],r.queriesMap={},r}return h(n,[{key:"build",value:function(e,t,n){var r,i=t.queryKey,a=null!=(r=t.queryHash)?r:zA(i,t),o=this.get(a);return o||(o=new p9({cache:this,logger:e.getLogger(),queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}},{key:"add",value:function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}},{key:"remove",value:function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}},{key:"clear",value:function(){var e=this;nf.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))}},{key:"get",value:function(e){return this.queriesMap[e]}},{key:"getAll",value:function(){return this.queries}},{key:"find",value:function(e,t){var n=l(QA(e,t),1)[0];return"undefined"===typeof n.exact&&(n.exact=!0),this.queries.find((function(e){return HA(n,e)}))}},{key:"findAll",value:function(e,t){var n=l(QA(e,t),1)[0];return Object.keys(n).length>0?this.queries.filter((function(e){return HA(n,e)})):this.queries}},{key:"notify",value:function(e){var t=this;nf.batch((function(){t.listeners.forEach((function(t){(0,t.listener)(e)}))}))}},{key:"onFocus",value:function(){var e=this;nf.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))}},{key:"onOnline",value:function(){var e=this;nf.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))}}]),n}(rf),g9=function(e){v(n,e);var t=w(n);function n(e){var r;return c(this,n),(r=t.call(this)).config=e||{},r.mutations=[],r.mutationId=0,r}return h(n,[{key:"build",value:function(e,t,n){var r=new Qf({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(r),r}},{key:"add",value:function(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}},{key:"remove",value:function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),this.notify({type:"removed",mutation:e})}},{key:"clear",value:function(){var e=this;nf.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))}},{key:"getAll",value:function(){return this.mutations}},{key:"find",value:function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find((function(t){return jA(e,t)}))}},{key:"findAll",value:function(e){return this.mutations.filter((function(t){return jA(e,t)}))}},{key:"notify",value:function(e){var t=this;nf.batch((function(){t.listeners.forEach((function(t){(0,t.listener)(e)}))}))}},{key:"resumePausedMutations",value:function(){var e,t=this;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then((function(){var e=t.mutations.filter((function(e){return e.state.isPaused}));return nf.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(PA)}))}),Promise.resolve())}))})).then((function(){t.resuming=void 0})),this.resuming}}]),n}(rf);function m9(){return{onFetch:function(e){e.fetchFn=function(){var t,n,r,i,a,o,s,u=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,l=null==(r=e.fetchOptions)||null==(i=r.meta)?void 0:i.fetchMore,c=null==l?void 0:l.pageParam,A="forward"===(null==l?void 0:l.direction),f="backward"===(null==l?void 0:l.direction),d=(null==(a=e.state.data)?void 0:a.pages)||[],h=(null==(o=e.state.data)?void 0:o.pageParams)||[],p=h,v=!1,g=e.options.queryFn||function(){return Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")},m=function(e,t,n,r){return p=r?[t].concat(M(p)):[].concat(M(p),[t]),r?[n].concat(M(e)):[].concat(M(e),[n])},y=function(t,n,r,i){if(v)return Promise.reject("Cancelled");if("undefined"===typeof r&&!n&&t.length)return Promise.resolve(t);var a,o={queryKey:e.queryKey,pageParam:r,meta:e.options.meta};a=o,Object.defineProperty(a,"signal",{enumerable:!0,get:function(){var t,n;return null!=(t=e.signal)&&t.aborted?v=!0:null==(n=e.signal)||n.addEventListener("abort",(function(){v=!0})),e.signal}});var s=g(o);return Promise.resolve(s).then((function(e){return m(t,r,e,i)}))};if(d.length)if(A){var b="undefined"!==typeof c,w=b?c:y9(e.options,d);s=y(d,b,w)}else if(f){var x="undefined"!==typeof c,_=x?c:b9(e.options,d);s=y(d,x,_,!0)}else{p=[];var C="undefined"===typeof e.options.getNextPageParam,E=!u||!d[0]||u(d[0],0,d);s=E?y([],C,h[0]):Promise.resolve(m([],h[0],d[0]));for(var S=function(t){s=s.then((function(n){if(!u||!d[t]||u(d[t],t,d)){var r=C?h[t]:y9(e.options,n);return y(n,C,r)}return Promise.resolve(m(n,h[t],d[t]))}))},B=1;B<d.length;B++)S(B)}else s=y([]);return s.then((function(e){return{pages:e,pageParams:p}}))}}}}function y9(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function b9(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var w9,x9=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),this.queryCache=t.queryCache||new v9,this.mutationCache=t.mutationCache||new g9,this.logger=t.logger||Lf,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}return h(e,[{key:"mount",value:function(){var e=this;this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=af.subscribe((function(){af.isFocused()&&(e.resumePausedMutations(),e.queryCache.onFocus())})),this.unsubscribeOnline=sf.subscribe((function(){sf.isOnline()&&(e.resumePausedMutations(),e.queryCache.onOnline())})))}},{key:"unmount",value:function(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}},{key:"isFetching",value:function(e,t){var n=l(QA(e,t),1)[0];return n.fetchStatus="fetching",this.queryCache.findAll(n).length}},{key:"isMutating",value:function(e){return this.mutationCache.findAll(qn(qn({},e),{},{fetching:!0})).length}},{key:"getQueryData",value:function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data}},{key:"ensureQueryData",value:function(e,t,n){var r=NA(e,t,n),i=this.getQueryData(r.queryKey);return i?Promise.resolve(i):this.fetchQuery(r)}},{key:"getQueriesData",value:function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))}},{key:"setQueryData",value:function(e,t,n){var r=this.queryCache.find(e),i=function(e,t){return"function"===typeof e?e(t):e}(t,null==r?void 0:r.state.data);if("undefined"!==typeof i){var a=NA(e),o=this.defaultQueryOptions(a);return this.queryCache.build(this,o).setData(i,qn(qn({},n),{},{manual:!0}))}}},{key:"setQueriesData",value:function(e,t,n){var r=this;return nf.batch((function(){return r.getQueryCache().findAll(e).map((function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]}))}))}},{key:"getQueryState",value:function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state}},{key:"removeQueries",value:function(e,t){var n=l(QA(e,t),1)[0],r=this.queryCache;nf.batch((function(){r.findAll(n).forEach((function(e){r.remove(e)}))}))}},{key:"resetQueries",value:function(e,t,n){var r=this,i=l(QA(e,t,n),2),a=i[0],o=i[1],s=this.queryCache,u=qn({type:"active"},a);return nf.batch((function(){return s.findAll(a).forEach((function(e){e.reset()})),r.refetchQueries(u,o)}))}},{key:"cancelQueries",value:function(e,t,n){var r=this,i=l(QA(e,t,n),2),a=i[0],o=i[1],s=void 0===o?{}:o;"undefined"===typeof s.revert&&(s.revert=!0);var u=nf.batch((function(){return r.queryCache.findAll(a).map((function(e){return e.cancel(s)}))}));return Promise.all(u).then(PA).catch(PA)}},{key:"invalidateQueries",value:function(e,t,n){var r=this,i=l(QA(e,t,n),2),a=i[0],o=i[1];return nf.batch((function(){var e,t;if(r.queryCache.findAll(a).forEach((function(e){e.invalidate()})),"none"===a.refetchType)return Promise.resolve();var n=qn(qn({},a),{},{type:null!=(e=null!=(t=a.refetchType)?t:a.type)?e:"active"});return r.refetchQueries(n,o)}))}},{key:"refetchQueries",value:function(e,t,n){var r=this,i=l(QA(e,t,n),2),a=i[0],o=i[1],s=nf.batch((function(){return r.queryCache.findAll(a).filter((function(e){return!e.isDisabled()})).map((function(e){var t;return e.fetch(void 0,qn(qn({},o),{},{cancelRefetch:null==(t=null==o?void 0:o.cancelRefetch)||t,meta:{refetchPage:a.refetchPage}}))}))})),u=Promise.all(s).then(PA);return null!=o&&o.throwOnError||(u=u.catch(PA)),u}},{key:"fetchQuery",value:function(e,t,n){var r=NA(e,t,n),i=this.defaultQueryOptions(r);"undefined"===typeof i.retry&&(i.retry=!1);var a=this.queryCache.build(this,i);return a.isStaleByTime(i.staleTime)?a.fetch(i):Promise.resolve(a.state.data)}},{key:"prefetchQuery",value:function(e,t,n){return this.fetchQuery(e,t,n).then(PA).catch(PA)}},{key:"fetchInfiniteQuery",value:function(e,t,n){var r=NA(e,t,n);return r.behavior=m9(),this.fetchQuery(r)}},{key:"prefetchInfiniteQuery",value:function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(PA).catch(PA)}},{key:"resumePausedMutations",value:function(){return this.mutationCache.resumePausedMutations()}},{key:"getQueryCache",value:function(){return this.queryCache}},{key:"getMutationCache",value:function(){return this.mutationCache}},{key:"getLogger",value:function(){return this.logger}},{key:"getDefaultOptions",value:function(){return this.defaultOptions}},{key:"setDefaultOptions",value:function(e){this.defaultOptions=e}},{key:"setQueryDefaults",value:function(e,t){var n=this.queryDefaults.find((function(t){return GA(e)===GA(t.queryKey)}));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}},{key:"getQueryDefaults",value:function(e){if(e){var t=this.queryDefaults.find((function(t){return VA(e,t.queryKey)}));return null==t?void 0:t.defaultOptions}}},{key:"setMutationDefaults",value:function(e,t){var n=this.mutationDefaults.find((function(t){return GA(e)===GA(t.mutationKey)}));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}},{key:"getMutationDefaults",value:function(e){if(e){var t=this.mutationDefaults.find((function(t){return VA(e,t.mutationKey)}));return null==t?void 0:t.defaultOptions}}},{key:"defaultQueryOptions",value:function(e){if(null!=e&&e._defaulted)return e;var t=qn(qn(qn(qn({},this.defaultOptions.queries),this.getQueryDefaults(null==e?void 0:e.queryKey)),e),{},{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=zA(t.queryKey,t)),"undefined"===typeof t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),"undefined"===typeof t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}},{key:"defaultMutationOptions",value:function(e){return null!=e&&e._defaulted?e:qn(qn(qn(qn({},this.defaultOptions.mutations),this.getMutationDefaults(null==e?void 0:e.mutationKey)),e),{},{_defaulted:!0})}},{key:"clear",value:function(){this.queryCache.clear(),this.mutationCache.clear()}}]),e}(),_9=__webpack_require__(3084),C9=(0,gn.createGlobalStyle)(w9||(w9=sn(["\n","\n  *, *::before, *::after {\n    box-sizing: border-box;\n  }\n  @font-face {\n    font-family: 'Pretendard-Regular';\n    src: url('/font/Pretendard-Regular.ttf') format('truetype');\n    font-weight: normal; /* \ubcf4\ud1b5 \uae00\uaf34 */\n  }\n\n  @font-face {\n    font-family: 'NSNB';\n    src: url('/font/NSNB.TTF') format('truetype');\n  }\n  @font-face {\n    font-family: 'NSNR';\n    src: url('/font/NSNR.TTF') format('truetype');\n  }\n\n  /* Pretendard-SemiBold.ttf */\n  @font-face {\n    font-family: 'Pretendard-SemiBold';\n    src: url('/font/Pretendard-SemiBold.ttf') format('truetype');\n    font-weight: 600; /* Semi-Bold \uae00\uaf34 */\n  }\n\n  body {    \n    overflow: auto;\n    font-family: \"NSNR\"; /* \uae30\ubcf8 \ud3f0\ud2b8 (\ubcf4\ud1b5) */\n    font-size: 16px; /* \uc6d0\ud558\ub294 \ud3f0\ud2b8 \ud06c\uae30 \uc124\uc815 */\n    ::-webkit-scrollbar {\n      width: 0px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background-color: transparent;\n    }\n  }\n"])),_9.Fv),E9={colors:{grey:{0:"#FFFFFF",8:"#F5F5F5",7:"#E4E3E7",6:"#D5D4D9",5:"#BDBAC1",4:"#88888E",3:"#5F5E62",2:"#343337",1:"#1D1C21"},blue:{100:"#EFF2FE",500:"#3478F6"},neutral:{0:"#FFFFFF",1:"#EEEEEE",2:"#C0C0C0",3:"#77777C",4:"#1A1A1A"},red:{100:"#FFEAEA",500:"#EA1A21"},yellow:{1:"#FFF6C2",2:"#FFF09D",3:"#FFE55A",4:"#FFD600"},green:{100:"#F2FBF6",300:"#C1FF3D",500:"#2AC769"},purple:{100:"#F5F2FF",500:"#5A1EFF",600:"#000046"},pink:{100:"#FFDEE0",300:"#FFCBCB",500:"#FF0FA0",600:"#000046"},brown:{1:"#EEDBC0",2:"#a7866a"},etc:{kakao:"#FFE812",naver:"#4FA42B"}}},S9=i.createRoot(document.getElementById("root")),B9=new x9;S9.render((0,mn.jsx)(Bf,{client:B9,children:(0,mn.jsx)(gn.ThemeProvider,{theme:E9,children:(0,mn.jsx)(n.Suspense,{fallback:(0,mn.jsx)("div",{children:"\ub85c\ub529\uc911"}),children:(0,mn.jsxs)(AA,{children:[(0,mn.jsx)(C9,{}),(0,mn.jsx)(d9,{})]})})})})),h9()}()})();